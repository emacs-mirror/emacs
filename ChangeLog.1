2015-04-07  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib
	* lib/stddef.in.h: Update from gnulib, incorporating:
	2015-04-02 stddef: port to pre-C11 GCC on x86

2015-04-03  Paul Eggert  <eggert@cs.ucla.edu>

	Port 'configure' to clang 3.5
	* configure.ac: Add -Wno-unknown-attributes if clang;
	otherwise clang 3.5.0 (Fedora 21 x86-64) complains
	"/usr/include/glib-2.0/glib/gmem.h: ... warning: unknown attribute
	'__alloc_size__' ignored".  Use -Werror when checking for -nopie;
	otherwise clang warns about -nopie instead of failing, and then
	later it warns everytime the build uses -nopie.

2015-04-03  Ulrich Müller  <ulm@gentoo.org>

	* configure.ac (LD_SWITCH_SYSTEM_TEMACS): Add -nopie option if it
	is supported, in order to avoid segfaults in temacs.  (Bug#18784)

2015-03-27  Pete Williamson  <petewil@chromium.org>  (tiny change)

	Add NaCl target
	* configure.ac: Add a target for Chromium Native Client (NaCl).

2015-03-29  Eli Zaretskii  <eliz@gnu.org>

	* build-aux/dir_top (File): Fix the description of selecting a
	menu item by its number.  (Bug#20213)

2015-03-29  Paul Eggert  <eggert@cs.ucla.edu>

	Fix 'commit-msg' to cite 'CONTRIBUTE'
	As suggested in:
	https://lists.gnu.org/r/emacs-devel/2015-03/msg00947.html
	Also, have the two files match better.
	* CONTRIBUTE: Match what's in build-aux/git-hooks/commit-msg.
	* build-aux/git-hooks/commit-msg: Mention 'CONTRIBUTE'.

2015-03-23  Andreas Schwab  <schwab@suse.de>

	* configure.ac: Fix jpeg version check to work with gcc >= 5.

2015-03-21  Samer Masterson  <samer@samertm.com>

	* CONTRIBUTE (Test your changes.): New section.
	(Document your changes.): Add doc tips.

2015-03-19  Paul Eggert  <eggert@cs.ucla.edu>

	Better port of pthread usage to FreeBSD
	* configure.ac (ac_func_list): Omit pthread_sigmask, since
	we check for that ourselves rather than relying on gnulib.
	(HAVE_PTHREAD, LIB_PTHREAD): Port better to FreeBSD,
	by also checking for pthread_create, pthread_self, pthread_sigmask.
	Tighten the test for pthread_atfork while we're at it.
	(Bug#20136)

	Merge from gnulib
	This incorporates:
	2015-03-19 fdopendir: port better to MinGW
	2015-03-18 fdopendir: fix typo in comment
	2015-02-24 glob, etc.: port to MSVC v18 on MS-Windows 8.1
	* lib/dirent.in.h, lib/fdopendir.c: Update from gnulib.
	* lib/dirfd.c, m4/dirfd.m4: New files from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2015-03-02  Robert Pluim  <rpluim@gmail.com>  (tiny change)

	* configure.ac: Error out if with-file-notification=w32 is
	specified on Cygwin.  (Bug#19909)

2015-02-27  Paul Eggert  <eggert@cs.ucla.edu>

	Don't require GNU putenv
	* configure.ac: Use system putenv even if it lacks GNU features, as
	we don't need them.  This works around a bug in FreeBSD 10.1 getenv.
	(Bug#19874)

2015-02-25  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib
	* lib/getdtablesize.c, m4/dup2.m4, m4/fcntl.m4:
	Update from gnulib, incorporating:
	2015-02-23 dup2: doc and test for Android bug
	2015-02-23 Replace dup2() on Android
	2015-02-22 Android doesn't define RLIM_SAVED_*

2015-02-21  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib
	* lib/getdtablesize.c, lib/getopt.c, lib/signal.in.h, lib/tempname.c:
	* lib/tempname.h, m4/dup2.m4, m4/fcntl.m4, m4/getdtablesize.m4:
	Update from gnulib, incorporating:
	2015-02-20 getdtablesize: port better for Android
	2015-02-19 fcntl: Fix cross compiling
	2015-02-18 dup2, fcntl: cross-compile better for Android
	2015-02-18 getopt: don't crash on memory exhaustion
	2015-02-17 tempname: allow compilation with C++ (trivial)
	2015-02-17 dup2, fcntl: port to AIX
	2015-02-16 getdtablesize, dup2, fcntl: port to Android
	2015-02-11 getdtablesize, signal_h: Fix Android build
	2015-02-11 maint: various whitespace cleanups in tempname

2015-02-13  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Set locallisppath to empty for NS self contained,
	unless --enable-loadllisppath was given (Bug#19850).

2015-02-09  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (HAVE_LIBXML2): Add missing comma.

2015-02-08  Paul Eggert  <eggert@cs.ucla.edu>

	Port to platforms lacking test -a and -o
	* configure.ac (HAVE_LIBXML2):
	Prefer '&&' and '||' to 'test -a' and 'test -o'.

2015-02-08  Ulrich Müller  <ulm@gentoo.org>

	* configure.ac (--with-gameuser): Default to 'games' group instead
	of 'games' user.

2015-02-04  Paul Eggert  <eggert@cs.ucla.edu>

	* .gitattributes: Ignore blanks at EOL in texinfo.tex.

2015-01-28  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib and try to repair bad merge
	This attempts to repair problems introduced by the bad merge
	5491fd1098d27b3ba3db054076b9ab60fb3558dc.  The easiest way for me
	to fix the badly-merged gnulib files was to run
	'admin/merge-gnulib', so I did that, which also imported the
	following changes:
	* build-aux/update-copyright, m4/gnulib.m4:
	Update from gnulib, incorporating:
	2015-01-15 time: port to MinGW32 3.21
	2015-01-15 update-copyright: apply to self
	2015-01-11 update-copyright: recognize groff's \(co marker

2015-01-28  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac (HAVE_W32): Abort with error message if
	--without-toolkit-scroll-bars was specified.  See
	https://lists.gnu.org/r/emacs-devel/2015-01/msg00525.html
	for the details.

2015-01-27  Paul Eggert  <eggert@cs.ucla.edu>

	Port autogen.sh hook creation to private templates
	* autogen.sh: Do not assume that the hook samples exist.
	This ports to developers who override templatedir in their Git
	configuration.  The downside is that patch applications won't be
	checked, but that's better than autogen.sh failing.
	Problem reported by Sam Steingold in:
	https://lists.gnu.org/r/emacs-devel/2015-01/msg00898.html

2015-01-26  Paul Eggert  <eggert@cs.ucla.edu>

	* INSTALL.REPO: Mention minimum Git version.

2015-01-25  Paul Eggert  <eggert@cs.ucla.edu>

	Use gnustep-config if available
	* configure.ac (--with-gnustep): Document this.
	(NS_GNUSTEP_CONFIG): New variable, set if gnustep-config works.
	If gnustep-config works, use 'gnustep-config --objc-flags' and
	'gnustep-config --gui-libs' to compute GNUstep configuration
	variables, instead of attempting to infer them individually.
	(Bug#19507)

2015-01-21  Ulrich Müller  <ulm@gentoo.org>

	* configure.ac (gamegroup): New AC_SUBST.
	(--with-gameuser): Allow to specify a group instead of a user.
	In the default case, check at configure time if a 'games' user
	exists.

2015-01-16  Paul Eggert  <eggert@cs.ucla.edu>

	Give up on -Wsuggest-attribute=const
	The attribute doesn't help performance significantly, and the
	warning seems to be more trouble than it's worth.  See the thread at:
	https://lists.gnu.org/r/emacs-devel/2015-01/msg00361.html
	* configure.ac (WERROR_CFLAGS): Don't use -Wsuggest-attribute=const.

2015-01-11  Paul Eggert  <eggert@cs.ucla.edu>

	Default to 'configure --enable-silent-rules'
	This greatly shortens the 'make' output, making it more readable
	and useful.  For example, on my platform it shortens a
	4125-character line "gcc -std=gnu99 -c -Demacs -I. -I. -I../lib
	... emacs.c" -- a line so long that it's hard to see what's going
	on or where the diagnostics are -- to just "CC emacs.o".
	* INSTALL: Document this.
	* configure.ac: Add AM_SILENT_RULES([yes]).
	(AM_DEFAULT_VERBOSITY): Remove now-unnecessary initialization.
	(Bug#19501)

2015-01-06  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib
	* lib/stdio.in.h, m4/stdio_h.m4: Update from gnulib, incorporating:
	2015-01-05 stdio: fix use of PRIdMAX on modern mingw

2015-01-04  Paul Eggert  <eggert@cs.ucla.edu>

	* INSTALL: Mention 'make WERROR_CFLAGS='.

	Clarify 'make info'
	* Makefile.in (info): Use GNU make conditional rather than
	an '@' rule with a shell conditional, so that the builder can
	see the submake.

	Less 'make' chatter for VCSWITNESS
	* Makefile.in (dirstate, VCSWITNESS): New macros.
	(src): Use them to lessen 'make' chatter.

2015-01-01  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2015-01-01 version-etc: new year

	* .gitattributes: New file.

	* autogen.sh: Port better to non-GNU 'cp'.  Reported by Han Boetes.

2014-12-31  Paul Eggert  <eggert@cs.ucla.edu>

	Less 'make' chatter at top level
	* Makefile.in (AM_DEFAULT_VERBOSITY, AM_V_GEN, am__v_GEN_)
	(am__v_GEN_0, am__v_GEN_1, AM_V_at, am__v_at_, am__v_at_0)
	(am__v_at_1): New macros, copied from src/Makefile.in.
	($(srcdir)/src/config.in, ${srcdir}/info/dir):
	Be less chatty when not verbose.
	($(srcdir)/src/stamp-h.in): Simplify with '$@'.

2014-12-28  Paul Eggert  <eggert@cs.ucla.edu>

	* build-aux/git-hooks/commit-msg: Allow tabs.
	Treat them as if they were expanded to spaces, with tab stops
	every 8 columns.

2014-12-27  Paul Eggert  <eggert@cs.ucla.edu>

	* .gitignore: Ignore /conftest*.

2014-12-27  Stefan Monnier  <monnier@iro.umontreal.ca>

	* build-aux/git-hooks/commit-msg (at_sign): Bump up line-length limit
	to 78.

2014-12-25  Paul Eggert  <eggert@cs.ucla.edu>

	Prefer stpcpy to strcat.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.
	* lib/stpcpy.c, m4/stpcpy.m4: New files, from gnulib.

2014-12-24  Stephen Leake  <stephen_leake@stephe-leake.org>

	* CONTRIBUTE: Move user-level information to doc/emacs/trouble.texi.
	Add Savannah url, cleanup announcing freeze.
	(commit messages): New, gathered from comments on emacs-devel.
	(Changelog notes): Add reference to GNU coding standards section 5.2;
	doc 'present tense', bug fix format.
	(branches): Freeze announcements are made on info-gnu-emacs mailing
	list.
	(git vs rename): New.

2014-12-23  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib.
	2014-12-20 utimens: remove unnecessary assert
	2014-12-16 stdalign: port better to HP compilers
	2014-12-16 stdalign: work around Apple GCC 4.0 bug
	* lib/stdalign.in.h, lib/utimens.c, m4/stdalign.m4: Update from gnulib.

2014-12-14  Glenn Morris  <rgm@gnu.org>

	* make-dist: No more lib-src/grep-changelog.

	* INSTALL.REPO: Revert 2014-12-06 change.

2014-12-13  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/gnulib.mk: Regenerate.

2014-12-13  Paul Eggert  <eggert@cs.ucla.edu>

	* .gitignore: Add lib/std*.h, to ignore stdarg.h, stdbool.h, and
	stddef.h.  Remove subsumed entries.
	Add !lib/std*.in.h, so as to not ignore the .in.h files.

2014-12-13  Paul Eggert  <eggert@cs.ucla.edu>

	Port commit-msg to mawk.  Reported by Ted Zlatanov in:
	https://lists.gnu.org/r/emacs-devel/2014-12/msg01093.html
	* build-aux/git-hooks/commit-msg (space, non_space, non_print):
	New vars.  Use them as approximations to POSIX bracket expressions,
	on implementations like mawk that do not support POSIX regexps.

	Improve commit-msg messages and autosquash.
	Reported by Michal Nazarewicz in Bug#19337.
	* build-aux/git-hooks/commit-msg: Add "commit message" to
	diagnostics.  Distinguish better between tabs and other
	unprintable chars in diagnostics.  Don't complain if a prefix
	"fixup! " or "squash! " makes a summary line too long.

2014-12-13  Paul Eggert  <eggert@cs.ucla.edu>

	Port commit-message checking to FreeBSD 9.
	Reported by Jan Djärv in:
	https://lists.gnu.org/r/emacs-devel/2014-12/msg00704.html
	along with some other issues I noticed while testing with FreeBSD.
	* build-aux/git-hooks/commit-msg: Prefer gawk if available.
	Prefer en_US.UTF-8 to en_US.utf8, as it's more portable.
	Work around bug in FreeBSD 9 awk, where /[[:cntrl:]]/ matches
	ordinary text characters.
	Be less tricky about quoting "'" in a shell script.

2014-12-13  Stefan Monnier  <monnier@iro.umontreal.ca>

	* .gitignore: Ignore autosave files.

2014-12-12  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib.
	2014-12-12 stddef: support C11's max_align_t
	2014-12-11 unistd: fix iOS check conditional
	2014-12-08 apply _GL_ATTRIBUTE_PURE to some inline functions
	2014-12-02 support GNU format printf and scanf on mingw
	* lib/stat-time.h, lib/stddef.in.h, lib/timespec.h:
	* m4/extensions.m4, m4/stddef_h.m4, m4/stdio_h.m4: Update from gnulib.
	* lib/gnulib.mk: Regenerate.

2014-12-06  Stephen Leake  <stephen_leake@stephe-leake.org>

	* CONTRIBUTE: Improve; add explicit web references, move some info
	from admin/notes/* here.

	* INSTALL.REPO: You can't "just run make" after a clean checkout.

2014-12-05  Stephen Leake  <stephen_leake@stephe-leake.org>

	* CONTRIBUTE: Move here from etc/, preparatory to further
	changes/cleanup.

2014-12-05  Paul Eggert  <eggert@cs.ucla.edu>

	* .gitignore: Remove redundant pattern (subsumed by _*).
	Avoid "**", as it requires Git 1.8.2 or later.

2014-12-05  Eli Zaretskii  <eliz@gnu.org>

	* .gitignore: Ignore test/biditest.txt.

2014-12-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* .gitignore: Ignore loaddefs directly under lisp, and in
	sub-sub-directories.

2014-11-29  Paul Eggert  <eggert@cs.ucla.edu>

	Add more of the old .bzrignore to .gitignore.
	Plus a few more .gitignore improvements.
	* .gitignore: Add copyright notice, since it's big enough.
	Put exceptions immediately after the patterns they're exceptions
	to, to make them easier to follow.
	Give four exceptions for the Makefile pattern.
	Ignore /confdefs.h, test/indent/*.new, TAGS, GPATH, GSYMS, GRTAGS,
	GTAGS, ID, *.exe, some nextstep-related files,
	jisx2131-filter, *.orig, *.rej, etc/emacs.tmpdesktop, *.in-h
	_* (except for build-aux/snippet/_Noreturn.h), /bin/, /BIN/,
	/data/, etc/icons/, lib/cxxdefs.h, lib/SYS/, /libexec/, /lock/,
	/README.W32, /share/, /site-lisp/, src/gdb.ini, /var/.
	Ignore /configure.lineno, since POSIX requires
	LINENO only with the User Portability Utilities option.
	Ignore *cust-load.el and *loaddefs.el only under lisp.
	Ignore core files of various flavors.
	Do not ignore etc/refcards/gnus-logo.pdf.

2014-11-29  Eli Zaretskii  <eliz@gnu.org>

	* .gitignore: Add back src/_gdbinit, which is a temporary file
	created by the MS-DOS build.

2014-11-29  Paul Eggert  <eggert@cs.ucla.edu>

	Add a.out to .gitignore.
	Suggested by Lee Duhem in:
	https://lists.gnu.org/r/emacs-devel/2014-11/msg01665.html
	* .gitignore: Add a.out.
	Move *.log next to *.tmp, since it's generic.
	Put *.exe before non-generics.

2014-11-29  Eli Zaretskii  <eliz@gnu.org>

	* .gitignore: Resurrect Windows-specific ignorables lost in last
	changes.

2014-11-29  Paul Eggert  <eggert@cs.ucla.edu>

	* .gitignore: Add /emacs-[1-9]*/, and sort better.

2014-11-29  Ivan Andrus  <darthandrus@gmail.com>

	* .gitignore: Add some nextstep/mac ignorables.

2014-11-29  Paul Eggert  <eggert@cs.ucla.edu>

	.gitignore cleanup.
	* .gitignore: Merge contents of subsidiary files and organize the
	result so as to avoid duplication.  Remove no-longer needed entries.
	* admin/charsets/.gitignore, admin/unidata/.gitignore:
	* doc/lispintro/.gitignore, etc/.gitignore, leim/.gitignore:
	* leim/ja-dic/.gitignore, lib-src/.gitignore, lisp/.gitignore:
	* lisp/calc/.gitignore, lisp/calendar/.gitignore:
	* lisp/cedet/.gitignore, lisp/emulation/.gitignore:
	* lisp/erc/.gitignore, lisp/eshell/.gitignore, lisp/gnus/.gitignore:
	* lisp/international/.gitignore, lisp/language/.gitignore:
	* lisp/leim/.gitignore, lisp/leim/quail/.gitignore:
	* lisp/mail/.gitignore, lisp/mh-e/.gitignore, lisp/net/.gitignore:
	* lisp/nxml/.gitignore, lisp/obsolete/.gitignore:
	* lisp/play/.gitignore, lisp/progmodes/.gitignore:
	* lisp/term/.gitignore, lisp/textmodes/.gitignore:
	* lisp/url/.gitignore, nt/.gitignore, src/.gitignore:
	Remove; no longer needed.

2014-11-29  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Simplify gnutls tests.

2014-11-28  Stefan Monnier  <monnier@iro.umontreal.ca>

	* .gitignore: Add entries for emacsvers files.

2014-11-27  Paul Eggert  <eggert@cs.ucla.edu>

	Restore 'Bug#' -> 'debbugs:' rewrite in log-edit-mode.
	* .dir-locals.el (log-edit-mode): Restore the (log-edit-rewrite-fixes
	"[ \n](bug#\\([0-9]+\\))" . "debbugs:\\1").  See Glenn Morris in:
	https://lists.gnu.org/r/emacs-devel/2014-11/msg01187.html

	Simplify and fix doc-related .gitignore files.
	This fixes some unwanted 'git status' output after 'make docs'.
	* .gitignore: Add **/Makefile, **/makefile.
	Remove Makefile, makefile.
	Add doc/*/*.xxx rules for the usual kinds of documentation outputs
	and temporaries.  Add doc/misc/cc-mode.ss.
	* doc/emacs/.gitignore, doc/lispintro/.gitignore, doc/misc/.gitignore:
	* lwlib/.gitignore, oldXMenu/.gitignore:
	Remove, as these .gitignore files are no longer needed.
	* doc/lispintro/.gitignore: Replace with list of exceptional PDF files.

2014-11-26  Dani Moncayo  <dmoncayo@gmail.com>

	* configure.ac [MINGW]: Fix the way of getting the right host
	platform.

2014-11-25  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Fix yesterday's use of uninitialized $version.

2014-11-25  Oscar Fuentes  <ofv@wanadoo.es>

	* configure.ac [MINGW]: Set $canonical default value as per the
	compiler's target.

2014-11-24  Glenn Morris  <rgm@gnu.org>

	* configure.ac [HAVE_W32]: Generate nt/*.rc files when HAVE_W32,
	not just when using mingw32.

2014-11-22  Glenn Morris  <rgm@gnu.org>

	Further reduce number of versioned files storing Emacs version number.
	* configure.ac (comma_version, comma_space_version) [mingw32]:
	New output variables.
	(nt/emacs.rc, nt/emacsclient.rc) [mingw32]: New output files.
	* make-dist: Update nt/ for *.rc -> *.rc.in changes.

2014-11-19  Dani Moncayo  <dmoncayo@gmail.com>

	* build-aux/msys-to-w32: Simplify implementation and docstring;
	Paths starting with '%emacs_dir%' are just considered relative.

2014-11-16  Christoph Scholtes  <cschol2112@gmail.com>

	* .gitignore: Ignore generated file lib/stdalign.h.

2014-11-16  Eli Zaretskii  <eliz@gnu.org>

	* .gitignore: Add more ignorables.

2014-11-14  Andreas Schwab  <schwab@linux-m68k.org>

	* Makefile.in (config.status): Don't depend on
	${srcdir}/lisp/version.el.

2014-11-14  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib.
	2014-11-14 extern-inline: update commentary about GCC bugs
	2014-11-06 unistd: port to iOS
	2014-11-04 update from texinfo
	* doc/misc/texinfo.tex, lib/unistd.in.h, m4/extern-inline.m4:
	Update from gnulib.

	build: port to GCC 4.6.4 + glibc 2.5
	On platforms this old, building with _FORTIFY_SOURCE equal to 2
	results in duplicate definitions of standard library functions.
	Reported by Nelson H. F. Beebe.
	* configure.ac (_FORTIFY_SOURCE): Sort after GNULIB_PORTCHECK.
	By default, do not enable this unless GNULIB_PORTCHECK is defined.
	This better matches the original intent, which as I recall was to
	enable these extra checks only with --enable-gcc-warnings.

2014-11-14  David Reitter  <david.reitter@gmail.com>

	* Makefile.in (install-arch-indep): Compress publicsuffix.txt file.

2014-11-13  Paul Eggert  <eggert@cs.ucla.edu>

	* .dir-locals.el: Remove reference to bzr commit --fixes debbugs.

2014-11-13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* .gitignore: Copy over sufficient ignorable files from the old
	.bzrignore that a simple build doesn't list lots of unregistered files.

2014-11-11  Eric S. Raymond  <esr@thyrsus.com>

	Git transition.
	* Makefile.in (src): Set VCSWITNESS appropriately for git.

	All bzr revision IDS, and all CVS revision IDs for which a commit
	could be identified, were changed to time-date!committer version
	stamps. All .cvsignore files in the history became .gitignore
	files. Fixes-bug annotations from bzr were copied into the
	corresponding commit comments.

	(The first .cvsignore commit was 1999-09-30T14:07:54Z!fx@gnu.org.
	The last CVS commit was 2009-12-27T08:11:12Z!cyd@stupidchicken.com.)

	Committer/author email addresses are generally correct for the
	transition day, not necessarily when the commit was originally made.

2014-11-10  Glenn Morris  <rgm@gnu.org>

	* configure.ac (doc/man/emacs.1): Generate it.
	* Makefile.in (top_bootclean): Remove doc/man/emacs.1.
	* make-dist: Do not distribute doc/man/emacs.1.

	* configure.ac (etc/refcards/emacsver.tex): Generate it.
	* Makefile.in (etc-emacsver): New PHONY rule.
	(bootstrap-clean): Delete etc/refcards/emacsver.tex.

	* configure.ac (doc/emacs/emacsver.texi): Generate it.
	* make-dist (doc/emacs/emacsver.texi) [update]: No longer check it.

2014-11-08  Dani Moncayo  <dmoncayo@gmail.com>

	* build-aux/msys-to-w32: Simplify the initial over-engineered
	interface, and the implementation.
	* Makefile.in (epaths-force-w32): Update for the above.  Also
	simplify, assuming that the shell is bash (which is the case in MSYS).
	(msys_w32prefix_subst, msys_sed_sh_escape): Remove (no longer used).

2014-11-05  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (QUIET_SUBMAKE): Remove.
	(install-info, uninstall): Use --no-print-directory.  (Bug#18908)

2014-10-25  Eric S. Raymond  <esr@thyrsus.com>

	* autogen.sh: Neutralize language specific to a repository type.

2014-10-23  Paul Eggert  <eggert@cs.ucla.edu>

	* Makefile.in (ACLOCAL_INPUTS): Omit unnecessary use of 'wildcard'.

	Fix race in 'make info/dir', and speed it up.
	* Makefile.in (AWK, srcdir_doc_info_dir_inputs, info_dir_inputs):
	New macros.
	(clean): Remove info-dir.*.
	(info_dir_deps): Depend on make-info-dir too.
	(${srcdir}/info/dir): Make sure info directory exists.
	Don't call pwd; just redirect make-info-dir's stdout to temp file.
	* build-aux/make-info-dir: Send output to stdout.
	Take input file names from args.
	Fix a "FIXME inefficient looping" by using awk's associative arrays.
	Basically, this rewrites the script from scratch, and speeds up
	'make info/dir' from 2.6s to 0.07s on my platform.

2014-10-20  Glenn Morris  <rgm@gnu.org>

	* Merge in all changes up to 24.4 release.

2014-10-19  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-10-18 readlinkat: port to AIX 7.1
	2014-10-07 fcntl: fix error reporting by dupfd
	* lib/fcntl.c, lib/readlinkat.c, lib/unistd.in.h, m4/readlinkat.m4:
	* m4/unistd_h.m4: Update from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2014-10-17  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Simplify OS X $canonical tests.

2014-10-15  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Move the OSX 10.6 test.

2014-10-15  Stefan Monnier  <monnier@iro.umontreal.ca>

	* .bzrignore: Add uni-brackets.el.

2014-10-14  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: apple-darwin powerpc is unported.
	Require OSX >= 10.6 even if --with-ns is not given.

2014-10-12  Ken Brown  <kbrown@cornell.edu>

	* configure.ac (LD_SWITCH_SYSTEM_TEMACS) [CYGWIN]: Set stack size
	to 8 MB.  (Bug#18438)

2014-10-12  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Require OSX 10.6.  Remove NSInteger test,
	use nsfont for Gnustep, macfont for OSX.

2014-10-12  Paul Eggert  <eggert@cs.ucla.edu>

	Fix putenv race conditions that can crash Emacs (Bug#8705).
	* configure.ac (LOCALTIME_CACHE): Remove.
	We needn't worry about SunOS 4 any more; Sun dropped support in 2003.
	All uses of LOCALTIME_CACHE removed.  This simplifies the fix.
	(tzalloc): Add check for this function.

2014-10-06  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Add -Wno-string-plus-int for clang.

2014-10-04  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Silence warning with some old Xrandr.h.  (Bug#18465)

2014-10-03  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac: Port to strict POSIX shells on non-MinGW (Bug#18612).

2014-09-29  Eli Zaretskii  <eliz@gnu.org>

	* README: Bump version to 25.0.50.

	* configure.ac (AC_INIT): Bump version to 25.0.50.

2014-09-29  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.ac (HAVE_STATEMENT_EXPRESSIONS): Remove.
	For USE_STACK_LISP_OBJECTS, we always assume __GNUC__.

2014-09-27  Ken Brown  <kbrown@cornell.edu>

	* configure.ac [CYGWIN]: Enable sound support.

2014-09-25  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (MAKEINFO): Allow 'makeinfo' to be called 'texi2any'.

2014-09-23  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-09-11 fcntl-h: fix compilation with Intel C++ compiler
	2014-09-04 pthread, pthread_sigmask, threadlib: port to Ubuntu 14.04

2014-09-22  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Increase headerpad_extra to 1000, update the comment
	about load commands (Bug#18505).

2014-09-15  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac (HAVE_SOUND): Check for mmsystem.h header that
	defines the sound stuff on MS-Windows.  (Bug#18463)

2014-09-10  Paul Eggert  <eggert@cs.ucla.edu>

	Improve the experimental local and scoped allocation.
	* configure.ac (HAVE_STRUCT_ATTRIBUTE_ALIGNED)
	(HAVE_STATEMENT_EXPRESSIONS): New configure-time checks.

2014-09-07  Paul Eggert  <eggert@cs.ucla.edu>

	Expand @AM_DEFAULT_VERBOSITY@ even if Automake is old (Bug#18415).
	* configure.ac: Assume verbose output for older Automake.

2014-09-04  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (MAKEINFO): Clean up some configuration bitrot.
	MAKEINFO is already set before we get here, so no need to call AC_PATH_PROG.
	Bypass $am_missing_run.  Simplify version-number checking.

2014-09-02  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-09-02 gnulib-common.m4: port to GCC 4.2.1 and Sun Studio 12 C++
	2014-09-01 manywarnings: add GCC 4.9 warnings
	* m4/gnulib-common.m4, m4/manywarnings.m4: Update from gnulib.

2014-09-01  Paul Eggert  <eggert@cs.ucla.edu>

	--enable-silent-rules now suppresses more chatter.
	* INSTALL: Document this.

	Clean up extern decls a bit.
	* configure.ac (WERROR_CFLAGS): Don't disable -Wnested-externs.
	While we're at it, don't disable -Wlogical-op either.

2014-08-31  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (MAKE): Export it, for config.status.
	Needed on AIX when 'configure' infers MAKE=gmake.
	(__restrict_arr): Remove; no longer used.

2014-08-30  Paul Eggert  <eggert@cs.ucla.edu>

	Vector-sorting fixes (Bug#18361).
	* configure.ac (qsort_r): Remove, as we no longer use qsort-like
	functions.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.
	* lib/vla.h, m4/vararrays.m4: New files, copied from gnulib.
	* lib/stdlib.in.h, m4/stdlib_h.m4: Sync from gnulib, incorporating:
	2014-08-29 qsort_r: new module, for GNU-style qsort_r
	The previous two files' changes are boilerplate generated by
	admin/merge-gnulib, and should not affect Emacs.

2014-08-29  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.ac (AC_CHECK_FUNCS): Check for qsort_r.

2014-08-28  Ken Brown  <kbrown@cornell.edu>

	* configure.ac (HYBRID_MALLOC): New macro; define to use gmalloc
	before dumping and the system malloc after dumping.  Define on
	Cygwin.  (Bug#18222)

2014-08-28  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (appdatadir): New variable.
	(install-etc, uninstall, clean): Handle etc/emacs.appdata.xml.

2014-08-27  Paul Eggert  <eggert@cs.ucla.edu>

	Improve robustness of new string-collation code (Bug#18051).
	* configure.ac (newlocale): Check for this, not for uselocale.

2014-08-26  Dmitry Antipov  <dmantipov@yandex.ru>

	Detect features needed to handle C stack overflows.
	* configure.ac: Check for sigaltstack and related sigaction
	support.  Unconditionally check for sigsetjmp and siglongjmp.
	(HAVE_STACK_OVERFLOW_HANDLING): Define if we can support it.

	(HAVE_LINUX_SYSINFO): Avoid false positive on Solaris.

2014-08-25  Ken Brown  <kbrown@cornell.edu>

	* configure.ac (G_SLICE_ALWAYS_MALLOC): Remove obsolete macro.

2014-08-25  Christoph Scholtes  <cschol2112@gmail.com>

	* INSTALL.REPO: Remove reference to obsolete configure scripts
	on non-Posix platforms (Bug#18323).

2014-08-24  Michael Albinus  <michael.albinus@gmx.de>

	* configure.ac: Check also for the uselocale function.  (Bug#18051)

2014-08-23  Karol Ostrovsky  <karol.ostrovsky@gmail.com>  (tiny change)

	* configure.ac: Accept "*-mingw*", not just "*-mingw32", as
	canonical name of a MinGW build, because using MSYS2 'uname'
	produces "MINGW64".

2014-08-21  Ken Brown  <kbrown@cornell.edu>

	* configure.ac (HAVE_XPM): Explain the use of CPPFLAGS in the
	Cygwin-w32 build.  (Bug#18302)

2014-08-11  Paul Eggert  <eggert@cs.ucla.edu>

	Don't prevent random file systems from being unmounted (Bug#18232).
	This fix relies on having the 'fchdir' function, and on having
	"." be searchable (or at least readable, on platforms lacking O_SEARCH),
	but that's good enough to handle the vast majority of cases and the
	remaining folks can just live with the annoyance of file systems
	that occasionally can't be unmounted.
	* configure.ac (fchdir): New function to check for.
	* lib/save-cwd.c: Copy from gnulib, except omit the part that
	allocates memory, since that can cause problems in Emacs.
	* lib/save-cwd.h: Copy from gnulib.

2014-08-10  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Fix some confusing wording.

2014-08-09  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Fix EOL format in lines modified by last commit.

2014-08-09  Reuben Thomas  <rrt@sc3d.org>

	* make-dist (files): Remove msdos/is_exec.c and sigaction.c.
	* config.bat: Require DJGPP 2.02 or later.

2014-08-09  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-08-07 getdtablesize: fall back on sysconf (_SC_OPEN_MAX)
	2014-08-05 sys_select: fix FD_ZERO problem on Solaris 10
	* lib/getdtablesize.c, lib/sys_select.in.h: Update from gnulib.

2014-08-07  Reuben Thomas  <rrt@sc3d.org>

	* README: ``MSDOG'' becomes ``MS-DOS''.

2014-08-04  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-08-04 extern-inline: port to FreeBSD, DragonFly
	* lib/gnulib.mk: Regenerate (comment change only).
	* m4/extern-inline.m4: Update from gnulib.

2014-08-02  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (HAVE_TIMERFD): Also check for TFD_NONBLOCK,
	since the code is using TFD_NONBLOCK now.

2014-07-31  Paul Eggert  <eggert@cs.ucla.edu>

	Simplify timerfd configuration and fix some minor glitches.
	* configure.ac (HAVE_TIMERFD): Define only if TFD_CLOEXEC works,
	since the code leaked file descriptors to children when !TFD_CLOEXEC.
	(HAVE_TIMERFD_CLOEXEC): Remove; no longer used.
	* m4/clock_time.m4 (gl_CLOCK_TIME): Don't check for clock_getres.
	This reverts the previous change to this file, so it matches
	gnulib again.

2014-07-28  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.ac (toplevel): Check whether GNU/Linux-specific
	timerfd functions and macros are available.
	* m4/clock_time.m4 (gl_CLOCK_TIME): Check for clock_getres as well.

2014-07-13  Paul Eggert  <eggert@cs.ucla.edu>

	Improve behavior of 'bzr up; cd src; make -k'.
	* Makefile.in (ACLOCAL_INPUTS): Add all m4/*.m4 files.

2014-07-12  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-06-27 mktime: merge #if/#ifdef usage from glibc
	* lib/mktime.c: Update from gnulib.

	* Makefile.in (install-arch-indep): Avoid readdir race (Bug#17971).

2014-07-10  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.ac: Check whether sys/sysinfo.h provides
	Linux 'sysinfo' function and 'struct sysinfo' type.

2014-06-28  Glenn Morris  <rgm@gnu.org>

	* configure.ac (lwlib_deps_frag, oldxmenu_deps_frag): New output files.
	* make-dist (lwlib, oldXMenu): Distribute *.mk.

2014-06-27  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (src): No more need to pass BOOTSTRAPEMACS.

	* make-dist: Exclude test/automated/*.log.

2014-06-26  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (mostlyclean, clean): Maybe clean test/automated.

2014-06-21  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac: Warn about --enable-link-time-optimization's issues
	in --help message (Bug#17806).

	Port to GCC 4.9.0 with link time optimization (Bug#17806).
	* configure.ac (CFLAGS): With link time optimization,
	use -ffat-lto-objects if supported; otherwise Emacs won't
	build with GCC 4.9.0.

2014-06-20  Paul Eggert  <eggert@cs.ucla.edu>

	Diagnose failures due to colons in directory names (Bug#17278).
	* Makefile.in (epaths-force): Don't allow ':' in directories whose
	names go into a colon-separated path.
	* configure.ac: Fail if submake fails.

2014-06-17  Paul Eggert  <eggert@cs.ucla.edu>

	Omit redundant extern decls.
	Most of this patch is from Dmitry Antipov, in:
	https://lists.gnu.org/r/emacs-devel/2014-06/msg00263.html
	* configure.ac (WERROR_CFLAGS): Add -Wredundant-decls.

	Merge from gnulib, incorporating:
	2014-06-17 acl: port to gcc -Wredundant-decls
	2014-06-01 gnulib-common.m4: Fix typo in _GL_UNUSED_LABEL.
	* lib/acl.h, m4/gnulib-common.m4: Update from gnulib.

2014-06-15  Glenn Morris  <rgm@gnu.org>

	* Makefile.in: Use `make -C' rather than `cd && make' throughout.

	* Makefile.in: Parallelize clean rules using GNU make features.
	(submake_template): New definition.
	(mostlyclean_dirs, clean_dirs, distclean_dirs, maintainer_clean_dirs):
	New variables.
	(mostlyclean, clean, distclean, bootstrap-clean, maintainer-clean)
	(extraclean): Define using each subdirectory as a prequisite.
	* lib/Makefile.am (bootstrap-clean): New.

2014-06-15  Paul Eggert  <eggert@cs.ucla.edu>

	Port part of the AIX fix to Solaris (Bug#17598).
	* configure.ac (_REENTRANT): Define on Solaris if HAVE_PTHREAD.
	This ports part of the recent AIX fixes to Solaris.  It is needed
	for the same reason that _THREAD_SAFE is needed on AIX, e.g., to
	make sure that each thread has its own 'errno'.

2014-06-13  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (CC, CFLAGS, LDFLAGS, CPPFLAGS, abs_top_srcdir):
	Remove, no longer used.
	(lib, lib-src, lisp, nt, src, blessmail, install-arch-dep)
	(install-nt, install-strip, uninstall, uninstall-nt)
	(mostlyclean, clean, distclean, bootstrap-clean)
	(maintainer-clean, extraclean, TAGS, tags, check, $(DOCS)):
	($(INSTALL_DOC), $(UNINSTALL_DOC), info, bootstrap, check-declare):
	GNU make automatically passes command-line arguments to sub-makes.

2014-06-11  Paul Eggert  <eggert@cs.ucla.edu>

	Use a shell function in configure.ac to cut down on code duplication.
	* configure.ac (emacs_check_gnu_make): New shell function.
	Use it to avoid duplication when checking for GNU Make.
	It's OK for 'configure' to use shell functions these days,
	as long as we follow the advice in the 'Shell Functions'
	section of the Autoconf manual.

2014-06-11  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Require at least version 3.81 of GNU make.

2014-06-10  Paul Eggert  <eggert@cs.ucla.edu>

	Rely on AC_CANONICAL_HOST to detect whether we're using mingw.
	See the thread containing:
	https://lists.gnu.org/r/emacs-devel/2014-06/msg00206.html
	* configure.ac (AC_CANONICAL_HOST): Invoke this as early as we
	can, which is just after AM_INIT_AUTOMAKE.  Then check for mingw
	just after that.

2014-06-10  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (AUTOCONF, AUTOMAKE, AUTOHEADER, ACLOCAL):
	New, set by configure.  Use throughout where appropriate.

	* Makefile.in (INFO_EXT): Remove and replace by ".info" throughout.
	* configure.ac (INFO_EXT, INFO_OPTS): Remove output variables.

2014-06-08  Paul Eggert  <eggert@cs.ucla.edu>

	Port better to AIX (Bug#17598).
	* configure.ac (with_xpm_set): New shell var.
	(_THREAD_SAFE): Define on AIX if HAVE_PTHREAD.
	(with_xpm): Default to 'no' on AIX.
	(LIBXPM): Append -lXpm if -lXaw is also used, as the latter
	requires the former on AIX.

2014-06-05  Paul Eggert  <eggert@cs.ucla.edu>

	Try harder to find GNU Make when configuring.
	* configure.ac (AC_PROG_MAKE_SET): Define a dummy.
	(MAKE): Set it to GNU Make, if one can be found.
	Search PATH for 'make', 'gmake', 'gnumake'.
	This works better on platforms like AIX, where GNU Make
	might be in /opt/freeware/bin/make, and reside
	behind /usr/bin/make in the PATH.

2014-06-05  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.ac (POLL_FOR_INPUT): Define with HAVE_WINDOW_SYSTEM.
	* INSTALL: Mention SVG image support.

2014-06-05  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac: --without-all now implies --without-xft, --disable-acl.
	* INSTALL: Remove apparently unmaintained documentation about what
	--without-all exactly means.

2014-06-03  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac (C_HEAP_SWITCH): Remove.

2014-06-02  Paul Eggert  <eggert@cs.ucla.edu>

	Fix port to 32-bit AIX with xlc (Bug#17598).
	This doesn't fix Bug#17598, but it does fix a regression since Emacs
	built with xlc until recently, and perhaps it'll help us fix Bug#17598.
	* configure.ac (GC_SETJMP_WORKS): Define for AIX, too.
	Merge from gnulib, incorporating:
	2014-05-30 ftoastr: work around compiler bug in IBM xlc 12.1
	* lib/ftoastr.c: Update from gnulib.

2014-06-01  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-06-02 acl: apply pure attribute to two functions
	2014-06-01 gnulib-common.m4: add _GL_UNUSED_LABEL
	2014-05-31 dup2, fcntl, fcntl-h: port to AIX 7.1
	2014-05-30 ftoastr: work around compiler bug in IBM xlc 12.1
	* lib/acl-internal.h, lib/fcntl.in.h, lib/ftoastr.h:
	* m4/dup2.m4, m4/fcntl.m4, m4/gnulib-common.m4:
	Update from gnulib.

2014-06-01  Juanma Barranquero  <lekktu@gmail.com>

	* configure.ac (C_HEAP_SWITCH): Raise HEAPSIZE value for 32-bit
	builds on Windows.

2014-05-29  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (pthread_sigmask): Look in LIB_PTHREAD too (Bug#17561).
	Fixes configuration glitch found in <https://bugs.gnu.org/17561#59>.

2014-05-29  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac (ADDSECTION, TEMACS_POST_LINK): Don't compute,
	unused.

2014-05-29  Paul Eggert  <eggert@cs.ucla.edu>

	Don't substitute sigprocmask for pthread_sigmask (Bug#17561).
	sigprocmask isn't portable in a multithreaded process.
	* configure.ac (gl_THREADLIB): Remove dummy.
	Merge from gnulib, incorporating:
	2014-05-28 pthread_sigmask, timer-time: use gl_THREADLIB only if needed
	* m4/pthread_sigmask.m4, m4/timer_time.m4: Update from gnulib.

2014-05-29  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Explicitly drop some ancient Solaris versions.

2014-05-27  Fabrice Popineau  <fabrice.popineau@gmail.com>

	* configure.ac (C_HEAP_SWITCH): Define for different values of
	dumped heap size depending on 32/64bits arch on Windows.
	Don't check for pthreads.h on MinGW32/64, it gets in the way.
	Use mmap(2) for buffers and system malloc for MinGW32/64.
	(EMACS_HEAPSIZE): Remove.

2014-05-27  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-05-21 fchdir: port 'open' and 'close' redefinitions to AIX 7.1
	* lib/openat-proc.c: Update from gnulib.

2014-05-26  Paul Eggert  <eggert@cs.ucla.edu>

	Fix port to 32-bit AIX (Bug#17540).
	* configure.ac (opsys): On Power Architecture, treat release 7 of
	AIX like releases 5 and 6.

2014-05-19  Paul Eggert  <eggert@cs.ucla.edu>

	Remove dependencies on getdelim and getline.
	* configure.ac (getdelim, getline): Remove.

2014-05-18  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Do not bother testing for png in non-graphical builds.

2014-05-18  Paul Eggert  <eggert@cs.ucla.edu>

	Port ctags+etags build to Sun C 5.12.
	* .bzrignore: Remove lib-src/ctags.c.

	Port recent libpng changes to hosts with missing png.h.
	* configure.ac (HAVE_PNG): Port to platforms where libpng-config
	succeeds but png.h is absent, by testing libpng-config's output
	rather than trusting it.  I ran into this problem when building
	Emacs trunk on a Solaris 10 host.

2014-05-17  Paul Eggert  <eggert@cs.ucla.edu>

	Assume C99 or later (Bug#17487).
	* lib/stdarg.in.h, lib/stdbool.in.h, m4/stdarg.m4, m4/stdbool.m4:
	Remove.
	* configure.ac (_AC_PROG_CC_C89): Define a dummy, to keep 'configure'
	smaller.
	(gl_PROG_CC_C99): Use this to get C99 or later.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2014-05-16  Paul Eggert  <eggert@cs.ucla.edu>

	Don't require pkg-config when building from repository.
	* INSTALL: Prefer './configure FOO=BAR' to 'FOO=BAR ./configure'.
	* INSTALL.REPO: pkg-config is no longer required to build from
	the repository.
	* autogen.sh: Don't check for pkg-config.
	(progs): Remove pkg-config.
	(pkg_config_min, AUTORECONF_ENV, env_space, ACLOCAL_PATH):
	Remove.  All uses removed.
	* m4/pkg.m4: New file, built by admin/merge-pkg-config.
	* configure.ac: Remove unnecessary m4_pattern_forbid of ^PKG_ and
	an AC_ARG_VAR of PKG_CONFIG_PATH.  pkg.m4 does that for us.
	(EMACS_CHECK_MODULES): Remove workaround for old pkg-config bug,
	as we use pkg.m4 from a newer pkg-config.

2014-05-15  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac (LIBPNG): Do not test for libpng if NS_IMPL_COCOA.

2014-05-13  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.ac (HAVE_XFIXES): Define if available.
	(XFIXES_CFLAGS, XFIXES_LIBS): New AC_SUBSTs.
	(--enable-link-time-optimization): Add clang support.
	* INSTALL: Mention it.

2014-05-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* configure.ac (EMACS_CHECK_MODULES): Fix typo in previous change.

2014-05-11  Paul Eggert  <eggert@cs.ucla.edu>

	Work around bug in pkg-config before 0.26 (Bug#17438).
	* configure.ac (EMACS_CHECK_MODULES): Check for failed exit status
	of pkg-config, on older pkg-config versions that don't do it
	properly.

2014-05-07  Glenn Morris  <rgm@gnu.org>

	* autogen.sh: Check for failing aclocal.

2014-05-05  Glenn Morris  <rgm@gnu.org>

	* autogen.sh: Check any pre-existing ACLOCAL_PATH.

2014-05-04  Paul Eggert  <eggert@cs.ucla.edu>

	Consult libpng-config more consistently (Bug#17339).
	This is mainly for simplicity, but it should also avoid
	some future problems like the ones we recently had with NetBSD.
	* configure.ac (LIBPNG): Configure after LIBZ.  Use libpng-config
	for cflags, too.  Append -lz if we're not already doing that with
	LIBZ.  Do not bother appending -lm, since we always append that.
	Coalesce some duplicate code.

	* autogen.sh: Use ‘"’ to quote a message that often contains ‘'’.

	Require ImageMagick >= 6.3.5, due to PixelSetMagickColor (Bug#17339).
	* configure.ac (IMAGEMAGICK_MODULE): Bump prereq from 6.2.8 to 6.3.5.
	A more-complicated fix would be to remove uses of PixelSetMagickColor,
	introduced in ImageMagick 6.3.5 (Sept. 2007).

2014-05-04  Glenn Morris  <rgm@gnu.org>

	* configure.ac (LIBPNG): Consult libpng-config for the precise
	form of "-lpng" to use.  (Bug#17339)

2014-05-03  Glenn Morris  <rgm@gnu.org>

	* autogen.sh: If all else fails, try using pkg-config to find pkg.m4.

2014-05-03  Paul Eggert  <eggert@cs.ucla.edu>

	Get --enable-gcc-warnings to work after touching configure.ac.
	Preserve ACLOCAL_PATH in later builds, so that by default it has
	the same value as it did in the first build after initial checkout.
	* Makefile.in (ACLOCAL_PATH): New macro.
	($(srcdir)/aclocal.m4): Use it.
	* configure.ac (ACLOCAL_PATH): AC_SUBST it.
	* autogen.sh (env_space): New var.
	Tell user what variables, if any, to pass to 'configure'.

	Get --enable-gcc-warnings working again.
	The recent changes to configure.ac removed the transliteration of
	-I to -isystem in CFLAGS, which is needed for --enable-gcc-warnings.
	Bring this back while keeping the spirit of the recent changes.
	* configure.ac (edit_cflags): Restore this shell var, and put it
	at the top level, where it'll be useful when emacs-24 is next merged.
	(EMACS_CHECK_MODULES): New macro.  All uses of PKG_CHECK_MODULES
	changed to use it.

	Make it easier on maintainers who use their own Automake.
	* autogen.sh (ACLOCAL_PATH, AUTORECONF_ENV): New vars.
	Set them to avoid problems when maintainers prepend their own
	Automake installations to their PATH.  Report an error if pkg.m4
	can't be found.

2014-05-02  Glenn Morris  <rgm@gnu.org>

	* configure.ac (PKG_CONFIG_PATH): Declare with AC_ARG_VAR.

	* configure.ac (--with-pkg-config-prog): Remove.
	Use the PKG_CONFIG environment variable instead if you need it.

	* configure.ac: Use pkg-config's pkg.m4, rather than reinventing it.
	Add explicit AC_SUBST's where needed.
	* autogen.sh (progs): Add pkg-config.
	(pkg_config_min): New variable.

	* configure.ac (AC_CONFIG_MACRO_DIR): Use it.

	* autogen.sh (get_version): Handle no leading whitespace.
	(check_version, main): Handle program names with hyphens.

2014-04-30  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Treat MirBSD as OpenBSD.  (Bug#17339)

2014-04-21  Daniel Colascione  <dancol@dancol.org>

	* .bzrignore: Add a.out to bzr ignore list (a test generates this
	file).

2014-04-19  Paul Eggert  <eggert@cs.ucla.edu>

	Link to glib-using libraries when checking for glib (Bug#17289).
	* configure.ac (XGSELOBJ): Include GTK_LIBS, RSVG_LIBS, etc.
	when testing whether Glib is linked in.  Similarly for CFLAGS.

2014-04-17  Paul Eggert  <eggert@cs.ucla.edu>

	* GNUmakefile: Speed up 'make bootstrap' in fresh checkout.
	(ORDINARY_GOALS): New macro, which excludes 'bootstrap'.
	(bootstrap, .PHONY): New rules.
	* INSTALL.REPO: Document current procedure better.
	Move copyright notice to just before license notice.

	* Makefile.in (FRC, force-info): Remove.
	All uses removed.  This hack is no longer needed here
	now that we can assume GNU Make's .PHONY feature works.
	(bootstrap): No need to make 'info', since 'all' now implies 'info'.

2014-04-16  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Update for Emacs 24.4.

2014-04-16  Paul Eggert  <eggert@cs.ucla.edu>

	Port to IRIX 6.5 (Bug#9684).
	This port requires IRIX cc, as I did not have time to get
	undump working with the old GCC on the system I had access to,
	but that's better than nothing.
	* configure.ac (gl_GCC_VERSION_IFELSE): Remove unused macro
	that wouldn't have worked anyway, with IRIX cc.
	(emacs_cv_clang, emacs_cv_sanitize_address)
	(ns_osx_have_104, ns_osx_have_105):
	Don't assume '#error' makes the compiler fail,
	as this doesn't work with IRIX cc.
	(CFLAGS, LIBS): Don't let the GnuTLS results infect later 'configure'
	checks.  This runs afoul of an IRIX configuration where GnuTLS is
	in an optional library that also contains getdelim, and causes
	a later 'configure' to incorrectly think getdelim is supported.

2014-04-16  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac (LN_S_FILEONLY, LN_S): Use "/bin/ln" on MinGW, to
	ensure the MSYS ln.exe is invoked.

2014-04-15  Paul Eggert  <eggert@cs.ucla.edu>

	Remove DATA_SEG_BITS.
	* configure.ac (DATA_SEG_BITS): Remove.  All uses removed.

2014-04-14  Paul Eggert  <eggert@cs.ucla.edu>

	* autogen.sh: Use autoreconf's -f option (Bug#17258).

	Clean up configure-time library handling a bit.
	This patch was inspired by emacs-24 bzr 116961, which fixed
	a bug due to sloppy library handling in 'configure'.
	* configure.ac (LIB_MATH, LIB_PTHREAD, LIBXMU):
	Use AC_SEARCH_LIBS instead of AC_CHECK_LIB as per Autoconf manual.
	(LIB_MATH, LIB_PTHREAD, HAVE_X11, IMAGEMAGICK_LIBS, GTK_LIBS)
	(DBUS_LIBS, LIBXMU, XFT_LIBS, LIBXSM, LIBXML2_LIBS, LIBS_MAIL)
	(with_kerberos):
	Don't let the library choice infect $LIBS.
	(dnet_ntoa, cma_open): Remove obsolete tests.
	(emacs_pthread_function): Probe for pthread_kill, not pthread_self,
	as that's a bit more selective on GNU/Linux.
	(LIBXEXT): Remove.
	(touchlock): Test for existence when $LIBS_MAIL is in use.
	(AC_CHECK_FUNCS): Use only $LIB_MATH in addition to $LIBS
	when testing for typical functions like accept4, lrand48.
	(random, rint): Remove obsolete HP-UX 9 A.09.05 test.

2014-04-11  Glenn Morris  <rgm@gnu.org>

	* make-dist: Do not distribute generated admin/grammars/Makefile.
	Do distribute lib-src/update-game-score.exe.manifest.

2014-04-11  Ken Brown  <kbrown@cornell.edu>

	* configure.ac (EMACS_MANIFEST): Revert last change (but leave
	UPDATE_MANIFEST empty).

2014-04-07  Ken Brown  <kbrown@cornell.edu>

	* configure.ac (EMACS_MANIFEST, UPDATE_MANIFEST): Leave these
	variables empty on Cygwin.  (Bug#17176)

2014-04-03  Glenn Morris  <rgm@gnu.org>

	* make-dist: Further update AC_INIT regexp.

2014-04-02  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Make the final "Does Emacs use Gsettings" message
	consistent with src/config.h.

2014-03-31  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Fix errors from previous checkin (GSettings check).

2014-03-29  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Add check that GSettings is in libgio (Bug#17118).

2014-03-28  Glenn Morris  <rgm@gnu.org>

	* configure.ac (AC_INIT): Add "GNU" in package, add bug address.
	(PACKAGE_BUGREPORT): Use it.
	(make-dist): Update AC_INIT regexp.

	* configure.ac (ACL_SUMMARY): Rename from acl_summary, for consistency.
	(EMACS_CONFIG_FEATURES): New define.

2014-03-27  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac: Suggest './configure MAKE=gmake' in diagnostic.
	This tends to work better than 'MAKE=gmake ./configure' if later
	builds run config.status etc.

2014-03-27  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Require GNU make.
	(HAVE_GNU_MAKE): Remove.

2014-03-26  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-03-26 strftime: wrap macros in "do {...} while(0)"
	* lib/strftime.c: Update from gnulib.

2014-03-26  Glenn Morris  <rgm@gnu.org>

	* configure.ac (CLASH_DETECTION): Remove option.  Every platform
	supports it, and the runtime option `create-lockfiles' replaces it.

2014-03-23  Daniel Colascione  <dancol@dancol.org>

	* configure.ac: (Bug#17069) Include GFILENOTIFY objects in glib check.

2014-03-22  Glenn Morris  <rgm@gnu.org>

	* make-dist: Do not distribute lib-src/testfile.

2014-03-21  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac: Bump version to 24.4.50.

2014-03-21  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (all): Depend on `info'.  (Bug#16626)

2014-03-07  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-03-04 stdint: fix missing SIZE_MAX on Android
	2013-03-02 sys_types: avoid autoconf warning about gl_SYS_TYPES_H
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.
	* lib/stdint.in.h, lib/sys_types.in.h, m4/sys_types_h.m4:
	Update from gnulib.

2014-03-05  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Tweak the "unported" error message.

2014-03-05  Paul Eggert  <eggert@cs.ucla.edu>

	Fix configuration bug on Solaris 2.5.1 (Bug#16905).
	* configure.ac: Fix a bug in shell pattern matching that caused
	'configure' to treat Solaris 2.5.1 as if it were Solaris 10 or later.

2014-02-25  Paul Eggert  <eggert@penguin.cs.ucla.edu>

	Merge from gnulib (Bug#16825).
	2014-02-25 unistd: port readlink to Mac OS X 10.3.9

2014-02-24  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-02-21 timer: fix uClibc detection of threading
	2014-02-21 maintainer-makefiles: provide AC_PROG_SED for older autoconf

2014-02-18  Mirek Kaim  <mirek.kaim@outlook.com>  (tiny change)

	* configure.ac [HAVE_W32]: Test for ImageMagick.  (Bug#16754)

2014-02-14  Paul Eggert  <eggert@cs.ucla.edu>

	* Makefile.in (install-arch-indep): Allow ' ' in destdir (Bug#16717).
	This fixes a bug in the previous change.  Also, use $(SHELL)
	rather than sh, as that's more likely to be portable.

2014-02-13  Paul Eggert  <eggert@cs.ucla.edu>

	* Makefile.in (install-arch-indep): Simplify (Bug#16717).
	This should make it more reliable, and hopefully more portable to
	non-GNU 'make' implementations such as HP-UX 'make'.

2014-02-13  Juanma Barranquero  <lekktu@gmail.com>

	* Makefile.in (install-nt): Also pass datadir.

2014-02-05  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-01-23 pthread: work around winpthread header pollution on mingw
	* lib/time.in.h: Update from gnulib.

2014-01-23  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-01-22 qacl: check for fchmod
	* m4/acl.m4: Update from gnulib.

2014-01-22  Paul Eggert  <eggert@cs.ucla.edu>

	Fix miscellaneous update-game-score bugs.
	* configure.ac (difftime): Remove.

2014-01-20  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-01-20 stdalign: port to HP-UX compilers
	2014-01-16 strtoimax: port to platforms lacking 'long long'
	2014-01-16 update from texinfo
	* lib/stdalign.in.h, lib/strtoimax.c: Update from gnulib.

2014-01-12  Glenn Morris  <rgm@gnu.org>

	* README: Replace reference to etc/MAILINGLISTS.

2014-01-11  Fabrice Popineau  <fabrice.popineau@gmail.com>

	* configure.ac: Read $srcdir/nt/mingw-cfg.site when $MSYSTEM is
	"MINGW64" as well.

2014-01-11  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-01-07 update from texinfo
	2014-01-06 md5, sha1, sha256, sha512: support older autoconf

2014-01-09  Eric S. Raymond  <esr@thyrsus.com>

	* INSTALL, configure.ac, etc/CONTRIBUTE, nt/INSTALL: Remove
	unnecessarily specific references to Bazaar that could better
	simply be to the repository.

2014-01-08  Eric S. Raymond  <esr@thyrsus.com>

	* INSTALL.BZR: Rename to INSTALL.REPO.  Remove refs to specific VCS.
	* INSTALL, autogen.sh: Update for above change.

2014-01-05  Paul Eggert  <eggert@cs.ucla.edu>

	Port to GNU/Linux with recent grsecurity/PaX patches (Bug#16343).
	Problem and proposed patch reported by Ulrich Mueller;
	this patch uses a somewhat-different approach.
	* configure.ac (SETFATTR): New variable.

2014-01-03  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2014-01-02 manywarnings: remove -Wmudflap
	This ports better to GCC 4.9-to-be.

2013-12-31  Fabrice Popineau  <fabrice.popineau@supelec.fr>

	* configure.ac (canonical, C_SWITCH_SYSTEM): Support a 64-bit
	MinGW64 build on MS-Windows.

2013-12-29  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac (xcsdkdir): Only set if using xcrun.

2013-12-29  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (LIBXML2_CFLAGS): Fix xcrun-related quoting problem.
	Reported by YAMAMOTO Mitsuharu in:
	https://lists.gnu.org/r/emacs-devel/2013-12/msg00995.html

2013-12-28  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Fix CC detection for xcrun case.

2013-12-28  Paul Eggert  <eggert@cs.ucla.edu>

	Fix problem with MAKE and xcrun configuration.
	* configure.ac: Don't set MAKE unless 'make' doesn't work.
	Set it only in the environment, not in the makefile.
	Reported by Glenn Morris in:
	https://lists.gnu.org/r/emacs-devel/2013-12/msg00969.html

2013-12-27  Paul Eggert  <eggert@cs.ucla.edu>

	Port xcrun configuration to GNU/Linux.
	* configure.ac (xcsdkdir): Default to empty.
	(XCRUN): Don't require Darwin for xcrun.  Move xcrun checking to
	just before AM_INIT_AUTOMAKE, to make the dependency between it
	and automake clearer.
	(CC): Don't use AC_PROG_CC twice; only the first use expands to the
	shell code that is wanted, which breaks 'configure' on non-Darwin
	platforms.  Instead, fix CC by hand if it's not found.

2013-12-27  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Detect xcrun on OSX and use it for make, gcc and
	libxml.

2013-12-26  Paul Eggert  <eggert@cs.ucla.edu>

	Fix core dumps with gcc -fsanitize=address and GNU/Linux.
	* configure.ac: Check whether addresses are sanitized.
	(CANNOT_DUMP): Warn if addresses are sanitized and not CANNOT_DUMP.
	(DOUG_LEA_MALLOC): Do not define if addresses are sanitized.
	(SYSTEM_MALLOC): Define if addresses are sanitized.

2013-12-24  Paul Eggert  <eggert@cs.ucla.edu>

	Automate the procedure for updating copyright year.
	* build-aux/update-copyright: New file.
	* make-dist: Distribute it.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2013-12-23  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.ac: Replace obsolete macro AC_CONFIG_HEADER by
	AC_CONFIG_HEADERS.

2013-12-19  Rüdiger Sonderfeld  <ruediger@c-plusplus.de>

	* .gitignore: Ignore refcard temporaries and info/*.info files.

2013-12-17  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-12-17 gettimeofday: port recent C++ fix to Emacs
	2013-12-17 gettimeofday: fix C++ crosscompilation
	2013-12-17 qacl: port to Windows better
	* lib/file-has-acl.c, lib/time.in.h, m4/gettimeofday.m4, m4/time_h.m4:
	Update from gnulib.
	* lib/gnulib.mk: Regenerate.

2013-12-16  Paul Eggert  <eggert@cs.ucla.edu>

	* INSTALL: Clarify treatment of image libraries.

2013-12-14  Paul Eggert  <eggert@cs.ucla.edu>

	Use bool for boolean, focusing on headers.
	* configure.ac (PTY_OPEN, GC_MARK_SECONDARY_STACK):
	Use bool for boolean.

2013-12-14  Dani Moncayo  <dmoncayo@gmail.com>

	* configure.ac (srcdir) [MINGW32]: If it is an absolute path,
	force the format "/c/foo/bar" to simplify conversions to native
	windows format.

2013-12-13  Glenn Morris  <rgm@gnu.org>

	* INSTALL: No longer mention load-path and site-init/site-load.

2013-12-12  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-info): Handle missing info/dir.
	(info_dir_deps): New variable.
	(${srcdir}/info/dir): Depend on .texi files rather than .info files.
	(check-info): Update topics.
	* build-aux/make-info-dir: Use .texi files rather than .info files.
	Update topics.

	* Makefile.in (install-info): Remove some useless subshells.

	Stop keeping info/dir in the repository.
	* build-aux/dir_top: Move here from admin/.
	* build-aux/make-info-dir: New script.
	* Makefile.in (bootstrap-clean): Delete info/.
	(info-dir, ${srcdir}/info/dir): New rules.
	(info): Also make info-dir.
	(check-info): Rename from check-info-dir.
	Instead of info/dir entries, check @dircategory in info/*.info.
	* make-dist: Use `info' rule rather than `info-real'.
	No more info/COPYING (not even the right license for info/ files).
	Distribute new build-aux files.

	* info/: Remove from repository.

2013-12-11  Glenn Morris  <rgm@gnu.org>

	* info/dir: Add octave-mode.

2013-12-11  Paul Eggert  <eggert@cs.ucla.edu>

	Remove the option of using libcrypto.
	This scorches the earth and waits for spring;
	see Ted Zlatanov and Stefan Monnier in
	<https://lists.gnu.org/r/emacs-devel/2013-12/msg00323.html>.
	* configure.ac (with_openssl_default, HAVE_LIB_CRYPTO): Remove.
	Do not say whether Emacs is configured to use a crypto library,
	since it's no longer an option.
	(gl_CRYPTO_CHECK): Define a dummy.
	* lib/gl_openssl.h, m4/gl-openssl.m4: Remove.

2013-12-10  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac: Disable libcrypto by default.

	Merge from gnulib, incorporating:
	2013-12-07 md5, sha1, sha256, sha512: fix link error with partial lib
	* m4/gl-openssl.m4: Update from gnulib.

2013-12-08  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac (HAVE_RSVG) [mingw32]: Don't link against librsvg
	statically.

2013-12-08  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac: Simplify supression of GTK deprecation warning.
	Move -DGDK_DISABLE_DEPRECATION_WARNINGS out of the command line
	and into config.h, to shorten the command line when doing 'make'.
	Don't AC_SUBST GTK_CFLAGS, as this is not needed.

	Use libcrypto's checksum implementations if available, for speed.
	On commonly used platform libcrypto uses architecture-specific
	assembly code, which is significantly faster than the C code we
	were using.  See Pádraig Brady's note in
	<https://lists.gnu.org/r/bug-gnulib/2013-12/msg00000.html>.
	Merge from gnulib, incorporating:
	2013-12-07 md5, sha1, sha256, sha512: add gl_SET_CRYPTO_CHECK_DEFAULT
	2013-12-07 md5, sha1, sha256, sha512: add 'auto', and set-default method
	2013-12-04 include_next: minimize code duplication
	2013-12-03 md5, sha1, sha256, sha512: support mandating use of openssl
	2013-12-02 md5, sha1, sha256, sha512: use openssl routines if available
	* configure.ac (--without-all): Set with_openssl_default too.
	Use gl_SET_CRYPTO_CHECK_DEFAULT to default to 'auto'.
	(HAVE_LIB_CRYPTO): New var.
	Say whether Emacs is configured to use a crypto library.
	* lib/gl_openssl.h, m4/absolute-header.m4, m4/gl-openssl.m4:
	New files, copied from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.
	* lib/md5.c, lib/md5.h, lib/sha1.c, lib/sha1.h:
	* lib/sha256.c, lib/sha256.h, lib/sha512.c, lib/sha512.h:
	* m4/include_next.m4, m4/md5.m4, m4/sha1.m4, m4/sha256.m4, m4/sha512.m4:
	Update from gnulib.

2013-12-01  Dmitry Gutov  <dgutov@yandex.ru>

	* .dir-locals.el (log-edit-move): Add the "Author: " header.

2013-11-30  Dani Moncayo  <dmoncayo@gmail.com>

	* build-aux/msys-to-w32 (w32pathlist): Do not translate paths
	starting with %emacs_dir%.

2013-11-30  Glenn Morris  <rgm@gnu.org>

	Stop keeping (most) generated cedet grammar files in the repository.
	* configure.ac (SUBDIR_MAKEFILES, AC_CONFIG_FILES):
	Add admin/grammars Makefile.
	* Makefile.in (distclean, bootstrap-clean, maintainer-clean):
	Also clean admin/grammars, if present.

2013-11-29  Dani Moncayo  <dmoncayo@gmail.com>

	* Makefile.in (epaths-force-w32): Fix 2013-11-20 typo.

2013-11-29  Stefan Monnier  <monnier@iro.umontreal.ca>

	* configure.ac (HAVE_MENUS): Remove.

2013-11-28  Glenn Morris  <rgm@gnu.org>

	* configure.ac (PATH_SEP): Replace with pre-existing SEPCHAR.

2013-11-28  Eli Zaretskii  <eliz@gnu.org>

	* GNUmakefile (Makefile): Don't use $(CFG).
	(CFG): Don't compute.

	* configure.ac (PATH_SEP): Set and AC_SUBST.

2013-11-27  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-11-13 getgroups: work around _DARWIN_C_SOURCE problem
	* lib/getgroups.c: Update from gnulib.

2013-11-27  Glenn Morris  <rgm@gnu.org>

	Move ja-dic, quail, leim-list.el from leim to lisp/leim.
	* Makefile.in (abs_builddir, leimdir): Remove.
	(buildlisppath, SUBDIR, COPYDIR, COPYDESTS): No more leim directory.
	(epaths-force-w32): No longer set BLD.
	(leim): Remove.
	(install-arch-indep): No longer run or install leim.
	(mostlyclean, clean): No longer run leim rule.
	(bootstrap-clean): Change leim target.
	(maintainer-clean): Add leim.
	(check-declare): Remove leim.
	* README: Update for leim changes.
	* configure.ac (leimdir): Remove.
	(standardlisppath): No more leimdir.

	* make-dist: Update for files from leim/ now being in lisp/leim/.

2013-11-26  Glenn Morris  <rgm@gnu.org>

	Preload leim-list.el.
	* Makefile.in (abs_builddir): New, set by configure.
	(buildlisppath): Add leim/.
	(epaths-force-w32): Set BLD.

2013-11-21  Paul Eggert  <eggert@cs.ucla.edu>

	Fix some dependency problems that cause unnecessary recompiles.
	* configure.ac (OLDXMENU_TARGET, OLDXMENU, OLDXMENU_DEPS):
	Remove.
	(LIBXMENU): Now is always either empty or a file name,
	so that it can be used as a dependency.

2013-11-20  Glenn Morris  <rgm@gnu.org>

	* make-dist: Distribute build-aux/msys-to-w32.

2013-11-20  Dani Moncayo  <dmoncayo@gmail.com>

	* build-aux/msys-to-w32: New file.
	* Makefile.in (msys_to_w32, msys_lisppath_to_w32): Remove.
	(msys_w32prefix_subst): Rename from msys_prefix_subst.
	Operate on w32prefixpattern.
	(epaths-force-w32): Use build-aux/msys-to-w32.

2013-11-17  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (DEBUGGER_SEES_C_MACROS): Remove.
	It apparently doesn't work for GCC 3, and I suppose it's more
	trouble than it's worth to worry about this.

2013-11-15  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (DEBUGGER_SEES_C_MACROS): New macro.

2013-11-14  Paul Eggert  <eggert@cs.ucla.edu>

	Simplify, port and tune bool vector implementation.
	* configure.ac (BITSIZEOF_SIZE_T, SIZEOF_SIZE_T): Remove.

2013-11-13  Paul Eggert  <eggert@cs.ucla.edu>

	* Makefile.in (ACLOCAL_INPUTS): Add configure.ac.

2013-11-12  Dani Moncayo  <dmoncayo@gmail.com>

	* configure.ac [MINGW32]: Source nt/mingw-cfg.site.
	* make-dist: Don't distribute nt/msysconfig.sh.

	* Makefile.in (epaths-force-w32): Simplify w32srcdir computation.

2013-11-08  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-11-08 extern-inline: port better to OS X 10.9
	2013-11-08 fpending: fix regression on DragonFly BSD
	* lib/fpending.h, m4/extern-inline.m4, m4/fpending.m4:
	Update from gnulib.

2013-11-07  Paul Eggert  <eggert@cs.ucla.edu>

	Port to C11 aligned_alloc.
	* configure.ac (GMALLOC_OBJ): Initialize to empty if !system_malloc
	and doug_lea_malloc.
	(aligned_alloc): Test for existence if !GMALLOC_OBJ and not darwin.
	(posix_memalign): Test for existence only if !GMALLOC_OBJ and
	not darwin and !aligned_alloc.

2013-11-05  Glenn Morris  <rgm@gnu.org>

	* configure.ac (abs_srcdir) [MINGW32]: No point setting it here,
	config.status computes it.
	* Makefile.in (epaths-force-w32): Move srcdir tweak here.

	* autogen/: Remove directory.  Move update_autogen to admin/.
	* autogen.sh: Remove reference to copy_autogen.
	* GNUmakefile (configure):
	* Makefile.in (bootstrap): Do not try to run copy_autogen.
	* config.bat: Use msdos/autogen rather than autogen.

2013-11-05  Paul Eggert  <eggert@cs.ucla.edu>

	Simplify and port recent bool vector changes.
	* configure.ac (BITSIZEOF_SIZE_T, SIZEOF_SIZE_T):
	New symbols to configure.

2013-11-04  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac: Don't disallow builds in non-ASCII directories.
	(Bug#15260)

2013-11-04  Paul Eggert  <eggert@cs.ucla.edu>

	Port to stricter C99 platforms.
	Merge from gnulib, incorporating:
	2013-11-03 intprops: port to Oracle Studio c99
	* lib/intprops.h: Update from gnulib.

2013-11-02  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (check): Depend on all.

2013-10-31  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Use [!...] rather than [^...], for ksh.  (Bug#15769)

2013-10-30  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (distclean, bootstrap-clean, maintainer-clean):
	Also clean admin/unidata, if present.

2013-10-27  Glenn Morris  <rgm@gnu.org>

	* configure.ac: It seems installing in non-ASCII is not, in fact, ok.

2013-10-25  Glenn Morris  <rgm@gnu.org>

	* configure.ac: It seems _installing_ in non-ASCII is ok, not building.

2013-10-24  Glenn Morris  <rgm@gnu.org>

	* configure.ac:
	* Makefile.in (install-arch-indep, install-etcdoc, install-info):
	Avoid non-portable "`\" nesting.

	* configure.ac (CPPFLAGS) [mingw32]: Use abs_top_srcdir.

	* Makefile.in (abs_top_srcdir): New, set by configure.

2013-10-23  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Explicit error for non-ASCII directories.  (Bug#15260)

	Progress towards allowing installation in directories with whitespace.
	* Makefile.in (COPYDESTS, write_subdir, install-arch-dep)
	(install-arch-indep, install-etcdoc, install-info, install-man)
	(install-etc, uninstall, install-nt, uninstall-nt):
	Quote entities that might contain whitespace.
	* build-aux/update-subdirs: Handle whitespace in argument.
	Check cd return value.

	Make building in directories with whitespace possible.  (Bug#15675)
	* configure.ac (srcdir): Don't make it absolute - abs_srcdir exists.
	(src/.gdbinit): Use ac_abs_top_srcdir.
	* Makefile.in (abs_srcdir): New, set by configure.
	(buildlisppath, epaths-force-w32): Use abs_srcdir.
	(install-arch-indep, install-etcdoc, install-info, install-man)
	(install-etc): Quote entities that might contain whitespace.

2013-10-23  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-10-14 acl: allow cross-compilation to Gentoo
	2013-10-18 extern-inline: make safe for -Wundef usage
	2013-09-30 fpending: use pure+const function attrs
	* lib/fpending.h, m4/acl.m4, m4/extern-inline.m4: Update from gnulib.

2013-10-13  Glenn Morris  <rgm@gnu.org>

	* configure.ac [alpha]: Explicit error in non-ELF case.  (Bug#15601)

2013-10-12  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-10-10 strtoumax: port to Solaris 8
	2013-10-09 strtoimax, strtoumax: port to HP-UX 11.11
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.
	* lib/inttypes.in.h, lib/strtoimax.c, m4/inttypes.m4, m4/strtoimax.m4:
	* m4/strtoumax.m4:
	Update from gnulib.

2013-10-11  Stefan Monnier  <monnier@iro.umontreal.ca>

	* configure.ac (LIBGNUTLS): Don't set LIBGNUTLS_* back to the empty
	string when gnutls2 is installed but gnutls3 is not.

2013-10-11  Teodor Zlatanov  <tzz@lifelogs.com>

	* configure.ac: Define HAVE_GNUTLS3 if GnuTLS v3 is found.

2013-10-10  Barry Fishman  <barry_fishman@acm.org>  (tiny change)

	* configure.ac: Update for giflib 5.  (Bug#15531)

2013-10-08  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac (HAVE_MENUS): Define unconditionally.

2013-10-07  Paul Eggert  <eggert@cs.ucla.edu>

	Improve support for popcount and counting trailing zeros (Bug#15550).
	Do this by using the Gnulib modules for this.
	This should generate faster code on non-GCC, non-MSC platforms,
	and make the code a bit more portable, at least in theory.
	* lib/count-one-bits.c, lib/count-one-bits.h:
	* lib/count-trailing-zeros.c, lib/count-trailing-zeros.h:
	* m4/count-one-bits.m4, m4/count-trailing-zeros.m4:
	New files, copied from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2013-10-04  Paul Eggert  <eggert@cs.ucla.edu>

	Use hardware support for byteswapping on glibc x86 etc.
	* lib/byteswap.in.h, m4/byteswap.m4: New files, copied from Gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2013-10-03  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-10-02 verify: new macro 'assume'
	2013-09-26 dup2, dup3: work around another cygwin crasher
	2013-09-26 getdtablesize: work around cygwin issue

2013-09-25  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-09-24 manywarnings: enable nicer gcc warning messages
	2013-09-23 warnings: port --enable-gcc-warnings to Solaris Studio 12.3
	2013-09-21 timespec: use the new TIMESPEC_RESOLUTION elsewhere
	* configure.ac (WERROR_CFLAGS): Omit -fdiagnostics-show-option
	and -funit-at-a-time, since manywarnings does that for us now.

2013-09-23  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: With clang, check for and use -Wno-switch,
	-Wno-tautological-constant-out-of-range-compare and -Wno-pointer-sign.

2013-09-23  Daniel Colascione  <dancol@dancol.org>

	* configure.ac: Check for valgrind headers.

2013-09-20  Xue Fuqiao  <xfq.free@gmail.com>

	* INSTALL: New homepage of libtiff.

2013-09-20  Paul Eggert  <eggert@cs.ucla.edu>

	Work around performance bug on OS X 10.8 and earlier.
	Perhaps Apple will fix this bug some day.
	See the thread starting with Daniel Colascione's email in:
	https://lists.gnu.org/r/emacs-devel/2013-09/msg00343.html
	* configure.ac (FORTIFY_SOUR): New verbatim section.

2013-09-19  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-09-19 stdio: OS X port of putc_unlocked + extern inline
	2013-09-19 signal: OS X port of sigaddset etc. + extern inline
	2013-09-19 extern-inline: do not always suppress extern inline on OS X
	2013-09-17 getgroups: statement without effect
	2013-08-28 headers: check that _GL_INLINE_HEADER_BEGIN is defined

2013-09-19  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac <srcdir> [MINGW32]: Make sure the value of 'srcdir'
	is in the full /d/foo/bar form.  See the discussion in
	https://lists.gnu.org/r/emacs-devel/2013-09/msg00210.html,
	and in particular
	https://lists.gnu.org/r/emacs-devel/2013-09/msg00252.html
	and its followups, for the details.

2013-09-17  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.ac: Do not check for g_type_init because we
	require glib >= 2.28 for GTK3, glib >= 2.10 for GTK2,
	glib >= 2.26 for GSettings and glib >= 2.7.0 for GConf, so
	suitable glib should provide g_type_init unconditionally.

2013-09-15  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Add check for OSX 10.5, required for macfont.o.

2013-09-09  Glenn Morris  <rgm@gnu.org>

	* configure.ac (LDFLAGS_NOCOMBRELOC): New variable.
	(LDFLAGS): Move nocombreloc option from here...
	(LD_SWITCH_SYSTEM_TEMACS): ... to here.

2013-09-08  Glenn Morris  <rgm@gnu.org>

	* configure.ac (--without-compress-install):
	Rename from --without-compress-info.  (Bug#9789)
	(GZIP_INFO): Remove.
	(GZIP_PROG): Allow --without-compress-install to disable it.
	* Makefile.in (GZIP_INFO): Remove all references.

	* info/dir: Tweak emacs-gnutls entry.

2013-09-07  Paul Eggert  <eggert@cs.ucla.edu>

	Port --without-x --enable-gcc-warnings to Fedora 19.
	* configure.ac (WERROR_CFLAGS): Omit redundant use of
	-Wmissing-field-initializers, -Wswitch, -Wtype-limits,
	-Wunused-parameter.  If there is no window system, also omit
	-Wsuggest-attribute=const and -Wsuggest-attribute=noreturn; this
	is needed for Fedora 19.

2013-09-05  Dmitry Antipov  <dmantipov@yandex.ru>

	Make --without-x compatible with --enable-gcc-warnings.
	* configure.ac: If both --without-x and --enable-gcc-warnings are
	specified, use -Wno-unused-variable, -Wno-unused-but-set-variable
	and -Wno-unused-but-set-parameter.

2013-09-04  Paul Eggert  <eggert@cs.ucla.edu>

	Makefile improvements.
	* Makefile.in (lib): Depend on am--refresh, to avoid a race.
	(src): Remove duplicate dependency on FRC.
	Invoke just one submake, not two.  Avoid the need for 'pwd'.

2013-09-02  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Add ns_check_file.

2013-08-31  Glenn Morris  <rgm@gnu.org>

	* configure.ac (--with-sound): Rename ossaudio to bsd-ossaudio,
	and voxware to oss.

2013-08-31  Ulrich Müller  <ulm@gentoo.org>

	* configure.ac: Allow for --with-sound=voxware that will enable
	sound but otherwise disable ALSA.  This will use the OSS device,
	typically /dev/dsp, for sound output.  (Bug#15067)

2013-08-31  Glenn Morris  <rgm@gnu.org>

	* make-dist: Update for nt/INSTALL* changes.

2013-08-28  Paul Eggert  <eggert@cs.ucla.edu>

	* Makefile.in (SHELL): Now @SHELL@, not /bin/sh,
	for portability to hosts where /bin/sh has problems.

2013-08-28  Stefan Monnier  <monnier@iro.umontreal.ca>

	* configure.ac (DOCMISC_W32): New var to replace DOCMISC_*_W32.

2013-08-27  Paul Eggert  <eggert@cs.ucla.edu>

	Simplify EMACS_TIME-related code.
	Merge from gnulib, incorporating:
	2013-08-27 timespec: new convenience constants and function

2013-08-27  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.ac (DOCMISC_DVI_W32, DOCMISC_HTML_W32, DOCMISC_INFO_W32)
	(DOCMISC_PDF_W32, DOCMISC_PS_W32): No spaces!

2013-08-27  Glenn Morris  <rgm@gnu.org>

	* configure.ac (emacs_broken_SIGIO): No longer set on gnu-kfreebsd.

	* configure.ac (DOCMISC_DVI_W32, DOCMISC_HTML_W32, DOCMISC_INFO_W32)
	(DOCMISC_PDF_W32, DOCMISC_PS_W32): New output variables.
	* Makefile.in (check-info-dir): Ignore efaq-w32.

	* Makefile.in (mostlyclean, clean, distclean, bootstrap-clean)
	(maintainer-clean, check-declare): Remove pointless subshells.
	Check cd return value.

2013-08-26  Paul Eggert  <eggert@cs.ucla.edu>

	Minor merge from gnulib (mostly just for texinfo.tex).

2013-08-22  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (EMACS_CONFIG_OPTIONS): Quote systematically (Bug#13274).
	This improves on the patch already installed, by quoting options
	that contain spaces and suchlike systematically, so that
	EMACS_CONFIG_OPTIONS is no longer ambiguous when options contain
	these characters.

2013-08-21  Paul Eggert  <eggert@cs.ucla.edu>

	Port close-on-exec pty creation to FreeBSD 9.1-RELEASE (Bug#15129).
	* configure.ac (PTY_OPEN): If posix_openpt with O_CLOEXEC fails
	and reports EINVAL, try it again without O_CLOEXEC.  This should
	port PTY_OPEN to FreeBSD 9, which stupidly rejects O_CLOEXEC.
	What were they thinking?

2013-08-20  Paul Eggert  <eggert@cs.ucla.edu>

	* Makefile.in (distclean, bootstrap-clean, maintainer-clean):
	Fix shell-operator precedence problem in previous change.

2013-08-20  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (distclean, bootstrap-clean, maintainer-clean):
	Clean test/automated if present.

2013-08-19  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-08-15 warnings: minor optimization
	2013-08-15 warnings: check -Wfoo rather than -Wno-foo

2013-08-15  Ken Brown  <kbrown@cornell.edu>

	* configure.ac (G_SLICE_ALWAYS_MALLOC): Update comment.

2013-08-15  Glenn Morris  <rgm@gnu.org>

	* make-dist: Do not distribute etc/refcards TeX intermediate files.
	* Makefile.in (install-arch-indep):
	Do not install etc/refcards TeX intermediate files.

2013-08-14  Ulrich Müller  <ulm@gentoo.org>

	* configure.ac (EMACS_CONFIGURATION): Escape backslashes.  (Bug#15091)

2013-08-12  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac (HAVE_ZLIB): Don't use -lz on MinGW.

2013-08-12  Paul Eggert  <eggert@cs.ucla.edu>

	Minor zlib configuration tweaks.
	* configure.ac (HAVE_ZLIB): Don't assume zlib is linked if PNG is.

2013-08-12  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac (LIBZ): Comment on w32 peculiarities regarding LIBZ.

2013-08-12  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-08-11 fpending: port to recent Cygwin change to stdio_ext.h
	2013-08-10 sys_time: port to OpenBSD

2013-08-12  Glenn Morris  <rgm@gnu.org>

	* configure.ac (etcdocdir): Rename from docdir, to avoid confusion
	with configure's standard --docdir argument.  All uses updated.
	* Makefile.in (etcdocdir): Rename from docdir.  All uses updated.
	(install-etcdoc): Rename from install-doc.  All uses updated.
	(uninstall): Run uninstall-doc.
	(PSS): Add misc-ps.
	(INSTALL_DVI, INSTALL_HTML, INSTALL_PDF, INSTALL_PS)
	(INSTALL_DOC, UNINSTALL_DVI, UNINSTALL_HTML, UNINSTALL_PDF)
	(UNINSTALL_PS, UNINSTALL_DOC): New variables.
	($(INSTALL_DOC), install-doc, install-dvi, install-html, install-pdf)
	(install-ps, $(UNINSTALL_DOC), uninstall-doc, uninstall-dvi)
	(uninstall-html, uninstall-pdf, uninstall-ps): New .PHONY rules.

2013-08-11  Paul Eggert  <eggert@cs.ucla.edu>

	Add --with-zlib to 'configure'.
	* configure.ac: Add --with-zlib option to 'configure', so that Emacs
	can be built without zlib.  Don't assume that -lz is needed on
	non-PNG hosts.  Mention zlib configuration status in 'configure' output.

2013-08-11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* configure.ac: Test for zlib.

2013-08-10  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac: Define and substitute UPDATE_MANIFEST.

2013-08-04  Stephen Berman  <stephen.berman@gmx.net>

	* info/dir: Add todo-mode.

2013-08-04  Paul Eggert  <eggert@cs.ucla.edu>

	Fix some minor races in hosts lacking mkostemp (Bug#15015).
	Gnulib's emulation of mkostemp doesn't have races that Emacs's does.
	* configure.ac (mkostemp): Remove check for this function;
	gnulib does the check now.
	(mkstemp): Remove check for this no-longer-used function.
	* lib/mkostemp.c, lib/secure_getenv.c, lib/tempname.c, lib/tempname.h:
	* m4/mkostemp.m4, m4/secure_getenv.m4, m4/tempname.m4:
	New files, copied from Gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2013-07-29  Michael Albinus  <michael.albinus@gmx.de>

	* INSTALL (DETAILED BUILDING AND INSTALLATION):
	Add --without-file-notification to --without-all.

2013-07-29  Xue Fuqiao  <xfq.free@gmail.com>

	* INSTALL: Fix description.

2013-07-27  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Extend the --with-sound option to allow
	specification of OSS or ALSA (see bug#14812#64).

2013-07-25  Glenn Morris  <rgm@gnu.org>

	* info/dir: Add ido.

	* make-dist: Add a --tests option, to include test/.

2013-07-24  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Use self-descriptive tags for AC_CONFIG_COMMANDS.

2013-07-23  Glenn Morris  <rgm@gnu.org>

	* configure.ac (etc, lisp): No need to create specially.
	Configure already creates lisp, src/Makefile now creates etc.

2013-07-23  Paul Eggert  <eggert@cs.ucla.edu>

	Port to GNU/Linux systems with tinfo but not ncurses.
	* configure.ac (USE_NCURSES): New symbol.

2013-07-20  Paul Eggert  <eggert@cs.ucla.edu>

	Fix array bounds violation when pty allocation fails.
	* configure.ac (PTY_TTY_NAME_SPRINTF): Use PTY_NAME_SIZE,
	not sizeof pty_name, since pty_name is now a pointer to the array.

2013-07-13  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac: Simplify --with-file-notification handling.

2013-07-12  Glenn Morris  <rgm@gnu.org>

	* configure.ac: If with-file-notification=yes, if gfile not found,
	go on to try inotify (not on MS Windows or Nextstep).

2013-07-12  Paul Eggert  <eggert@cs.ucla.edu>

	Fix races with threads and file descriptors.
	* configure.ac (PTY_TTY_NAME_SPRINTF): Use emacs_close, not close.

2013-07-10  Paul Eggert  <eggert@cs.ucla.edu>

	* Makefile.in (removenullpaths): Remove adjacent null paths (Bug#14835).

2013-07-09  Peter Rosin  <peda@lysator.liu.se>  (tiny change>

	* configure.ac (HAVE_W32): Avoid nested functions (the second
	argument of AC_LANG_PROGRAM is already expanded inside a
	function).  (Bug#14830)

2013-07-09  Paul Eggert  <eggert@cs.ucla.edu>

	Port recent close-on-exec changes to Cygwin (Bug#14821).
	* lib/binary-io.c, lib/binary-io.h: New files.
	Merge from gnulib, incorporating:
	2013-07-09 accept4, dup3, pipe2: port to Cygwin
	* lib/pipe2.c: Update from gnulib, as part of this merge.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

	Handle errno and exit status a bit more carefully.
	* lib/ignore-value.h: Remove this gnulib-imported file.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2013-07-08  Magnus Henoch  <magnus.henoch@gmail.com>  (tiny change)

	* configure.ac (HAVE_IMAGEMAGICK): Check on NS also (Bug#14798).

2013-07-08  Paul Eggert  <eggert@cs.ucla.edu>

	Try to fix FreeBSD 9.1 porting problem (Bug#14812).
	This incorporates the following merge from gnulib:
	2013-07-07 stdalign, verify: port to FreeBSD 9.1, to C11, and to C++11

2013-07-07  Paul Eggert  <eggert@cs.ucla.edu>

	Port to Ubuntu 10 (Bug#14803).
	* configure.ac (accept4): New function to check for.

	Make file descriptors close-on-exec when possible (Bug#14803).
	* configure.ac (mkostemp): New function to check for.
	(PTY_OPEN): Pass O_CLOEXEC to posix_openpt.
	* lib/fcntl.c, lib/getdtablesize.c, lib/pipe2.c, m4/fcntl.m4:
	* m4/getdtablesize.m4, m4/pipe2.m4: New files, taken from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2013-07-03  Christoph Egger  <christoph@debian.org>  (tiny change)

	* configure.ac (emacs_broken_SIGIO): Set on gnu-kfreebsd to avoid hang.
	http://bugs.debian.org/712974

2013-07-02  Paul Eggert  <eggert@cs.ucla.edu>

	Remove some unused macros from 'configure'.
	* configure.ac (HAVE_SOUNDCARD_H, HAVE_LINUX_VERSION_H, HAVE_SPEED_T)
	(HAVE_GNUTLS_CALLBACK_CERTIFICATE_VERIFY)
	(HAVE_GNUTLS_CERTIFICATE_SET_VERIFY_FUNCTION, HAVE_UTIMES)
	(HAVE_LIBHESIOD, HAVE_LIBRESOLV, HAVE_LIBCOM_ERR, HAVE_LIBCRYPTO)
	(HAVE_LIBK5CRYPTO, HAVE_LIBKRB5, HAVE_LIBDES425, HAVE_LIBDES)
	(HAVE_LIBKRB4, HAVE_LIBKRB, HAVE_DES_H, HAVE_KERBEROSIV_DES_H)
	(HAVE_DEV_PTMX, DEVICE_SEP, USG5):
	Remove these macros, as they are not used.
	(sys_siglist): Remove macro; src/sysdep.c now does this.

	* configure.ac (GTK_COMPILES): Check API a bit more carefully.
	Also check that it links.  Say whether it compiled and linked.

2013-07-01  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-06-23 ignore-value: port to gcc -pedantic
	2013-06-21 extern-inline: port to gcc -std=c89

2013-06-30  Paul Eggert  <eggert@cs.ucla.edu>

	Do not use GTK 3 if it exists but cannot be compiled.
	* configure.ac: Leave GTK_OBJ and term_header alone if GTK 3
	exists but cannot be compiled.

2013-06-27  Juanma Barranquero  <lekktu@gmail.com>

	* Makefile.in (install-arch-indep): Do not create directories passed
	with --enable-locallisppath.

2013-06-24  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Include X11/X.h when testing for Xft.h.  (Bug#14684)

2013-06-22  Juanma Barranquero  <lekktu@gmail.com>

	* .bzrignore: Add GNU idutils ID database file.

2013-06-21  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>

	* configure.ac (HAVE_LIBXML2): Try built-in libxml2 on OS X 10.8
	as a fallback.

2013-06-20  Stefan Monnier  <monnier@iro.umontreal.ca>

	* .bzrignore: Don't unignore cl-loaddefs.el.

2013-06-20  Rüdiger Sonderfeld  <ruediger@c-plusplus.de>

	* configure.ac (log2): Check for this function.

2013-06-19  Juanma Barranquero  <lekktu@gmail.com>

	* .bzrignore: Add GNU GLOBAL files.

2013-06-17  Paul Eggert  <eggert@cs.ucla.edu>

	Use functions, not macros, for XINT etc.  (Bug#11935).
	* configure.ac (WARN_CFLAGS): Remove -Wbad-function-cast,
	as it generates bogus warnings about reasonable casts of calls.

2013-06-16  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac: Report ACL usage at the end (Bug#14612).

2013-06-11  Paul Eggert  <eggert@cs.ucla.edu>

	--without-all should imply --with-file-notification=no.  (Bug#14569)
	* configure.ac (with_file_notification): Default to $with_features.

2013-06-09  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-06-02 sig2str: port to C++
	2013-05-29 c-ctype, regex, verify: port to gcc -std=c90 -pedantic

2013-06-08  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac (HAVE_GLIB): Only set XGSELOBJ if HAVE_NS = no.
	(with_file_notification): Don't set to gfile if with_ns = yes.

2013-06-07  Richard Copley  <rcopley@gmail.com>  (tiny change)

	* Makefile.in (msys_to_w32): Modify to support d:\foo file names.
	(msys_lisppath_to_w32, msys_prefix_subst, msys_sed_sh_escape):
	New variables.
	(epaths-force-w32): Use them.  (Bug#14513)

2013-06-03  Michael Albinus  <michael.albinus@gmx.de>

	* configure.ac (HAVE_GFILENOTIFY): Check for gio >= 2.24.

2013-06-03  Eli Zaretskii  <eliz@gnu.org>

	* configure.ac (HAVE_GFILENOTIFY): Do not change $LIBS.
	(GFILENOTIFY_CFLAGS, GFILENOTIFY_LIBS): Substitute.

2013-06-03  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac (HAVE_GLIB): Add GLib check.  Set XGSELOBJ if GLib is
	used.  Remove xgselect.o from XOBJ.

2013-06-03  Michael Albinus  <michael.albinus@gmx.de>

	* configure.ac (file-notification): New option, replaces inotify option.
	(HAVE_W32): Remove w32notify.o.
	(with_file_notification): Add checks for glib and w32.  Adapt check
	for inotify.
	(Summary): Add entry for file notification.

	* autogen/config.in: Add entries for HAVE_GFILENOTIFY,
	HAVE_W32NOTIFY and USE_FILE_NOTIFY.

2013-06-02  Juanma Barranquero  <lekktu@gmail.com>

	* .bzrignore: Ignore dirs libexec/, share/ and var/.

2013-05-29  Xue Fuqiao  <xfq.free@gmail.com>

	* INSTALL: Fix description.

2013-05-27  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>

	* configure.ac (HAVE_XRANDR): Check availability of
	XRRGetScreenResources rather than that of XRRQueryExtension.

2013-05-18  Eli Zaretskii  <eliz@gnu.org>

	* make-dist (files): Add nt/msysconfig.sh, nt/mingw-cfg.site,
	nt/epaths.nt, and nt/INSTALL.MSYS.

2013-05-18  Paul Eggert  <eggert@cs.ucla.edu>

	Port --enable-gcc-warnings to clang.
	* configure.ac (nw): Remove obsolescent warnings.
	These aren't needed for clang, or for gcc for that matter.
	(emacs_cv_clang): New var, which tests for clang.
	Omit warnings that clang is too picky about.
	(GLIB_DISABLE_DEPRECATION_WARNINGS): Define this;
	needed for Ubuntu 13.04 + clang + --enable-gcc-warnings.

	* make-dist (files): Add nt/Makefile.in, nt/gnulib.mk.
	Otherwise, 'configure; make' fails on non-Windows builds.

2013-05-16  Eli Zaretskii  <eliz@gnu.org>

	* lib/Makefile.am: If building for MS-Windows, include
	nt/gnulib.mk instead of lib/gnulib.mk.

	* configure.ac: Adapt to MSYS build on MS-Windows.

	* Makefile.in (NTDIR): New variable, for the MSYS build on
	MS-Windows.
	(SUBDIR): Add $(NTDIR).
	(.PHONY): Add epaths-force-w32.
	(msys_to_w32): New variable.
	(epaths-force-w32, install-nt, uninstall-nt): New targets.
	(lib-src src): Add $(NTLIB) to prerequisites.
	(lib lib-src lisp leim nt): Add 'nt'.
	(config.status): Use $(CFG).
	(.PHONY): Add install-$(NTDIR) and uninstall-$(NTDIR).
	(install, install-arch-dep): Add install-$(NTDIR).
	(uninstall): Depend on uninstall-$(NTDIR).
	(mostlyclean, clean, distclean, bootstrap-clean): Add 'nt'.

	* GNUmakefile (CFG): New variable, uses mingw-cfg.site as
	CONFIG_SITE for the MSYS build on MS-Windows.
	(Makefile): Use $(CFG).

	* .bzrignore: Ignore *.res, *.tmp, and *.map.
	Remove src/emacs.res.

2013-05-16  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-05-15 manywarnings: update for GCC 4.8.0
	2013-05-15 stdio: use __REDIRECT for fwrite, fwrite_unlocked
	2013-05-15 sig2str, stdio, warnings: port to clang

2013-05-15  Stefan Monnier  <monnier@iro.umontreal.ca>

	* Makefile.in (install-doc): DOC file is not version specific any more.
	* .bzrignore: Don't ignore DOC-* any more.

2013-05-13  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (LD_SWITCH_SYSTEM_TEMACS): OpenBSD needs -nopie.
	Reported privately by Han Boetes <han@boetes.org>.

2013-05-08  Juanma Barranquero  <lekktu@gmail.com>

	* lib/makefile.w32-in (ACL_H): New macro.
	($(BLD)/acl-errno-valid.$(O)): Update dependencies.

2013-05-07  Paul Eggert  <eggert@cs.ucla.edu>

	Use Gnulib ACL implementation, for benefit of Solaris etc.  (Bug#14295)
	* configure.ac: Remove -with-acl option, since Gnulib does that for
	us now.
	(LIBACL_LIBS): Remove; no longer needed.
	* lib/Makefile.am (CLEANFILES, SUFFIXES): New (empty) macros,
	for the benefit of the new ACL implementation.
	* lib/makefile.w32-in (GNULIBOBJS): Add $(BLD)/acl-errno-valid.$(O).
	($(BLD)/acl-errno-valid.$(O)): New rule.
	* lib/acl-errno-valid.c, lib/acl-internal.h, lib/acl.h:
	* lib/acl_entries.c, lib/errno.in.h, lib/file-has-acl.c:
	* lib/qcopy-acl.c, lib/qset-acl.c, m4/acl.m4, m4/errno_h.m4:
	New files, taken from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2013-05-07  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac (HAVE_XRANDR, HAVE_XINERAMA): Define if available.
	(XRANDR_LIBS, XINERAMA_LIBS): New AC_SUBSTs.

2013-05-06  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-04-30 utimens, utimensat: work around Solaris UTIME_OMIT bug

2013-05-01  Paul Eggert  <eggert@cs.ucla.edu>

	* make-dist: Keep necessary restrictions on file access.

2013-04-29  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-04-28 extern-inline: work around bug in Sun c99

2013-04-27  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-04-27 alignof, intprops, malloca: port better to IBM's C compiler

2013-04-26  Paul Eggert  <eggert@cs.ucla.edu>

	Port better to AIX (Bug#14258).
	* configure.ac (CFLAGS): Append -O if the user did not specify CFLAGS,
	we did not already infer an optimization option, and -O works.
	AIX xlc needs -O, otherwise garbage collection doesn't work.

2013-04-22  Paul Eggert  <eggert@cs.ucla.edu>

	* make-dist: Do not distribute admin/unidata/Makefile.
	It is generated by 'configure'.

	* build-aux/update-subdirs: Don't leave subdirs.el~ behind.
	It messes up 'make distclean', and contains no useful information
	because it's a copy of subdirs.el.

2013-04-18  John Marino  <gnugcc@marino.st>  (tiny change)

	* configure.ac: Add DragonFly BSD, mostly same as FreeBSD.  (Bug#14068)

2013-04-18  Glenn Morris  <rgm@gnu.org>

	* configure.ac (AC_PROG_LN_S): Remove, too restrictive.
	(LN_S_FILEONLY): New output variable.
	* Makefile.in (LN_S): Remove.
	(LN_S_FILEONLY): New, set by configure.
	(install-arch-dep): Use LN_S_FILEONLY rather than LN_S.

2013-04-12  Ken Brown  <kbrown@cornell.edu>

	* configure.ac (canonical): Adapt to 64-bit Cygwin, for which
	`canonical' is `x86_64-unknown-cygwin'.

2013-04-09  Ken Brown  <kbrown@cornell.edu>

	* configure.ac (W32_RES_LINK): Remove unneeded linker directive
	`-Wl,-bpe-i386', which is confusing in the 64-bit case.
	(Bug#12993)

2013-04-07  Paul Eggert  <eggert@cs.ucla.edu>

	Fix --enable-profiling bug introduced by 2013-02-25 change (Bug#13783).
	* configure.ac (LD_SWITCH_SYSTEM_TEMACS): Append -pg if profiling
	and if not on GNU/Linux or FreeBSD.
	* lib/Makefile.am (AM_CFLAGS): Add $(PROFILING_CFLAGS), so that
	lib/*.o is profiled too.

2013-03-30  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-03-29 stdalign: port to stricter ISO C11
	This helps to run 'configure' on MS-Windows; see Eli Zaretskii in
	<https://lists.gnu.org/r/emacs-devel/2013-03/msg00999.html>.

2013-03-27  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (HAVE_XKBGETKEYBOARD): Remove.
	Subsumed by HAVE_XKB.  All uses changed.

2013-03-25  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac (HAVE_XKB): Define if Xkb is present.

2013-03-24  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-03-21 sys_select, sys_time: port 2013-01-30 fix to Cygwin

2013-03-18  Paul Eggert  <eggert@cs.ucla.edu>

	Fix bug when building Emacs with a GNU Make submake (Bug#13962).
	* Makefile.in (QUIET_SUBMAKE): New macro.
	(install-info, uninstall): Use it.

	Emacs crashes with ImageMagick 6.8.2-3 through 6.8.3-9 (Bug#13867).
	* configure.ac (IMAGEMAGICK_MODULE): Reject 6.8.2.
	We want to reject 6.8.2-3 through 6.8.3-9, but there seems to be
	no way to do this in pkg-config, so make do with a reasonable
	approximation.

	Automate the build of ja-dic.el (Bug#13984).
	* .bzrignore: Add leim/ja-dic/.

2013-03-13  Paul Eggert  <eggert@cs.ucla.edu>

	File synchronization fixes (Bug#13944).
	* configure.ac (BSD_SYSTEM, BSD_SYSTEM_AHB): Remove; no longer needed.
	(fsync): Remove check; now done by gnulib.
	* lib/fdatasync.c, lib/fsync.c, m4/fdatasync.m4, m4/fsync.m4:
	New files, from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

	Merge from gnulib, incorporating:
	2013-03-13 putenv: port to Solaris 10
	2013-03-12 mktime: fix configure typo
	2013-03-11 regex: port to mingw's recent addition of undeclared alarm
	2013-03-11 putenv: avoid compilation warning on mingw
	2013-03-11 unistd: don't prevent Tru64 Unix from using gnulib strtod.

2013-03-11  Glenn Morris  <rgm@gnu.org>

	* Merge in all changes up to version 24.3 release.

2013-03-06  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (TERM_HEADER): Remove duplicate definition (Bug#13872).
	It can mess up 'configure' runs.

2013-03-05  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-man): Ignore gzip exit status.

2013-03-03  Glenn Morris  <rgm@gnu.org>

	* make-dist: Remove lzma (it's replaced by xz).

2013-03-01  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-02-21 putenv: port better to native Windows
	2013-02-18 extern-inline: avoid compilation error with HP-UX cc
	2013-02-14 putenv: fix heap corruption with mixed putenv/_putenv

2013-02-28  Ken Brown  <kbrown@cornell.edu>

	* configure.ac (HAVE_DATA_START): Fix test.  (Bug#13818)

2013-02-25  Paul Eggert  <eggert@cs.ucla.edu>

	Simplify data_start configuration (Bug#13783).
	* configure.ac (CRT_DIR, LIB_STANDARD, START_FILES, DATA_START)
	(LD_FIRSTFLAG, ORDINARY_LINK, LIB_GCC): Remove.
	(AC_CHECK_HEADERS_ONCE): Remove sys/resource.h, as it's
	not always needed.
	(HAVE_DATA_START): New macro.

2013-02-21  Paul Eggert  <eggert@cs.ucla.edu>

	Parallelize documentation builds.
	This speeds up building of documentation on multiprocessor
	platforms, and is motivated by Texinfo 5.0, which is much slower.
	Add a toplevel rule 'make docs' to make all the documentation.
	* .bzrignore: Add .dvi, .html, .ps.
	* Makefile.in (DVIS, HTMLS, INFOS, PSS, DOCS): New macros.
	($(DOCS), docs, vi, html, pdf, ps): New rules.
	(info-real): Depend on $(INFOS) rather than doing it sequentially.
	(dvi): Depend on $(DVIS) rather than doing it sequentially.

2013-02-15  Paul Eggert  <eggert@cs.ucla.edu>

	Fix AIX port (Bug#13650).
	* configure.ac (DATA_START, DATA_SEG_BITS): Set to 0x20000000 on AIX.

2013-02-12  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in (GNULIBOBJS): Add $(BLD)/memrchr.$(O).
	($(BLD)/memrchr.$(O)): New dependency.

2013-02-11  Paul Eggert  <eggert@cs.ucla.edu>

	Tune by using memchr and memrchr.
	* .bzrignore: Add string.h.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.
	* lib/memrchr.c, lib/string.in.h, m4/memrchr.m4, m4/string_h.m4:
	New files, from gnulib.

	Merge from gnulib, incorporating:
	2013-02-11 unsetenv etc.: port to Solaris 11 + GNU Emacs
	2013-02-09 secure_getenv: fix C++ declaration typo

2013-02-11  Glenn Morris  <rgm@gnu.org>

	* configure.ac (emacs_config_options): Record some env vars.

2013-02-10  Glenn Morris  <rgm@gnu.org>

	* configure.ac (emacs_config_options): Strip out the (internal)
	arguments --no-create and --no-recursion.

2013-02-08  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-02-08 careadlinkat: stop exporting careadlinkatcwd
	The MS-Windows port can remove careadlinkatcwd at its convenience.
	2013-02-08 extensions: port better to HP-UX
	2013-02-06 extensions: port better to MINIX 3, HP-UX, autoheader 2.62
	2013-02-06 unistd: avoid namespace pollution on non-glibc systems
	2013-02-04 secure_getenv: new module [module not used by Emacs]
	2013-01-30 sys_time: port to Solaris 2.6

2013-02-01  Paul Eggert  <eggert@cs.ucla.edu>

	Use fdopendir, fstatat and readlinkat, for efficiency (Bug#13539).
	On my host, this speeds up directory-files-and-attributes by a
	factor of 3, when applied to Emacs's src directory.
	These functions are standardized by POSIX and are common these
	days; fall back on a (slower) gnulib implementation if the host
	is too old to supply them.
	* .bzrignore: Add lib/dirent.h.
	* lib/Makefile.am (libgnu_a_SOURCES): Add openat-die.c, save-cwd.c.
	* lib/careadlinkat.c, lib/careadlinkat.h: Merge from gnulib,
	incorporating: 2013-01-29 careadlinkat: do not provide careadlinkatcwd.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.
	* lib/dirent.in.h, lib/fdopendir.c, lib/fstatat.c, lib/openat-priv.h:
	* lib/openat-proc.c, lib/openat.h, m4/dirent_h.m4, m4/fdopendir.m4:
	* m4/fstatat.m4: New files, from gnulib.
	* lib/openat-die.c, lib/save-cwd.c, lib/save-cwd.h: New files.
	These last three are specific to Emacs and are not copied from gnulib.
	They are simpler than the gnulib versions and are tuned for Emacs.

2013-02-01  Glenn Morris  <rgm@gnu.org>

	* make-dist: Only README files exist in lisp/ now, not README*.

2013-01-23  Giorgos Keramidas  <gkeramidas@gmail.com>  (tiny change)

	* .bzrignore: Add lib-src/blessmail.

2013-01-23  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-01-16 unistd: port to recent mingw

2013-01-19  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-indep): Put back a chmod that was
	removed 2012-05-19.  (Bug#13430)

2013-01-16  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-01-16 largefile: port better to Mac OS X 10.5
	2013-01-15 stdint: fix build with Android's Bionic fox x86

2013-01-16  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac: Document that --enable-gcc-warnings emits errors.
	(Bug#13448)

2013-01-13  Glenn Morris  <rgm@gnu.org>

	* make-dist: Add options for xz compression and no compression.

2013-01-12  Paul Eggert  <eggert@cs.ucla.edu>

	Enable conservative stack scanning for all architectures.
	Suggested by Stefan Monnier in
	<https://lists.gnu.org/r/emacs-devel/2013-01/msg00183.html>.
	* configure.ac (GC_MARK_STACK): Remove.

2013-01-11  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/getopt_.h: Remove trailing CRs that crept in.

2013-01-11  Eli Zaretskii  <eliz@gnu.org>

	* lib/getopt_.h: Regenerate.

2013-01-10  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-01-09 stdlib: port to Solaris 2.6

2013-01-04  Glenn Morris  <rgm@gnu.org>

	* info/dir: Add htmlfontify.

2013-01-04  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2013-01-04 stdio: remove now-unnecessary stdio.c
	2013-01-04 fprintftime: depend on stdio, not ignore-value
	2013-01-04 fwrite: silence __wur only for older glibc versions
	2013-01-04 fwrite: silence __wur without using inline
	* lib/stdio.c: Remove.
	* lib/stdio.in.h, lib/strftime.c: Update from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2013-01-02  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating copyright-date changes and:
	2012-12-31 dup2: work around cygwin bug

2012-12-30  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Check for GtkHandlebox.
	Check for GtkTearoffMenuItem.
	New enable: --enable-gtk-deprecation-warnings, default off.
	(HAVE_GTK3): If above enable is off, add
	-DGDK_DISABLE_DEPRECATION_WARNINGS to GTK_CFLAGS.

2012-12-30  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.ac (TEMACS_LDFLAGS2): Don't define.
	(LIBS_GNUSTEP): Set for GNUstep and substitute.
	(LD_SWITCH_SYSTEM_TEMACS): Don't set for GNUstep.

2012-12-27  Glenn Morris  <rgm@gnu.org>

	* configure.ac (emacs_config_options): New.
	Use $@ rather than undocumented $ac_configure_args.
	Replace any embedded double quotes.  (Bug#13274)

2012-12-27  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.ac (SIGNALS_VIA_CHARACTERS): Also define for darwin.
	(Bug#13222)

2012-12-26  Paul Eggert  <eggert@cs.ucla.edu>

	Revert static checking of stack smashing.
	* configure.ac (WARN_CFLAGS): Omit -Wstack-protector when
	configured with --enable-gcc-warnings.  -Wstack-protector causes
	diagnostics to be issued on Ubuntu 12.10 x86-64.

2012-12-24  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2012-12-21 AC_PROG_MKDIR_P: port workaround to pre-2.62 Autoconf
	2012-12-20 AC_PROG_MKDIR_P: don't workaround if not buggy
	2012-12-17 filemode, sys_stat: Handle MPX files a la AIX.

2012-12-21  Akinori MUSHA  <knu@iDaemons.org>  (tiny change)

	* Makefile.in (install-arch-dep): Ignore chmod errors.  (Bug#13233)

2012-12-16  Romain Francoise  <romain@orebokech.com>

	* configure.ac (acl): New option.
	(HAVE_POSIX_ACL): Test for POSIX ACL support.  This is typically
	provided by libacl on GNU/Linux.

2012-12-14  Paul Eggert  <eggert@cs.ucla.edu>

	Fix permissions bugs with setgid directories etc.  (Bug#13125)
	* configure.ac (BSD4_2): Remove; no longer needed.

2012-12-13  Glenn Morris  <rgm@gnu.org>

	* info/dir: Add bovine, srecode, wisent.

2012-12-13  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (install-info): Use `${MAKE} -s' for echo-info.
	(uninstall): Likewise.  (Bug#13142)

2012-12-11  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib for 'inline' (Bug#13040), incorporating:
	2012-12-11 extern-inline: avoid incompatibility with Darwin Libc
	* m4/extern-inline.m4: Update from gnulib.

2012-12-11  Juanma Barranquero  <lekktu@gmail.com>

	* lib/makefile.w32-in (SIG2STR_H): New macro.
	($(BLD)/sig2str.$(O)): Update dependencies.

2012-12-10  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (HAVE_INOTIFY): Speed up configure-time test.
	There's no need to test for any of three inotify functions,
	since we use all three.  Check for just the first one.

2012-12-10  Daniel Colascione  <dancol@dancol.org>

	* .bzrignore: Add src/emacs.res.

	* configure.ac (W32_RES, W32_RES_LINK, WINDRES): Teach the cygw32
	build how to compile Windows resource files; use these variables
	to tell src/Makefile.in how and whether to compile resources.

2012-12-10  Rüdiger Sonderfeld  <ruediger@c-plusplus.de>

	* configure.ac (inotify): New option.
	(HAVE_INOTIFY): Test for inotify.

2012-12-09  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.ac: Fix source command in .gdbinit.
	Don't quote $MAKEINFO.

2012-12-09  Paul Eggert  <eggert@cs.ucla.edu>

	Allow spaces in some configuration vars (Bug#13078).
	* configure.ac (srcdir): Don't assume $PWD lacks spaces.
	(srcdir, MAKEINFO, PKG_CONFIG, PKG_CONFIG_MIN_VERSION):
	All uses quoted, to allow spaces in these vars.

2012-12-08  Paul Eggert  <eggert@cs.ucla.edu>

	Use putenv+unsetenv instead of modifying environ directly (Bug#13070).
	* lib/putenv.c, lib/unsetenv.c, m4/putenv.m4, m4/setenv.m4:
	New files, copied automatically from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2012-12-08  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in ($(BLD)/sig2str.$(O)): New dependency.
	Remove a stray character at the beginning of the file.
	(Bug#13026)

2012-12-08  Paul Eggert  <eggert@cs.ucla.edu>

	Simplify get_lim_data.
	* configure.ac (ULIMIT_BREAK_VALUE): Remove.

	Assume POSIX 1003.1-1988 or later for signal.h (Bug#13026).
	* configure.ac (PTY_OPEN, PTY_TTY_NAME_SPRINTF):
	Use SIGCHLD rather than SIGCLD.
	* lib/sig2str.c, lib/sig2str.h, m4/sig2str.m4: New files, from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.
	* lib/makefile.w32-in (GNULIBOBJS): Add $(BUILD)/sig2str.$(O).

2012-12-06  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Handle info/ files with or without ".info" extension.

2012-11-30  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib for 'inline' (Bug#13040), incorporating:
	2012-11-29 snippet/warn-on-use: no 'static inline'
	2012-11-29 ftruncate, fts, lstat, openat, raise: no 'static inline'
	2012-11-29 arctwo, md4, md5, sha1, sha256, sha512: no 'static inline'
	2012-11-29 fflush, stat: no 'static inline'
	2012-11-29 stdio: better 'inline'
	2012-11-29 sys_stat: no 'static inline'
	2012-11-29 unistd: better 'inline'
	2012-11-29 c-strtod, memcoll, readutmp: no 'static inline'
	2012-11-29 extern-inline: no 'static inline'
	2012-11-29 sys_socket: better 'inline'
	* lib/stdio.c, lib/unistd.c: New files, from gnulib.
	* build-aux/snippet/warn-on-use.h, lib/gnulib.mk, lib/lstat.c:
	* lib/md5.c, lib/sha1.c, lib/sha256.c, lib/sha512.c, lib/stat.c:
	* lib/stdio.in.h, lib/sys_stat.in.h, lib/unistd.in.h, m4/c-strtod.m4:
	* m4/extern-inline.m4, m4/gnulib-comp.m4, m4/lstat.m4, m4/md5.m4:
	* m4/sha1.m4, m4/sha256.m4, m4/sha512.m4, m4/stat.m4, m4/stdio_h.m4:
	* m4/sys_socket_h.m4, m4/sys_stat_h.m4, m4/unistd_h.m4:
	Update from gnulib.

2012-11-27  Eli Zaretskii  <eliz@gnu.org>

	* make-dist (nt): Adjust to changes in names of the *.manifest files.

2012-11-24  Ken Brown  <kbrown@cornell.edu>

	* configure.ac (HAVE_MOUSE): Remove.

2012-11-23  Paul Eggert  <eggert@cs.ucla.edu>

	Assume POSIX 1003.1-1988 or later for dirent.h (Bug#12958).
	* configure.ac: Do not check for dirent.h or closdir.

2012-11-21  Paul Eggert  <eggert@cs.ucla.edu>

	Assume POSIX 1003.1-1988 or later for unistd.h (Bug#12945).
	* configure.ac: Do not check for getcwd or getwd.

2012-11-21  Glenn Morris  <rgm@gnu.org>

	* configure.ac (--enable-profiling): Doc fix.

2012-11-20  Paul Eggert  <eggert@cs.ucla.edu>

	Improve static checking of integer overflow and stack smashing.
	* configure.ac (WARN_CFLAGS): Add -Wstack-protector
	if using GCC 4.7.2 or later on a platform with
	at least 64-bit long int.  This improves static checking on these
	platforms, when configured with --enable-gcc-warnings.

2012-11-17  Paul Eggert  <eggert@cs.ucla.edu>

	Assume POSIX 1003.1-1988 or later for fcntl.h (Bug#12881).
	* configure.ac: Do not check for fcntl.h.
	* lib/gnulib.mk: Regenerate.

2012-11-16  Paul Eggert  <eggert@cs.ucla.edu>

	Remove no-longer-used pty_max_bytes variable.
	* configure.ac (fpathconf): Remove unnecessary check.

2012-11-14  Paul Eggert  <eggert@cs.ucla.edu>

	Use faccessat, not access, when checking file permissions (Bug#12632).
	* .bzrignore: Add lib/fcntl.h.
	* configure.ac (euidaccess): Remove check; gnulib does this for us now.
	(gl_FCNTL_O_FLAGS): Define a dummy version.
	* lib/at-func.c, lib/euidaccess.c, lib/faccessat.c, lib/fcntl.in.h:
	* lib/getgroups.c, lib/group-member.c, lib/root-uid.h:
	* lib/xalloc-oversized.h, m4/euidaccess.m4, m4/faccessat.m4:
	* m4/fcntl_h.m4, m4/getgroups.m4, m4/group-member.m4:
	New files, from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2012-11-05  Paul Eggert  <eggert@cs.ucla.edu>

	Assume at least POSIX.1-1988 for getpgrp, setpgid, setsid (Bug#12800).
	* configure.ac (setpgid, setsid): Assume their existence.
	(AC_FUNC_GETPGRP, SETPGRP_RELEASES_CTTY): Remove; obsolete.

	Simplify by assuming __fpending.
	Now that Emacs is using the gnulib fpending module,
	there's no need for Emacs to have a separate implementation.
	* configure.ac (stdio_ext.h, __fpending): Remove now-duplicate checks.
	(PENDING_OUTPUT_COUNT, DISPNEW_NEEDS_STDIO_EXT): Remove.

2012-11-03  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in (GNULIBOBJS): Add $(BLD)/fpending.$(O) and
	$(BLD)/close-stream.$(O).
	($(BLD)/close-stream.$(O))
	($(BLD)/fpending.$(O)): New dependencies.

2012-11-03  Paul Eggert  <eggert@cs.ucla.edu>

	Fix data-loss with --batch (Bug#9574).
	* lib/close-stream.c, lib/close-stream.h, lib/fpending.c
	* lib/fpending.h, m4/close-stream.m4, m4/fpending.m4:
	New files, from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2012-11-03  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Copy lib/execinfo.in.h to lib/execinfo.in-h if needed.

2012-11-02  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (EMACS_ICON): New variable.
	(install-etc): Use EMACS_ICON to allow choice of icon.

2012-10-26  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (EMACS_NAME): New variable.
	(EMACS, install-etc, uninstall): Use $EMACS_NAME.

	* Makefile.in (EMACS, EMACSFULL): Transformations should not be
	applied to $EXEEXT.

	* Makefile.in (uninstall): Don't abort if some directories are missing.
	Apply transformation rules to manual pages, desktop and icon files.
	No more emacs22 icons to uninstall.

2012-10-24  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-etc, install-man):
	Don't apply program transform to standard file suffixes.

2012-10-23  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (_FORTIFY_SOURCE): Do not multiply define (Bug#12714).
	This ports to Gentoo.  Problem originally reported against coreutils,
	but Emacs has it too.

2012-10-23  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (emacs_transform): Remove.
	(install-man): Revert 2012-10-21 change.  (Bug#12713)

2012-10-21  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-etc): Don't install emacs22 icons.

	* Makefile.in (emacs_transform): New variable.
	(install-etc): Prefer a make variable to a shell variable.

2012-10-18  Stefan Monnier  <monnier@iro.umontreal.ca>

	* Makefile.in ($(MAKEFILE_NAME)): Depend on src/lisp.mk as well.

2012-10-15  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-man, install-etc):
	Apply $TRANSFORM.  (Bug#12536#34)
	(clean): Delete etc/emacs.tmpdesktop.

2012-10-11  Kenichi Handa  <handa@gnu.org>

	* .bzrignore: Add several files under admin/charsets.

2012-10-08  Daniel Colascione  <dancol@dancol.org>

	* configure.ac: Add --with-w32 as a window system option.
	Limit it to Cygwin for now.  Integrate w32 into the refactored window
	system configuration and set TERM_HEADER to w32term.h when w32 is
	configured.

	(CYGWIN_OBJ): Add cygw32.o.

2012-10-07  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Check that OSX is 10.4 or newer.

2012-10-07  Paul Eggert  <eggert@cs.ucla.edu>

	Improve sys_siglist detection.
	* configure.ac (sys_siglist): Look for its decl in <signal.h>.
	Otherwise, it's not found in either Fedora 17 or Solaris 11.

2012-10-04  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2012-10-02 pselect: reject invalid file descriptors
	2012-10-02 ptsname: reject invalid file descriptors
	2012-10-02 manywarnings: cater to more gcc infelicities
	2012-09-30 sockets, sys_stat: restore AC_C_INLINE
	* lib/pselect.c, lib/stdlib.in.h, m4/manywarnings.m4, m4/pselect.m4:
	* m4/stdlib_h.m4, m4/sys_stat_h.m4: Update from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2012-09-30  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2012-09-28 extern-inline: provide a -Wundef safe config.h

2012-09-27  Paul Eggert  <eggert@cs.ucla.edu>

	Check more robustly for timer_settime.
	This should fix an OS X build problem reported by Ivan Andrus in
	<https://lists.gnu.org/r/emacs-devel/2012-09/msg00671.html>.
	* configure.ac (gl_THREADLIB): Define to empty, since Emacs
	does threads its own way.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

2012-09-23  Paul Eggert  <eggert@cs.ucla.edu>

	* Makefile.in (bootstrap): Set MAKEFILE_NAME when building Makefile,
	to avoid problems with recursion when using GNU make.

2012-09-22  Paul Eggert  <eggert@cs.ucla.edu>

	* Makefile.in (bootstrap): Simplify build procedure.
	Suggested by Wolfgang Jenker in
	<https://lists.gnu.org/r/emacs-devel/2012-09/msg00456.html>.

	Merge from gnulib, incorporating:
	2012-09-22 sockets, sys_stat: remove AC_C_INLINE in MSVC-only cases

2012-09-18  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac (HAVE_GTK): Mention if we use GTK2 or GTK3.

2012-09-17  Andreas Schwab  <schwab@linux-m68k.org>

	* Makefile.in (bootstrap): Revert last change.  Run config.status
	after config.status --recheck, run configure from $(srcdir).
	(config.status): Run configure from $(srcdir).

2012-09-17  Paul Eggert  <eggert@cs.ucla.edu>

	* Makefile.in: Fix build error on FreeBSD.
	($(MAKEFILE_NAME)): Pass MAKE='$(MAKE)' to config.status's env.
	Suggested by Wolfgang Jenker in
	<https://lists.gnu.org/r/emacs-devel/2012-09/msg00430.html>.
	(MAKE_CONFIG_STATUS): Remove.  Remaining use expanded.
	This undoes part of the 2012-09-10 patch.
	(bootstrap): Run ./configure, rather than trying to run config.status
	if it exists.  That builds src/epaths.h more reliably.
	Run autogen/copy_autogen if autogen.sh fails,
	to create 'configure'.  Reported by Andreas Schwab in
	<https://lists.gnu.org/r/emacs-devel/2012-09/msg00438.html>.
	* autogen.sh: Exit with status 1 when failing due to missing tools,
	reverting the 2012-09-10 change to this file.
	* autogen/copy_autogen: Fail if one of the subsidiary actions fail.
	Use 'cp -f' for the build-aux files, since the destinations are
	typically read-only.

	Remove no-longer-needed Solaris 2.4 vfork bug workaround.
	* configure.ac (ac_cv_func_vfork_works): Default to 'no' on
	Solaris 2.4, so that AC_FUNC_VFORK doesn't think vfork works.

2012-09-17  Glenn Morris  <rgm@gnu.org>

	* configure.ac (copyright): New output variable.
	(COPYRIGHT): New AC_DEFINE.

2012-09-16  Paul Eggert  <eggert@cs.ucla.edu>

	Remove configure's --without-sync-input option (Bug#12450).
	* configure.ac (SYNC_INPUT, BROKEN_SA_RESTART): Remove.

2012-09-16  Glenn Morris  <rgm@gnu.org>

	Increase compartmentalization of Nextstep builds rules,
	and store Emacs version number in fewer versioned files.
	* configure.ac (ns_appsrc): Use relative names.
	(ns_frag): Remove.
	(Info-gnustep.plist, Emacs.desktop, Info.plist, InfoPlist.strings)
	(nextstep/Makefile): Generate these nextstep files.
	(SUBDIR_MAKEFILES): Add nextstep.
	* Makefile.in (clean, distclean, bootstrap-clean): Add nextstep.
	* make-dist (nextstep/templates): Add directory.
	(nextstep/Cocoa/Emacs.base/Contents/Resources/English.lproj): Remove.
	(nextstep/Cocoa/Emacs.base/Contents)
	(nextstep, nextstep/GNUstep/Emacs.base/Resources): Update contents.

2012-09-15  Paul Eggert  <eggert@cs.ucla.edu>

	Port better to POSIX hosts lacking _setjmp (Bug#12446).
	* configure.ac (HAVE__SETJMP, HAVE_SIGSETJMP): New symbols.
	(_setjmp, _longjmp): Remove.

2012-09-14  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (--without-sync-input): Fix typo in usage message.

	* configure.ac: Port to hosts lacking gtk.
	(PKG_CHECK_MODULES): Capture pkg-config diagnostics
	better, in particular, problems in invoking pkg-config itself.
	This is useful on hosts that don't have pkg-config.
	(GTK_MODULES): Do not exit 'configure' simply because gtk3
	and gtk2 are both missing.  Problem found on Solaris 8.

2012-09-13  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: Reorder Xaw3d messages.
	Report Gtk+ 3 as GTK.

2012-09-13  Paul Eggert  <eggert@cs.ucla.edu>

	Simplify SIGIO usage (Bug#12408).
	* configure.ac (NO_TERMIO, BROKEN_FIONREAD, BROKEN_SIGAIO)
	(BROKEN_SIGPOLL, BROKEN_SIGPTY): Remove.
	(USABLE_FIONREAD, USABLE_SIGIO): New symbols.  All uses of
	'defined SIGIO' replaced with 'defined USABLE_SIGIO', with no need
	to #undef SIGIO now (which was error-prone).  Likewise, all uses
	of 'defined FIONREAD' replaced with 'defined USABLE_FIONREAD'.

2012-09-12  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac: No --with-x-toolkit given: Try gtk3 toolkit first
	and then gtk2 if not found.
	--with-x-toolkit=gtk|yes: As above, but fail if gtk2 or gt3 not found.
	--with-x-toolkit=gtk2: Only try gtk2, fail if not found.
	--with-x-toolkit=gtk3: Only try gtk3, fail if not found.

2012-09-11  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-dep, install-arch-indep, install-doc):
	Be more explicit about dependencies, for parallel `make install'.

2012-09-11  Paul Eggert  <eggert@cs.ucla.edu>

	Simplify, document, and port floating-point (Bug#12381).
	* configure.ac (logb, cbrt): Do not check for these functions,
	as they are not being used.

2012-09-10  Paul Eggert  <eggert@cs.ucla.edu>

	Improve robustness of 'make bootstrap' (Bug#12376).
	Run autogen.sh after bootstrap-clean, to avoid bzr pull issues.
	* INSTALL, README: Document autogen.sh.
	* Makefile.in (Makefile): Mark it as precious, since it's updated
	atomically.
	(MAKE_CONFIG_STATUS): New macro.
	(config.status, bootstrap): Use it.  This causes 'make bootstrap'
	to run config.status with the --recheck option, which is more
	appropriate for a bootstrap.
	(bootstrap): Run autogen.sh right after cleaning.  Don't worry
	about failures due to missing tools.
	* autogen.sh: Exit with status 101 when failing due to missing tools.
	* make-dist: Distribute autogen.sh.

2012-09-09  Paul Eggert  <eggert@cs.ucla.edu>

	Assume C89 or later for math functions (Bug#12381).
	* configure.ac (frexp, fmod): Remove checks for these functions,
	as we now assume them.
	(FLOAT_CHECK_DOMAIN, HAVE_INVERSE_HYPERBOLIC, NO_MATHERR)
	(HAVE_EXCEPTION):
	Remove; no longer needed.

2012-09-07  Paul Eggert  <eggert@cs.ucla.edu>

	More signal-handler cleanup (Bug#12327).
	* configure.ac (FLOAT_CHECK_DOMAIN): Comment fix (Bug#12327).

2012-09-06  Paul Eggert  <eggert@cs.ucla.edu>

	Signal-handler cleanup (Bug#12327).
	* configure.ac (PTY_OPEN, PTY_TTY_NAME_SPRINTF):
	Adjust to syssignal.h changes.
	(SIGNAL_H_AB): Remove; no longer needed.

2012-09-04  Paul Eggert  <eggert@cs.ucla.edu>

	Simplify redefinition of 'abort' (Bug#12316).
	* configure.ac (NO_ABRT): Remove.

	* configure.ac (_setjmp, _longjmp): Check by compiling
	instead of by guessing.  The guesses were wrong for
	recent versions of Solaris, such as Solaris 11.

2012-09-03  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (WARN_CFLAGS): Omit -Wjump-misses-init.
	It generates false alarms in doc.c, regex.c, xdisp.c.  See
	<https://lists.gnu.org/r/emacs-devel/2012-09/msg00040.html>.

	Merge from gnulib, incorporating:
	2012-08-29 stdbool: be more compatible with mixed C/C++ compiles
	2011-11-30 manywarnings: update the list of "all" warnings

2012-09-02  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.ac (HAVE_GOBJECT): Check for gobject-2.0 (Bug#12332).

2012-09-01  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (_FORTIFY_SOURCE): Define only when optimizing.
	This ports to glibc 2.15 or later, when configured with
	--enable-gcc-warnings.  See Eric Blake in
	<https://lists.gnu.org/r/bug-grep/2012-09/msg00000.html>.

2012-09-01  Daniel Colascione  <dan.colascione@gmail.com>

	* configure.ac: Introduce term_header variable, which holds the
	value which will become TERM_HEADER in code.  We effect our choice
	of window system by setting term_header and WINDOW_SYSTEM_OBJ
	instead of using ad-hoc variables and flags for each window
	system.

2012-08-26  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (CFLAGS): Prefer -g3 to -g if -g3 works
	and if the user has not specified CFLAGS.  -g3 simplifies
	debugging, since it makes macros visible to the debugger.

2012-08-25  Juanma Barranquero  <lekktu@gmail.com>

	* lib/makefile.w32-in ($(BLD)/execinfo.$(O)): Update dependencies.

2012-08-25  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in ($(BLD)/execinfo.$(O), execinfo.h): New targets.
	(GNULIBOBJS): Add $(BLD)/execinfo.$(O).

2012-08-24  Paul Eggert  <eggert@cs.ucla.edu>

	On assertion failure, print backtrace if available.
	Merge from gnulib, incorporating:
	2012-08-24 execinfo: port to FreeBSD
	2012-08-22 execinfo: new module
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.
	* lib/execinfo.c, lib/execinfo.in.h, m4/execinfo.m4: New files.

2012-08-22  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-dep): If NO_BIN_LINK is non-null,
	do not create the bin/emacs link.  (Bug#12011)

2012-08-21  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2012-08-20 extern-inline: support old GCC 'inline'

2012-08-20  Glenn Morris  <rgm@gnu.org>

	* configure.ac (AC_PROG_LN_S): Test for ln.
	* Makefile.in (LN_S): New, set by configure.
	(install-arch-dep): Use $LN_S.

2012-08-19  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2012-08-19 ignore-value, stat-time, timespec: omit AC_C_INLINE
	2012-08-19 mktime, sys_select: avoid 'static inline'
	2012-08-19 gnulib-tool: Fix indentation.

2012-08-18  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/sigprocmask.c, m4/signalblocking.m4: Remove.
	These files have been unused since the 2012-06-22 patch that
	introduced high-resolution time stamps.

2012-08-17  Jan Beich  <jbeich@tormail.org>  (tiny change)

	* configure.ac (PTY_OPEN): Try posix_openpt on gnu-linux,
	gnu-kfreebsd, freebsd, and netbsd.  (Bug#12040)

2012-08-14  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2012-08-05 extern-inline: also ignore -Wmissing-declarations

2012-08-10  Juanma Barranquero  <lekktu@gmail.com>

	* lib/makefile.w32-in (STAT_TIME_H): New macro.
	(FTOASTR_C, $(BLD)/stat-time.$(O), $(BLD)/timespec.$(O))
	($(BLD)/u64.$(O)): Update dependencies.

2012-08-10  Glenn Morris  <rgm@gnu.org>

	* configure.ac (DIRECTORY_SEP): Move here from src/lisp.h.

2012-08-08  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.ac (--disable-features): Rename to --without-all.
	(OPTION_DEFAULT_ON): Change to use with_features.
	* INSTALL: Fix description.

2012-08-07  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.ac: New option --disable-features.
	(OPTION_DEFAULT_ON): Change to use enable_features.
	* INSTALL: Explain --disable-features.

2012-08-07  Glenn Morris  <rgm@gnu.org>

	* configure.ac: Require automake 1.11 (fairly arbitrarily).
	* autogen.sh (automake_min): Get it from configure.ac.

2012-08-06  Glenn Morris  <rgm@gnu.org>

	* configure.ac (BROKEN_GETWD) [unixware]: New define.

	* configure.ac (GNU_LIBRARY_PENDING_OUTPUT_COUNT): Remove.
	(PENDING_OUTPUT_COUNT): Absorb GNU_LIBRARY_PENDING_OUTPUT_COUNT.
	(DISPNEW_NEEDS_STDIO_EXT): New define.

2012-08-05  Michael Albinus  <michael.albinus@gmx.de>

	* INSTALL: Explain how to completely disable D-Bus.  (Bug#12112)

2012-08-05  Ulrich Müller  <ulm@gentoo.org>

	* configure.ac: Disable paxctl if binaries don't have a
	PT_PAX_FLAGS program header.  (Bug#11979)

2012-08-03  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in (GNULIBOBJS): Add $(BLD)/stat-time.$(O),
	$(BLD)/timespec.$(O), and $(BLD)/u64.$(O).
	(SHA512_H): Don't mention u64.h twice.
	($(BLD)/stat-time.$(O), ($(BLD)/timespec.$(O), ($(BLD)/u64.$(O)):
	New targets.

2012-08-03  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2012-08-02 stat-time, timespec, u64: support naive out-of-dir builds

2012-08-02  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>

	* lib/Makefile.am (DEFAULT_INCLUDES): Add -I$(top_srcdir)/lib for
	out-of-tree build.

2012-08-02  Glenn Morris  <rgm@gnu.org>

	* make-dist: Remove src/s.

	* lib/makefile.w32-in (MS_W32_H): Update for new ms-w32.h location.

2012-08-02  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib (Bug#12116), incorporating:
	2012-08-01 extern-inline: new module
	2012-08-01 stat-time, timespec, u64, utimens: use extern-inline
	* lib/stat-time.c, lib/timespec.c, lib/u64.c, m4/extern-inline.m4:
	New files.  The new .c files are for instantiating extern inline
	functions.

	Port to Solaris 8.
	Without this change, 'configure' fails because the recently-added
	wait3 prototype in config.h messes up later 'configure' tests.
	Fix this problem by droping wait3 and WRETCODE, as they're
	no longer needed on hosts that are current porting targets.
	* configure.ac (wait3, WRETCODE): Remove, fixing a FIXME.
	All uses changed to waitpid and WEXITSTATUS.

	Avoid needless autoheader after autogen.sh.
	* .bzrignore: Add src/stamp-h.in.
	* autogen.sh: Create src/stamp-h.in.

2012-08-01  Glenn Morris  <rgm@gnu.org>

	* configure.ac (DOS_NT, MSDOS): New system type templates.

2012-08-01  Ulrich Müller  <ulm@gentoo.org>

	* configure.ac (LIB_STANDARD, START_FILES) [FreeBSD]:
	Don't include crtbegin.o and crtend.o.  (Bug#12047)

2012-08-01  Glenn Morris  <rgm@gnu.org>

	* configure.ac (FLOAT_CHECK_DOMAIN, HAVE_INVERSE_HYPERBOLIC)
	(INTERNAL_TERMINAL): New.

	* configure.ac (DEVICE_SEP, IS_DEVICE_SEP, IS_DIRECTORY_SEP)
	(IS_ANY_SEP): Move here from src/lisp.h.

2012-08-01  Juanma Barranquero  <lekktu@gmail.com>

	* lib/makefile.w32-in (CONFIG_H): Update dependencies.
	(CONF_POST_H): New macro.

2012-07-31  Glenn Morris  <rgm@gnu.org>

	* configure.ac (S_FILE): Remove output variable.

	* configure.ac (opsysfile): Use AH_TEMPLATE.  Doc fix.

	* configure.ac (NULL_DEVICE, SEPCHAR, USER_FULL_NAME):
	Move here from src.

	* configure.ac (AMPERSAND_FULL_NAME, subprocesses):
	Move here from conf_post.h.

2012-07-31  Dmitry Antipov  <dmantipov@yandex.ru>

	Improve OpenMotif detection on GNU/Linux systems.
	* configure.ac (MOTIF): Check for /usr/include/openmotif
	and /usr/(lib|lib64)/openmotif if --with-x-toolkit=motif.

2012-07-31  Andreas Schwab  <schwab@linux-m68k.org>

	* Makefile.in (install-arch-indep): Avoid eval.

2012-07-31  Glenn Morris  <rgm@gnu.org>

	* configure.ac (opsysfile, S_FILE): Now they are always empty.

	* configure.ac (opsysfile): Forgot to set it to empty on sol2-10
	when removing src/s/sol2-6.h yesterday.

	* configure.ac (USG5_4): Reintroduce this.
	(opsysfile): Set to empty on irix6-5, sol2*, and unixware.

	* configure.ac (wait3, WRETCODE): Move here from src/s/usg5-4-common.h.

	* configure.ac (opsysfile): Set to empty on hpux*, darwin;
	and to s/usg5-4-common.h on irix6-5.

2012-07-30  Glenn Morris  <rgm@gnu.org>

	* configure.ac (AH_BOTTOM): Use an include file, so that the
	contents do not get processed by autoheader.

2012-07-30  Paul Eggert  <eggert@cs.ucla.edu>

	Do not overwrite config.status while executing it (Bug#11214).
	* Makefile.in (MAKEFILE_NAME): New macro.
	($(MAKEFILE_NAME)): Rename rule from Makefile.
	* configure.ac (epaths): Set MAKEFILE_NAME to a bogus value,
	so that GNU 'make' isn't tempted to make the Makefile and then
	regenerate config.status while config.status is running.

	Update .PHONY listings in makefiles.
	* Makefile.in (.PHONY): Add all, ${SUBDIR}, blessmail, epath-force,
	FRC, install-arch-dep, install-arch-indep, install-doc,
	install-info, install-man, install-etc, install-strip, uninstall,
	bootstrap-clean, TAGS, tags, info-real, force-info, check-info-dir.
	(.RECURSIVE): Remove; hasn't been needed for years.

2012-07-30  Glenn Morris  <rgm@gnu.org>

	* configure.ac (SIGNAL_H_AHB): New hack macro.
	(opsysfile): Set to empty on netbsd, openbsd.
	(AH_BOTTOM): Include signal.h if SIGNAL_H_AHB is defined.

	* configure.ac (_longjmp, _setjmp, TIOCSIGSEND): Move here from src/s.

2012-07-30  Jan Djärv  <jan.h.d@swipnet.se>

	* Makefile.in (install-arch-indep): Remove sh -x.

2012-07-30  Glenn Morris  <rgm@gnu.org>

	* configure.ac (opsysfile): Tweak message for null case.

	* configure.ac (opsysfile): Set to empty on aix4-2, freebsd,
	gnu-linux, gnu-kfreebsd; and to usg5-4-common.h on sol2*, unixware.

2012-07-29  Jan Djärv  <jan.h.d@swipnet.se>

	* Makefile.in (install-arch-indep): Handle space in locallisppath.

2012-07-28  Paul Eggert  <eggert@cs.ucla.edu>

	Use Gnulib environ module (Bug#9772).
	* m4/environ.m4: New file, from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

	Use Gnulib stdalign module (Bug#9772, Bug#9960).
	This should improve portability of macros like alignof and DECL_ALIGN.
	* lib/stdalign.in.h, m4/stdalign.m4: New files, from gnulib.
	* .bzrignore: Add lib/stdalign.h.
	* config.bat: Do not set NO_DECL_ALIGN; no longer needed.
	Copy lib/stdalign.in.h to lib/stdalign.in-h as needed.
	* configure.ac (HAVE_ATTRIBUTE_ALIGNED): Remove the code that
	fiddles with this, as gnulib now does this for us.

2012-07-17  Dmitry Antipov  <dmantipov@yandex.ru>

	Fix toolkit configuration report.
	* configure.ac (USE_X_TOOLKIT): Report toolkit as GTK3 if
	--with-x-toolkit=gtk3 is used.

2012-07-17  Paul Eggert  <eggert@cs.ucla.edu>

	Fix regression with pthread_sigmask on FreeBSD (Bug#11884).
	* configure.ac: Configure gnulib at the end, not before running
	pkg-config.  This restores the behavior before 2012-06-22, when
	higher-resolution time stamps were added, and fixes a bug whereby
	LIB_PTHREAD was not used and gnulib's part of 'configure'
	therefore incorrectly assumed that pthread_sigmask wasn't working.
	Fix the problem with -lrt and clock_gettime a different way.
	This should complete the fix for Bug#11884.
	(pre_PKG_CONFIG_CFLAGS, pre_PKG_CONFIG_LIBS): New shell vars.

2012-07-15  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2012-07-15 pthread_sigmask: fix bug on FreeBSD 9 (Bug#11884)
	2012-07-11 gettext: do not assume '#define ... defined ...' behavior

2012-07-14  Glenn Morris  <rgm@gnu.org>

	* configure.ac (GC_SETJMP_WORKS, GC_MARK_STACK): Move here from src/s.
	(AH_BOTTOM): Move GC_SETJMP_WORKS GCC fallback to main body.

2012-07-13  Glenn Morris  <rgm@gnu.org>

	* configure.ac (opsysfile): Set to empty on gnu, cygwin.

	* configure.ac (BSD4_2, BSD_SYSTEM, USG, USG5, _AIX, CYGWIN)
	(DARWIN_OS, GNU_LINUX, HPUX, IRIX6_5, SOLARIS2):
	Move "system type" macros here from src/s.
	(BSD_SYSTEM_AHB): New hack macro.
	(AH_BOTTOM): Set BSD_SYSTEM, using BSD_SYSTEM_AHB.

	* configure.ac (NSIG_MINIMUM, ULIMIT_BREAK_VALUE, SETUP_SLAVE_PTY)
	(GC_MARK_SECONDARY_STACK): Move here from src/s.

2012-07-12  Glenn Morris  <rgm@gnu.org>

	* configure.ac (AH_BOTTOM) [DARWIN_OS]: Move SYSTEM_PURESIZE_EXTRA
	setting here from src/s/darwin.h.

	* configure.ac (NO_MATHERR): Unconditionally define for Darwin;
	as src/s/darwin.h used to.

	* configure.ac (NARROWPROTO, NO_ABORT, BROKEN_GET_CURRENT_DIR_NAME)
	(BROKEN_FIONREAD, BROKEN_PTY_READ_AFTER_EAGAIN, BROKEN_SIGAIO)
	(BROKEN_SIGPOLL, BROKEN_SIGPTY, FIRST_PTY_LETTER, NO_EDITRES)
	(G_SLICE_ALWAYS_MALLOC, PREFER_VSUSP, PTY_ITERATION, PTY_OPEN)
	(PTY_NAME_SPRINTF, PTY_TTY_NAME_SPRINTF, RUN_TIME_REMAP)
	(SETPGRP_RELEASES_CTTY, TAB3, TABDLY, RUN_TIME_REMAP, UNIX98_PTYS)
	(XOS_NEEDS_TIME_H): Move here from src/s.

2012-07-11  Glenn Morris  <rgm@gnu.org>

	* configure.ac (INTERRUPT_INPUT): Move here from src/s.
	(HAVE_PTYS, HAVE_SOCKETS): Define unconditionally.

2012-07-11  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.ac (tzset): Remove check that's redundant with gnulib.

2012-07-11  Glenn Morris  <rgm@gnu.org>

	* configure.ac (CLASH_DETECTION): Define unconditionally.

	* configure.ac (opsysfile): Use bsd-common on gnu systems.

	* configure.ac (GNU_LIBRARY_PENDING_OUTPUT_COUNT)
	(SIGNALS_VIA_CHARACTERS): Move here from src/s.

2012-07-11  Paul Eggert  <eggert@cs.ucla.edu>

	Assume mkdir, rename, rmdir, strerror.
	* configure.ac (mkdir, rename, rmdir, strerror): Remove check.

2012-07-11  Glenn Morris  <rgm@gnu.org>

	* configure.ac (DONT_REOPEN_PTY): Move here from src/s.

	* configure.ac (DEFAULT_SOUND_DEVICE): New definition.

2012-07-10  Paul Eggert  <eggert@cs.ucla.edu>

	Remove "#define unix" that is no longer needed (Bug#11905).
	Merge from gnulib to make "#define unix" unnecessary, incorporating:
	2012-07-10 getloadavg: clean out old Emacs and Autoconf cruft
	2012-07-09 getopt: Simplify after Emacs changed.

2012-07-10  Glenn Morris  <rgm@gnu.org>

	* configure.ac (DATA_START, DATA_SEG_BITS, PENDING_OUTPUT_COUNT):
	Move here from src/s.

2012-07-09  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.ac (PNG_DEPSTRUCT): Define this instead of
	PNG_DEPRECATED.

2012-07-09  Paul Eggert  <eggert@cs.ucla.edu>

	Add GCC-style 'const' attribute to functions that can use it.
	* configure.ac (WARN_CFLAGS): Add -Wsuggest-attribute=const.
	(ATTRIBUTE_CONST): New macro, in config.h.

2012-07-09  Juanma Barranquero  <lekktu@gmail.com>

	* lib/makefile.w32-in: Rework dependencies.
	(GNU_LIB, NT_INC, C_CTYPE_H, MS_W32_H, CONFIG_H, FILEMODE_H)
	(FTOASTR_H, FTOASTR_C, GETOPT_INT_H, MD5_H, SHA1_H, SHA256_H)
	(U64_H, SHA512_H): New macros.
	(SRC): Redefine to point to src/, not current directory.
	($(BLD)/c-ctype.$(O), $(BLD)/c-strcasecmp.$(O))
	($(BLD)/c-strncasecmp.$(O), $(BLD)/dtoastr.$(O))
	($(BLD)/dtotimespec.$(O), $(BLD)/getopt.$(O), $(BLD)/getopt1.$(O))
	($(BLD)/gettime.$(O), $(BLD)/strftime.$(O), $(BLD)/time_r.$(O))
	($(BLD)/timespec-add.$(O), $(BLD)/timespec-sub.$(O), $(BLD)/md5.$(O))
	($(BLD)/sha1.$(O), $(BLD)/sha256.$(O), $(BLD)/sha512.$(O))
	($(BLD)/filemode.$(O)): Update dependencies.

2012-07-09  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, incorporating:
	2012-07-09 timespec: mark functions with const attributes

	Rename configure.in to configure.ac (Bug#11603).
	The name 'configure.in' has been obsolescent for quite some time,
	and the next release of Autoconf will generate warnings for it.
	See commit 'v2.69-4-g560f16b' of 2012-05-06, "general: deprecate
	'configure.in' as autoconf input" in the Autoconf git repository.
	* configure.ac: Rename from configure.in.
	* INSTALL, INSTALL.BZR, README, make-dist:
	* Makefile.in (AUTOCONF_INPUTS):
	* autogen.sh (autoconf_min):
	* autogen/update_autogen (sources):
	Adjust to reflect new name.

2012-07-08  Paul Eggert  <eggert@cs.ucla.edu>

	Restore deprecation warnings, except for older libpng.
	* configure.in (WARN_CFLAGS): Remove -Wno-deprecated-declarations.
	(HAVE_LIBPNG_PNG_H): Don't bother checking for this if we have png.h.
	(PNG_DEPRECATED): Define when compiling with older PNG versions.

2012-07-07  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in (WARN_CFLAGS): Add -Wno-deprecated-declarations.

2012-07-07  Paul Eggert  <eggert@cs.ucla.edu>

	Improve static checking when configured --with-ns.
	See Samuel Bronson's remarks in
	<https://lists.gnu.org/r/emacs-devel/2012-07/msg00146.html>.
	* configure.in (WARN_CFLAGS): Omit -Wunreachable-code, as it's
	a no-op with recent GCC and harmful in earlier ones.
	Omit -Wsync-nand, as it's irrelevant to Emacs and provokes a
	warning when compiling with ObjC.  Always omit
	-Wunsafe-loop-optimizations, as we don't mind when optimization is
	being done correctly.

2012-07-07  Glenn Morris  <rgm@gnu.org>

	* configure.in (BROKEN_SA_RESTART): Doc fix.

	* configure.in: Rather than checking for things then undef'ing
	them on some platforms, simply don't check for them.
	(getwd): Don't check for it on unixware.
	(random, rint): Don't check for these on hpux.
	(res_init, libresolv): Don't check for these on darwin.

2012-07-07  Juanma Barranquero  <lekktu@gmail.com>

	* lib/makefile.w32-in (GNULIBOBJS): Add $(BLD)/c-ctype.$(O),
	$(BLD)/c-strcasecmp.$(O) and $(BLD)/c-strncasecmp.$(O).
	($(BLD)/c-ctype.$(O), $(BLD)/c-strcasecmp.$(O))
	($(BLD)/c-strncasecmp.$(O)): New dependencies.

2012-07-06  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in: Document --enable-gcc-warnings better.

	Use c_strcasecmp for ASCII case-insensitive comparison (Bug#11786).
	This is safer than strcasecmp, which has unspecified behavior
	outside the POSIX locale and in practice sometimes does not work
	in multibyte locales.  Similarly for c_strncasecmp and strncasecmp.
	* configure.in (strcasecmp, strncasecmp): Remove checks.

	* lib/c-ctype.c, lib/c-ctype.h, lib/c-strcase.h, lib/c-strcasecmp.c:
	* lib/c-strncasecmp.c: New files, taken from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.

	Merge from gnulib, incorporating:
	2012-07-06 timespec-sub: avoid duplicate include
	Reported by Juanma Barranquero.

2012-07-06  Glenn Morris  <rgm@gnu.org>

	* make-dist [update]: Let autoreconf figure out what needs updating.
	Use `make info-real'.  leim/leim-list.el should always exist.
	Check cd return value.

2012-07-06  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib.  This is for OpenBSD 5.1 amd64.
	* m4/sys_time_h.m4: New version from gnulib, incorporating:
	2012-07-05 sys_time: allow too-wide tv_sec

2012-07-04  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib.
	* lib/alloca.in.h: New version from gnulib, incorporating:
	2012-07-03 alloca: add support for HP NonStop TNS/E native

2012-07-04  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.in: If --enable-gcc-warnings, disable
	-Wunsafe-loop-optimizations for -O1 optimization level.

2012-06-30  Glenn Morris  <rgm@gnu.org>

	* configure.in (standardlisppath): New output variable.
	(lisppath): Use standardlisppath.
	* Makefile.in (standardlisppath): New, set by configure.
	(epaths-force): Use standardlisppath and locallisppath rather than
	lisppath.

2012-06-28  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.in: Fix previous change.  Remove --enable-asserts.
	(CPPFLAGS): Remove conditional -DXASSERTS=1.
	Add --enable-link-time-optimization.
	* INSTALL: Mention this.

2012-06-28  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.in: Add glyphs category to --enable-checking option.
	(GLYPH_DEBUG): Define if glyphs debugging is enabled.

2012-06-28  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.in (ENABLE_CHECKING): Update comment.

2012-06-28  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in: Don't check for sys/select.h, sys/time.h, utime.h.
	Emacs proper no longer uses these headers, and can rely on Gnulib
	for these checks.

	Merge from gnulib.
	* m4/getopt.m4: Copy new version from gnulib, incorporating:
	getopt-posix: No longer guarantee that option processing is resettable.

2012-06-27  Glenn Morris  <rgm@gnu.org>

	* configure.in: Only check for paxctl on gnu-linux.  (Bug#11398#26)

	* INSTALL: Remove references to paths.el.

2012-06-26  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in ($(GNULIBOBJS)): Depend on stamp_BLD.
	This replaces separate dependency for each object file, which required
	the same object file to be mentioned twice, causing failures in
	parallel builds.

2012-06-26  Paul Eggert  <eggert@cs.ucla.edu>

	Clean out last vestiges of the old HAVE_CONFIG_H stuff.
	* lib/makefile.w32-in (LOCAL_FLAGS): Remove -DHAVE_CONFIG_H.

2012-06-25  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.in (AC_CHECK_FUNCS): Detect library functions
	strcasecmp and strncasecmp.

2012-06-24  Paul Eggert  <eggert@cs.ucla.edu>

	Switch from NO_RETURN to C11's _Noreturn (Bug#11750).
	We might as well use the spelling standardized by C11,
	as in the long run that should simplify maintenance.
	* configure.in (NO_RETURN): Remove.  All uses replaced by _Noreturn.

2012-06-24  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in ($(BLD)/dtotimespec.$(O))
	($(BLD)/timespec-add.$(O))
	($(BLD)/timespec-sub.$(O)): Don't depend on
	$(EMACS_ROOT)/nt/inc/sys/time.h.

	* lib/stat-time.h:
	* lib/timespec.h:
	* lib/utimens.h: Revert last change.

2012-06-23  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib.
	* m4/getopt.m4: Copy new version from gnulib, incorporating:
	getopt-gnu: Handle suboptimal getopt_long's abbreviation handling.

2012-06-23  Eli Zaretskii  <eliz@gnu.org>

	Fix the MS-Windows build broken by 2012-06-22T21:17:42Z!eggert@cs.ucla.edu.
	* lib/makefile.w32-in (GNULIBOBJS): Add $(BLD)/dtotimespec.$(O),
	$(BLD)/gettime.$(O), $(BLD)/timespec-add.$(O), and
	$(BLD)/timespec-sub.$(O).
	($(BLD)/dtotimespec.$(O))
	($(BLD)/gettime.$(O))
	($(BLD)/timespec-add.$(O))
	($(BLD)/timespec-sub.$(O)): New dependencies.

	* lib/stat-time.h:
	* lib/timespec.h:
	* lib/utimens.h: Include sys/time.h.

2012-06-23  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Don't use AC_CHECK_FUNCS_ONCE, which doesn't use
	the correct CFLAGS and LIBS.

2012-06-22  Paul Eggert  <eggert@cs.ucla.edu>

	Support higher-resolution time stamps (Bug#9000).
	* configure.in (gl_ASSERT_NO_GNULIB_POSIXCHECK)
	(gl_ASSERT_NO_GNULIB_TESTS, gl_INIT): Move these up earlier, so
	that the new clock stuff doesn't clash with RSVG_LIBS.
	(AC_CHECK_HEADERS): Don't check for sys/select.h, sys/time.h, utime.h,
	as gnulib does that for us now.
	(emacs_cv_struct_utimbuf, HAVE_STRUCT_UTIMBUF, HAVE_TIMEVAL)
	(GETTIMEOFDAY_ONE_ARGUMENT): Remove; gnulib does these now.
	(AC_CHECK_FUNCS): Remove utimes; no longer needed.
	* lib/dtotimespec.c, lib/gettime.c, lib/gettimeofday.c, lib/pselect.c:
	* lib/stat-time.h, lib/sys_select.in.h, lib/sys_time.in.h:
	* lib/timespec-add.c, lib/timespec-sub.c, lib/timespec.h:
	* lib/utimens.c, lib/utimens.h, m4/clock_time.m4, m4/gettime.m4:
	* m4/gettimeofday.m4, m4/pselect.m4, m4/stat-time.m4:
	* m4/sys_select_h.m4, m4/sys_socket_h.m4, m4/sys_time_h.m4:
	* m4/timespec.m4, m4/utimbuf.m4, m4/utimens.m4, m4/utimes.m4:
	New files, copied automatically from gnulib.
	* lib/gnulib.mk, m4/gnulib-comp.m4: Merge from gnulib.

2012-06-22  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib.
	* lib/filemode.h, lib/signal.in.h, lib/stat.c, lib/stdint.in.h:
	* lib/stdlib.in.h, lib/unistd.in.h, m4/extensions.m4, m4/getloadavg.m4:
	* m4/getopt.m4, m4/gnulib-common.m4, m4/largefile.m4, m4/mktime.m4:
	* m4/multiarch.m4, m4/nocrash.m4, m4/stdio_h.m4, m4/time_r.m4:
	Copy new versions from gnulib, incorporating the following changes:
	2012-06-22 time_r: fix typo that always overrode localtime_r decl
	2012-06-22 Write "Mac OS X" instead of "MacOS X".
	2012-06-21 mktime: fix integer overflow in 'configure'-time test
	2012-06-21 nonblocking: Avoid compilation error on mingw64.
	2012-06-19 stat, fstat: Avoid warnings on mingw64.
	2012-06-19 getopt-gnu: Fix exit code overflow in autoconf test.

2012-06-13  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Rename --enable-use-lisp-union-type to
	--enable-check-lisp-object-type and define CHECK_LISP_OBJECT_TYPE
	instead of USE_LISP_UNION_TYPE.

2012-06-12  Glenn Morris  <rgm@gnu.org>

	* configure.in (HAVE_PROCFS, _STRUCTURED_PROC): New AC_DEFINEs.
	(opsysfile): Set specially for sol2-10.

	* configure.in (BROKEN_SA_RESTART, USG_SUBTTY_WORKS):
	New AC_DEFINEs, for hpux11.
	(opsysfile): Set specially for hpux11.

2012-06-12  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in: Coalesce some function checking.
	This makes 'configure' a bit smaller.
	Prefer AC_CHECK_FUNCS_ONCE for functions that we always check for.

2012-06-12  Glenn Morris  <rgm@gnu.org>

	* configure.in (opsysfile): Set specially for gnu-kfreebsd, openbsd.

	* configure.in (NO_TERMIO, BROKEN_SIGIO): Move here from src/s.

	* configure.in: Anticipate platforms with no src/s file.

2012-06-12  Chong Yidong  <cyd@gnu.org>

	* configure.in: Check for MagickMergeImageLayers (Bug#11678).

2012-06-11  Glenn Morris  <rgm@gnu.org>

	* configure.in (SYSTEM_TYPE): New AC_DEFINE.

2012-06-09  Michael Albinus  <michael.albinus@gmx.de>

	* configure.in (dbus_type_is_valid): Check for library function.

2012-06-06  Glenn Morris  <rgm@gnu.org>

	* INSTALL, make-dist: Remove vcdiff.

2012-06-03  Glenn Morris  <rgm@gnu.org>

	* INSTALL, make-dist: Remove rcs-checkin.

2012-06-03  Ulrich Müller  <ulm@gentoo.org>

	* configure.in (PAXCTL): Check for paxctl.  (Bug#11398)

2012-06-01  Paul Eggert  <eggert@cs.ucla.edu>

	Remove --disable-maintainer-mode option from 'configure'.  (Bug#11555)
	It is confusingly named and rarely useful.  See, for example,
	<https://lists.gnu.org/r/emacs-devel/2011-12/msg00089.html>.
	* INSTALL.BZR: Don't mention --disable-maintainer-mode.
	* Makefile.in (MAINTAINER_MODE_FLAG): Remove; all uses removed.
	* configure.in: Remove --disable-maintainer-mode.
	(USE_MAINTAINER_MODE, MAINT): Remove.

2012-05-28  Paul Eggert  <eggert@cs.ucla.edu>

	Make 'configure' a bit smaller and faster.
	* configure.in (INSTALL_INFO): Set it with one call to
	AC_PATH_PROG, not three.
	(PKG_CONFIG): Hoist this out of PKG_CHECK_MODULES, since it's
	so likely that it'll be needed.
	(AC_CHECK_HEADERS_ONCE): Prefer to AC_CHECK_HEADERS where either works.
	(AC_PROG_MAKE_SET): Remove; Automake does this.
	(sysinfo): Do not check for this function, as it's never used.
	(tzset): Check for this function just once.
	* m4/manywarnings.m4: Sync from gnulib, incorporating the following:
	2012-05-27 manywarnings: remove duplicate -Wmultichar entry

2012-05-27  Eli Zaretskii  <eliz@gnu.org>

	* config.bat (lib): Create/update lib/stdalign.in-h and
	lib/sys_types.in-h.

	* lib/makefile.w32-in ($(BLD)/md5.$(O))
	($(BLD)/sha1.$(O))
	($(BLD)/sha256.$(O))
	($(BLD)/sha512.$(O)): Depend on $(EMACS_ROOT)/nt/inc/stdalign.h.
	Suggested by Christoph Scholtes <cschol2112@googlemail.com>.

	* lib/getopt_.h: Regenerate.

2012-05-27  Paul Eggert  <eggert@cs.ucla.edu>

	Assume gnulib does largefile.
	Gnulib does the largefile configuration anyway, so when configure.in
	invokes AC_SYS_LARGEFILE, that bloats 'configure' unnecessarily.
	* configure.in (AC_SYS_LARGEFILE): Remove.
	* lib/gnulib.mk: Autoupdate.

2012-05-26  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib.  (Bug#11527)

	The build procedure now creates <stdalign.h> and <sys/types.h> for
	older hosts that lack a working <stdalign.h> or whose
	<sys/types.h> does not define pid_t, size_t, ssize_t, mode_t.
	New symbols such as WINDOWS_64_BIT_OFF_T may require attention in the
	msdos and nt builds.

	Here is a precis of gnulib changes that seem relevant; please see
	the gnulib ChangeLog for details.

	2012-05-18 crypto: fix bug in large buffer handling
	2012-05-14 ignore-value.h: remove unused _GL_ATTRIBUTE_DEPRECATED
	2012-05-10 _Noreturn: port config.h to gcc -Wundef
	2012-05-08 warnings.m4: give a means to specify the program to compile
	2012-05-07 stdint: be more consistent with glibc, SunOS libc
	2012-04-21 Large File Support for native Windows platforms.
	2012-04-14 stat: Bypass buggy override in mingw64.
	2012-03-29 stdio: don't assume gets any more
	2012-03-24 Enable common subexpression optimization in GCC.
	2012-02-09 maint: replace FSF snail-mail addresses with URLs
	2012-01-30 sys_stat: Fix support for mingw64 and MSVC.
	2012-01-28 strtoimax: eliminate need for stdint.h, inttypes.h checks
	2012-01-21 stdint: Add support for Android.
	2012-01-15 Improve support for MSVC 9.
	2012-01-08 mktime: Avoid compilation error on Solaris 11.
	2012-01-05 Use ', not `, for quoting output.
	2012-01-05 strtoimax: Don't replace systems where intmax_t is int.
	2012-01-05 strtoimax: Work around AIX 5.1 bug.
	2012-01-05 inttypes: Modernize.
	2011-12-13 inttypes, stdint: add C++11 support
	2011-11-26 Fix conflict between two instantiations of module 'unistd'.
	2011-11-21 _Noreturn: Check that _MSC_VER is defined
	2011-11-10 ptsname_r: Avoid compilation error on OSF/1 5.1.
	2011-11-09 raise: fix mingw handling of SIGPIPE
	2011-10-27 Add stdalign module and use it in other modules.

	* lib/stdalign.in.h, lib/sys_types.in.h, m4/off_t.m4, m4/stdalign.m4:
	* m4/sys_types_h.m4:
	New files.
	* build-aux/move-if-change, build-aux/snippet/_Noreturn.h:
	* build-aux/snippet/arg-nonnull.h, build-aux/snippet/c++defs.h:
	* build-aux/snippet/warn-on-use.h:
	* lib/alloca.in.h, lib/allocator.h, lib/careadlinkat.c:
	* lib/careadlinkat.h, lib/dosname.h, lib/dup2.c, lib/filemode.c:
	* lib/filemode.h, lib/ftoastr.c, lib/ftoastr.h, lib/getloadavg.c:
	* lib/getopt.c, lib/getopt.in.h, lib/getopt1.c, lib/getopt_int.h:
	* lib/gettext.h, lib/gnulib.mk, lib/ignore-value.h, lib/intprops.h:
	* lib/inttypes.in.h, lib/lstat.c, lib/md5.c, lib/md5.h, lib/mktime.c:
	* lib/pathmax.h, lib/pthread_sigmask.c, lib/readlink.c, lib/sha1.c:
	* lib/sha1.h, lib/sha256.c, lib/sha256.h, lib/sha512.c, lib/sha512.h:
	* lib/signal.in.h, lib/sigprocmask.c, lib/stat.c, lib/stdarg.in.h:
	* lib/stdbool.in.h, lib/stddef.in.h, lib/stdint.in.h, lib/stdio.in.h:
	* lib/stdlib.in.h, lib/strftime.c, lib/strftime.h, lib/strtoimax.c:
	* lib/strtol.c, lib/strtoll.c, lib/strtoul.c, lib/strtoull.c:
	* lib/symlink.c, lib/sys_stat.in.h, lib/time.in.h, lib/time_r.c:
	* lib/u64.h, lib/unistd.in.h, lib/verify.h, m4/00gnulib.m4:
	* m4/alloca.m4, m4/c-strtod.m4, m4/dup2.m4, m4/extensions.m4:
	* m4/filemode.m4, m4/getloadavg.m4, m4/getopt.m4, m4/gl-comp.m4:
	* m4/gnulib-common.m4, m4/gnulib-tool.m4, m4/include_next.m4:
	* m4/inttypes.m4, m4/largefile.m4, m4/longlong.m4, m4/lstat.m4:
	* m4/md5.m4, m4/mktime.m4, m4/multiarch.m4, m4/nocrash.m4:
	* m4/pathmax.m4, m4/pthread_sigmask.m4, m4/readlink.m4, m4/sha1.m4:
	* m4/sha256.m4, m4/sha512.m4, m4/signal_h.m4, m4/signalblocking.m4:
	* m4/socklen.m4, m4/ssize_t.m4, m4/st_dm_mode.m4, m4/stat.m4:
	* m4/stdarg.m4, m4/stdbool.m4, m4/stddef_h.m4, m4/stdint.m4:
	* m4/stdio_h.m4, m4/stdlib_h.m4, m4/strftime.m4, m4/strtoimax.m4:
	* m4/strtoll.m4, m4/strtoull.m4, m4/strtoumax.m4, m4/symlink.m4:
	* m4/sys_stat_h.m4, m4/time_h.m4, m4/time_r.m4, m4/tm_gmtoff.m4:
	* m4/unistd_h.m4, m4/warnings.m4, m4/wchar_t.m4:
	Update from gnulib.

2012-05-22  Paul Eggert  <eggert@cs.ucla.edu>

	Remove src/m/*.
	* configure.in: Remove all mention of src/m/*.
	(machine, machfile, M_FILE, config_machfile, and_machfile): Remove.
	All uses removed.
	(BITS_PER_CHAR, BITS_PER_SHORT, BITS_PER_INT, BITS_PER_LONG)
	(BITS_PER_LONG_LONG): Move to src/lisp.h.
	* lib/makefile.w32-in: Remove dependencies on
	$(EMACS_ROOT)/src/m/intel386.h.
	* make-dist: Don't make links to src/m.

2012-05-22  Paul Eggert  <eggert@cs.ucla.edu>

	* Makefile.in (ACLOCAL_INPUTS): Fix up gnulib-comp.m4 name.  (Bug#11529)
	Without this further fix, aclocal was being invoked unnecessarily.

2012-05-22  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (blessmail, install-arch-dep, uninstall):
	Check cd lib-src works.
	(install-arch-dep, uninstall): Remove unneeded subshells.

2012-05-21  Glenn Morris  <rgm@gnu.org>

	* update-subdirs: Move to build-aux/.
	* make-dist, Makefile.in (install-arch-indep): Update for this change.

	* Makefile.in (leimdir): New, set by configure.
	(COPYDIR, COPYDESTS): Add leim directories.
	(install-leim): Remove.
	(install-arch-indep): Handle leim installation directly.

	* vpath.sed: Remove unused file.
	* make-dist: No more vpath.sed.

2012-05-21  Paul Eggert  <eggert@cs.ucla.edu>

	Use full name for m4/gnulib-comp.m4.  (Bug#11529)
	Previously the file was named m4/gl-comp.m4 due to DOS 8+3 restrictions,
	even though the file's name in gnulib is m4/gnulib-comp.m4.
	This had a problem when merging from gnulib, as the code temporarily
	renamed it to the full name, causing problems when interrupted.
	Now the file has its full name, with the idea that we will find
	a solution for MS-DOS that does not affect the rest of Emacs.
	* m4/gnulib-comp.m4: Rename from m4/gl-comp.m4.

	Assume C89 or later.
	* configure.in (AC_C_PROTOTYPES, AC_C_VOLATILE, AC_C_CONST)
	(POINTER_TYPE, PROTOTYPES): Remove.

	Make merging from gnulib a script, not a makefile action.
	Putting it in a makefile has some problems with reflection, as
	merging from gnulib updates 'configure', which can update the makefile.
	Putting it in a standalone script breaks this loop.
	* Makefile.in (gnulib_srcdir, $(gnulib_srcdir), DOS_gnulib_comp.m4)
	(GNULIB_MODULES, GNULIB_TOOL_FLAGS, sync-from-gnulib):
	Remove, moving the actions to the script admin/merge-gnulib.

2012-05-21  Glenn Morris  <rgm@gnu.org>

	* configure.in (LEIM_INSTALLDIR):
	Rename to leimdir, treat like lispdir.

2012-05-21  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-indep, install-doc, install-info)
	(uninstall): Scrap superfluous subshells.

2012-05-19  Ulrich Müller  <ulm@gentoo.org>

	* Makefile.in (install-etc): Respect DESTDIR.  (Bug#11518)

2012-05-19  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in (AC_CHECK_FUNCS): Remove XSetWMProtocols,
	getdomainname, mblen (twice), mbrlen (twice), mbsinit, ualarm,
	getsockopt, setsockopt, mremap, mempcpy.

	* configure.in (machine): Do not set to 'vax', since src/m/vax.h
	is being removed.
	(AC_CHECK_FUNCS): Remove ftime.

2012-05-19  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-indep): Remove unneeded subshell.

	* Makefile.in (install-arch-indep): Remove unneeded chmod.
	Set permissions of lisp/subdirs.el.

	* Makefile.in (SUBDIR): Add leim.  Update users.

	* Makefile.in (lib, lib-src, lisp): Check cd return value.

	* Makefile.in (leim): No need to set PARALLEL.

2012-05-18  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-indep, install-info, install-man):
	Simplify some one-sided ifs.

	* Makefile.in: Install only the relevant DOC file.
	(install-arch-indep): Delete etc/DOC*.
	(install-doc): No more need to delete etc/DOC.

	* Makefile.in (install-arch-indep): Split into several rules.
	(install-doc, innstall-info, install-man): New rules.

	* configure.in (mandir): May as well include it in the NS app bundle.

	* configure.in (INSTALL_ARCH_INDEP_EXTRA): New output variable.
	* Makefile.in (INSTALL_ARCH_INDEP_EXTRA): New, set by configure.
	(install-arch-indep): Don't install-etc for self-contained ns builds.

	* configure.in (GCC_TEST_OPTIONS, NON_GCC_TEST_OPTIONS) <darwin>:
	No longer unconditonally add /sw directories.  (Bug#2280)

	* Makefile.in (install-arch-dep): Depend on install-arch-indep.
	(install-arch-indep): Depend on install-leim.
	(install): Remove explicit install-leim dependence.

	* Makefile.in (install-arch-indep):
	Move last element of mkdir rule here.
	(mkdir): Remove rule.

	* Makefile.in (install-arch-indep): Remove unneeded chmods.
	INSTALL_DATA does this for us.

	* Makefile.in (install-arch-dep): Ensure bindir exists.
	Drop mkdir dependency.
	(install-arch-indep): Ensure docdir, infodir, mandir exist.
	(install-leim): Drop mkdir dependency.
	(mkdir): Remove most directories, now made in relevant rules.

	* Makefile.in (install-arch-indep): Combine adjacent loops.

2012-05-17  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-etc, mkdir):
	Make relevant directories in install-etc rather than mkdir.

	* Makefile.in (write_subdir): Create the directory if needed.
	(install-arch-dep, mkdir): No need to make site-lisp directories.

	* Makefile.in (write_subdir): New.
	(install-arch-indep, install-arch-dep): Use $write_subdir.

	* configure.in (docdir, etcdir, infodir, lispdir):
	For a self-contained ns build, set these to the appropriate values.
	* Makefile.in (install-arch-dep): No need to move info/ any more.

	* configure.in (ns_self_contained): New output variable.
	* Makefile.in (ns_self_contained): New, set by configure.
	(install-arch-dep): For a self-contained ns build,
	don't bother installing binaries then immediately deleting them.

	* Makefile.in (ns_appbindir, ns_appresdir):
	Move them before things that may refer to them.
	(install-arch-dep): No need to relocate self-contained ns libexec.

	* configure.in (archlibdir): Set it for self-contained ns builds.
	(libexecdir): Don't expand it now (this is mainly cosmetic).

2012-05-16  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in: Simplify by removing CPP etc.
	(CPP_TEST_OPTIONS, NON_GNU_CPP, cc_specified, SPECIFIED_CFLAGS)
	(SPECIFED_CPP, CPP, NON_GNU_CC, AC_PROG_CPP): Remove; not needed.
	In particular we no longer need to fiddle with CPP, since we don't
	use CPP specially any more.
	(gl_EARLY): Invoke this after adjusting CC, so that it uses the
	adjusted compiler.
	(AC_PROG_INSTALL, AC_PROG_MKDIR_P, AC_PROG_RANLIB): Comment out,
	since gl_EARLY and/or Autoconf already does these.

2012-05-16  Glenn Morris  <rgm@gnu.org>

	* configure.in: Try to fix building with gcc >= 4.6 on Darwin.
	(CPP): Do not unconditionally set it on Darwin.
	Instead, try to test if -no-cpp-precomp is accepted.
	(CPP_TEST_OPTIONS, SPECIFIED_CPP): New.  (Bug#9755)

2012-05-15  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-dep): Replace use of MV_DIRS.

	* Makefile.in (install-arch-dep): Do not hard-code version number.

	* Makefile.in (install-arch-dep): NS install no longer needs to
	symlink libexec/* into bin/, since 2012-05-14 ns_init_paths change.

2012-05-12  Glenn Morris  <rgm@gnu.org>

	* configure.in (ns_appbindir): Remove trailing "/".

	* configure.in (AC_PROG_MKDIR_P): Call it, to set MKDIR_P.
	(MKDEPDIR): Use $MKDIR_P.
	* Makefile.in (MKDIR_P): New, set by configure.
	(mkdir): Use $MKDIR_P.

2012-05-11  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-indep): There are no more Makefile.c files.
	Use INSTALL_DATA for the DOC file.
	Remove dead code for ./lisp that never executes.

2012-05-10  Glenn Morris  <rgm@gnu.org>

	* configure.in (LEIM_INSTALLDIR): New output variable.

2012-05-08  Stefan Monnier  <monnier@iro.umontreal.ca>

	* .dir-locals.el (log-edit-mode): Enable gnu-style checks.

2012-05-08  Glenn Morris  <rgm@gnu.org>

	* make-dist: No more doc/lispref/*.el.

2012-05-05  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Fix quoting bugs.

2012-05-04  Glenn Morris  <rgm@gnu.org>

	* configure.in (INFO_EXT, INFO_OPTS): New output variables.

2012-05-02  Glenn Morris  <rgm@gnu.org>

	* configure.in (LD_SWITCH_SYSTEM): Don't try to defeat
	the choices made by FreeBSD and NetBSD.  (Bug#10313)

	* Makefile.in (INFO_FILES): Remove variable.
	(INFO_NONMISC): New variable.
	(install-arch-indep, uninstall): Don't use $INFO_FILES.

	* Makefile.in (uninstall): Remove useless-use-of-for; that for
	some reason caused problems on an old Solaris.

	* Makefile.in (install-arch-indep, uninstall):
	Ensure that INSTALL-type commands are run from top-level.

	* info/dir: Make some entries consistent with the source texi files.

	* configure.in (LIBS_TERMCAP): Fix netbsd logic, broken 2012-03-04.

2012-05-02  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-indep):
	Combine adjacent install-data and install-info loops.

2012-05-01  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (MAN_PAGES): Remove.
	(install-arch-indep, uninstall): Don't use $MAN_PAGES.

	* configure.in: Try libtinfo for tputs.
	(LIBS_TERMCAP) [gnu*]: Use libtinfo if it was found.  (Bug#9741)

	* configure.in: Combine adjacent $opsys case blocks.

	* configure.in (LIBS_TERMCAP): Remove unreachable branch for sol2.

	* configure.in: Invert the TERMINFO logic,
	since "yes" is far more common than "no".

	* configure.in (HAVE_LIBNCURSES): Remove; it is required to be true.

	* configure.in (LD_SWITCH_X_SITE_RPATH):
	Rename from LD_SWITCH_X_SITE_AUX_RPATH.

	* configure.in (LD_SWITCH_X_SITE_AUX): Remove; no longer used.

2012-04-26  Glenn Morris  <rgm@gnu.org>

	* make-dist: No more doc/lispref/tindex.pl.

2012-04-22  Michael Albinus  <michael.albinus@gmx.de>

	* configure.in (dbus_validate_bus_name, dbus_validate_path)
	(dbus_validate_interface, dbus_validate_member): Check also for
	these library functions.

2012-04-22  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in (doug_lea_malloc): Check for __malloc_initialize_hook.
	With glibc 2.14 or later, when compiled with GCC 4.7.0's
	-Werror=deprecated-declarations flag, use of hooks like
	__malloc_initialize_hook causes compilation to fail because these
	hooks are deprecated.  Modify 'configure' to check for these hooks too.
	Simplify the 'configure' code to test for all the hooks at once.
	(emacs_cv_var___after_morecore_hook): Remove, replacing with ...
	(emacs_cv_var_doug_lea_malloc): ... this new var.

2012-04-21  Paul Eggert  <eggert@cs.ucla.edu>

	Sync from gnulib version 4f11d6bebc3098c64ffde27079ab0d0cecfd0cdc
	dated 2011-10-07.  Regenerating from current gnulib would be a
	pervasive change, and currently the trunk isn't open to such changes.
	* configure.in (WARN_CFLAGS): Remove; no longer needed now
	that gnulib does it.
	* lib/gnulib.mk, m4/gl-comp.m4: Regenerate.

2012-04-21  Andreas Schwab  <schwab@linux-m68k.org>

	* m4/gl-comp.m4: Update.  (Bug#11285)

2012-04-20  Ludovic Courtès  <ludo@gnu.org>

	* configure.in: Don't use the -R option (Bug#11251).

2012-04-18  Paul Eggert  <eggert@cs.ucla.edu>

	configure: new option --enable-gcc-warnings (Bug#11207)
	I have been using this change for many months in my private copy
	of Emacs, and have used it to find several bugs.  It's mature
	enough to publish now.
	* Makefile.in (GNULIB_MODULES): Add warnings, manywarnings.
	* configure.in: Support --enable-gcc-warnings, in the style of
	other GNU packages such as coreutils.
	(C_WARNINGS_SWITCH): Remove, replacing with...
	(WARN_CFLAGS, GNULIB_WARN_CFLAGS): New variable.
	(PKG_CHECK_MODULES, C_SWITCH_X_SITE): Use -isystem rather than -I,
	when including system files with GCC.
	* INSTALL (DETAILED BUILDING AND INSTALLATION): Likewise.
	* lib/Makefile.am (AM_CFLAGS): New macro.
	* m4/manywarnings.m4, m4/warnings.m4: New files, from gnulib.

2012-04-17  Dmitry Antipov  <dmantipov@yandex.ru>

	* configure.in (AC_CHECK_FUNCS):
	Add getpwent, endpwent, getgrent, endgrent.  (Bug#7900)

2012-04-16  Glenn Morris  <rgm@gnu.org>

	* configure.in (NS_HAVE_NSINTEGER): Remove unnecessary variable.

	* configure.in: Remove X libs workaround for old autoconf.

2012-04-12  Ken Brown  <kbrown@cornell.edu>

	* configure.in: Warn that Cygwin 1.5 is unsupported.  (Bug#10398)

2012-04-11  Glenn Morris  <rgm@gnu.org>

	* configure.in (GNUSTEP_CFLAGS): Rename from C_SWITCH_X_SYSTEM.

2012-04-10  Glenn Morris  <rgm@gnu.org>

	* configure.in: Conditionally generate admin/unidata/Makefile.

2012-04-09  Teodor Zlatanov  <tzz@lifelogs.com>

	* info/dir, Makefile.in (INFO_FILES): Add emacs-gnutls manual.

2012-04-09  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (leim): Check cd return value.  Pass fewer variables.
	(install-leim): Check cd return value.  Pass $MFLAGS.
	(install-strip): Pass $MFLAGS.

	* configure.in: Require makeinfo >= 4.7.  (Bug#10910)
	Eg org.texi has been using 4.7 functions for some time.

2012-04-07  Paul Eggert  <eggert@cs.ucla.edu>

	Check pkg-config exit status when configuring (Bug#10626).
	* configure.in (PKG_CHECK_MODULES): Do not assume that pkg-config
	works; check its exit status.  Reported by Jordi Gutiérrez Hermoso in
	<https://lists.gnu.org/r/emacs-devel/2012-01/msg00787.html>.

2012-04-07  Glenn Morris  <rgm@gnu.org>

	* README, configure.in (AC_INIT): Bump version to 24.1.50.

2012-04-07  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in (gnulib, all): Don't depend on stamp_BLD.

2012-03-04  Paul Eggert  <eggert@cs.ucla.edu>

	configure: fix ncurses 'configure' issue on Solaris 10 (Bug#10677)
	* configure.in (LIBS_TERMCAP): Default this to the result of
	the tputs library search.  Do a run-time test for the linkability
	of tputs unless cross-compiling, as that's more reliable if the
	link flags and libraries are messed up.  Don't change LIBS as
	a result of the test, as that may mess up later tests.

2012-02-05  Christoph Scholtes  <cschol2112@googlemail.com>

	* make-dist (README.W32): Include file in source tarball.  (Bug#9750)

	* lib/makefile.w32-in (PRAGMA_SYSTEM_HEADER): Move to platform
	specific makefiles to support getopt_.h generation with MSVC.

2012-02-04  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (uninstall):
	Handle compressed info files and man pages.  (Bug#10718)

2012-02-02  Glenn Morris  <rgm@gnu.org>

	* configure.in [HAVE_NS]:
	Error if use --without-toolkit-scroll-bars.  (Bug#10673)

2012-02-01  Paul Eggert  <eggert@cs.ucla.edu>

	Port to older Solaris 10 versions (Bug#10677).
	Bug reported by Chong Yidong for SunOS 5.10 Generic_127111-11 sparc.
	I cannot reproduce it on SunOS 5.10 Generic_141444-09 sparc but
	possibly this is because Sun fixed the 'stat' bug in my version.
	* Makefile.in (GNULIB_TOOL_FLAGS): Do not avoid the pathmax module.
	* lib/pathmax.h, m4/pathmax.m4: New files, from gnulib.
	* lib/gnulib.mk, m4/gl-comp.m4: Regenerate.
	These changes are based on gnulib version
	4f11d6bebc3098c64ffde27079ab0d0cecfd0cdc dated 2011-10-07 20:59:10,
	because Emacs is in feature freeze and we do not want to merge any
	more-recent changes from gnulib.

2012-01-31  Glenn Morris  <rgm@gnu.org>

	* configure.in: Throw an explicit error if Motif toolkit was
	requested but requirements could not be found.

	* configure.in: Allow Emacs to actually be built with xaw scroll-bars.

2012-01-30  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in ($(BLD)/sha1.$(O) $(BLD)/sha256.$(O)
	$(BLD)/sha512.$(O)): Depend on stamp_BLD.  Fixes a build failure
	with "make -j3".

2012-01-16  Juanma Barranquero  <lekktu@gmail.com>

	* .bzrignore: Ignore etc/__pycache__.

2011-12-17  Paul Eggert  <eggert@cs.ucla.edu>

	Port HAVE_PTHREAD configuration to MirBSD 10 (Bug#10201).
	* configure.in (HAVE_PTHREAD): Check for pthread_atfork if linking
	to gmalloc.c.  This should prevent a MirBSD 10 build failure reported
	by Nelson H. F. Beebe in
	<https://lists.gnu.org/r/emacs-devel/2011-12/msg00065.html>.

2011-12-10  Juanma Barranquero  <lekktu@gmail.com>

	* update-subdirs: Don't set no-byte-compile twice (bug#10260).

2011-12-10  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (HAVE_ALSA, HAVE_GSETTINGS): Save and restore LIBS
	instead of LDFLAGS (Bug#10230).

2011-12-03  Paul Eggert  <eggert@cs.ucla.edu>

	* INSTALL.BZR: Mention configure -C, --disable-maintainer-mode.

	Propagate configure flags to sub-configures.
	* Makefile.in (cache_file, MAINTAINER_MODE_FLAG, CONFIGUREFLAGS):
	New macros.
	(config.status, bootstrap): Use them to propagate configure flags
	to sub-configures.
	* configure.in (cache_file): AC_SUBST this, for Makefile.in.

2011-12-03  Paul Eggert  <eggert@cs.ucla.edu>

	* .bzrignore: Add config.cache.

2011-11-27  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Check for gtk_window_set_has_resize_grip.

2011-11-24  Juanma Barranquero  <lekktu@gmail.com>

	* configure.in (HAVE_XPM): Fix typo.

2011-11-22  Glenn Morris  <rgm@gnu.org>

	* configure.in (EMACSDATA, EMACSDOC): If set, print, since they can
	have confusing effects on the build.  (Bug#6401)

	* Makefile.in (install-arch-dep): Tweak previous change.

2011-11-22  Yavor Doganov  <yavor@gnu.org>

	Do not install arch-dependent files in the app bundle if
	--disable-ns-self-contained is requested.  (Bug#1335)
	* configure.in (exec_prefix, libexecdir): Define relative to
	`ns_appbindir' only if configured for a self-contained app.
	* Makefile.in (install-arch-dep): Test for the existence of
	libexec in the Emacs.app bundle before executing commands.

2011-11-20  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Remove reference to src/m/ibms390.h.

2011-11-13  Glenn Morris  <rgm@gnu.org>

	* INSTALL: Tiny updates for disk space used during installation.

2011-11-05  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in (FRC): New dummy target.
	(TAGS): Depend on FRC.

2011-11-04  Glenn Morris  <rgm@gnu.org>

	* configure.in: Increase minimum GnuTLS version to 2.6.6.  (Bug#9929)
	Do not include GnuTLS version info in final summary message.

2011-10-31  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Use config.in and Makefile.in from src/ and lib/, if
	they exist there, else from autogen/.

	* make-dist (msdos): Add depfiles.bat and inttypes.h.

2011-10-25  Nali Toja  <nalitoja@gmail.com>  (tiny change)

	* configure.in (HAVE_GNU_MAKE): Respect MAKE env-var.  (Bug#9868)

2011-10-24  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in (LIB_PTHREAD): Prepend -lpthread to LIBS (Bug#9852)
	if the library is found.  Otherwise, later configure-time tests,
	such as the test for pthread_sigmask, generate the wrong results
	on some platforms.  Reported by Nali Toja for FreeBSD.

2011-10-20  Paul Eggert  <eggert@cs.ucla.edu>

	Time zone name fixes for non-ASCII locales (Bug#641, Bug#9794)
	* configure.in (AC_STRUCT_TM, AC_STRUCT_TIMEZONE, HAVE_TM_GMTOFF):
	Remove; no longer needed, now that we defer to strftime for time
	zone names.

2011-10-18  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (GLIB_REQUIRED, GTK_REQUIRED): Set to 2.10 (Bug#9786).

2011-10-18  Chong Yidong  <cyd@gnu.org>

	* make-dist: Remove Cocoa/Emacs.xcodeproj from distribution.

2011-10-13  Glenn Morris  <rgm@gnu.org>

	* configure.in: Also look for tputs in libcurses.  (Bug#9736)

2011-10-12  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in: Remove check for -lintl (Bug#9713).
	The check could break 'configure' on GNU/Linux with a (broken) libintl.
	The check was helpful but not essential in Solaris 2.6 (1997),
	and is no longer needed in Solaris 8 (2000).  Solaris 2.6 is
	obsolete -- Sun dropped support for it in 2006 -- and without
	access to that Silurian platform we can't maintain the code anyway.

2011-10-07  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, fixing some 'configure' typos (Bug#9696).
	* lib/signal.in.h, lib/sigprocmask.c, m4/gl-comp.m4:
	* m4/gnulib-common.m4: Merge from gnulib.
	Without this, 'configure' would say "func_gl_gnulib_m4code_pathmax:
	command not found" on powerpc-apple-darwin9.8.0.

	* configure.in (GC_LISP_OBJECT_ALIGNMENT): Remove.
	This is now done by src/alloc.c.

2011-10-02  Richard Stallman  <rms@gnu.org>

	* configure.in: Rename xlinux_first_failure to xgnu_linux_first_failure
	and xlinux_second_failure to xgnu_linux_second_failure.

2011-09-29  Eli Zaretskii  <eliz@gnu.org>

	* .bzrignore: Add ./GNUmakefile.unix, lib/SYS, lib/alloca.in-h,
	lib/signal.in-h.

	* config.bat: Rename GNUmakefile, so it is not run on MS-DOS.
	Rename signal.in.h and alloca.in.h.

2011-09-28  Eli Zaretskii  <eliz@gnu.org>

	* INSTALL: Mention that m17n libraries and libotf are needed for
	Arabic shaping.

2011-09-26  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, improving some licensing wording.
	This clarifies and fixes some licensing issues raised by Glenn Morris
	<https://lists.gnu.org/r/bug-gnulib/2011-09/msg00397.html>.
	It also merges the latest version of texinfo.tex and has some
	MSVC-related changes that don't affect Emacs.
	* Makefile.in (GNULIB_TOOL_FLAGS): Avoid msvc-inval, msvc-nothrow,
	pathmax, and raise, since these are needed only to address
	MSVC-related issues that Emacs doesn't have.
	* lib/dup2.c, lib/gnulib.mk, lib/signal.in.h:
	* lib/sigprocmask.c, lib/stat.c, lib/stdio.in.h, lib/sys_stat.in.h:
	* lib/unistd.in.h, m4/dup2.m4, m4/getloadavg.m4, m4/gl-comp.m4:
	* m4/include_next.m4, m4/signal_h.m4, m4/signalblocking.m4:
	* m4/stdint.m4, m4/stdio_h.m4, m4/sys_stat_h.m4, m4/time_h.m4:
	* m4/unistd_h.m4: Merge from gnulib.

2011-09-26  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Initialize HAVE_LIBXML2.

2011-09-26  Glenn Morris  <rgm@gnu.org>

	* make-dist: Add lib/makefile.w32-in.

2011-09-24  Glenn Morris  <rgm@gnu.org>

	* configure.in (CRT_DIR): Fix netbsd/openbsd handling.

2011-09-19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* .dir-locals.el: Change the debbugs regexp to allow having the
	bug number as the first thing on a line.

2011-09-15  Glenn Morris  <rgm@gnu.org>

	* configure.in: Make configure work with recent GNUsteps.
	(_NATIVE_OBJC_EXCEPTIONS): New AC_DEFINE.
	(GNU_OBJC_CFLAGS): Add -fobjc-exceptions when needed.
	(C_SWITCH_X_SYSTEM): Enable GNUstep to find its headers.

2011-09-11  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, porting to Tru64.
	* lib/lstat.c, lib/stat.c, m4/include_next.m4, m4/nocrash.m4:
	* m4/signal_h.m4, m4/time_h.m4, m4/unistd_h.m4:
	Merge from gnulib.  This fixes a compilation error on Tru64 UNIX
	aka OSF/1 5.1 DTK cc.  There is also some mingw stuff here that
	doesn't affect Emacs.

2011-09-06  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in (isnan): Remove now-unnecessary check.

2011-09-06  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib, using build-aux to remove clutter (Bug#9169).
	This is to fix the following problems:
	 . On FreeBSD 6.4, HP-UX 11.31, and Solaris 9, and when Emacs is
	   configured not to use gtk or any other thread-using library,
	   signals aren't blocked correctly.
	 . On IRIX 6.5 it fixes an unwanted clash between Emacs's
	   and IRIX's signal handling.
	 . On Cygwin 1.7.5 it works around an incompatibility with
	   the system pthread_sigmask.
	 . On MacOS X 10.5 (32-bit), files whose inode numbers
	   exceed 2**31 cannot be read or manipulated.
	 . pthread_sigmask: Actually use results of gl_THREADLIB.
	 . strtoimax, strtoumax: Avoid link error on OSF/1 with DTK cc.
	 . find 'ar' program that fits with --host argument.
	 . Allow the user to override the choice of AR, ARFLAGS, RANLIB.
	* autogen/README: Update destination list.
	* autogen/copy_autogen, autogen/update_autogen, .bzrignore:
	The autogenerated files compile, config.guess,
	config.sub, depcomp, install-sh, and missing are now in build-aux.
	* m4/largefile.m4: New file, so that Emacs does not mess up when
	accessing files with large inode numbers in MacOS X 10.5 and later.
	* m4/nocrash.m4: New file, to avoid triggering background debugger
	and/or create core dumps during 'configure'.
	* build-aux/move-if-change: Renamed from move-if-change.
	* build-aux/snippet/arg-nonnull.h: Renamed from arg-nonnull.h.
	* build-aux/snippet/c++defs.h: Renamed from c++defs.h.
	* build-aux/snippet/warn-on-use.h: Renamed from warn-on-use.h.
	* build-aux/snippet/_Noreturn.h: New file, for draft C1X _Noreturn.
	* Makefile.in (epaths-force, sync-from-gnulib):
	move-if-change is now in build-aux.
	(GNULIB_TOOL_FLAGS): Avoid threadlib; this is now a prerequisite
	of gnulib's pthread_sigmask module, but Emacs doesn't need it.
	(mkdir): install-sh is now in build-aux.
	* config.bat: c++defs.h is now in build-aux/snippets.
	* configure.in: Specify AC_CONFIG_AUX_DIR with build-aux (the
	usual parameter).
	* lib/gnulib.mk, m4/gl-comp.m4: Regenerate.
	* lib/makefile.w32-in (ARG_NONNULL_H): arg-nonnull.h moved
	to build-aux/snippet.
	* lib/pthread_sigmask.c, lib/stdlib.in.h, m4/extensions.m4:
	* m4/getopt.m4, m4/gnulib-common.m4, m4/pthread_sigmask.m4:
	Merge from gnuilib.  This fixes porting bugs on Cygwin, Irix, and
	Solaris, enables MacOS extensions, and enables nocrash during
	'configure'.
	* make-dist: Adjust to new build-aux and build-aux/snippit dirs.

2011-09-04  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in (snprintf): New check.

2011-08-30  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in (opsys): Change pattern to *-*-linux*
	to recognize powerpc-gnu-linux-uclibc (Bug#9403).
	Remove unreachable pattern hppa*-*-linux-gnu*.
	Also, remove ia64*-hp-hpux1[1-9]*, as it also sets machine=hp800,
	and that can't possibly work now that src/m/hp800.h no longer exists.

2011-08-26  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Add -MP to DEPFLAGS (Bug#9372).

2011-08-13  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Add header check: sys/socket.h (Bug#8477),
	ifaddrs.h, net/if_dl.h.  Check for getifaddrs and freeifaddrs.
	Check for sa_len in struct ifreq.ifr_addr (Bug#8477).

2011-08-04  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (HAVE_PTHREAD): Add check for -lpthread (Bug#9216).
	(HAVE_GTK_AND_PTHREAD): Remove.

2011-07-28  Alp Aker  <alp.tekin.aker@gmail.com>

	* configure.in (HAVE_RSVG): Allow use of -lrsvg-2 for any NextStep
	build, not just GNUstep (Bug#9177).

2011-07-28  Paul Eggert  <eggert@cs.ucla.edu>

	Assume freestanding C89 headers, string.h, stdlib.h.
	Again, this simplifies the code, and all current platforms have these.
	* configure.in (AC_CHECK_HEADERS): Don't check for limits.h.
	(AC_HEADER_STDC): Remove.
	(AC_CHECK_FUNCS): No need to check for strchr, strrchr.
	(strchr, strrchr): Remove fallback macros.

	Assume support for memcmp, memcpy, memmove, memset.
	This simplifies the code a bit.  All current platforms have these,
	as they are required for C89.  If this turns into a problem we
	can add the gnulib modules for these (a 1-line change to Makefile.in).
	* configure.in: Don't check for memcmp, memcpy, memmove, memset.

2011-07-27  Paul Eggert  <eggert@cs.ucla.edu>

	* GNUmakefile: New file.
	This is for convenience, so that one can run GNU make in an
	unconfigured source tree, and get a default build.

2011-07-13  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (GSETTINGS): Check for gio-2.0 >= 2.26.

2011-07-11  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>

	* configure.in (LD_SWITCH_SYSTEM_TEMACS): Add -fno-pie on Darwin
	so as to suppress address randomization (Bug#8395).

2011-07-09  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/stdint.in.h: Merge from gnulib (Bug#9025).
	This fixes a build problem on older Mac OS X hosts.

	* m4/pthread_sigmask.m4 (gl_FUNC_PTHREAD_SIGMASK): Omit gl_THREADLIB
	test, which runs afoul of Automake installations where, for example,
	/usr/share/aclocal contains a copy of gl_THREADLIB.
	Reported by Sven Joachim in
	<https://lists.gnu.org/r/emacs-devel/2011-07/msg00529.html>.
	This is just a quick temporary fix, specific to Emacs; I'll work
	with the other gnulib maintainers to get a more-permanent fix.

	Add gnulib's strtoimax module, needed on Solaris 8.
	* Makefile.in (GNULIB_MODULES): Add strtoimax.
	* lib/strtoll.c, m4/strtoimax.m4, m4/strtoll.m4: New files,
	automatically imported from gnulib.
	* lib/gnulib.mk, m4/gl-comp.m4: Regenerate.

2011-07-08  Paul Eggert  <eggert@cs.ucla.edu>

	Add gnulib support for pthread_sigmask (Bug#9010).
	* Makefile.in (GNULIB_MODULES): Add pthread_sigmask.
	* configure.in (AC_TYPE_UID_T): New dummy macro.
	Configure gnulib after adjusting LIBS,
	so that gnulib can assume the libraries in LIBS.
	* lib/signal.in.h, m4/pthread_sigmask.m4, m4/signal_h.m4:
	* lib/pthread_sigprocmask.c, lib/sigprocmask.c, m4/signalblocking.m4:
	* lib/pthread_sigmask.c:
	New files, automatically imported from gnulib.
	* lib/gnulib.mk, m4/gl-comp.m4: Automatically-imported update
	due to the above changes.
	* .bzrignore: Add lib/signal.h.

	* lib/getopt.c, lib/unistd.in.h, m4/getopt.m4: Merge from gnulib.

2011-07-07  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in (maintainer-mode): Reflect default in help string.

2011-07-07  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove reference to iris4d.h.

2011-07-05  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (HAVE_GCONF): Allow both HAVE_GCONF and HAVE_GSETTINGS.

2011-07-01  Glenn Morris  <rgm@gnu.org>

	* configure.in (SETTINGS_CFLAGS, SETTINGS_LIBS) [HAVE_GCONF]: Fix typo.

2011-06-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* configure.in (HAVE_GSETTINGS): Fix syntax for GSETTINGS tests,
	which made ./configure infloop.

2011-06-30  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (gsettings): New option and check for GSettings.

2011-06-29  Glenn Morris  <rgm@gnu.org>

	* configure.in: Try to test for the required crt*.o files.

2011-06-27  Bill Wohler  <wohler@newt.com>

	* .bzrignore: Add lisp/mh-e/mh-autoloads.el and lisp/mh-e/mh-cus-load.el.

2011-06-25  Paul Eggert  <eggert@cs.ucla.edu>

	Use gnulib's dup2 module instead of rolling our own.
	* Makefile.in (GNULIB_MODULES): Add dup2.
	* configure.in: Do not check for dup2; gnulib does that now.
	* lib/dup2.c, m4/dup2.m4: New files, from gnulib.

2011-06-23  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/getopt.c, lib/stat.c, m4/gl-comp.m4: Merge from gnulib.

2011-06-22  Paul Eggert  <eggert@cs.ucla.edu>

	Use gnulib's alloca-opt module.
	* .bzrignore: Add lib/alloca.h.
	* Makefile.in (GNULIB_MODULES): Add alloca-opt.
	* configure.in (AC_FUNC_ALLOCA): Remove almost all the alloca stuff,
	as gnulib now does that for us.  Put alloca check in config.h.
	Include <alloca.h> before any other include file, for AIX 3.
	* lib/gnulib.mk, m4/gl-comp.m4: Regenerate.
	* lib/alloca.in.h, m4/alloca.m4: New files, from gnulib.

2011-06-21  Leo Liu  <sdl.web@gmail.com>

	* m4/sha256.m4:
	* m4/sha512.m4:
	* m4/gl-comp.m4:
	* lib/u64.h:
	* lib/sha256.c:
	* lib/sha256.h:
	* lib/sha512.c:
	* lib/sha512.h:
	* lib/makefile.w32-in (GNULIBOBJS):
	* lib/gnulib.mk:
	* Makefile.in (GNULIB_MODULES): Add crypto/sha256 and
	crypto/sha512 modules from gnulib.

2011-06-19  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/unistd.in.h, m4/getloadavg.m4: Merge from gnulib.

2011-06-17  Glenn Morris  <rgm@gnu.org>

	* configure.in: Restore the behavior of checking crt-dir only
	when the user specified it (not all platforms use it).

2011-06-16  Paul Eggert  <eggert@cs.ucla.edu>

	* m4/lstat.m4: Merge from gnulib (Bug#8878).

2011-06-16  Miles Bader  <miles@gnu.org>

	* configure.in: Try to determine CRT_DIR automatically when
	using gcc.

2011-06-15  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/ftoastr.c, lib/stdio.in.h, lib/verify.h:
	* lib/gnulib.mk, m4/c-strtod.m4, m4/filemode.m4, m4/getloadavg.m4:
	* m4/getopt.m4, m4/gl-comp.m4, m4/lstat.m4, m4/md5.m4, m4/mktime.m4:
	* m4/readlink.m4, m4/sha1.m4, m4/stat.m4, m4/strftime.m4:
	* m4/strtoull.m4, m4/strtoumax.m4, m4/symlink.m4, m4/time_r.m4:
	Merge from gnulib.

2011-06-14  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Add emacsgtkfixed.o to GTK_OBJ if HAVE_GTK3.

2011-06-08  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/gnulib.mk, m4/gnulib-common.m4: Merge from gnulib.

2011-06-07  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in: Add --with-wide-int.
	* INSTALL: Mention this.

2011-06-06  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib.
	* lib/careadlinkat.c, lib/careadlinkat.h, m4/gnulib-common.m4: Merge.

2011-06-02  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/allocator.h, lib/careadlinkat.c: Merge from gnulib.

2011-05-30  Paul Eggert  <eggert@cs.ucla.edu>

	Use 'inline', not 'INLINE'.
	* configure.in (INLINE): Remove.

2011-05-29  Paul Eggert  <eggert@cs.ucla.edu>

	Adjust to recent gnulib change for @GUARD_PREFIX@.
	* lib/makefile.w32-in (getopt_h): Substitute @GUARD_PREFIX@, too.
	All uses of _GL_ for guard prefixes in lib/*.h replaced with
	_@GUARD_PREFIX@_.

2011-05-27  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/getopt.c, lib/intprops.h: Merge from gnulib.

2011-05-24  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (check): Just give a message if no test/ directory.

	* configure.in: Avoid using variables inside AC_CONFIG_FILES.

	* configure.in (OPT_MAKEFILES_IN): Remove.
	(SUBDIR_MAKEFILES): New variable, passed to AC_CONFIG_FILES.
	(SUBDIR_MAKEFILES_IN): New output variable.
	* Makefile.in (OPT_MAKEFILES_IN): Remove.
	(SUBDIR_MAKEFILES_IN): Let configure set it.

2011-05-24  Leo Liu  <sdl.web@gmail.com>

	* m4/sha1.m4:
	* m4/gl-comp.m4:
	* lib/sha1.h:
	* lib/sha1.c:
	* lib/makefile.w32-in (GNULIBOBJS):
	* lib/gnulib.mk:
	* Makefile.in (GNULIB_MODULES): Add crypto/sha1 module.

2011-05-24  Glenn Morris  <rgm@gnu.org>

	* configure.in: Remove test for already configured source directory.
	AM_INIT_AUTOMAKE has already done a more stringent test.  (Bug#953)

	* Makefile.in (TAGS, tags, check): Pass MFLAGS to sub-makes.

2011-05-24  Glenn Morris  <rgm@gnu.org>

	* make-dist: Don't distribute test/.  (Bug#8107)
	* configure.in (OPT_MAKEFILES_IN): New output variable.
	(AC_CONFIG_FILES): Conditionally include test/automated/Makefile.
	* Makefile.in (OPT_MAKEFILES_IN): New, set by configure.
	(SUBDIR_MAKEFILES_IN): Use $OPT_MAKEFILES_IN.
	(check): Give an explicit error if test/ is not present.

	* Makefile.in (SUBDIR_MAKEFILES_IN): New variable.
	(SUBDIR_MAKEFILES): Derive from $SUBDIR_MAKEFILES_IN.
	(Makefile): Use $SUBDIR_MAKEFILES_IN.

2011-05-23  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/verify.h: Merge from gnulib.

2011-05-22  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/intprops.h, lib/stdint.in.h, m4/mktime.m4, m4/readlink.m4:
	Merge from gnulib.

2011-05-21  Andreas Schwab  <schwab@linux-m68k.org>

	* Makefile.in (AUTOMAKE_INPUTS): Add $(srcdir)/lib/gnulib.mk.

2011-05-20  Eli Zaretskii  <eliz@gnu.org>

	* .bzrignore: Add lib/stdio.in-h, lib/stdbool.h, and lib/stdint.h.

	* config.bat: Concatenate lisp.mk onto the end of src/Makefile.

2011-05-20  Glenn Morris  <rgm@gnu.org>

	* configure.in (lisp_frag): New output file.

2011-05-19  Glenn Morris  <rgm@gnu.org>

	* configure.in (NS_SUPPORT, MOUSE_SUPPORT, TOOLTIP_SUPPORT)
	(WINDOW_SUPPORT): Remove output variables that are no longer used.

2011-05-17  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/gnulib.mk:
	* lib/intprops.h:
	* lib/unistd.in.h:
	* m4/inttypes.m4:
	* m4/stdint.m4:
	* m4/unistd_h.m4: Sync from gnulib.

2011-05-14  Glenn Morris  <rgm@gnu.org>

	* configure.in: Treat failure to find an X toolkit the same way we treat
	failure to find X and image support.

2011-05-12  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (src, install-arch-indep, bootstrap-clean)
	(check-declare): Shell portability fixes.  (Bug#8642)

2011-05-09  Teodor Zlatanov  <tzz@lifelogs.com>

	* configure.in: Require GnuTLS 2.6.x or higher.

2011-05-06  Paul Eggert  <eggert@cs.ucla.edu>

	Use C99's va_copy to avoid undefined behavior on x86-64 GNU/Linux.
	* Makefile.in (GNULIB_MODULES): Add stdarg, for va_copy.
	* lib/stdarg.in.h, m4/stdarg.m4: New files, from gnulib.

	* Makefile.in (GNULIB_TOOL_FLAG): Add --conditional-dependencies.
	This new gnulib-tool option saves 'configure' the trouble of
	checking for strtoull when strtoumax exists.

	* configure.in (BITS_PER_LONG_LONG): New macro.

2011-05-05  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (bootstrap-clean): Save config.log.  (Bug#765)
	(top_distclean): Delete config.log~.

2011-04-27  Ben Key  <bkey76@gmail.com>

	* configure.in: Fixed a bug that caused configure with
	--enable-checking=stringoverrun to have no effect.

2011-04-26  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in: Suppress unnecessary checks for size_t.
	(AC_TYPE_SIZE_T): Define an empty macro, to suppress obsolescent test.
	(size_t): Do not check for this, and do not typedef.  This code
	is never exercised now.

	* Makefile.in (GNULIB_MODULES): Add strtoumax.
	This is needed for the new integer-reading code in lread.c.
	It automatically pulls in the following gnulib files, which
	are used on old-fashioned platforms that don't have strtoumax:
	lib/inttypes.in.h, lib/strtoimax.c, lib/strtol.c, lib/strtoul.c,
	lib/strtoull.c, lib/strtoumax.c, lib/verify.h, m4/inttypes.m4,
	m4/strtoull.m4, m4/strtoumax.m4.
	* .bzrignore: Add lib/inttypes.h.

2011-04-24  Teodor Zlatanov  <tzz@lifelogs.com>

	* configure.in: Check for GnuTLS certificate verify callbacks.

2011-04-20  Stefan Monnier  <monnier@iro.umontreal.ca>

	* Makefile.in (config.status): Don't erase in case of error.
	In case it disappeared, rebuild it with `configure'.

2011-04-20  Ken Brown  <kbrown@cornell.edu>

	* configure.in (use_mmap_for_buffers): Set to yes on Cygwin.

2011-04-12  Glenn Morris  <rgm@gnu.org>

	* configure.in: Require ImageMagick >= 6.2.8.  (Bug#7955)

2011-04-09  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/allocator.c: New file, automatically generated by gnulib.

2011-04-07  Glenn Morris  <rgm@gnu.org>

	* autogen/update_autogen: Ignore comment diffs in ldefs-boot.el.

2011-04-06  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in ($(BLD)/careadlinkat.$(O), GNULIBOBJS):
	Revert last change.

2011-04-06  Juanma Barranquero  <lekktu@gmail.com>

	* lib/makefile.w32-in (GNULIBOBJS): Add careadlinkat.$(O).
	($(BLD)/careadlinkat.$(O)): New target.
	($(BLD)/dtoastr.$(O), $(BLD)/getopt.$(O), $(BLD)/getopt1.$(O))
	($(BLD)/strftime.$(O), $(BLD)/time_r.$(O), $(BLD)/md5.$(O)):
	Update dependencies.

2011-04-06  Paul Eggert  <eggert@cs.ucla.edu>

	Fix more problems found by GCC 4.6.0's static checks.

	* configure.in (ATTRIBUTE_FORMAT, ATTRIBUTE_FORMAT_PRINTF): New macros.

	Replace 2 copies of readlink code with 1 gnulib version (Bug#8401).
	* Makefile.in (GNULIB_MODULES): Add careadlinkat.
	* lib/allocator.h, lib/careadlinkat.c, lib/careadlinkat.h:
	* m4/ssize_t.m4: New files, automatically generated from gnulib.

2011-04-06  Glenn Morris  <rgm@gnu.org>

	* autogen/update_autogen: Handle loaddefs-like files as well.
	(usage): Add -l, -C.
	(clean, ldefs_flag, ldefs_in, ldefs_out): New variables.
	With -l, check status of lisp/ as well.
	With -C, clean before building.
	(autoreconf): Only pass -f in the `clean' case.
	(commit): New function.

2011-03-28  Glenn Morris  <rgm@gnu.org>

	* autogen/update_autogen: Pass -f to autoreconf.

	* autogen.sh (get_version): Discard "not found" lines.
	(check_version): Respect $AUTOCONF etc environment variables.

2011-03-27  Glenn Morris  <rgm@gnu.org>

	* configure.in (AC_TYPE_SIGNAL): Remove obsolete macro.
	(AH_BOTTOM): Do not define SIGTYPE.

2011-03-26  Glenn Morris  <rgm@gnu.org>

	* configure.in: Replace obsolete macros AC_TRY_COMPILE, AC_TRY_LINK,
	AC_TRY_RUN with AC_COMPILE_IFELSE, AC_LINK_IFELSE, AC_RUN_IFELSE.

2011-03-25  Andreas Schwab  <schwab@linux-m68k.org>

	* autogen/update_autogen: Remove useless function keyword.

2011-03-25  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Generate src/config.h and lib/Makefile from
	autogen/config.in and autogen/Makefile.in.

2011-03-25  Glenn Morris  <rgm@gnu.org>

	* compile, config.guess, config.sub, depcomp, install-sh, missing:
	Remove; autoreconf can supply them.
	* Makefile.in (sync-from-gnulib): Don't sync config.sub,
	config.guess, install-sh.  Pass -i to autoreconf.
	* autogen/update_autogen (genfiles): Add compile, config.guess,
	config.sub, depcomp, install-sh, missing.  Pass -i to autoreconf.
	Discard non-error output from autoreconf in -q case.
	* autogen/compile, autogen/config.guess, autogen/config.sub:
	* autogen/depcomp, autogen/install-sh, autogen/missing: New.
	* autogen/copy_autogen: Add compile, config.guess, config.sub, depcomp,
	install-sh, missing.

2011-03-23  Glenn Morris  <rgm@gnu.org>

	* autogen/update_autogen: Fix typo.
	(msg): Remove function; use `exec' instead.

	* Makefile.in (mkdir): Use `install-sh -d' instead of mkinstalldirs.
	(sync-from-gnulib): Don't sync mkinstalldirs.
	* make-dist: Don't distribute mkinstalldirs.

2011-03-23  Paul Eggert  <eggert@cs.ucla.edu>

	Fix more problems found by GCC 4.5.2's static checks.
	* Makefile.in (GNULIB_MODULES): Add socklen.
	* configure.in: Do not check for sys/socket.h, since socklen does that.
	* m4/socklen.m4: New automatically-generated file, from gnulib.

	fakemail: Remove dependency on ignore-value.
	* Makefile.in (GNULIB_MODULES): Add stdio.
	* lib/stdio.in.h, m4/stdio_h.m4: New files, automatically
	imported from gnulib.
	* .bzrignore: Add lib/stdio.h.

2011-03-22  Glenn Morris  <rgm@gnu.org>

	* autogen/copy_autogen: Work from ./ or ../.
	Fix time-stamps.
	* autogen.sh: Doc fix.

2011-03-20  Glenn Morris  <rgm@gnu.org>

	* autogen/: New directory, to be excluded from releases.
	* autogen/copy_autogen, autogen/update_autogen: New scripts.
	* autogen/README: New file.
	* autogen/aclocal.m4, autogen/config.in, autogen/configure:
	* autogen/Makefile.in: Add auto-updated generated files.
	* autogen.sh: No longer a no-op, now it tests for autotools
	and runs them as necessary.
	* configure.in: Default maintainer-mode to on.
	* aclocal.m4, configure, lib/Makefile.in: Remove files.

2011-03-13  Paul Eggert  <eggert@cs.ucla.edu>

	Update for gnulib.
	* Makefile.in (GNULIB_MODULES): Add intprops, as Emacs now
	includes <intprops.h> directly.
	* lib/sys_stat.in.h: New version from Gnulib, which fixes a bug
	when building Emacs on Solaris 9 and running it on Solaris 10.

2011-03-08  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Require 3.0 for --with-gtk3.  Add HAVE_GTK3.

2011-03-07  Chong Yidong  <cyd@stupidchicken.com>

	* Version 23.3 released.

2011-03-06  Glenn Morris  <rgm@gnu.org>

	* configure.in (FREETYPE_LIBS): Actually set it to something.

2011-03-02  Paul Eggert  <eggert@cs.ucla.edu>

	Work around some portability problems with symlinks.

	* Makefile.in (GNULIB_MODULES): Add lstat, readlink, symlink.
	* configure.in (lstat, HAVE_LSTAT): Remove special hack.
	* lib/dosname.h, lib/lstat.c, lib/readlink.c, lib/stat.c:
	* lib/symlink.c, m4/lstat.m4, m4/readlink.m4, m4/stat.m4:
	* m4/symlink.m4:
	New files, automatically generated from gnulib.
	* aclocal.m4, configure, lib/Makefile.in, lib/gnulib.mk:
	* m4/gl-comp.m4, src/config.in, config.sub: Regenerate.

2011-02-26  Eli Zaretskii  <eliz@gnu.org>

	* .bzrignore: Ignore new lib/*.in-h files.

	* config.bat: Rename stdint.in.h and sys_stat.in.h.
	Call depfiles.bat even if lib/deps already exist.

2011-02-25  Paul Eggert  <eggert@cs.ucla.edu>

	* configure, lib/Makefile.in, lib/getopt_int.h, lib/gnulib.mk:
	* lib/stdlib.in.h, m4/stdlib_h.m4: Regenerate to incorporate
	recent changes to configure.in and to gnulib.

2011-02-24  Glenn Morris  <rgm@gnu.org>

	* configure.in: Replace obsolete AC_OUTPUT() with AC_CONFIG_FILES(),
	AC_CONFIG_COMMANDS(), and AC_OUTPUT sans arguments.

2011-02-22  Paul Eggert  <eggert@cs.ucla.edu>

	Assume S_ISLNK etc. work, since gnulib supports this.
	* Makefile.in (GNULIB_MODULES): Add sys_stat.
	* configure.in: Check for lstat and set HAVE_LSTAT=0 if not.
	Pretend to be using the gnulib lstat module for benefit of sys/stat.h.
	* configure, lib/Makefile.in, lib/gnulib.mk: Regenerate.

2011-02-21  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/min-max.h: New file, for "min" and "max".

2011-02-21  Christoph Scholtes  <cschol2112@gmail.com>

	* lib/makefile.w32-in ($(BLD)/md5.$(O)): Add dependency on
	$(EMACS_ROOT)/nt/inc/stdint.h.

2011-02-21  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in ($(BLD)/filemode.$(O)): Move from
	src/makefile.w32-in and adapt.  Depend on stamp_BLD.
	(GNULIBOBJS): Add $(BLD)/filemode.$(O).

2011-02-21  Paul Eggert  <eggert@cs.ucla.edu>

	Import filemode module from gnulib.
	* .bzrignore: Add lib/sys/.
	* Makefile.in (GNULIB_MODULES): Add filemode.
	* lib/Makefile.am (MOSTLYCLEANDIRS): New macro.
	* lib/filemode.c: Renamed from src/filemode.c and regenerated
	from gnulib.  This adds support for some more file types, e.g.,
	Cray DMF migrated files.
	* lib/filemode.h, lib/sys_stat.in.h, m4/filemode.m4, m4/st_dm_mode.m4:
	* m4/sys_stat_h.m4: New files, generated from gnulib.
	* aclocal.m4, configure, lib/Makefile.in, lib/gnulib.mk, m4/gl-comp.m4:
	Regenerate.

2011-02-20  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in ($(BLD)/md5.$(O)): Don't depend on
	$(EMACS_ROOT)/nt/inc/sys/stat.h.

2011-02-20  Paul Eggert  <eggert@cs.ucla.edu>

	* configure.in (C_WARNINGS_SWITCH): Do not prepend -Wno-pointer-sign.
	This undoes the 2006-01-02 change.  The -Wno-pointer-sign option
	is no longer needed, due to the recent SSDATA and related changes.
	Perhaps -Wno-pointer-sign should also be removed from
	nextstep/Cocoa/Emacs.xcodeproj/project.pbxproj but I have no easy
	way to test this so I left it alone.
	* configure: Regenerate.

2011-02-20  Christoph Scholtes  <cschol2112@gmail.com>

	* lib/makefile.w32-in ($(BLD)/md5.$(O)): New recipe, moved from
	src/makefile.w32-in.

2011-02-20  Paul Eggert  <eggert@cs.ucla.edu>

	Import crypto/md5 and stdint modules from gnulib.
	* aclocal.m4, configure, lib/Makefile.in, lib/gnulib.mk, m4/gl-comp.m4:
	Regenerate.
	* lib/md5.c, lib/md5.h: Rename from src/md5.h and lib/md5.h.
	Import the new versions from gnulib; they assume a C99-style
	<stdint.h>, supplied by the stdint module.
	* lib/stdint.in.h, m4/longlong.m4, m4/stdint.m4, m4/md5.m4: New files,
	imported from gnulib.
	* Makefile.in (MAKEFILE_MODULES): Add crypto/md5.

2011-02-19  Eli Zaretskii  <eliz@gnu.org>

	* .bzrignore: Ignore cxxdefs.h and lib/*.in-h files.
	Add lib/deps/.

	* config.bat: Configure in `lib'.
	Generate *.Po files in lib/deps.

2011-02-18  Paul Eggert  <eggert@cs.ucla.edu>

	Import IRIX 6.5 getloadavg fixes from gnulib.
	* configure, lib/getloadavg.c, m4/getloadavg.m4: Regenerate.

2011-02-16  Paul Eggert  <eggert@cs.ucla.edu>

	Import getloadavg module from gnulib.
	* .bzrignore: Add lib/stdlib.h.
	* Makefile.in (GNULIB_MODULES): Add getloadavg.
	* configure.in (LIBS_SYSTEM): Omit -lkstat on sol2*; gnulib does this.
	(AC_CONFIG_LIBOBJ_DIR, AC_FUNC_GETLOADAVG, GETLOADAVG_FILES):
	Remove; gnulib does this now.
	* lib/getloadavg.c: Rename from src/getloadavg.c, and sync
	from gnulib.  This adds support for several other systems, such
	as Tru64 4.0D, QNX, AIX perfstat, etc.  It also fixes a potential
	buffer overrun on Linux hosts under very high load, and on hosts
	that maintain a channel to the load average file it makes sure
	the file descriptor is close-on-exec (on hosts that support this)
	and is not stdin, stdout, or stderr.
	* lib/stdlib.in.h, m4/getloadavg.m4, m4/stdlib_h.m4: New files,
	from gnulib.
	* aclocal.m4, configure, lib/Makefile.in, lib/gnulib.mk, m4/gl-comp.m4:
	Regenerate.

2011-02-15  Paul Eggert  <eggert@cs.ucla.edu>

	Merge from gnulib.

	* install-sh: Update to scriptversion 2011-01-19.21.

	2011-02-13  Bruno Haible  <bruno@clisp.org>

	Consistent macro naming for macros that use GCC __attribute__.
	* lib/ignore-value.h (_GL_ATTRIBUTE_DEPRECATED): Rename from
	ATTRIBUTE_DEPRECATED.

	2011-02-12  Bruno Haible  <bruno@clisp.org>

	setlocale: Prefer gnulib's override over libintl's override.
	* lib/gettext.h (setlocale): Redefine to rpl_setlocale if
	GNULIB_defined_setlocale is set.

2011-02-13  Glenn Morris  <rgm@gnu.org>

	* make-dist: Exclude generated file src/globals.h.

2011-02-10  Paul Eggert  <eggert@cs.ucla.edu>

	* arg-nonnull.h, c++defs.h, warn-on-use.h: Fix licenses.
	Sync from gnulib, which has been patched to fix the problem
	with the license notices.  Reported by Glenn Morris in
	<https://lists.gnu.org/r/emacs-devel/2011-02/msg00403.html>.

2011-02-09  Stefan Monnier  <monnier@iro.umontreal.ca>

	* .bzrignore: Ignore globals.h and related stamp.

2011-02-09  Paul Eggert  <eggert@cs.ucla.edu>

	* lib/Makefile.in, lib/gnulib.mk: Regenerate.
	This merges the following fix from gnulib:

	2011-02-08  Bruno Haible  <bruno@clisp.org>

	Split large sed scripts, for HP-UX sed.

2011-02-08  Tom Tromey  <tromey@redhat.com>

	* configure: Rebuild.
	* configure.in (NS_OBJC_OBJ): New subst.

2011-02-06  Paul Eggert  <eggert@cs.ucla.edu>

	gnulib: allow multiple gnulib generated replacements to coexist
	This defines a few preprocessor symbols that should not affect Emacs.
	* lib/getopt.in.h, lib/time.in.h, lib/unistd.in.h: Regenerate
	via "make sync-from-gnulib".

	gnulib: undo previous change
	The upstream _HEADERS change was backed out of gnulib (see the
	same thread).  Stay in sync with gnulib.

	gnulib: adjust to upstream _HEADERS change
	* lib/Makefile.am (EXTRA_HEADERS, nodist_pkginclude_HEADERS):
	New empty macros, to accommodate recent changes to gnulib.  See
	<https://lists.gnu.org/r/bug-gnulib/2011-02/msg00068.html>.
	* c++defs.h, lib/Makefile.in, lib/ftoastr.h, lib/getopt.in.h:
	* lib/gnulib.mk, lib/ignore-value.h, lib/stdbool.in.h, lib/stddef.in.h:
	* lib/time.in.h, lib/unistd.in.h:
	Regenerate.

2011-02-05  Paul Eggert  <eggert@cs.ucla.edu>

	sync from gnulib to remove HAVE_STDBOOL_H
	* m4/stdbool.m4 (AC_CHECK_HEADER_STDBOOL): Rename from
	AC_HEADER_STDBOOL.  All uses changed.  Do not define
	HAVE_STDBOOL_H, as gnulib does not need this.  This change is
	imported from the latest Autoconf git.  It was motivated by Emacs,
	which uses gnulib but does not need HAVE_STDBOOL_H.
	* configure, src/config.in: Regenerate.
	* config.guess, config.sub: Sync to 2011-02-02 versions (whitespace)

2011-02-03  Paul Eggert  <eggert@cs.ucla.edu>

	allow C code to suppress warnings about ignored return values
	* Makefile.in (GNULIB_MODULES): Add ignore-value.
	* configure, lib/Makefile.in, lib/gnulib.mk, m4/gl-comp.m4: Regenerate.
	* lib/ignore-value.h: New file.

2011-01-31  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Test existence of xaw3d library, not just the
	header (Bug#7642).

2011-01-31  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in (GNULIBOBJS): Add $(BLD)/strftime.$(O) and
	$(BLD)/time_r.$(O).
	($(BLD)/dtoastr.$(O)): Depend on $(EMACS_ROOT)/src/s/ms-w32.h and
	$(EMACS_ROOT)/src/m/intel386.h.
	($(BLD)/strftime.$(O))
	($(BLD)/time_r.$(O)): Define prerequisites.

2011-01-31  Paul Eggert  <eggert@cs.ucla.edu>

	src/emacs.c now gets version number from configure.in
	* configure.in (version): Set this from $PACKAGE_VERSION,
	which is set from AC_INIT, rather than scouting through src/emacs.c.
	* configure: Regenerate.
	* make-dist (version): Get it from configure.in, not src/emacs.c.

2011-01-30  Paul Eggert  <eggert@cs.ucla.edu>

	strftime: import from gnulib
	* Makefile.in (GNULIB_MODULES): Add strftime.
	* configure.in (AC_FUNC_STRFTIME, my_strftime): Remove; no longer
	needed.
	* aclocal.m4, configure, lib/Makefile.in, lib/gnulib.mk, m4/gl-comp.m4:
	Regenerate.
	* lib/strftime.c, lib/strftime.h, lib/stdbool.in.h: New files,
	imported from gnulib.
	* m4/strftime.m4, m4/stdbool.m4, m4/tm_gmtoff.m4: Likewise.
	This incorporates many changes from gnulib, including simpler
	handling of multibyte formats, porting to mingw32 and other
	platforms, and support for higher-resolution time stamps.
	Emacs does not yet use the higher-resolution interface.

2011-01-30  Paul Eggert  <eggert@cs.ucla.edu>

	gnulib: import mktime and move-if-change fixes from gnulib

	* configure: Regenerate from the following.

	2011-01-30  Paul Eggert  <eggert@cs.ucla.edu>

	mktime: clarify long_int width checking
	* lib/mktime.c (long_int_is_wide_enough): Move this assertion to
	the top level, to make it clearer that the assumption about
	long_int width is being checked.  See
	<https://lists.gnu.org/r/bug-gnulib/2011-01/msg00554.html>.

	2011-01-29  Paul Eggert  <eggert@cs.ucla.edu>

	TYPE_MAXIMUM: avoid theoretically undefined behavior
	* lib/intprops.h (TYPE_MINIMUM, TYPE_MAXIMUM): Do not shift a
	negative number, which the C Standard says has undefined behavior.
	In practice this is not a problem, but might as well do it by the book.
	Reported by Rich Felker and Eric Blake; see
	<https://lists.gnu.org/r/bug-gnulib/2011-01/msg00493.html>.
	* m4/mktime.m4 (AC_FUNC_MKTIME): Likewise.
	* lib/mktime.c (TYPE_MAXIMUM): Redo slightly to match the others.

	mktime: #undef mktime before #defining it
	* lib/mktime.c (mktime) [DEBUG]: #undef mktime before #defining it.

	mktime: systematically normalize tm_isdst comparisons
	* lib/mktime.c (isdst_differ): New function.
	(__mktime_internal): Use it systematically for all isdst comparisons.
	This completes the fix for libc BZ #6723, and removes the need for
	normalizing tm_isdst.
	See <http://sourceware.org/bugzilla/show_bug.cgi?id=6723>
	(not_equal_tm) [DEBUG]: Use isdst_differ here, too.

	mktime: fix some integer overflow issues and sidestep the rest

	This was prompted by a bug report by Benjamin Lindner for MinGW
	<https://lists.gnu.org/r/bug-gnulib/2011-01/msg00472.html>.
	His bug is due to signed integer overflow (0 - INT_MIN), and I
	I scanned through mktime.c looking for other integer overflow
	problems, fixing all the bugs I found.

	Although the C Standard says the resulting code is still not safe
	in the presence of integer overflow, in practice it should be good
	enough for all real-world two's-complement implementations, except
	for debugging environments that deliberately trap on integer
	overflow (e.g., gcc -ftrapv).

	* lib/mktime.c (WRAPV): New macro.
	(SHR): Also check that long_int and time_t shift right in the
	usual way, before using the fast-but-unportable method.
	(TYPE_ONES_COMPLEMENT, TYPE_SIGNED_MAGNITUDE): Remove, no longer
	used.  The code already assumed two's complement, so there's
	no need to test for alternatives.  All uses removed.
	(TYPE_MAXIMUM): Don't rely here on overflow behavior not defined by
	the C standard.  Reported by Rich Felker in
	<https://lists.gnu.org/r/bug-gnulib/2011-01/msg00488.html>.
	(twos_complement_arithmetic): Also check long_int and time_t.
	(time_t_avg, time_t_add_ok, time_t_int_add_ok): New functions.
	(guess_time_tm, ranged_convert, __mktime_internal): Use them.
	(__mktime_internal): Avoid integer overflow with unary subtraction
	in two instances where -1 - X is an adequate replacement for -X,
	since the calculations are approximate.

	2011-01-29  Eric Blake  <eblake@redhat.com>

	mktime: avoid infinite loop
	* m4/mktime.m4 (AC_FUNC_MKTIME): Avoid overflow on possibly-signed
	type; behavior is still undefined but portable to all known targets.
	Reported by Rich Felker.

	2011-01-28  Paul Eggert  <eggert@cs.ucla.edu>

	mktime: avoid problems on NetBSD 5 / i386
	* lib/mktime.c (long_int): New type.  This works around a problem
	on NetBSD 5 / i386, where 'long int' and 'int' are both 32 bits
	but time_t is 64 bits, and where I expect the existing code is
	wrong in some cases.
	(leapyear, ydhms_diff, guess_time_tm, __mktime_internal): Use it.
	(ydhms_diff): Bring back the compile-time check for wide-enough
	year and yday.

	mktime: fix misspelling in comment
	* lib/mktime.c (__mktime_internal): Fix misspelling in comment.
	This merges all recent glibc changes of importance.

	2011-01-28  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>

	move-if-change: cope with concurrent mv of identical file.
	* move-if-change (CMPPROG): Accept environment
	variable as an override for `cmp'.
	(usage): Document CMPPROG.
	Adjust comparison to drop stdout.  Cope with failure of mv if
	the target file exists and is identical to the source, for
	parallel builds.
	Report from H.J. Lu against binutils in PR binutils/12283.

2011-01-29  Eli Zaretskii  <eliz@gnu.org>

	* lib/makefile.w32-in:
	* lib/getopt_.h: New files.

2011-01-28  Paul Eggert  <eggert@cs.ucla.edu>

	improve fix for MS-DOS file name clash
	* Makefile.in (DOS_gnulib_comp.m4): Rename from DOS-gnulib-comp.m4,
	for portability to POSIX make.  Reported by Bruno Haible.
	(sync-from-gnulib): Copy gl-comp.m4 (if present) back to
	gnulib-comp.m4 before running gnulib-tool, to prevent old gnulib
	files from accumulating as garbage.  Also reported by Bruno Haible.

2011-01-27  Paul Eggert  <eggert@cs.ucla.edu>

	fix two m4/gnulib-*.m4 file names that clashed under MS-DOS
	* Makefile.in (DOS-gnulib-comp.m4): New macro.
	(sync-from-gnulib): Rename m4/gnulib-comp.m4 to m4/gl-comp.m4 to avoid
	problems with MS-DOS 8+3 file name restrictions.
	Remove m4/gnulib-cache.m4, as we can live without it.  If we kept
	it, it would also cause problems when extracting Emacs distribution
	tarballs on MS-DOS hosts.
	(ACLOCAL_INPUTS): Adjust to file renaming.
	* aclocal.m4, configure, lib/Makefile.in, src/config.in: Regenerate.
	* config.guess, config.sub: Sync from gnulib.
	* m4/gnulib-cache.m4: Remove from repository.
	* m4/gl-comp.m4: Rename from m4/gnulib-comp.m4.

2011-01-25  Glenn Morris  <rgm@gnu.org>

	* README: Add a note about ranges in copyright years.

	* configure.in: Set CANNOT_DUMP on ia64 hpux (port from emacs-23).

2011-01-25  Peter O'Gorman  <bug-gnu-emacs@mlists.thewrittenword.com>  (tiny change)

	* configure.in: Add HP-UX on IA64 (Bug#6811).

2011-01-24  Paul Eggert  <eggert@cs.ucla.edu>

	Remove HAVE_RAW_DECL_CHOWN etc. from config.h
	* Makefile.in (sync-from-gnulib): Remove m4/warn-on-use.m4,
	as it is no longer needed.
	* aclocal.m4, configure, lib/Makefile.in, src/config.in: Regenerate.
	* configure.in: Invoke the new gnulib macro
	gl_ASSERT_NO_GNULIB_POSIXCHECK, which removes the need for
	warn-on-use.m4 and for the HAVE_RAW_DECL_* symbols in config.h.
	* m4/getopt.m4: Sync from gnulib; this removes the need for
	HAVE_DECL_OPTRESET and HAVE_DECL_GETOPT_CLIP from config.h.
	* m4/gnulib-common.m4 (gl_ASSERT_NO_GNULIB_POSIXCHECK):
	New macro, synced from gnulib.
	* m4/warn-on-use.m4: Remove.

2011-01-22  Paul Eggert  <eggert@cs.ucla.edu>

	aclocal.m4: put this file back into repository
	This way, we don't have to assume that the maintainer has
	the automake package installed.  See
	<https://lists.gnu.org/r/emacs-devel/2011-01/msg00746.html>.
	* .bzrignore: Remove aclocal.m4, undoing the previous change.
	* Makefile.in (top_maintainer_clean): Do not remove aclocal.m4,
	undoing the previous change.
	* aclocal.m4: New file (actually, resurrected).

2011-01-22  Miles Bader  <miles@gnu.org>

	* configure.in: Don't zero-out FONTCONFIG_CFLAGS and
	FONTCONFIG_LIBS when building with XFT (doing so is incorrect, as
	Emacs directly uses fontconfig, and breaks building when using a
	strict linker).

2011-01-21  Paul Eggert  <eggert@cs.ucla.edu>

	src/config.in: shrink slightly
	* configure.in: Invoke the new gnulib macro gl_ASSERT_NO_GNULIB_TESTS.
	This makes src/config.in a bit smaller, by removing identifiers
	like GNULIB_TEST_MKTIME that Emacs does not need.
	* m4/getopt.m4, m4/gnulib-common.m4, m4/include_next.m4:
	* m4/multiarch.m4, m4/stddef_h.m4, m4/time_h.m4, m4/unistd_h.m4:
	Sync from gnulib.  This removes a few more unnecessary symbols from
	src/config.in, such as AA_APPLE_UNIVERSAL_BUILD and HAVE_STDDEF_H.
	* configure, src/config.in: Regenerate.

	aclocal.m4: tweaks to regenerate more conveniently
	This attempts to act better when the source is in a weird state.  See
	<https://lists.gnu.org/r/emacs-devel/2011-01/msg00734.html>.
	* Makefile.in (am--refresh): Add aclocal.m4, configure, config.in.
	* .bzrignore: Add aclocal.m4.

2011-01-20  Paul Eggert  <eggert@cs.ucla.edu>

	aclocal.m4: omit auto-generated file from repository
	* Makefile.in (top_maintainer_clean): Remove aclocal.m4; this undoes
	the most recent change here.
	* aclocal.m4: Remove from bzr repository.  This file is
	auto-generated and isn't needed to run 'configure'.  See
	<https://lists.gnu.org/r/emacs-devel/2011-01/msg00698.html>.

2011-01-19  Paul Eggert  <eggert@cs.ucla.edu>

	Minor Makefile.in tweaks to build from gnulib better.
	<https://lists.gnu.org/r/emacs-devel/2011-01/msg00673.html>
	* Makefile.in (sync-from-gnulib): Also run autoreconf -I m4.
	(top_maintainer_clean): Don't remove aclocal.m4.

2011-01-18  Paul Eggert  <eggert@cs.ucla.edu>

	Minor cleanups for 'bzr status'
	* .bzrignore: Add emacs-*/, the output of make-dist, and stamp-h1,
	the output of config.guess.
	* Makefile.in (top_distclean): Remove stamp-h1 too.

	* configure.in (HAVE_ATTRIBUTE_ALIGNED): Arrange for this to be
	defined if the compiler supports GCC-style __attribute__
	((__aligned__ ...)).  IBM AIX and Oracle Solaris Studio support
	this syntax.

2011-01-17  Paul Eggert  <eggert@cs.ucla.edu>

	Makefile.in: tidy up the building of lib
	* Makefile.in (am--refresh): Mark as .PHONY.
	(top_maintainer_clean): Don't remove lib/gnulib.mk m4/gnulib-cache.m4,
	as they're not rebuilt unless you do a "make sync-from-gnulib"
	and the former is needed for "configure".
	(maintainer-clean): Don't recurse into lib, as "make bootstrap-clean"
	has already removed lib/Makefile.

	* Makefile.in (GNULIB_MODULES): Change ftoastr to dtoastr.
	This avoids building ftoastr and ldtoastr, which aren't needed.  See
	<https://lists.gnu.org/r/bug-gnulib/2011-01/msg00199.html>.

	* .bzrignore: Add .h files that are host-dependent.
	Add lib/.deps/, lib/arg-nonnull.h, lib/c++defs.h, lib/getopt.h,
	lib/time.h, lib/unistd.h, lib/warn-on-use.h.  These are
	host-dependent and are built as part of an ordinary 'make', and
	should not be checked in.

	* lib/Makefile.in: Regenerate.
	* lib/COPYING: New file, a copy of COPYING.

	* configure: Regenerate.
	* configure.in (AC_USE_SYSTEM_EXTENSIONS): Remove: gnulib does this.

	Regenerate.
	* lib/getopt.c, lib/getopt.in.h, lib/getopt1.c, lib/getopt_int.h:
	* lib/gettext.h, lib/unistd.in.h, m4/unistd_h.m4:
	New files, copied from gnulib by gnulib-tool.
	* aclocal.m4, configure, lib/Makefile.in, m4/getopt.m4:
	* m4/gnulib-cache.m4, m4/gnulib-comp.m4, src/config.in:
	Regenerate.

	Use gnulib's getopt-gnu module.
	* Makefile.in (GNULIB_MODULES): Add getopt-gnu.
	(AUTOCONF_INPUTS): Remove getopt.m4; aclocal.m4 is a good-enough
	representative of the dependencies.
	* configure.in: Do not configure getopt, as gnulib does that now.
	* make-dist: Do not worry about lib-src/getopt.h, as gnulib handles
	getopt now, in lib.

	Regenerate.
	* arg-nonnull.h, c++defs.h, lib/mktime-internal.h, lib/mktime.c:
	* lib/stddef.in.h, lib/time.h, lib/time.in.h, lib/time_r.c:
	* m4/extensions.m4, m4/include_next.m4, m4/mktime.m4:
	* m4/multiarch.m4, m4/stddef_h.m4, m4/time_h.m4, m4/time_r.m4:
	* m4/extensions.m4, m4/include_next.m4, m4/mktime.m4, m4/multiarch.m4:
	* m4/stddef_h.m4, m4/time_h.m4, m4/time_r.m4, m4/warn-on-use.m4:
	* m4/wchar_t.m4, warn-on-use.h:
	New files, copied from gnulib by gnulib-tool.
	* aclocal.m4, configure, lib/Makefile.in, lib/gnulib.mk:
	* m4/gnulib-cache.m4, m4/gnulib-comp.m4, src/config.in:
	Regenerate.

	Use gnulib's mktime module.
	* Makefile.in (GNULIB_MODULES): Add mktime.
	* configure.in: Remove code no longer needed, as gnulib now does it.
	(AC_CHECK_FUNCS): Remove mktime.
	(AC_FUNC_MKTIME, BROKEN_MKTIME): Remove.
	(__restrict): Remove, as this now gets in the way of the C99
	support for 'restrict' pulled in by the gnulib mktime module.
	Code should now use 'restrict' and not '__restrict".
	(mktime): Remove.
	* make-dist: Put gnulib-generated files arg-nonnull.h, c++defs.h,
	and warn-on-use.h into the distribution.

	Regenerate.
	* lib/dtoastr.c, lib/ftoastr.c, lib/ftoastr.h, lib/intprops.h:
	* lib/ldtoastr.c, m4/c-strtod.m4:
	New files, copied from gnulib by gnulib-tool.
	* lib/dummy.c: Remove.
	* aclocal.m4, configure, lib/Makefile.in, lib/gnulib.mk:
	* m4/gnulib-cache.m4, m4/gnulib-comp.m4, src/config.in:
	Regenerate.

	Use gnulib's ftoastr module.
	* Makefile.in (GNULIB_MODULES): Add ftoastr.  Remove dummy.

	Regenerate.
	* aclocal.m4, compile, depcomp, lib/Makefile.in, lib/dummy.c:
	* lib/gnulib.mk, m4/00gnulib.m4, m4/gnulib-cache.m4:
	* m4/gnulib-common.m4, m4/gnulib-comp.m4, m4/gnulib-tool.m4, missing:
	New files, generated automatically, with 'make sync-from-gnulib'
	followed by 'make'.
	* configure: Regenerate.

	Automate syncing from gnulib.
	* INSTALL, README: Document new subdirectory 'lib'.
	* Makefile.in (SUBDIR): Add lib.
	(SUBDIR_MAKEFILES): Add lib/Makefile.
	(lib-src, src, TAGS, tags): Depend on lib.
	(gnulib_srcdir, GNULIB_MODULES, GNULIB_TOOL_FLAGS): New macros.
	($(gnulib_srcdir)): New rule.
	(sync-from-gnulib): New rule, which is .PHONY.
	(lib): New rule, which is like lib-src.
	(Makefile): Depend on lib/Makefile.in.
	(AUTOCONF_INPUTS): Depend on aclocal.m4.
	(ACLOCAL_INPUTS, AUTOMAKE_INPUTS): New macros.
	($(srcdir)/aclocal.m4, $(srcdir)/lib/Makefile.in): New rules.
	(am--refresh): New rule, to pacify Automake.
	(mostlyclean, clean, distclean, bootstrap-clean, maintainer-clean):
	Clean lib, too.
	(top_maintainer_clean): New macro, to remove gnulib-tool and Automake
	droppings.
	(maintainer-clean, extraclean): Use it.
	* configure.in: Initialize for automake and gnulib, by invoking
	AM_INIT_AUTOMAKE, AM_PROG_CC_C_O, gl_EARLY, and gl_INIT.  Output
	lib/Makefile, too.  Use automake to build gnulib, as gnulib works
	more conveniently with automake.
	* lib/Makefile.am: New file.
	* make-dist: Also put into the distribution aclocal.m4,
	compile, depcomp, missing, and the files under lib/.

2011-01-15  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (epaths-force): No more arch-tag to edit.

2011-01-15  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Bump min libxml2 version to 2.6.17 (Bug#7603).

2011-01-14  Paul Eggert  <eggert@cs.ucla.edu>

	* make-dist: Distribute test/ files too.
	Distribute every file under test/ that is under version control,
	using patterns like *.el to capture files that are added later.
	Without this change, "configure" would fail, because it would
	attempt to build from a Makefile.in that was not distributed.

2011-01-13  Christian Ohler  <ohler@gnu.org>

	* Makefile.in (INFO_FILES): Add ERT.

	* Makefile.in (check): Run tests in test/automated.

	* Makefile.in:
	* configure.in: Add test/automated/Makefile.

2011-01-07  Paul Eggert  <eggert@cs.ucla.edu>

	* install-sh, mkinstalldirs, move-if-change: Update from master
	source in gnulib.

	* config.guess, config.sub: Updated from master source.

2011-01-05  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Check for __builtin_unwind_init.

2011-01-05  Glenn Morris  <rgm@gnu.org>

	* configure.in (HAVE_MAKEINFO): New output variable.
	(MAKEINFO): Reset to "makeinfo" if not found.
	* Makefile.in (install-arch-indep, info):
	Replace MAKEINFO = off with HAVE_MAKEINFO = no.

2010-12-29  Ulrich Müller  <ulm@gentoo.org>

	* configure.in: Make gameuser configurable (Bug#7717).

2010-12-15  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-dep, uninstall): Remove code relating to the
	long absent lib-src/fns-*.el.

2010-12-11  Glenn Morris  <rgm@gnu.org>

	* make-dist: Exclude etc/*.pyc.

2010-12-10  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Don't double machfile in final message.

2010-12-04  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Fix last change.

2010-12-04  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Remove reference to removed machine description
	files and allow $machine and $machfile to be empty.
	Substitute M_FILE/S_FILE instead of machfile/opsysfile.

2010-12-03  Glenn Morris  <rgm@gnu.org>

	* make-dist: Remove EMACS_UNIBYTE unsetting; it does nothing.

2010-11-23  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in <AC_CHECK_HEADERS>: Remove sys/ioctl.h.
	(EXTERNALLY_VISIBLE): New definition.

2010-11-21  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (INLINE): Do not depend on OPTIMIZE, unused.

2010-11-15  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Do not check for unconditionally included headers.

2010-11-09  Stefan Monnier  <monnier@iro.umontreal.ca>

	* .dir-locals.el (log-edit-mode): Set log-edit-rewrite-fixes.

2010-11-09  Michael Albinus  <michael.albinus@gmx.de>

	* configure.in: Don't write a warning for D-Bus anymore.

2010-11-06  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Fix indentation.

2010-10-31  Ken Brown  <kbrown@cornell.edu>

	* configure.in (checking whether localtime caches TZ):
	Use unsetenv instead of modifying environment directly.

2010-10-25  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in (checking for -znocombreloc): Use AC_LANG_PROGRAM
	to avoid warning.

2010-10-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* configure.in: Remove the BROKEN annotation from GnuTLS.

2010-10-22  Glenn Morris  <rgm@gnu.org>

	* make-dist: Avoid listing .el files twice.  Don't try to run
	autoconf if --no-update.

2010-10-20  Glenn Morris  <rgm@gnu.org>

	* make-dist: No longer create lisp/MANIFEST.

2010-10-14  Glenn Morris  <rgm@gnu.org>

	* BUGS, INSTALL.BZR, README: Updates.

2010-10-13  Glenn Morris  <rgm@gnu.org>

	* make-dist: Remove --compress.  Check for the appropriate
	gzip-like executable, and if not found, don't compress.
	Check version number in README, don't change it.
	Use find for nt/inc/*.h.

2010-10-12  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure (ns_appdir, OLDXMENU, TOOLTIP_SUPPORT):
	Remove trailing / from directory names.

2010-10-12  Glenn Morris  <rgm@gnu.org>

	* make-dist: Update and simplify.

2010-10-12  Eli Zaretskii  <eliz@gnu.org>

	* make-dist: Don't distribute src/buildobj.h.  (Bug#7167)

2010-10-10  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (PROFILING_LDFLAGS): Do not define, remove all uses.

2010-10-09  Glenn Morris  <rgm@gnu.org>

	* make-dist: No more doc/emacs/*.texi.in.

	* configure.in (AC_OUTPUT): Remove doc/emacs/emacsver.texi.

2010-10-09  Glenn Morris  <rgm@gnu.org>

	* configure.in: Combine some conditionals.

	* configure.in (AC_OUTPUT): Add doc/emacs/emacsver.texi.
	* make-dist: Include doc/emacs/*.texi.in.

	* INSTALL, make-dist: Remove references to b2m.
	* Makefile.in (MAN_PAGES): Remove b2m.1.

2010-10-05  Glenn Morris  <rgm@gnu.org>

	* .dir-locals.el: The Emacs convention is sentence-end-double-space.

2010-10-03  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (NO_INLINE, noinline): Move here from src/xterm.c.

2010-10-01  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Include stdlib.h and string.h unconditionally.

2010-09-29  Romain Francoise  <romain@orebokech.com>

	* configure.in: Don't enable ImageMagick unless HAVE_X11.

2010-09-28  Glenn Morris  <rgm@gnu.org>

	* configure.in (HAVE_GNUTLS): Add a description to make autoheader
	happy.

2010-09-27  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* configure.in: Enable imagemagick by default.

2010-09-26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* configure.in (HAVE_GNUTLS): Don't break if we don't have the
	GnuTLS libraries.

2010-09-26  Teodor Zlatanov  <tzz@lifelogs.com>

	* configure.in: Set up GnuTLS.

2010-09-22  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Announce whether libxml2 is linked to.

2010-09-20  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (LINKER): Rename to LD_FIRSTFLAG, do not include $(CC).

2010-09-18  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Detect that libxml2 is installed and if so, build
	with it.

2010-09-13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* configure.in (HAVE_LIBXML2): Check that the libxml2 we found can
	be used.  This fixes a conf problem on Mac OS X.

2010-09-10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* configure.in: Check for libxml2.

2010-09-09  Glenn Morris  <rgm@gnu.org>

	* make-dist: No more TODO files under lisp/.

2010-09-04  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Produce lisp/gnus/_dir-locals.el from
	lisp/gnus/.dir-locals.el.

2010-08-23  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Fix check for librsvg, imagemagick and
	MagickExportImagePixels.

2010-08-18  Joakim Verona  <joakim@verona.se>

	* Makefile.in, configure.in: Checks for ImageMagick.

2010-08-10  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (AC_PREREQ): Require autoconf 2.65.

2010-08-09  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (AC_PREREQ): Require autoconf 2.66 to stop version churn.

2010-08-09  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Add AC_C_BIGENDIAN.

2010-08-09  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (ORDINARY_LINK): Use on hpux* too.

2010-08-06  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Check for util.h.
	Use -Wimplicit-function-declaration if compiler supports it.

2010-08-05  Eli Zaretskii  <eliz@gnu.org>

	* configure.in (UNEXEC_OBJ): Rename unexec.o => unexcoff.o.

2010-08-04  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Restore accidentally removed use of
	GCC_TEST_OPTIONS/NON_GCC_TEST_OPTIONS.

2010-07-29  Chad Brown  <yandros@mit.edu>

	* configure.in: Check for dirent.h.

2010-07-29  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove reference to usg5-4, unused.

2010-07-25  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Check for __executable_start.

2010-07-24  Ken Brown  <kbrown@cornell.edu>

	* configure.in (LINKER, LIB_GCC): Remove cygwin special cases (Bug#6715)

2010-07-24  Juanma Barranquero  <lekktu@gmail.com>

	* .bzrignore, .gitignore: Ignore README.W32 on the root directory.

2010-07-24  Ken Brown  <kbrown@cornell.edu>  (tiny change)

	* configure.in (START_FILES) [cygwin]: Set to pre-crt0.o (Bug#6715).

2010-07-12  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in (C_WARNINGS_SWITCH, PROFILING_CFLAGS)
	(PROFILING_LDFLAGS): Substitute, don't add them to CFLAGS/LDFLAGS.
	(C_OPTIMIZE_SWITCH): Remove.
	(TEMACS_LDFLAGS2): Add ${PROFILING_LDFLAGS}.

2010-07-11  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Don't check for index and rindex, check for strchr
	and strrchr.  Define strchr and strrchr as index and rindex,
	resp., in src/config.h if not available.

2010-07-08  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Use -Wold-style-definition if available.
	This helps with the transition to standard C code, it can be
	removed when done.

	* configure.in (PRE_EDIT_LDFLAGS, POST_EDIT_LDFLAGS): Remove.

	* configure.in (UNEXEC_OBJ): Add comment about values for MSDOS
	and MSWindows.

2010-07-07  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in: Don't check for bcopy, bcmp, bzero.  Don't include
	<strings.h> and don't define bcopy, bzero, BCMP in config.h.

2010-07-07  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (getenv): Remove K&R declaration.

2010-07-02  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Remove define __P.

2010-07-02  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (--enable-use-lisp-union-type): New flag.

2010-06-30  Dan Nicolaescu  <dann@ics.uci.edu>

	Fix CFLAGS for non-GCC compilers.
	* configure.in (CFLAGS): Always use -g like it was done before the
	2010-03-30 change.
	(REAL_CFLAGS): Use CFLAGS for non-GCC to get optimization flags.
	(Bug#6538)

2010-06-30  Glenn Morris  <rgm@gnu.org>

	* configure.in (HAVE_SOUND, HAVE_X_I18N, HAVE_X11R6_XIM):
	Set with AC_DEFINE rather than AH_BOTTOM.

	* configure.in (C_OPTIMIZE_SWITCH, CANNOT_DUMP, SYSTEM_MALLOC)
	(USE_MMAP_FOR_BUFFERS, C_WARNING_SWITCH, CFLAGS, REAL_CFLAGS):
	Set with shell, not cpp.
	(LIBX): Remove, just use -lX11 in the one place this was used.
	(cannot_dump): Replace with CANNOT_DUMP.

2010-06-28  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Add --with-x-toolkit=gtk3.  Remove HAVE_GTK_MULTIDISPLAY,
	check for gtk_file_chooser_dialog_new, and HAVE_GTK_FILE_BOTH (implied
	by minimum required Gtk+ 2.6).  Add checks for functions introduced
	in Gtk+ 2.14 or newer (bug#6505).

2010-06-26  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Remove white space around "+" in COPY commands.

2010-06-23  Glenn Morris  <rgm@gnu.org>

	* info/dir: Start descriptions in column 32, per Texinfo convention.

2010-06-16  Chong Yidong  <cyd@stupidchicken.com>

	* INSTALL: Update font information (Bug#6389).

2010-06-16  Glenn Morris  <rgm@gnu.org>

	* INSTALL: General update.

2010-06-12  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-indep): Delete any old info .gz files first.

2010-06-11  Glenn Morris  <rgm@gnu.org>

	* configure.in (--without-compress-info): New option.
	(GZIP_INFO): New output variable.

	* Makefile.in (GZIP_INFO): New, set by configure.
	(install-arch-indep): Don't gzip info pages if GZIP_INFO is nil.
	Handle man pages in the same way.

2010-06-10  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-indep): Gzip the info files too.

	* make-dist: Remove references to non-existent directories and files.

2010-06-08  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Include <strings.h> and <string.h> instead of
	"strings.h" and "string.h".

2010-06-06  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove code dealing with BSTRING.

2010-06-03  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (AC_PREREQ): Require autoconf 2.65.

	* configure.in (unxec): Do not define and substitute.
	(UNEXEC_OBJ): New output variable, replaces cpp UNEXEC.

2010-06-03  Glenn Morris  <rgm@gnu.org>

	* configure.in (AH_BOTTOM): Remove NOT_C_CODE test, it is always true.

2010-06-02  Dan Nicolaescu  <dann@ics.uci.edu>

	Fix alloca definition when using gcc on non-gnu systems.
	* configure.in: Use the code sequence indicated by "info autoconf"
	for alloca (bug#6170).

2010-05-30  Stefan Monnier  <monnier@iro.umontreal.ca>

	* .bzrignore: Ignore new files from trunk, which appear if you use
	colocated branches (i.e. "bzr switch").

2010-05-28  Glenn Morris  <rgm@gnu.org>

	* configure.in: Simplify some of the $canonical tests.

2010-05-27  Glenn Morris  <rgm@gnu.org>

	* config.bat: Do not preprocess src/Makefile.in.

	* configure.in: Do not preprocess src/Makefile.in.
	(cpp_undefs, CPP_NEED_TRADITIONAL): Remove.
	(AC_EGREP_CPP): Test no longer needed.

	* make-dist: No more Makefile.c files.

2010-05-26  Glenn Morris  <rgm@gnu.org>

	* configure.in (YMF_PASS_LDFLAGS): Remove.
	(PRE_EDIT_LDFLAGS, POST_EDIT_LDFLAGS): New output variables.

	* configure.in (CPPFLAGS, CFLAGS, REAL_CFLAGS):
	Add $GNUSTEP_LOCAL_HEADERS.
	(LDFLAGS, LD_SWITCH_SYSTEM_TEMACS): Add $GNUSTEP_LOCAL_LIBRARIES.

	* configure.in (NS_IMPL_GNUSTEP_INC, NS_IMPL_GNUSTEP_TEMACS_LDFLAGS)
	(GNUSTEP_MAKEFILES): Remove.
	(LD_SWITCH_SYSTEM_TEMACS): Move NS_IMPL_GNUSTEP_TEMACS_LDFLAGS
	stuff to here.

2010-05-25  Glenn Morris  <rgm@gnu.org>

	* configure.in (LD_SWITCH_SYSTEM): Move some gnu-linux stuff...
	(LD_SWITCH_SYSTEM_TEMACS): ... to here.

	* configure.in (LD_SWITCH_SYSTEM_EXTRA): Remove.
	(LD_SWITCH_SYSTEM_TEMACS): Put darwin stuff from LD_SWITCH_SYSTEM_EXTRA
	here instead.

2010-05-24  Romain Francoise  <romain@orebokech.com>

	* make-dist: Look for version in src/emacs.c.
	Use lisp/subr.el rather than lisp/version.el for location check.

2010-05-21  Glenn Morris  <rgm@gnu.org>

	* configure.in (MKDEPDIR): Parallel build tweak.

	* configure.in (ns_frag): New output file.

	* configure.in (OLDXMENU): Set to "nothing" if !HAVE_X11 || USE_GTK.
	(OLDXMENU_TARGET): Set to empty if USE_GTK.

	* configure.in (cannot_dump): New output variable.

2010-05-20  enami tsugutomo  <tsugutomo.enami@jp.sony.com>

	* configure.in: On NetBSD, if terminfo is found, use it in
	preference to termcap.  (Bug#6190)

2010-05-20  Glenn Morris  <rgm@gnu.org>

	* make-dist (src): Include *.mk.
	* config.bat: Concatenate deps.mk onto the end of src/Makefile.
	* configure.in (DEPFLAGS, MKDEPDIR): New output variables.
	(deps_frag): New output file.
	(AUTO_DEPEND): Remove this definition.

	* configure.in (--with-gtk, --with-gcc): Remove option stubs.

2010-05-19  Glenn Morris  <rgm@gnu.org>

	* configure.in (LINKER, YMF_PASS_LDFLAGS): New output variables.
	(ORDINARY_LINK): New AC_DEFINE.
	(LIB_GCC): No need to set if ORDINARY_LINK.

2010-05-18  Glenn Morris  <rgm@gnu.org>

	* configure.in (POST_ALLOC_OBJ) [cygwin]: Omit vm-limit.o.
	(POST_ALLOC_OBJ) [!cygwin]: Set to empty.

	* config.bat (RALLOC_OBJ): Edit to empty if sys_malloc.
	* configure.in (REL_ALLOC): Unset on gnu, gnu-linux if DOUG_LEA_MALLOC.
	(RALLOC_OBJ): New output variable.

	* config.bat (GMALLOC_OBJ, VMLIMIT_OBJ): Edit to empty if sys_malloc.
	* configure.in (GMALLOC_OBJ, VMLIMIT_OBJ): New output variables.

2010-05-17  Stefan Monnier  <monnier@iro.umontreal.ca>

	* Makefile.in (src): Provide the name of the VCS file that witnesses
	a pull.
	($(srcdir)/src/config.in): Handle accidental removal of src/config.in.

2010-05-17  Glenn Morris  <rgm@gnu.org>

	* configure.in (OLDXMENU_DEPS): New output variable.

2010-05-16  Glenn Morris  <rgm@gnu.org>

	* configure.in (ns_appbindir, ns_appresdir): Set using $ns_appdir.

	* configure.in (ns_appdir, ns_appbindir): Add trailing "/" to value.
	* Makefile.in (install-arch-dep): Update for above change.

	* Makefile.in (ns_appdir): Remove.
	(install-arch-dep): Test $ns_appresdir instead of $ns_appdir.

	* configure.in (TEMACS_LDFLAGS2): New output variable.

	* configure.in (NS_IMPL_GNUSTEP_TEMACS_LDFLAGS): New output variable.
	(START_FILES): Set to empty if NS_IMPL_GNUSTEP.
	(GNUSTEP_SYSTEM_HEADERS, GNUSTEP_SYSTEM_LIBRARIES): Do not output,
	nothing uses.

2010-05-16  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove references to usg5-4 and bsd-common, $opsys
	does not use them.
	(X11R5_INHIBIT_I18N): Remove, unused.

2010-05-15  Glenn Morris  <rgm@gnu.org>

	* configure.in (LIBXMENU): Set to empty if !HAVE_X_WINDOWS.

	* configure.in (FONT_OBJ): Set to empty if !HAVE_X_WINDOWS.

2010-05-15  Ken Raeburn  <raeburn@raeburn.org>

	* configure.in: Look for version string in its new location.

2010-05-15  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Remove support for DJGPP v1.x.

2010-05-15  Glenn Morris  <rgm@gnu.org>

	* configure.in (OLDXMENU_TARGET): New output variable.

	* Makefile.in (install-arch-dep): Update odd NS rule for Emacs version.

	* Makefile.in (install-arch-indep): Remove references to RCS, CVS,
	and other files that no longer exist.

2010-05-14  Glenn Morris  <rgm@gnu.org>

	* configure.in (cpp_undefs): Add mktime, register, X11.

	* configure.in (GPM_MOUSE_SUPPORT): Remove.
	(MOUSE_SUPPORT, TOOLTIP_SUPPORT, WINDOW_SUPPORT): New output variables.
	(HAVE_WINDOW_SYSTEM, HAVE_MOUSE): Move out of AC_BOTTOM.

	* configure.in (NS_IMPL_GNUSTEP_INC): New output variable.
	(GNUSTEP_MAKEFILES): Do not output.

2010-05-13  Glenn Morris  <rgm@gnu.org>

	* configure.in: Fix some paren typos.

	* configure.in (OLDXMENU, LIBXMENU): Set to empty if !HAVE_MENUS.

	* configure.in (LD_SWITCH_X_SITE, C_SWITCH_X_SITE): Do not define.

2010-05-12  Glenn Morris  <rgm@gnu.org>

	* configure.in (LIB_SRC_EXTRA_INSTALLABLES): Remove, unused.

	* configure.in (LIB_GCC): New output variable.

2010-05-11  Glenn Morris  <rgm@gnu.org>

	* make-dist (msdos): No more mainmake.

	* configure.in: Generate lib-src/Makefile directly, do not run cpp.
	* config.bat: Do not run cpp on lib-src/Makefile.in.

	* config.bat [HAVE_X11]: Run sed3x.inp on lib-src/Makefile.

2010-05-10  Glenn Morris  <rgm@gnu.org>

	* configure.in (LIBS_SYSTEM): New output variable, replacing cpp.

	* configure.in (MAIL_USE_FLOCK, MAIL_USE_LOCKF): New AC_DEFINEs.
	(BLESSMAIL_TARGET): New output variable.

2010-05-08  Štěpán Němec  <stepnem@gmail.com>  (tiny change)

	* INSTALL: Fix typos.

2010-05-08  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Add check for buggy version of GCC (Bug#6031).

2010-05-08  Glenn Morris  <rgm@gnu.org>

	* configure.in (HAVE_LIBNCURSES): New local variable.
	(TERMINFO, LIBS_TERMCAP, TERMCAP_OBJ): New output variables,
	replacing cpp in src/s/*.h and src/Makefile.in.

2010-05-07  Chong Yidong  <cyd@stupidchicken.com>

	* Version 23.2 released.

2010-05-07  Stefan Monnier  <monnier@iro.umontreal.ca>

	* configure.in: Add tests for `isnan' and `copysign'.

2010-05-07  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Allow for 2 leading `#'s in comments in
	src/Makefile.in.

2010-05-07  Glenn Morris  <rgm@gnu.org>

	* configure.in (LD_SWITCH_SYSTEM): Set with configure, not cpp.
	Merges logic from src/s/* and src/Makefile.in.
	(LD_SWITCH_SYSTEM_TEMACS): New output variable.

2010-05-07  Dan Nicolaescu  <dann@ics.uci.edu>

	Define START_FILES and LIB_STANDARD using autoconf.
	* configure.in (START_FILES, LIB_STANDARD): New definitions, moved
	here from src/s/*.h.
	(HAVE_CRTIN): Remove, inline logic in the netbsd
	START_FILES/LIB_STANDARD computation.

2010-05-06  Glenn Morris  <rgm@gnu.org>

	* configure.in (AC_PROG_LN_S): Remove test, nothing uses @LN_S@.

	* Makefile.in (CPP, C_SWITCH_SYSTEM, ALLOCA, LN_S, C_SWITCH_X_SITE)
	(LD_SWITCH_X_SITE): Remove unused variables.

2010-05-04  Glenn Morris  <rgm@gnu.org>

	* configure.in (LD_SWITCH_X_SITE_AUX): Use AC_SUBST only, not AC_DEFINE
	as well.
	(LD_SWITCH_X_SITE_AUX_RPATH): New output variable.

	* configure.in (LD_SWITCH_SYSTEM_TEMACS): New output variable.

	* configure.in (C_SWITCH_MACHINE, C_SWITCH_SYSTEM): New output
	variables, replacing c_switch_machine, c_switch_system.
	* Makefile.in (C_SWITCH_SYSTEM): Use @C_SWITCH_SYSTEM@ rather than
	@c_switch_system@.

2010-05-03  Glenn Morris  <rgm@gnu.org>

	* configure.in (LIBXT_OTHER, LIBX_OTHER): New output variables.

	* make-dist: There are no more src/m/*.inp files.

2010-05-01  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (LD_SWITCH_MACHINE, ld_switch_machine): Remove, unused.
	(ac_link): Do not use ld_switch_machine.

2010-05-01  Glenn Morris  <rgm@gnu.org>

	* configure.in (OTHER_OBJ): Remove.
	(PRE_ALLOC_OBJ, POST_ALLOC_OBJ): New output variables.

2010-04-30  Glenn Morris  <rgm@gnu.org>

	* configure.in (OTHER_OBJ): Always include vm-limit.o on Cygwin.
	Elsewhere, maybe include it.

	* configure.in (TOOLKIT_LIBW) [HAVE_GTK]: Set to $GTK_LIBS.
	(OLDXMENU, LIBXMENU): New output variables.

	* configure.in (OTHER_OBJ): New output variable.

2010-04-28  Glenn Morris  <rgm@gnu.org>

	* configure.in (CYGWIN_OBJ): New output variable.

	* configure.in (GPM_MOUSE_SUPPORT): New output variable.

	* configure.in (FONT_OBJ): New output variable.

	* configure.in (LIBXMU): New output variable.

	* configure.in (NS_OBJ, NS_SUPPORT): New output variables.

	* configure.in (machine, canonical): On amdx86-64, check for a 32-bit
	userland and maybe change values to i386 (move test from s/amdx86-64.h).

2010-04-27  Glenn Morris  <rgm@gnu.org>

	* configure.in (LIBXTR6): New output variable.  Move unixware special
	case here from src/s/unixware.h.

	* configure.in (LUCID_LIBW, MOTIF_LIBW): No longer substitute
	in Makefiles.
	(TOOLKIT_LIBW): New output variable, replacing LUCID_LIBW/MOTIF_LIBW.

	* configure.in (HAVE_MOTIF_2_1): Remove unused variable.
	(LIBXP): No longer substitute in Makefiles.
	(MOTIF_LIBW): New output variable.  Move system-specific settings here
	from src/s files.

2010-04-27  Dan Nicolaescu  <dann@ics.uci.edu>

	Reduce CPP usage.
	* configure.in (LIB_X11_LIB): Remove, inline in the only user.
	(unexec): Define unconditionally, all platforms define
	UNEXEC.  AC_SUBST it.
	(UNEXEC_SRC): Remove, unused.
	(C_SWITCH_X_SYSTEM): Define using autoconf, not cpp.

2010-04-27  Glenn Morris  <rgm@gnu.org>

	* configure.in (HAVE_MOTIF_2_1, HAVE_LIBXP): Remove unused AC_DEFINEs,
	replaced by LIBXP.

	* configure.in (--with-crt-dir): Doc fix (now valid for all platforms).
	(CRT_DIR): On (powerpc64|sparc64)-*-linux-gnu*, default to /usr/lib64.
	On hpux10-20, default to /lib.

	* configure.in (LUCID_LIBW, LIBXP, WIDGET_OBJ): New output variables.

2010-04-26  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (LIBS_MACHINE): Remove, unused.

	* configure.in (LIB_MATH): New output variable.  Set it for some systems.

2010-04-24  Glenn Morris  <rgm@gnu.org>

	* configure.in (CRT_DIR): New output variable.
	(--with-crt-dir): New option.  (Bug#5655)
	(HAVE_LIB64_DIR): Remove.

2010-04-22  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (REAL_CFLAGS, CFLAGS): Restore -g for gcc.

2010-04-22  Miles Bader  <miles@gnu.org>

	* configure.in: Get rid of "unix" pre-defined macro when
	preprocessing Makefile.  (Bug#5857)

2010-04-21  Andreas Schwab  <schwab@linux-m68k.org>

	Avoid non-portable shell command negation
	* configure.in: Revert last change.

2010-04-21  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Change "if test ! -f" to "if ! test -f".

2010-04-21  Glenn Morris  <rgm@gnu.org>

	* configure.in (LIBSELINUX_LIBS): Always substitute in Makefiles.
	(GTK_OBJ, DBUS_OBJ, LIBXSM, XMENU_OBJ, XOBJ): New output variables.

2010-04-21  Karel Klíč  <kklic@redhat.com>

	* configure.in: New option: --with(out)-selinux, on by default.
	Set HAVE_LIBSELINUX if we find libselinux, and substitute
	LIBSELINUX_LIBS in Makefiles.

2010-04-01  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove all references to LIBX11_SYSTEM.

2010-03-30  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove all references to C_DEBUG_SWITCH.

2010-03-27  Eli Zaretskii  <eliz@gnu.org>

	* config.bat <lib-src>: Edit out lines that begin with several #
	characters.

2010-03-20  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove support for old UNIX System V systems and
	for Unixware on non-x86 machines.

	* configure.in: Remove support for Solaris on PPC and for old versions.

	* configure.in: Remove non-working lynxos port.

2010-03-19  Dan Nicolaescu  <dann@ics.uci.edu>

	* .dir-locals.el (c-mode): Turn on whitespace-mode for diff-mode.

2010-03-19  Glenn Morris  <rgm@gnu.org>

	* configure.in (HAVE_LIBNCURSES): Add a description to make autoheader
	happy.

2010-03-18  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Check for tputs and friends, abort if not
	found (bug#5735).

2010-03-18  Glenn Morris  <rgm@gnu.org>

	* configure.in (--with-x-toolkit): In the help text, say which options
	are synonyms.

	* configure.in (--with-mmdf, --with-mail-unlink):
	New options, off by default.
	(--with-mailhost): New option to set default POP host.
	(LIBXPM, LIBJPEG, LIBPNG, LIBTIFF, LIBGIF, LIBGPM, LIBS_MAIL)
	(LIBHESIOD, LIBRESOLV, COM_ERRLIB, CRYPTOLIB, KRB5LIB, DESLIB, KRB4LIB):
	New variables, substituted in Makefiles.
	(try_libungif, ac_gif_lib_name): Replace with HAVE_GIF=maybe, LIBGIF.
	(LIBGIF): Use AC_SUBST rather than AC_DEFINE.
	(HAVE_LIBMAIL, HAVE_LIBLOCKFILE, HAVE_LIBCOM_ERR, HAVE_LIBCRYPTO)
	(HAVE_LIBK5CRYPTO, HAVE_LIBKRB5, HAVE_LIBDES425, HAVE_LIBDES)
	(HAVE_LIBKRB4, HAVE_LIBKRB): New AC_DEFINEs.

2010-03-18  Tetsurou Okazaki  <okazaki@be.to>  (tiny change)

	* Makefile.in (uninstall): Handle the case where archlibdir does not
	exist.  (Bug#5720)

2010-03-12  Eli Zaretskii  <eliz@gnu.org>

	These changes remove termcap.c from the build on POSIX platforms.
	* configure.in <AC_CHECK_HEADERS>: Remove termcap.h.

	* configure: Regenerated.

2010-03-10  Chong Yidong  <cyd@stupidchicken.com>

	* Branch for 23.2.

2010-01-31  Juri Linkov  <juri@jurta.org>

	* .bzrignore: Add TAGS-LISP.

2010-01-23  Giorgos Keramidas  <keramida@ceid.upatras.gr>  (tiny change)

	* configure.in: Check for utmp.h availability (FreeBSD 9.x lacks
	this header file).

2010-01-12  Juanma Barranquero  <lekktu@gmail.com>

	* .bzrignore: Ignore all .exe, instead of individual files.

2010-01-12  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Explicitly check for and link to -lXrender.

2010-01-12  Glenn Morris  <rgm@gnu.org>

	* INSTALL.BZR, README: Use bug-gnu-emacs rather than emacs-pretest-bug
	for bug reports for development versions.

2010-01-02  Eli Zaretskii  <eliz@gnu.org>

	* .bzrignore: Add more ignored patterns, including for the MS-DOS
	build.

2009-12-27  Karl Fogel  <kfogel@red-bean>

	* INSTALL.BZR: Rename from INSTALL.CVS; edit to talk about Bazaar.
	* INSTALL, autogen.sh, configure.in, configure: Adjust accordingly.

2009-12-17  Glenn Morris  <rgm@gnu.org>

	* .dir-locals.el (bug-reference-url-format): Change to debbugs.gnu.org.

2009-12-15  Glenn Morris  <rgm@gnu.org>

	* info/dir: Add EDT entry.
	* Makefile.in (INFO_FILES): Add edt.

2009-12-10  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Check for RSVG if GNUstep is used.

2009-12-09  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Don't check for RSVG or GConf unless X11 is used.

2009-12-09  Ken Brown  <kbrown@cornell.edu>  (tiny change)

	* configure.in: Allow compiling Emacs with GTK on Cygwin.

2009-12-01  Glenn Morris  <rgm@gnu.org>

	* make-dist: Add etc/images/mpc directory.

2009-11-21  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Don't check for GConf unless X is used.

2009-11-20  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Use -Wdeclaration-after-statement if available.

2009-11-17  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: New option: --with(out)-gconf.
	Set HAVE_GCONF if we find gconf.

2009-11-17  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (INFO_FILES): Add semantic.

2009-11-16  Chong Yidong  <cyd@stupidchicken.com>

	* info/dir: Add Semantic.

2009-11-16  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-indep): Use a more restrictive Makefile
	pattern, so as not to exclude makefile*.el.  (Bug#4912)

2009-11-14  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: --enable-autodepend is new.  Check for GNU Make
	and that gcc supports -MMD -MF.  Define AUTO_DEPEND if we can use
	gcc and GNU make to generate dependencies.

2009-10-27  Glenn Morris  <rgm@gnu.org>

	* make-dist: Make links to doc/lispintro/*.pdf.

2009-10-23  Jim Meyering  <meyering@redhat.com>

	* configure.in: Invoke $CPP with -P when creating Makefile and
	src/Makefile.  Without this, gcc 4.4.2 converts each
	backslash-newline pair in the input to a bare newline, yielding
	invalid Makefiles.

	* configure: Regenerate.

2009-10-19  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (vax-dec-vms): Remove, not supported anymore.

2009-10-15  Adrian Robert  <Adrian.B.Robert@gmail.com>

	* configure.in (NS_HAVE_NSINTEGER): Back out previous change.
	(*-apple-darwin*): Add x86_64 architecture.

2009-10-14  Dan Nicolaescu  <dann@ics.uci.edu>

	* config.guess, config.sub: Updated from master source.

2009-10-11  Adrian Robert  <Adrian.B.Robert@gmail.com>

	* configure.in (NS_HAVE_NSINTEGER): Remove this test and define.

2009-10-07  Edward Trumbo  <etrumbo@comcast.net>  (tiny change)

	* Makefile.in (INFO_FILES): Add EDE and EIEIO.

2009-09-29  Glenn Morris  <rgm@gnu.org>

	* make-dist (check): Update for two new levels of subdirectory in lisp/.

2009-09-17  Dan Nicolaescu  <dann@ics.uci.edu>

	* config.guess, config.sub: Updated from master source.

	* configure.in (OTHER_FILES): Define using autoconf not cpp.

2009-09-14  Dan Nicolaescu  <dann@ics.uci.edu>

	* .dir-locals.el (change-log-mode): Restore bug-reference-mode.

2009-09-13  Chong Yidong  <cyd@stupidchicken.com>

	* INSTALL: Update URL for GNU FreeFont.

2009-09-09  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-indep): Don't recursively change perms of
	site-lisp and infodir.  There may be non-Emacs files in here, and the
	files supplied by Emacs are all handled explicitly already.  (Bug#3800)
	(mkdir): Set umask to world-readable before creating directories.
	mkinstalldirs already checks if dirs exist, don't duplicate this test.

2009-08-29  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (info-real): Don't ignore errors from doc Makefiles.
	(info): Don't give an error in the absence of makeinfo - let the doc
	Makefiles do that, if the info files need rebuilding.  (Bug#3982)

2009-08-23  Ken Raeburn  <raeburn@raeburn.org>

	* Makefile.in (install-arch-indep): If the versioned DOC-####
	generated during loadup+dump isn't found, install the plain DOC
	file that always gets generated, in case CANNOT_DUMP is set.

	* configure.in: Warn if package version specified here doesn't
	match the version in version.el.
	* configure: Regenerate.

2009-08-22  Michael Albinus  <michael.albinus@gmx.de>

	* configure.in: AC_CHECK_FUNCS dbus_watch_get_unix_fd.

	* configure: Regenerate.

2009-08-19  Glenn Morris  <rgm@gnu.org>

	* INSTALL: Remove reference to cvtmail.

2009-08-15  CHENG Gao  <chenggao@gmail.com>

	* Makefile.in (install-arch-indep): Remove .DS_Store files (MacOSX).

2009-08-02  Kevin Ryde  <user42@zip.com.au>

	* INSTALL: Fix free fonts URL.

2009-07-22  Glenn Morris  <rgm@gnu.org>

	* configure.in (AC_PREREQ): Require autoconf 2.62.

2009-07-04  Andreas Schwab  <schwab@linux-m68k.org>

	* configure.in (--enable-checking, --enable-profiling):
	Use AS_HELP_STRING.

2009-07-03  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (--enable-profiling): New option.
	(mips-*-netbsd*, mipsel-*-netbsd*, mipseb-*-netbsd*): Use machine=mips.

2009-06-27  Glenn Morris  <rgm@gnu.org>

	* configure.in: Restore netbsd on mips, mipsel, mipseb.

2009-06-26  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (--enable-checking): New option.

2009-06-24  Glenn Morris  <rgm@gnu.org>

	* make-dist: Warn if subdir does not exist in source.
	(nextstep/Cocoa/Emacs.base/Contents/Resources/preferences.nib)
	(nextstep/GNUstep/Emacs.base/Resources/preferences.gorm):
	No longer make links.

2009-06-24  Yavor Doganov  <yavor@gnu.org>

	* make-dist (tempdir): Don't create directories preferences.gorm
	and preferences.nib, they are no longer required.

2009-06-21  Chong Yidong  <cyd@stupidchicken.com>

	* Branch for 23.1.

2009-06-12  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Delete mac-fix-env target, which has been
	removed (Bug#3531).

2009-05-06  Stefan Monnier  <monnier@iro.umontreal.ca>

	* configure.in: Don't define CANNOT_DUMP for GNUstep any more.

2009-05-05  Per Starbäck  <per@starback.se>  (tiny change)

	* BUGS: Use new binding of view-emacs-problems.

2009-05-04  Simon Leinen  <simon.leinen@switch.ch>  (tiny change)

	* Makefile.in (install-arch-dep): Avoid using $$(..) construct,
	for Solaris compatibility.

2009-04-25  Chong Yidong  <cyd@stupidchicken.com>

	* configure: Regenerate.

	* configure.in: Disable use of FreeType without libXft.

2009-04-19  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (HAVE_GTK_FILE_SELECTION, HAVE_GTK_FILE_CHOOSER):
	Check if it is declared in gtk.h.

2009-04-12  Andreas Schwab  <schwab@linux-m68k.org>

	* Makefile.in (install-arch-indep): Remove .gitignore files.

2009-04-03  Kenichi Handa  <handa@m17n.org>

	* INSTALL: Make the section "Complex Text Layout support
	libraries" the first of "ADDITIONAL DISTRIBUTION FILES".

2009-03-06  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (rs6000-ibm-aix6*): Fix typo.

2009-03-04  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (INFO_FILES): Add auth.

2009-03-03  Glenn Morris  <rgm@gnu.org>

	* info/dir: Add Auth-source.

2009-02-28  Stefan Monnier  <monnier@iro.umontreal.ca>

	* Makefile.in (src): Fix last change so the first `cd' doesn't affect
	the second.

2009-02-28  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Copy .dbxinit to _dbxinit.

	* make-dist (Making links to `info'): Remove .gitignore.

2009-02-28  Stefan Monnier  <monnier@iro.umontreal.ca>

	* Makefile.in (lib-src, lisp): Use simpler rule.
	(src): Be more specific to avoid recompiling all the .elc files just
	because the bootstrap-emacs is missing.

2009-02-26  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Require librsvg >= 2.11.

2009-02-23  Adrian Robert  <Adrian.B.Robert@gmail.com>

	* configure.in (HAVE_XFT, HAVE_FREETYPE, HAVE_LIBOTF)
	(HAVE_M17N_FLT): Don't check for these unless HAVE_X11.

2009-02-04  Adrian Robert  <Adrian.B.Robert@gmail.com>

	* configure.in (COCOA_EXPERIMENTAL_CTRL_G): Drop.

2009-02-03  Glenn Morris  <rgm@gnu.org>

	* make-dist: Add some missing files, remove some that are no longer
	present.

2009-02-02  Glenn Morris  <rgm@gnu.org>

	* make-dist: Add some missing nextstep/ files.

2009-01-22  Yavor Doganov  <yavor@gnu.org>  (tiny change)

	* configure.in (HAVE_RSVG): Use librsvg under HAVE_NS also.  (Bug#616)

2009-01-22  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Add support for m68k-*-netbsd.

2009-01-14  Juri Linkov  <juri@jurta.org>

	* .dir-locals.el (change-log-mode): Remove bug-reference-mode.

	* .dir-locals.el (change-log-mode): Add bug-reference-url-format
	and bug-reference-mode.

2009-01-11  Juri Linkov  <juri@jurta.org>

	* INSTALL.CVS: Move configuration explicitly to the first step.

2009-01-09  Glenn Morris  <rgm@gnu.org>

	* .dir-locals.el: Don't set indent-tabs-mode.

2008-12-30  Kenichi Handa  <handa@m17n.org>

	* configure.in: Define HAVE_OTF_GET_VARIATION_GLYPHS if libotf has
	the function OTF_get_variation_glyphs.

2008-12-30  Jan Djärv  <jan.h.d@swipnet.se>

	* Makefile.in (install-arch-dep): Remove old directories in
	ns_app* before moving new directories there.

2008-12-27  Dan Nicolaescu  <dann@ics.uci.edu>

	* .dir-locals.el: Remove non-working entry for pmail.
	(fill-column): Fix typo.
	(change-log-mode): Add fill column.

2008-12-26  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Produce _dir-locals.el from .dir-locals.el.

2008-12-23  Dan Nicolaescu  <dann@ics.uci.edu>

	* make-dist (tempdir): Distribute .dir-locals.el.

	* .dir-locals.el: New file.

2008-12-19  Eli Zaretskii  <eliz@gnu.org>

	* config.bat (--with-system-malloc): New option; see msdos/INSTALL
	for rationale.

2008-12-13  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-indep): Add new man-pages.
	(manext): Remove variable.
	(MAN_PAGES): New variable.
	(install-arch-indep, uninstall): Use MAN_PAGES for list of files to add
	and remove.
	(uninstall): Remove desktop file and icons, game scores if empty.

2008-12-11  Dan Nicolaescu  <dann@ics.uci.edu>

	* config.guess, config.sub: Updated from master source.

2008-12-10  Dan Nicolaescu  <dann@ics.uci.edu>

	* Makefile.in (install-arch-indep): Install ebrowse.1.

2008-12-09  Ali Bahrami  <ali_gnu@emvision.com>  (tiny change)

	* configure.in: Add Solaris on x86_64.

2008-12-09  Dan Nicolaescu  <dann@ics.uci.edu>

	* config.guess, config.sub: Updated from master source.

2008-12-08  Eli Zaretskii  <eliz@gnu.org>

	* info/dir: Fix last change.

2008-12-07  Eli Zaretskii  <eliz@gnu.org>

	* info/dir: Untabify.

2008-11-28  Ulrich Müller  <ulm@gentoo.org>

	* configure.in: Fix last change.

2008-11-28  Richard M Stallman  <rms@gnu.org>

	* configure.in (mips64-*-linux-gnu*, mips64el-*-linux-gnu*):
	New configurations.

2008-11-20  Josh Elsasser  <josh@elsasser.org>  (tiny change)

	* configure.in: Add hppa-*-openbsd* with machine hp800; mistakenly
	removed while misclassified as now unsupported hp9000s300.  (Bug#1365)

2008-11-15  Eli Zaretskii  <eliz@gnu.org>

	* Makefile.in (INFO_FILES): Remove ns-emacs.

	* info/dir (NS-Emacs): Remove entry.

2008-11-08  Eli Zaretskii  <eliz@gnu.org>

	* INSTALL: Move MS-DOS specific instructions to msdos/INSTALL.

2008-11-07  Glenn Morris  <rgm@gnu.org>

	* configure.in (HAVE_LIB64_DIR): Check for crtn.o.  (Bug#1287)

2008-10-31  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Tell user to expect one "File not found" message
	while the `doc' directory is being configured.

2008-10-30  Chong Yidong  <cyd@stupidchicken.com>

	* update-subdirs: Put obsolete directory last.

2008-10-30  Emanuele Giaquinta  <emanuele.giaquinta@gmail.com>

	* configure.in: Check fontconfig always.

2008-10-30  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure (*-solaris2.[7-9]*): Fix typo.

2008-10-24  Glenn Morris  <rgm@gnu.org>

	* configure.in (--without-sync-input, --with-pkg-config-prog):
	Help strings start with lower case.
	(--with-gnustep-conf): New option.
	(GNUSTEP_CONFIG_FILE): Use, instead of fixed /etc/GNUstep/GNUstep.conf.

2008-10-24  Yavor Doganov  <yavor@gnu.org>  (tiny change)

	* configure.in: Use `.' instead of `source' to source GNUstep.conf.
	Exit with an error if `--with-ns' was specified but <AppKit/AppKit.h>
	is not found.  (Bug#1230)

2008-10-23  Ali Bahrami  <ali_gnu@emvision.com>  (tiny change)

	* configure (*-sunos5*, *-solaris*): Use the new file sol2-10.h.
	Use sol2-6.h for Solaris 7-9.

2008-10-18  Ulrich Müller  <ulm@gentoo.org>

	* configure.in: Add support for GNU/Linux on SuperH.

2008-10-12  Andreas Schwab  <schwab@suse.de>

	* configure.in: Only check for m17n-flt if HAVE_LIBOTF.

2008-10-03  Adrian Robert  <Adrian.B.Robert@gmail.com>

	* configure.in: Report USE_TOOLKIT_SCROLLBARS as such (not mentioning
	"X") to avoid confusion.

	* configure: Regenerate.

2008-09-07  Romain Francoise  <romain@orebokech.com>

	* make-dist: Distribute doc/man/ChangeLog.

2008-08-28  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Disable XFT and Freetype when without X.

	* configure: Regenerate.

2008-08-24  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (NS_IMPL_GNUSTEP): Increase pure size.

2008-08-21  Christian Faulhammer  <opfer@gentoo.org>  (tiny change)

	* configure.in (GNUSTEP_SYSTEM_HEADERS):
	Define GNUSTEP_SYSTEM_HEADERS and GNUSTEP_SYSTEM_LIBRARIES.

	* configure: Regenerate.

2008-08-20  Eli Zaretskii  <eliz@gnu.org>

	* configure.in: Move "#define subprocesses" before
	config_opsysfile is included.

2008-08-19  Kenichi Handa  <handa@m17n.org>

	* INSTALL (Extra fonts): Mention local fonts, don't mention
	mule-unicode.

2008-08-16  Chong Yidong  <cyd@stupidchicken.com>

	* make-dist: Omit info/.arch-inventory.

2008-08-16  Jason Rumney  <jasonr@gnu.org>

	* make-dist (tempdir/nt): Link emacsclient.rc.

2008-08-07  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (LIB_SRC_EXTRA_INSTALLABLES): New variable.
	AC_SUBST it.
	(GNU_OBJC_CFLAGS): Define as a shell variable instead of #define.
	AC_SUBST it.
	(OTHER_FILES): Always define for HAVE_NS.
	(C_SWITCH_X_SYSTEM): Don't define as empty for NS_IMPL_COCOA.
	* configure: Regenerate.

2008-08-07  Andreas Schwab  <schwab@suse.de>

	* configure.in: Correctly handle
	--enable-cocoa-experimental-ctrl-g=no and
	--enable-ns-self-contained=yes.

2008-08-06  Adrian Robert  <Adrian.B.Robert@gmail.com>

	* configure.in (NS_HAVE_INTEGER): Rename to NS_HAVE_NSINTEGER.
	(C_SWITCH_X_SYSTEM): Drop -MMD -MP under NS_IMPL_GNUstep.
	Don't bother undef'ing since won't have desired effect.

2008-08-06  Andreas Schwab  <schwab@suse.de>

	* configure.in: Fix quoting.

2008-08-06  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in (COCOA_EXPERIMENTAL_CTRL_G): Fix 2008-08-04 change.

2008-08-05  Ulrich Müller  <ulm@gentoo.org>

	* configure.in: Add checks for krb5_error.text and
	krb5_error.e_text struct members.

2008-08-04  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Test for existence of NSInteger.
	Suggested by Yavor Doganov.

2008-08-02  Romain Francoise  <romain@orebokech.com>

	* Makefile.in (INFO_FILES): Add mairix-el.

2008-07-31  Dan Nicolaescu  <dann@ics.uci.edu>

	* make-dist:
	* README: Remove VMS support.
	* vms: Remove directory.

2008-07-31  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (MULTI_KBOARD): Remove.

2008-07-30  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (DO_BLOCK_INPUT): Remove, unused.

2008-07-29  Chong Yidong  <cyd@stupidchicken.com>

	* info/dir (File): Add mairix-el.

2008-07-27  Dan Nicolaescu  <dann@ics.uci.edu>

	Remove support for Mac Carbon.
	* mac: Remove directory.
	* make-dist:
	* configure.in:
	* README:
	* Makefile.in:
	* INSTALL: Remove code for Carbon.
	* configure: Regenerate.

2008-07-26  Adrian Robert  <Adrian.B.Robert@gmail.com>

	* Makefile.in (install-arch-dep): Fix typo in NS installation commands.

2008-07-25  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Check for getrlimit.

	* configure: Regenerate.

2008-07-23  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (LD_SWITCH_SITE): Remove, set the values directly
	in src/Makefile.in.
	(static): Remove, autoconf would always comment it out anyway.
	(subprocesses): Define unconditionally.

2008-07-19  Yavor Doganov  <yavor@gnu.org>  (tiny change)

	* configure.in: Fix typo in GNUSTEP_MAKEFILES setting for HAVE_NS
	compilation under GNUstep.

2008-07-18  Kenichi Handa  <handa@m17n.org>

	* INSTALL (Complex Text Layout support libraries): Delete the
	paragraph about --enable-font-backend.

2008-07-17  Adrian Robert  <Adrian.B.Robert@gmail.com>

	* configure.in: Print out some info to user for NeXTstep builds.
	(ns-app): Remove enable option.
	(ns-self-contained): Add enable option.
	(ns_appbindir, ns_appresdir, ns_appsrc): Set them based on Cocoa or
	GNUstep, use to set install prefixes, and substitute in Makefiles.
	* configure: Regenerate.
	* Makefile.in (install-arch-dep): Perform post-install cleanup inside
	NS app bundle.

2008-07-17  Stefan Monnier  <monnier@iro.umontreal.ca>

	* configure.in: Extract and substitute GNUSTEP_MAKEFILES.

2008-07-16  Adrian Robert  <Adrian.B.Robert@gmail.com>

	* configure.in: Change GNUSTEP to NS_IMPL_GNUSTEP, COCOA to
	NS_IMPL_COCOA.

2008-07-16  Glenn Morris  <rgm@gnu.org>

	* configure.in (with_kerberos, with_kerberos5, with_hesiod):
	Fix tests for OPTION_DEFAULT_OFF (variables never unset).
	(with_carbon, with_ns): Remove dead code, since OPTION_DEFAULT_OFF means
	never unset.

	* make-dist: Add nextstep/ directories.
	(src, lib-src): Add .m files.

2008-07-16  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (freebsd, kfreebsd): Undo part of previous change.
	(USER_FULL_NAME): Remove, not used anymore.
	* configure: Regenerate.

2008-07-15  Adrian Robert  <Adrian.B.Robert@gmail.com>

	Changes and additions for NeXTstep windowing system (Cocoa and
	GNUstep) support.

	* configure.in: Add support for NS window system: --with-ns (default
	off), --enable-ns-app, --enable-cocoa-experimental-ctrl-g; improve add
	sparc detection for FreeBSD variants, checks for Cocoa and GNUstep,
	disable font backend if window system is "none", not if !HAVE_X11.
	* Makefile.in: Add ns-emacs to INFO_FILES, add ns_appdir variable.
	(install-arch-dep): Add commands to assemble NS .app package.

2008-07-10  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Use macppc for Darwin.  Remove references to
	desupported systems.
	* configure: Regenerate.

2008-07-05  Glenn Morris  <rgm@gnu.org>

	* make-dist (EMACS): Doc fix.
	(lisp): There are no *.dat or image files here any more.
	(src): There are no *.s files here any more.
	(etc/images, etc/images/*): Link to most regular files.

2008-07-04  Emanuele Giaquinta  <emanuele.giaquinta@gmail.com>  (tiny change)

	* configure.in: Remove reference to deleted $USE_FONT_BACKEND.

2008-07-01  Glenn Morris  <rgm@gnu.org>

	* configure.in (cpp_undefs): Rename from `undefs', update uses.
	Use $srcdir rather than $top_srcdir.  Set before calling AC_OUTPUT,
	and explicitly export there.  (Bug#507.)

2008-06-26  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in:
	* configure: Remove references to obsolete systems.

2008-06-25  Stefan Monnier  <monnier@iro.umontreal.ca>

	* Makefile.in (Makefile): Use it for its timestamp value as well, and
	make it depend on all other */.in files.
	(src/Makefile, src/config.stamp, lib-src/Makefile)
	(doc/emacs/Makefile, doc/misc/Makefile, doc/lispref/Makefile)
	(doc/lispintro/Makefile, oldXMenu/Makefile, lwlib/Makefile)
	(leim/Makefile, lisp/Makefile): Remove those overlapping targets.
	(leim, ${SUBDIR}, blessmail): Only depend on Makefile now.

	* configure.in: Don't create src/config.stamp any more.

2008-06-22  Stefan Monnier  <monnier@iro.umontreal.ca>

	* Makefile.in (${SUBDIR}): Pass additional BOOTSTRAPEMACS argument.

2008-06-22  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (top_bootclean): Remove obsolete references to lock/.

2008-06-21  Romain Francoise  <romain@orebokech.com>

	* Makefile.in (INFO_FILES): Add sasl.

2008-06-21  Stefan Monnier  <monnier@iro.umontreal.ca>

	* Makefile.in (maybe_bootstrap, src/bootstrap-emacs${EXEEXT})
	(bootstrap-build): Remove.
	(top_bootclean): New var.
	(top_distclean, bootstrap-clean): Use it.
	(bootstrap): Don't recheck config.  Make normally.

2008-06-20  Stefan Monnier  <monnier@iro.umontreal.ca>

	* Makefile.in (SUBDIR): Include `lisp'.
	(lisp): Depend on `src'.
	(top_distclean): Don't remove config.status.
	(bootstrap-clean): New target.
	(maintainer-clean): Use it.
	(bootstrap): Use bootstrap-clean.  Re-run config.status.
	(src/bootstrap-emacs${EXEEXT}): New target.
	(bootstrap-build): Use it.  Don't use bootstrap-prepare because
	src/Makefile now takes care of it.
	(bootfast, bootstrap-clean-before, bootstrap-clean-before-fast): Remove.

2008-06-15  Glenn Morris  <rgm@gnu.org>

	* info/dir: Add sasl.

2008-06-09  Alan Mackenzie  <acm@muc.de>

	* INSTALL.CVS: Clarify why `make bootstrap' sometimes fails.

2008-06-08  Eric S. Raymond  <esr@snark.thyrsus.com>

	* INSTALL.CVS: Indicate when "cvs update -d" may be needed.

2008-06-07  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (bootstrap-build): Remove mostlyclean, since it seems to
	serve no purpose.

2008-06-01  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (USE_LUCID, USE_MOTIF): Don't use "==".
	* configure: Regenerate.

2008-05-28  Stefan Monnier  <monnier@iro.umontreal.ca>

	* update-subdirs: Don't touch subdirs.el if it is unchanged.

2008-05-14  Kenichi Handa  <handa@m17n.org>

	* configure: Regenerate.

	* configure.in: Don't handle --disable-font-backend.  Don't print
	a message about a font backend.

2008-05-09  Glenn Morris  <rgm@gnu.org>

	* configure.in: Make absence of makeinfo a fatal error only if the info
	files don't exist.
	* Makefile.in (install-arch-indep, info): Handle MAKEINFO == off.

2008-05-07  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Fix last change: don't use < and > in "rem" lines,
	they are interpreted as redirection by DOS shells.

2008-05-04  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>

	* configure.in: Check availability of AvailabilityMacros.h
	if HAVE_CARBON.

	* configure: Regenerate.

2008-05-03  Glenn Morris  <rgm@gnu.org>

	* configure.in (x_libraries): Remove standard 64-bit directories -
	experimental workaround for minor autoconf bug.

	* configure.in (--without-makeinfo): New option.  If set,
	absence of suitable makeinfo is not a fatal error.
	* Makefile.in (MAKEINFO): New, set by configure.
	(install-arch-indep): Without makeinfo, ignore any missing manuals.
	(info-real): New target.
	(info): Without makeinfo, do nothing, else call `info-real'.

2008-04-23  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove hpux10.20 from the desupported list.

2008-04-18  Stefan Monnier  <monnier@iro.umontreal.ca>

	* configure.in: Define USE_LUCID/USE_MOTIF in config.h.

2008-04-16  Stefan Monnier  <monnier@iro.umontreal.ca>

	* configure.in (SYNC_INPUT): Use OPTION_DEFAULT_ON and AC_DEFINE
	rather than change CPPFLAGS.
	(HAVE_GTK): Rename to USE_GTK.

2008-04-16  Yavor Doganov  <yavor@gnu.org>  (tiny change)

	* configure.in: Replace the obsolete macros AC_AIX and
	AC_GNU_SOURCE with AC_USE_SYSTEM_EXTENSIONS.

2008-04-05  Andreas Schwab  <schwab@suse.de>

	* configure.in: No longer create admin/unidata/Makefile.

2008-03-28  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (SUBDIR_MAKEFILES): Add lisp/Makefile.
	(lisp/Makefile): New rule.

2008-03-13  Glenn Morris  <rgm@gnu.org>

	* configure.in (AC_INIT): Fix version number.
	(sync-input): Reword the option, since it's on by default.

2008-03-11  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Add --enable-sync-input, default yes.

2008-03-11  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-etc, mkdir): Handle directory
	etc/images/icons/hicolor/*/mimetypes/.

	* make-dist: Handle icons/hicolor/scalable directory.

2008-03-05  Glenn Morris  <rgm@gnu.org>

	* configure.in: Enable font-backend by default.
	(USE_FONT_BACKEND): Set to "no" in absence of X.
	(PKG_CONFIG): Don't set multiple times, once is enough.
	(HAVE_FREETYPE, HAVE_LIBOTF, HAVE_M17N_FLT): Tweak config.in text.

2008-03-03  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (iconsrcdir): New variable.
	(install-etc, mkdir): Use $iconsrcdir.  Handle the `scalable' icon
	directory.

2008-02-29  Glenn Morris  <rgm@gnu.org>

	* test/: New directory.

2008-02-27  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (HAVE_GTK): Print a warning if gtk version is < 2.10.

2008-02-25  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Print an error for systems that we think are obsolete
	and are proposed to be removed.  Remove some more unused systems.
	Add support for powerpc-ibm-aix6*.

2008-02-24  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove references to obsolete variables and systems.

2008-02-21  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (set_installuser): New.
	(install-arch-indep): Use set_installuser to avoid duplicate code.

	* README.unicode: Split into admin/notes/unicode,font-backend and
	remove.

2008-02-10  Matthew Luckie  <mjl@luckie.org.nz>  (tiny change)

	* configure.in (arm*-*-freebsd*): Add.

2008-02-09  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (LIBX11_MACHINE, HAVE_XFREE386): Remove code
	dealing with obsolete variables.

2008-02-08  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (check-info-dir): New target.

2008-02-08  Michael Olson  <mwolson@gnu.org>

	* Makefile.in (INFO_FILES): Add epa.

	* info/dir: Add EasyPG Assistant manual to the "Emacs misc
	features" section.

2008-02-06  Glenn Morris  <rgm@gnu.org>

	* configure.in (--with-gcc): Give an error saying this option has
	been removed.
	(--with-gtk): Remove this option.

2008-02-06  Tom Tromey  <tromey@redhat.com>

	* configure.in (--with-gcc): Remove.
	* INSTALL (DETAILED BUILDING AND INSTALLATION): Remove --with-gcc.

2008-02-05  Ulrich Müller  <ulm@gentoo.org>

	* INSTALL: Recommend giflib, not libungif.

2008-02-05  Tom Tromey  <tromey@redhat.com>

	* configure.in (--with-dbus): Default to enabled.

2008-02-05  Kenichi Handa  <handa@ni.aist.go.jp>

	* INSTALL (Complex Text Layout support libraries): New section.

2008-02-04  Dan Nicolaescu  <dann@ics.uci.edu>

	* make-dist: Remove references to files in mac/ that have been
	deleted.

2008-02-02  Thien-Thi Nguyen  <ttn@gnuvola.org>

	* configure.in: For libotf and m17n-flt checks, set shell vars
	HAVE_LIBOTF and HAVE_M17N_FLT instead of pkg_check_libotf and
	pkg_check_m17n_flt, respectively, for the sake of the summary output.
	Reported by Ulrich Müller.

2008-02-02  Eli Zaretskii  <eliz@gnu.org>

	* configure.in: If admin/unidata/UnicodeData.txt is present, copy
	admin/unidata/Makefile.in to Makefile.

2008-02-02  Glenn Morris  <rgm@gnu.org>

	* configure.in (HAVE_XFT): Ensure it is either "yes" or "no".
	(USE_FONT_BACKEND, HAVE_FREETYPE, HAVE_M17N_FLT, HAVE_LIBOTF)
	(HAVE_XFT): Add "Does Emacs use..." messages at end.

2008-02-01  Miles Bader  <miles@gnu.org>

	* configure.in: Use OPTION_DEFAULT_ON for [freetype], [xft],
	[libotf], and [m17n-flt] options.

2008-02-01  Kenichi Handa  <handa@ni.aist.go.jp>

	* configure.in: Add EMACS_ARG_N([libotf]...), and
	EMACS_ARG_N([m17n-flt].  Set back OLD_CPPFLAGS to CPPFLAGS (not
	CFLAGS) in XFT checking part.  Don't alter C_SWITCH_X_SITE,
	CFLAGS, and LIBS in checking of m17n-flt.

2008-02-01  Kenichi Handa  <handa@ni.aist.go.jp>

	* configure.in: Check the availability of m17n-flt library.

2008-02-01  Kenichi Handa  <handa@m17n.org>

	* configure.in: Don't define HAVE_LIBOTF if OTF_get_features is
	not available.

2008-02-01  Kenichi Handa  <handa@m17n.org>

	* configure.in: New args --enable-font-backend, --with-xft,
	--with-freetyp.  New AC_DEFINEs USE_FONT_BACKEND, HAVE_XFT,
	HAVE_FREETYPE, HAVE_LIBOTF.  New AC_SUBSTs XFT_LIBS,
	FREETYPE_CFLAGS, FREETYPE_LIBS, FONTCONFIG_CFLAGS,
	FONTCONFIG_LIBS, LIBOTF_CFLAGS, LIBOTF_LIBS.

2008-02-01  Kenichi Handa  <handa@m17n.org>

	* make-dist: Include etc/charsets in tarball.

2008-02-01  Kenichi Handa  <handa@m17n.org>

	* configure.in: While running cpp on junk.c, include
	-DHAVE_UNIDATA in CPPFLAGS if admin/unidata/UnicodeData.txt
	exists.

2008-01-29  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (xtensa): Match more configurations.

2008-01-27  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Update comment.

2008-01-26  Glenn Morris  <rgm@gnu.org>

	* configure.in (--without-gcc): By default, neither off nor on.
	(--with-carbon): Tone down rhetoric in help text.

2008-01-25  Glenn Morris  <rgm@gnu.org>

	* configure.in: Correct usage of OPTION_DEFAULT_ON,
	OPTION_DEFAULT_OFF so that the defaults are as they used to be.
	Default `Carbon' to off (it's unsupported).

2008-01-24  Glenn Morris  <rgm@gnu.org>

	* configure.in: Standardize dbus-related messages.

2008-01-23  Michael Olson  <mwolson@gnu.org>

	* configure.in (pkg-config-prog): Remove initial whitespace.

2008-01-23  Tom Tromey  <tromey@redhat.com>

	* configure.in (OPTION_DEFAULT_ON, OPTION_DEFAULT_OFF): New macros.
	(EMACS_ARG_Y, EMACS_ARG_N): Remove.
	Update all users.

2008-01-21  Dan Nicolaescu  <dann@ics.uci.edu>

	* config.guess, config.sub: Updated from master source.

2008-01-17  Andreas Schwab  <schwab@suse.de>

	* configure.in (HAVE_LIB64_DIR): Rename from HAVE_X86_64_LIB64_DIR.

2008-01-17  Glenn Morris  <rgm@gnu.org>

	* configure.in (HAVE_X86_64_LIB64_DIR): Also set on s390x systems.

2008-01-16  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove more references to unsupported systems.

2008-01-16  Sven Joachim  <svenjoac@gmx.de>

	* make-dist: Add --lzma.

2008-01-16  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (maybe_bootstrap): Remove texinfo message, since
	configure checks for this.

2008-01-13  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove more references to unsupported systems.

2008-01-06  Romain Francoise  <romain@orebokech.com>

	* configure.in: Delete extra semicolons.

2008-01-06  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove references to unsupported systems.

2008-01-05  Romain Francoise  <romain@orebokech.com>

	* make-dist: Add --bzip2.  Update copyright.

2008-01-05  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in: Remove support for Masscomp.

2008-01-05  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (desktopdir, icondir): New variables.
	(install-arch-indep): Also depend on `install-etc'.
	(install-etc): New target.
	(mkdir): Also create the `applications' and `icons' directories.

2008-01-04  Glenn Morris  <rgm@gnu.org>

	* make-dist: Update for new etc/images/icons/hicolor directory.

2007-12-09  Andreas Schwab  <schwab@suse.de>

	* configure.in: D-Bus is not enabled by default.

2007-12-06  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Add AC_CONFIG_SRCDIR which was lost in the previous
	change.

2007-12-04  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Give package name and version to AC_INIT.

2007-12-03  Magnus Henoch  <mange@freemail.hu>

	* configure.in: Use PKG_CHECK_MODULES to check for D-Bus.

2007-12-03  Michael Albinus  <michael.albinus@gmx.de>

	* configure.in: No need for DBUS_INFO anymore.

	* Makefile.in (INFO_FILES): Use dbus unconditionally.

2007-12-02  Michael Albinus  <michael.albinus@gmx.de>

	* configure.in: Add D-Bus checks.  D-Bus is disabled by default.

	* Makefile.in (INFO_FILES): Add dbus.

2007-12-02  Romain Francoise  <romain@orebokech.com>

	* make-dist: Fix last change.

2007-11-28  Petr Salinger  <Petr.Salinger@seznam.cz>  (tiny change)

	* configure.in: Add support for gnu-kfreebsd.

2007-11-28  Glenn Morris  <rgm@gnu.org>

	* make-dist: Add etc/nxml.

2007-11-24  Romain Francoise  <romain@orebokech.com>

	* Makefile.in (INFO_FILES): Add nxml-mode.

2007-11-23  Romain Francoise  <romain@orebokech.com>

	* make-dist: Include nXML.  Don't try to copy FTP, it was removed on
	2007/10/17.  Don't special-case alloca.c which is no longer in CVS.

2007-11-20  Andreas Schwab  <schwab@suse.de>

	* configure.in: Always include <resolv.h> when checking for res_init.

2007-11-17  Andreas Schwab  <schwab@suse.de>

	* update-subdirs: Atomically update subdirs.el.

2007-11-17  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (check-declare): New target.

2007-11-07  Glenn Morris  <rgm@gnu.org>

	* configure.in: Deprecate Mac Carbon port.

2007-11-01  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Remove HAVE_X11R5 check.

2007-10-31  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (install-arch-indep): Fallback to $USER and `id -un'
	when changing ownership of installed files.

2007-10-30  Glenn Morris  <rgm@gnu.org>

	* make-dist: Add new directory etc/gnus.

2007-10-30  Michael Olson  <mwolson@gnu.org>

	* Makefile.in (INFO_FILES): Alphabetize.  Add remember.

2007-10-29  Glenn Morris  <rgm@gnu.org>

	* make-dist: Add new directories etc/images/smilies/grayscale,medium.

2007-10-23  Glenn Morris  <rgm@gnu.org>

	* MAINTAINERS: Move to admin/.

2007-10-17  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in (HAVE_RES_INIT): Define if res_init() exists.
	(HAVE_LIBRESOLV): Also define if we are using res_init().

2007-10-17  Glenn Morris  <rgm@gnu.org>

	* FTP: Remove file, since it's just a duplicate of one in etc/.

2007-10-05  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Fix configuring `doc' due to changes in the
	directory structure.

2007-09-16  Peter O'Gorman  <bug-gnu-emacs@mlists.thewrittenword.com>  (tiny change)

	* configure.in: Don't use -lpthread on HP-UX.

2007-09-16  Glenn Morris  <rgm@gnu.org>

	* make-dist: File gfdl.1 has been removed.

2007-09-15  Glenn Morris  <rgm@gnu.org>

	* configure.in: Fix makeinfo version regexp.

2007-09-12  Glenn Morris  <rgm@gnu.org>

	* configure.in (AC_FUNC_ALLOCA): Throw an error if a system
	implementation of alloca is not found.

	* Makefile.in (SOURCES, unlock, relock): Delete.
	(install-arch-indep): Do not exclude the etc/ Makefiles.

2007-09-09  Juri Linkov  <juri@jurta.org>

	* make-dist: Remove AUTHORS and CONTRIBUTE (moved to etc).

	* README: Add doc/ to documentation directories.

2007-09-08  Michael Olson  <mwolson@gnu.org>

	* MAINTAINERS: Add myself for ERC and tq.el.
	Update for new doc/ directory layout.

2007-09-06  Romain Francoise  <romain@orebokech.com>

	* make-dist: Update for new doc/ directory layout.

2007-09-06  Glenn Morris  <rgm@gnu.org>

	* Makefile.in (mansrcdir): New variable.
	(SUBDIR_MAKEFILES): Update for new doc/ directory layout.
	(man/Makefile, lispref/Makefile, lispintro/Makefile): Rename and
	update these targets for new doc/ directory layout.
	(doc/misc/Makefile): New target.
	(install-arch-indep): Use mansrcdir for new location of manpages.
	(mostlyclean, clean, distclean, maintainer-clean, unlock)
	(relock, info, dvi): Update targets for new doc/ directory layout.

	* configure.in (AC_OUTPUT): Update names of generated Makefiles
	for new doc/ directory layout.

2007-09-02  Andreas Schwab  <schwab@suse.de>

	* configure.in: Use AS_HELP_STRING throughout.
	* configure: Regenerate.

2007-09-02  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Require Gtk/Glib 2.6.

2007-09-02  Thien-Thi Nguyen  <ttn@gnuvola.org>

	* configure.in (EMACS_ARG_Y, EMACS_ARG_N): New AC_DEFUNs.
	Use them throughout in place of AC_ARG_WITH calls.
	* configure: Regenerate.

2007-09-01  Andreas Schwab  <schwab@suse.de>

	* configure.in: Put quotes around nested macro calls.

2007-08-31  Ulrich Müller  <ulm@gentoo.org>  (tiny change)

	* configure.in: Fix typo.
	* configure: Regenerate.

2007-08-30  Glenn Morris  <rgm@gnu.org>

	* configure.in (AH_BOTTOM): Copy some manual changes made to
	src/config.in here so they are not lost when it regenerates.

	* README.multi-tty: Move to admin/notes/multi-tty, with some edits.

2007-08-29  Károly Lőrentey  <karoly@lorentey.hu>

	* README.multi-tty: New file.

2007-08-29  Glenn Morris  <rgm@gnu.org>

	* README: Increase version to 23.0.50.

2007-08-29  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: New option: --without-xaw3d.

2007-08-24  Glenn Morris  <rgm@gnu.org>

	* configure.in: Check for a suitably recent makeinfo.

2007-08-23  Johannes Weiner  <hannes@saeurebad.de>  (tiny change)

	* configure.in (Check for required libraries): Typo.

2007-08-23  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>

	* configure.in: Check librsvg2 also for Mac Carbon.

2007-08-22  Romain Francoise  <romain@orebokech.com>

	* make-dist: Follow reorganization of files in etc/.

2007-08-22  Paul Pogonyshev  <pogonyshev@gmx.net>

	* configure.in: Add support for SVG images through librsvg2.

2007-07-28  Eli Zaretskii  <eliz@gnu.org>

	* Makefile.in (install-arch-indep): Use "rm -f" for removing DOC,
	to avoid an error message if there is no DOC there.

2007-07-25  Glenn Morris  <rgm@gnu.org>

	* Relicense all FSF files to GPLv3 or later.

	* COPYING, info/COPYING: Switch to GPLv3.

2007-06-20  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Complain if X seems to be installed but no
	development files were found.

2007-06-20  Glenn Morris  <rgm@gnu.org>

	* configure.in: Prefer libgif over libungif.

2007-06-14  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Check for all image libraries before exiting.

2007-06-13  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Exit with error if image libraries aren't found.

2007-06-13  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Merge xaw3d and libXaw checks.  Check xaw3d even
	when compiling without scrollbars.

2007-06-12  Glenn Morris  <rgm@gnu.org>

	* configure.in (HAVE_GIF): If -lungif fails, try -lgif.

2007-06-11  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Change wording about yes/gtk and lucid/athena
	being synonyms.

2007-06-08  Glenn Morris  <rgm@gnu.org>

	* configure.in: Make gtk the default toolkit.

2007-06-07  Glenn Morris  <rgm@gnu.org>

	* configure.in (NON_GNU_CPP): On Solaris, set using a proper check
	for a Sun C compiler.

	* Makefile.in (install-arch-indep): Install only the DOC- file
	specific to the build, if possible, rather than DOC-*.

2007-06-02  Chong Yidong  <cyd@stupidchicken.com>

	* Version 22.1 released.

2007-05-25  Chong Yidong  <cyd@stupidchicken.com>

	* mkinstalldirs: Sync to version in automake CVS.

2007-05-22  Andreas Schwab  <schwab@suse.de>

	* configure.in: Prefer build_alias over host when host_alias is not set.
	* configure: Regenerate.

2007-05-20  Andreas Schwab  <schwab@suse.de>

	* configure.in: Remove empty AC_SUBST.
	* configure: Regenerate.

2007-05-20  Nick Roberts  <nickrob@snap.net.nz>

	* configure.in: Use HAVE_GPM instead of HAVE_GPM_H and implement
	it like others.
	* configure: Regenerate.

2007-05-20  Nick Roberts  <nickrob@snap.net.nz>

	* configure.in (AC_CHECK_HEADERS): Add gpm.h.
	(AC_CHECK_LIB): Add -lgpm.
	* configure: Regenerate.

2007-05-03  Glenn Morris  <rgm@gnu.org>

	* configure: Tweak message about the absence of shell functions.

2007-04-27  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (config.status): Depend on ${srcdir}/lisp/version.el.

2007-04-26  Glenn Morris  <rgm@gnu.org>

	* README: Increase version to 22.1.50.

2007-04-24  Juanma Barranquero  <lekktu@gmail.com>

	* INSTALL (DETAILED BUILDING AND INSTALLATION): Fix typo.

2007-04-19  Glenn Morris  <rgm@gnu.org>

	* configure.in: Signal error if Xaw libs are missing in a Lucid build.

2007-04-18  Glenn Morris  <rgm@gnu.org>

	* INSTALL: Mention CPP.

2007-04-15  Glenn Morris  <rgm@gnu.org>

	* FTP: Replace with a pointer to the web version.

2007-04-13  Glenn Morris  <rgm@gnu.org>

	* INSTALL: In lib-src, timer, wakeup, yow are removed.

2007-04-04  Glenn Morris  <rgm@gnu.org>

	* configure.in (NON_GNU_CPP): Use associated preprocessor when
	compiling with Sun Studio on Solaris.

2007-03-23  Glenn Morris  <rgm@gnu.org>

	* configure.in: Restore support for hp800 (removed 2007-01-27)
	following clarification of legal status.

2007-03-22  Joe Buehler  <jbuehler@spirentcom.com>  (tiny change)

	* configure.in: Add support for AIX4.3 on IBM RS6000.

	* configure: Regenerate.

2007-03-20  Richard Stallman  <rms@gnu.org>

	* configure.in: Fix previous change.

2007-03-19  Deanna Phillips  <deanna@sixbit.org>  (tiny change)

	* configure.in (arm-*-openbsd*, hppa-*-openbsd*)
	(m88k-*-openbsd*, mips64-*-openbsd*, sh-*-openbsd*): Add.
	(ns32k-*-openbsd*, ns32k-*-openbsd*): Delete.

2007-03-19  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Don't define KERBEROS, KERBEROS5, or HESIOD if the
	user specifies "without".

	* configure: Regenerate.

2007-03-18  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Warning for Gtk+ and Cygwin added.
	(HAVE_XFT): OLD_CFLAGS changed to OLD_CPPFLAGS.

2007-02-27  Glenn Morris  <rgm@gnu.org>

	* make-dist (oldXMenu): Remove Imakefile.
	(etc/images): Add README.

2007-02-25  Dan Nicolaescu  <dann@ics.uci.edu>

	* configure.in (xtensa-*-linux-gnu*): New configuration.

	* configure: Regenerate.

2007-02-22  Dan Nicolaescu  <dann@ics.uci.edu>

	* config.guess, config.sub: Updated from master source.

2007-01-31  Sascha Wilde  <wilde@sha-bang.de>  (tiny change)

	* configure.in (PKG_CHECK_MODULES): Change ///* to / in cflags and libs.

2007-01-29  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Restore support for hp800's not running HP-UX.

	* configure: Regenerate.

2007-01-27  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Remove support for hp800 and sr2k machine types.

	* configure: Regenerate.

2007-01-26  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Add check for libXft.

2007-01-18  Bruno Haible  <bruno@clisp.org>  (tiny change)

	* INSTALL: Info files moved to share/info.

2007-01-02  Stephen C. Gilardi  <scgilardi@gmail.com>  (tiny change)

	* configure.in: Detect and use fink-installed in intel-based Mac
	builds; change Apple Darwin section to support both PowerPC and
	Intel-based Macs.

2006-12-26  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (datarootdir): Define.

2006-12-24  Richard Stallman  <rms@gnu.org>

	* configure.in: Require Autoconf 2.61.

2006-12-22  Mark Davies  <mark@mcs.vuw.ac.nz>

	* configure.in: Add support for NetBSD on x86-64, hp800 and sh3el.
	Remove redundant entry for powerpc-apple-netbsd.

	* configure: Regenerate.

2006-12-22  Chong Yidong  <cyd@stupidchicken.com>

	* configure: Regenerate with autoconf 2.61.

2006-12-20  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Detect alsa/asoundlib.h also.
	* configure: Regenerate.

2006-12-19  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Check if GTK+ compiles at all.

2006-12-10  Andreas Schwab  <schwab@suse.de>

	* configure.in: Remove check for struct timezone, its result is
	never used.

2006-12-08  NAKAJI Hiroyuki  <nakaji@jp.freebsd.org>  (tiny change)

	* configure.in: Add support for Solaris 10 on x86-64.

2006-12-08  Jan Djärv  <jan.h.d@swipnet.se>

	* INSTALL (DETAILED BUILDING AND INSTALLATION): Document usage
	of PKG_CONFIG_PATH.

2006-12-04  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>

	* configure.in (HAVE_SYNC): New test.

2006-12-03  Glenn Morris  <rgm@gnu.org>

	* Makefile.in: Fix Copyright format.

	* configure.in (AH_TOP): Add missing Copyright year.

	* update-subdirs: Add missing Copyright years.

2006-11-27  Chris Moore  <christopher.ian.moore@gmail.com>

	* Makefile.in: Touch only the parts of the share/emacs directory
	specific to this version.

2006-11-26  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in (HAVE_X86_64_LIB64_DIR): New test.

2006-11-14  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>

	* configure.in (HAVE_CANCELMENUTRACKING): Remove test.

2006-11-08  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>

	* configure.in: Prefer X11 to Carbon only when some X-specific
	option is specified (Thanks to Jan Djärv and Andreas Schwab).

2006-11-04  Romain Francoise  <romain@orebokech.com>

	* Makefile.in (bootstrap-clean-before): Fix typo.
	Use new target `bootstrap-clean' in the leim subdirectory.

2006-11-03  Giorgos Keramidas  <keramida@ceid.upatras.gr>  (tiny change)

	* configure.in: Enable sparc64/ia64/powerpc FreeBSD builds.

2006-10-30  Chong Yidong  <cyd@stupidchicken.com>

	* make-dist: Add makefile.w32-in to the man, lispref and lispintro
	directories.

2006-10-29  Jeramey Crawford  <jeramey@jeramey.com>

	* configure.in: Enable x86-64 OpenBSD compilation.

2006-10-28  Glenn Morris  <rgm@gnu.org>

	* AUTHORS: Add cal-html.el author.

2006-10-28  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>

	* make-dist: Make links to mac/make-package and
	mac/Emacs.app/Contents/Resources/Emacs.icns.

2006-10-27  Chong Yidong  <cyd@stupidchicken.com>

	* README: Bump version number to 22.0.90.

2006-10-23  Andreas Schwab  <schwab@suse.de>

	* configure.in: Make sure x_default_search_path is always set even
	when x_libraries is empty, and look in .../share as well for each
	library directory.

2006-09-28  Kenichi Handa  <handa@m17n.org>

	* configure.in (locallisppath): Don't include leim dir.
	(lisppath): Include leim dir.

2006-09-15  Jay Belanger  <belanger@truman.edu>

	* COPYING: Replace "Library Public License" by "Lesser Public
	License" throughout.

2006-09-11  Paul Eggert  <eggert@cs.ucla.edu>

	* make-dist (EMACS): Exit and fail if the EMACS environment
	variable is set to something other than an absolute file name.

2006-08-16  Andreas Schwab  <schwab@suse.de>

	* configure.in (PKG_CHECK_MODULES): Use AS_MESSAGE_LOG_FD instead
	of hardcoding it.

2006-08-16  Richard Stallman  <rms@gnu.org>

	* INSTALL.CVS: Clean up wording.

2006-07-14  Eli Zaretskii  <eliz@gnu.org>

	* configure.in (PKG_CHECK_MODULES): Redirect the output of
	$PKG_CONFIG --exists "$2" to config.log.
	* configure: Regenerate.

2006-07-09  Richard Stallman  <rms@gnu.org>

	* INSTALL (DETAILED BUILDING AND INSTALLATION): Minor corrections.

2006-07-09  Kim F. Storm  <storm@cua.dk>

	* CONTRIBUTE: Use outline format.
	Add section on copyright years (from admin/notes/years).

2006-07-08  Eli Zaretskii  <eliz@gnu.org>

	* configure.in (PKG_CHECK_MODULES): Redirect stderr of pkg-config
	to /dev/null, since we don't need the error message, just the
	exit status.

2006-07-07  Eli Zaretskii  <eliz@gnu.org>

	* CONTRIBUTE: Slight formatting changes and typo fixes.
	Add description of NEWS markings.

2006-07-07  Kim F. Storm  <storm@cua.dk>

	* CONTRIBUTE: Mention INSTALL.CVS.

2006-07-05  Romain Francoise  <romain@orebokech.com>

	* make-dist (top-level): Add CONTRIBUTE.

2006-07-04  Richard Stallman  <rms@gnu.org>

	* CONTRIBUTE: Much rewrite.

2006-07-04  Nick Roberts  <nickrob@snap.net.nz>

	* CONTRIBUTE: New file.

2006-06-24  Eli Zaretskii  <eliz@gnu.org>

	* INSTALL: Mention www.nongnu.org pages that list free Unicode fonts.

2006-05-18  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Add check for ALSA.

2006-05-06  Eli Zaretskii  <eliz@gnu.org>

	* Makefile.in (INFO_FILES): Remove emacs-xtra.

	* info/dir: Remove the Emacs-Xtra entry.

2006-04-20  Ramprasad B  <ramprasad_i82@yahoo.com>

	Update copyright year(s) in many files.

2006-04-01  Eli Zaretskii  <eliz@gnu.org>

	* configure: Regenerated.

2006-04-01  Emanuele Giaquinta  <emanuele.giaquinta@gmail.com>  (tiny change)

	* configure.in (HAVE_XAW3D): Disable Xaw3d check if
	--without-toolkit-scroll-bars was specified.

2006-04-01  Christoph Bauer  <Christoph.Bauer@lms-gmbh.de>  (tiny change)

	* configure.in (hppa*-hp-hpux1[1-9]*): Add -D_INCLUDE__STDC_A1_SOURCE
	to CFLAGS.  Update Copyright years written to src/config.in.

2006-03-18  Claudio Fontana  <claudio@gnu.org>

	* Makefile.in (INFO_FILES): New variable, contains all Info file names.
	(install-arch-indep, uninstall): Use $(INFO_FILES) to specify files
	to be installed/uninstalled.
	(uninstall): Invoke "$(INSTALL_INFO) --remove" to remove references
	to Info files installed by Emacs.

2006-03-03  Claudio Fontana  <claudio@gnu.org>

	* Makefile.in (install, uninstall): Add DESTDIR variable to
	support staged installations.

2006-02-14  Richard M. Stallman  <rms@gnu.org>

	* configure.in (s390x-*-linux-gnu*): New configuration.

2006-01-31  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Require GTK 2.4 or newer.

2006-01-29  Michael Olson  <mwolson@gnu.org>

	* Makefile.in (install-arch-indep, uninstall): Add ERC.
	* info/dir (ERC): New entry.

2006-01-29  Eli Zaretskii  <eliz@gnu.org>

	* info/dir: Fix last change.

2006-01-28  Luc Teirlinck  <teirllm@auburn.edu>

	* Makefile.in (install-arch-indep, uninstall): Add rcirc.

2006-01-27  Eli Zaretskii  <eliz@gnu.org>

	* info/dir: Untabify the whole file.
	(Rcirc): New entry.

2006-01-12  Andreas Schwab  <schwab@suse.de>

	* configure.in: Move AC_AIX and AC_GNU_SOURCE before first compile
	check.

2006-01-02  Chong Yidong  <cyd@stupidchicken.com>

	* configure.in: Use -Wno-pointer-sign if available.

2005-12-29  Andreas Schwab  <schwab@suse.de>

	* config.guess, config.sub: Updated from master source.

2005-12-25  Giorgos Keramidas  <keramida@ceid.upatras.gr>  (tiny change)

	* configure.in: Use amdx86-64 for freebsd on x86_64.

2005-11-22  Romain Francoise  <romain@orebokech.com>

	* make-dist: Add etc/images/icons.

2005-11-03  Andreas Schwab  <schwab@suse.de>

	* configure.in: Use GZIP_PROG instead of GZIP.

	* Makefile.in (GZIP_PROG): Rename from GZIP.
	(install-arch-indep): Adjust.

2005-11-01  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (bootstrap): Fix dependencies for parallel build.
	(bootfast): Likewise.

2005-11-01  Romain Francoise  <romain@orebokech.com>

	* configure.in: Check for gzip.

	* Makefile.in (install): Compress source files.

2005-10-24  Steven Tamm  <steventamm@mac.com>

	* configure.in: Fix darwin386 configuration issue.

2005-10-22  Eli Zaretskii  <eliz@gnu.org>

	* INSTALL.CVS: Add mh-autoloads to the partial rebuild procedure.

2005-10-17  Bill Wohler  <wohler@newt.com>

	* make-dist: Create and populate etc/images/low-color.

2005-10-15  Bill Wohler  <wohler@newt.com>

	* make-dist: Create and populate etc/images/gud.

2005-10-08  Richard M. Stallman  <rms@gnu.org>

	* make-dist (tempparent): Don't check for 14-char file name limit.

2005-10-07  Romain Francoise  <romain@orebokech.com>

	* make-dist: Add etc/images/ezimage and etc/images/mail
	directories.  Install images in etc/images.

2005-10-04  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>

	* configure.in: Prefer Carbon if --enable-carbon-app or
	--with-carbon is explicitly specified even when X11 is detected.

2005-09-15  Ulf Jasper  <ulf.jasper@web.de>

	* Makefile.in (install-arch-indep, uninstall):
	Handle newsticker manual.
	(info): Add - to commands.

2005-09-10  Giuseppe Scrivano  <gscrivano@gmail.com>

	Remove the MAXPATHLEN limitations:

	* configure.in (AC_CHECK_FUNCS): Check for get_current_dir_name.

2005-09-09  Eli Zaretskii  <eliz@gnu.org>

	* configure.in <lynxsos*>: Support for LynxOS on PPC.
	* configure: Regenerate.

2005-09-05  Paul Eggert  <eggert@cs.ucla.edu>

	* config.guess, config.sub: Updated from master source.

2005-08-03  Juanma Barranquero  <lekktu@gmail.com>

	* .cvsignore: Add `lock'.

2005-07-28  Juanma Barranquero  <lekktu@gmail.com>

	* .cvsignore: Add `data' and `site-lisp' (for in-place installs).

2005-07-26  Paul Eggert  <eggert@cs.ucla.edu>

	Merge gnulib getopt implementation into Emacs.

	* Makefile.in (AUTOCONF_INPUTS): New macro.
	($(srcdir)/configure, $(srcdir)/src/stamp-h.in): Depend on it,
	so that these files also depend on m4/getopt.m4.
	* configure.in: Configure getopt by including m4/getopt.m4,
	and configuring a getopt replacement if necessary.
	* make-dist: Add m4 subdirectory.  Unlink lib-src/getopt.h.
	* m4/getopt.m4: New file.

2005-07-06  Lute Kamstra  <lute@gnu.org>

	* configure.in: Fix capitalization.

2005-07-04  Lute Kamstra  <lute@gnu.org>

	Update FSF's address in GPL notices.

2005-06-19  Jérôme Marant  <jerome@marant.org>

	* Makefile.in (epaths-force): Protect both lisppath and
	buildlisppath from whitespace.

2005-06-08  Steven Tamm  <steventamm@mac.com>

	* configure.in: Support Darwin/MacOSX on Intel.

2005-06-06  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (HAVE_CANCELMENUTRACKING): New test.

2005-05-19  Jérôme Marant  <jmarant@marant.org>

	* configure.in: Add --enable-locallisppath.

2005-05-13  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>

	* configure.in: Don't check HAVE_CARBON if HAVE_X11 is set to yes.
	Check HAVE_CARBON before USE_TOOLKIT_SCROLL_BARS.
	Define USE_TOOLKIT_SCROLL_BARS by default if HAVE_CARBON is set to yes.

2005-05-07  Jérôme Marant  <jerome@marant.org>

	* make-dist: Remove references to makefile.nt and makefile.def.
	Include widgets and images subdirectories of etc.  Do not exclude
	ldefs-boot.el.

2005-04-23  Andreas Schwab  <schwab@suse.de>

	* configure.in: Remove duplicate match for powerpc configuration.

2005-04-20  Thien-Thi Nguyen  <ttn@gnu.org>

	* configure.in: Check for <pwd.h>.

2005-04-14  Lute Kamstra  <lute@gnu.org>

	* make-dist: Distribute all ChangeLog files in lisp/.
	Don't distribute ldefs-boot.el.
	lisp/makefile.nt no longer exists.

2005-04-13  Lute Kamstra  <lute@gnu.org>

	* make-dist: Don't use DONTCOMPILE from lisp/Makefile.in; check
	for "no-byte-compile: t" in the file instead.

2005-03-16  Stefan Monnier  <monnier@iro.umontreal.ca>

	* configure.in <Motif>: Don't let a special LessTif/Motif1.2 install
	shadow the main Lesstif/Motif-2.1 libs and includes.

2005-03-10  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Only add XASSERTS to cppflags.

2005-03-04  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Added --enable-asserts.

2005-02-09  Kim F. Storm  <storm@cua.dk>

	Change release version from 21.4 to 22.1 throughout.
	Change development version from 21.3.50 to 22.0.50.

2005-01-19  Steven Tamm  <steventamm@mac.com>

	* configure.in: Check for <sys/utsname.h>.

2004-12-11  Kim F. Storm  <storm@cua.dk>

	* Makefile.in (info): Undo 2004-12-05 change.

2004-12-08  Luc Teirlinck  <teirllm@auburn.edu>

	* info/dir (File): Add URL and Org Mode manuals.
	* Makefile.in (install-arch-indep, uninstall): Add url and org
	manuals.

2004-12-07  Stefan Monnier  <monnier@iro.umontreal.ca>

	* configure.in (INLINE, RE_TRANSLATE_P): Move patches mistakenly
	committed to src/config.in.

2004-12-07  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: If $HAVE_GTK_FILE_CHOOSER = yes, check for
	pthreads and define HAVE_GTK_AND_PTHREAD.

2004-12-05  Richard M. Stallman  <rms@gnu.org>

	* Makefile.in (info): Ignore errors building info files.

2004-11-27  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: If 8-byte alignment is not supported, define
	NO_DECL_ALIGN in src/config.h, instead of trivially defining
	DECL_ALIGN.  Protect & with "" because & is special for cmd.exe;
	filter through Sed to remove the quotes.

2004-11-22  Stefan Monnier  <monnier@iro.umontreal.ca>

	* info/.cvsignore: Ignore everything.  It's OK since .cvsignore does
	not apply to files explicitly `cvs add'ed.

2004-11-12  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Don't require djecho.exe for the v1.x build.
	Add a test for DECL_ALIGN support, and add a trivial definition to
	src/config.h if 8-byte alignment is not supported.

2004-11-08  Kim F. Storm  <storm@cua.dk>

	* Makefile.in (bootstrap, bootstrap-clean-before): Remove .elc
	files before building.
	(bootfast, bootstrap-clean-before-fast): New targets, like
	bootstrap but don't remove .elc files.

2004-11-06  Lars Brinkhoff  <lars@nocrew.org>

	* configure.in: Add check for getrusage.

2004-11-02  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (HAVE_GTK_FILE_CHOOSER, $HAVE_GTK_FILE_SELECTION):
	New tests for new and old GTK file dialogs.
	(HAVE_GTK): Only set with_toolkit_scroll_bars if not explicitly set
	to no.

2004-10-20  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (HAVE_PERSONALITY_LINUX32): New test if PER_LINUX32
	can be set.  Remove SETARCH test.

2004-10-08  Steven Tamm  <steventamm@mac.com>

	* configure.in (HAVE_MALLOC_MALLOC_H): Test for malloc/malloc.h.

2004-10-06  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (HAVE_RANDOM_HEAPSTART): Change AC_MSG_ERROR to
	AC_MSG_WARN.  Move output of warning message to end of configure run.

2004-10-05  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (HAVE_RANDOM_HEAPSTART): Rename HAVE_EXECSHIELD.
	Run test to see if heap start address is random.

2004-09-29  Miles Bader  <miles@gnu.org>

	* configure.in (HAVE_EXECSHIELD): Test correct env variable to see
	if setarch is present.

2004-09-25  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (HAVE_EXECSHIELD): Only define on x86.

2004-09-24  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Check for exec-shield.

2004-09-04  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (install-arch-indep): Add pgg and sieve.

	* info/.cvsignore: Added pgg and sieve.

2004-08-06  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (install-arch-indep, uninstall): Add flymake.

2004-07-31  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Update URLs in the comments.

2004-07-05  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (install-arch-indep): Remove .arch-inventory files.

2004-06-21  Kenichi Handa  <handa@m17n.org>

	* make-dist: Link leim-ext.el into tempdir.

2004-06-15  Luc Teirlinck  <teirllm@auburn.edu>

	* info/dir (File): Add emacs-xtra.
	* Makefile.in (install-arch-indep, uninstall): Add emacs-xtra.

2004-06-12  Juri Linkov  <juri@jurta.org>

	* info/dir: Move menu help lines from `* Menu:' to file header.
	Describe the purpose of a red *.

2004-05-04  Dave Love  <fx@gnu.org>

	* configure.in: Don't use `extrasub'.

2004-04-29  Dave Love  <fx@gnu.org>

	* configure.in: Don't forget to quote args to `test'.

2004-04-24  Thien-Thi Nguyen  <ttn@gnu.org>

	* autogen.sh: Update filename in "please read" message.

2004-04-17  Richard M. Stallman  <rms@gnu.org>

	* INSTALL: Move the info about site-lisp dirs,
	and say uninstalled Emacs looks there too.

2004-04-04  Eli Zaretskii  <eliz@gnu.org>

	* config.bat (lib-src): Recognize comment lines in Makefile.in
	that have a TAB after the #, to avoid errors in preprocessing with
	GCC 3.3.3.

2004-03-31  Luc Teirlinck  <teirllm@auburn.edu>

	* Makefile.in: Mention in comment that `make maintainer-clean'
	deletes .elc files.

2004-03-22  Stefan Monnier  <monnier@iro.umontreal.ca>

	* update-subdirs: Add local variables to prevent byte-compiling.

2004-03-21  Dave Love  <fx@gnu.org>

	* configure.in: Fix previous change.

2004-03-18  Dave Love  <fx@gnu.org>

	* configure.in: Add -znocombreloc to LDFLAGS if compiler supports it.

2004-03-15  Luc Teirlinck  <teirllm@auburn.edu>

	* info/dir (File): Add SMTP and SES.

2004-03-02  Stefan Monnier  <monnier@iro.umontreal.ca>

	* Makefile.in (maintainer-clean): Clean in the lisp dir as well.
	(bootstrap): Use the new bootstrap-prepare target in lisp.

2004-02-18  Kim F. Storm  <storm@cua.dk>

	* INSTALL.CVS: Add info about ssh/cvs related problems and work-around.

2004-02-16  Eli Zaretskii  <eliz@gnu.org>

	* make-dist: Don't link index.*perm and permute-index into tempdir.

2004-02-14  Jonathan Yavner  <jyavner@member.fsf.org>

	* AUTHORS (JonathanYavner): Rename testcover-*.el to tcover-*.el
	to match previous changes by Eli Zaretskii.

2004-02-09  Luc Teirlinck  <teirllm@auburn.edu>

	* Makefile.in: Set CDPATH to an empty string.

2004-01-27  Stefan Monnier  <monnier@iro.umontreal.ca>

	* configure.in <darwin>: Use fink packages if available.

2004-01-25  Jérôme Marant  <jmarant@free.fr>  (tiny change)

	* make-dist (lispref): Do include lispref/index.texi.

2004-01-06  Eric Hanchrow  <offby1@blarg.net>

	* make-dist (tempdir): Include cursors in nt/icons.

2003-12-30  Eli Zaretskii  <eliz@gnu.org>

	* INSTALL.CVS: Renamed from INSTALL-CVS to avoid file-name
	clashes with install-sh on 8+3 filesystems.

2003-12-24  Miles Bader  <miles@gnu.org>

	* .cvsignore: Add .arch-inventory.

2003-12-24  Andreas Schwab  <schwab@suse.de>

	* configure.in: Check for <sys/socket.h>.  Include it before
	including <net/if.h>.  Move check for <net/if.h> before its use.

2003-12-24  Jan Djärv  <jan.h.d@swipnet.se>

	* Makefile.in (install-arch-dep): Don't let cd output go into
	pipe for carbon_appdir.

2003-12-24  Andreas Schwab  <schwab@suse.de>

	* configure.in (PKG_CHECK_MODULES): Fix quoting.

2003-12-01  Andreas Schwab  <schwab@suse.de>

	* configure.in (powerpc-apple-darwin*): Use ${CC-cc} instead of
	hardcoding gcc.

2003-11-16  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in (HAVE_GTK_MULTIDISPLAY): Check if GTK can handle
	multiple displays.
	Wrong number of args to AC_CHECK_LIB for HAVE_X_SM test corrected.

2003-09-23  Dave Love  <fx@gnu.org>

	* configure.in: Check members of struct ifreq.

2003-09-14  Kim F. Storm  <storm@cua.dk>

	* configure.in: Add checks for sys/ioctl.h and net/if.h.

2003-09-12  Luc Teirlinck  <teirllm@mail.auburn.edu>

	* Makefile.in (install-arch-indep, uninstall): Add SES manual.

2003-08-18  Lute Kamstra  <lute@gnu.org>

	* configure.in: Revert the change of 2003-07-29 as GTK+ 2.2 is not
	required anymore.

2003-08-07  Andrew Choi  <akochoi@shaw.ca>

	* configure.in [powerpc-apple-darwin*]: Use the -no-cpp-precomp
	option instead of -traditional-cpp for CPP.

2003-07-29  Richard M. Stallman  <rms@gnu.org>

	* configure.in (HAVE_XIM): Define if XIM is available.

2003-07-29  Tim Van Holder  <tim.vanholder@anubex.com>

	* configure.in: The function gtk_window_set_icon_from_file was
	introduced in GTK+ 2.2, so check for that release.

2003-07-23  Andreas Schwab  <schwab@suse.de>

	* configure.in: Add --enable-maintainer-mode, substitute MAINT.

	* Makefile.in (YACC): Remove, not used.
	(MAINT): Don't set.
	(${srcdir}/configure, $(srcdir)/src/stamp-h.in): Use @MAINT@ to
	disable dependency on ${srcdir}/configure.in when maintainer mode
	is disabled.

2003-07-22  Dave Love  <fx@gnu.org>

	* configure.in: Make XRegisterIMInstantiateCallback test depend on
	HAVE_X11, not with_xim.
	(HAVE_CRTIN): Provide template.
	<with_png>: Test for png.h and libpng/png.h.

2003-07-15  Andreas Schwab  <schwab@suse.de>

	* configure.in: Temporarily leave quoting for AC_DEFINE.

2003-07-13  Stefan Monnier  <monnier@cs.yale.edu>

	* configure.in: Check for posix_memalign.

2003-07-12  Richard M. Stallman  <rms@gnu.org>

	* configure.in [netbsd systems]: Define HAVE_CRTIN properly.

2003-07-09  Kim F. Storm  <storm@cua.dk>

	* INSTALL (DETAILED BUILDING AND INSTALLATION): Describe new
	functionality of --without-xim.

2003-06-29  Dave Love  <fx@gnu.org>

	* configure.in: Fix XRegisterIMInstantiateCallback check for gcc.

2003-06-23  Dave Love  <fx@gnu.org>

	* configure.in: Check for sys/_mbstate_t.h.
	Test XRegisterIMInstantiateCallback prototype.
	(AH_BOTTOM): Define DO_BLOCK_INPUT, my_strftime.

2003-06-06  Dave Love  <fx@gnu.org>

	* configure.in: Check for locale.h.

2003-06-05  Dave Love  <fx@gnu.org>

	* configure.in: Check for memcpy, mempcpy, mblen, mbrlen.
	Use AC_FUNC_STRFTIME, AC_STRUCT_TIMEZONE, AC_TYPE_MBSTATE_T.
	(NLIST_STRUCT): Don't define.
	(AH_BOTTOM): Define my_strftime.

2003-06-02  Richard M. Stallman  <rms@gnu.org>

	* configure.in: Revert changes of 2003-03-03 and 2003-05-24.

2003-05-24  Andreas Schwab  <schwab@suse.de>

	* configure.in (AH_BOTTOM) [MAC_OSX]: Do not redefine bcopy,
	bzero, and bcmp.

2003-05-22  Dave Love  <fx@gnu.org>

	* configure.in: Remove redundant test for term.h.  Test for difftime.

2003-05-20  Dave Love  <fx@gnu.org>

	* configure.in: Append * to s390-*-linux-gnu case.
	(LIBMAIL) <lockfile>: Don't define.

2003-04-30  Kai Großjohann  <kai.grossjohann@gmx.net>

	* INSTALL (* GNU/Linux development packages): Mention Debian and
	RedHat package names.

2003-04-30  Boyd Lynn Gerber  <gerberb@zenez.com>

	* configure.in: Handle system types sysv5uw* and sysv5OpenUNIX*.

2003-04-30  Kai Großjohann  <kai.grossjohann@gmx.net>

	* INSTALL (* GNU/Linux development packages): Tell people to
	install additional packages for compiling Emacs.

2003-04-30  Richard M. Stallman  <rms@gnu.org>

	* configure.in: Handle system types sysv5uw* and sysv5OpenUNIX*.

2003-04-28  Francesco Potortì  <pot@gnu.org>

	* configure.in: Undo last (RMS') change, as it is useless, per
	Dave Love.

2003-04-08  Richard M. Stallman  <rms@gnu.org>

	* configure.in: Put #include of jpeglib.h at start of line.

2003-04-06  Francesco Potortì  <pot@gnu.org>

	* configure.in: Use the same configuration for all aix5, not just
	aix5.1.

2003-03-16  Nelson H. F. Beebe  <beebe@math.utah.edu>  (tiny change)

	* configure.in: Check for need for bigtoc support on IBM AIX for
	solving a linker table overflow problem.

2003-03-03  Rob Browning  <rlb@defaultvalue.org>

	* configure.in: Add AC_CHECK_FUNCS for memcmp and memmove.
	(AH_BOTTOM): Switch tests to prefer memcmp, memset, and memmove
	over bzero, bcmp, and bcopy.

2003-02-23  Simon Josefsson  <jas@extundo.com>

	* Makefile.in (install-arch-indep, uninstall): Add SMTP manual.

2003-02-21  Klaus Zeitler  <kzeitler@lucent.com>

	* configure.in: Set new hpux10-20.h as "major" include for 10.20.

2003-02-13  Robert J. Chassell  <bob@rattlesnake.com>  (tiny change)

	* INSTALL (* Extra fonts): Say that Emacs doesn't include fonts.

2003-02-08  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (EXEEXT): Define to @EXEEXT@ and use this variable
	instead of the substitution.

2003-01-31  Joe Buehler  <jhpb@draco.hekimian.com>

	* Makefile.in: Use @EXEEXT@ for Cygwin.
	Use USERNAME if LOGNAME is not set (for Cygwin).

	* configure.in: Add opsys=cygwin.

2003-01-22  Andreas Schwab  <schwab@suse.de>

	* configure.in: Set HAVE_MENUS=yes when HAVE_CARBON=yes instead of
	redefining it explicitly in src/config.in.

2003-01-22  Markus Rost  <rost@math.ohio-state.edu>

	* Makefile.in (bootstrap): Make bootstrap-after.

2003-01-20  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Fix --with-gtk.

2003-01-19  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Add --with-gtk, --with-x-toolkit=gtk.

	* INSTALL (DETAILED BUILDING AND INSTALLATION): Add text about GTK.

2003-01-14  Francesco Potortì  <pot@gnu.org>

	* configure.in (m68k-motorola-sysv): Remove (obsolete).

2003-01-07  Steven Tamm  <steventamm@mac.com>

	* configure.in: New option, --enable-carbon-app, to specify
	that the application should be installed
	* Makefile.in (install-arch-dep): On Mac OS X, install the
	Emacs.app application if carbon-app is enabled.

2003-01-06  Dave Love  <fx@gnu.org>

	* configure.in: Check for nl_langinfo.
	[!HAVE_SIZE_T]: Fix typedef.

2003-01-06  David Kastrup  <dak@gnu.org>

	* Makefile.in (INSTALL_INFO): Get install-info command from configure.

	* configure.in: Add tests for install-info.

2002-12-09  Markus Rost  <rost@math.ohio-state.edu>

	* configure.in (*-sunos5*, *-solaris*): Revert previous change -
	use again sol2-6 instead of sol2-8.

2002-12-09  Dave Love  <fx@gnu.org>

	* configure.in (*-sunos5.8*, *-solaris2.8*): Delete configurations.

2002-12-08  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (install-arch-indep): Revert last change.

2002-11-27  Dave Love  <fx@gnu.org>

	* configure.in: Use AC_CHECK_DECLS, not AC_DECL_SYS_SIGLIST.
	Check for __sys_siglist too.  Check for memset.
	Use AC_FUNC_GETPGRP.  Add mipsel-*-linux-gnu* target.

2002-11-22  Juanma Barranquero  <lektu@terra.es>

	* config.guess, config.sub: Updated from master source.

2002-11-19  Karl Fogel  <kfogel@red-bean.com>

	* autogen.sh: New file.

2002-11-18  Dave Love  <fx@gnu.org>

	* configure.in: Tidy up various quoting issues throughout.
	Use AC_GNU_SOURCE.
	(AH_BOTTOM): Fix #endif protecting config.h.  Maybe include
	alloca.h.  Define GC_SETJMP_WORKS, GC_LISP_OBJECT_ALIGNMENT.
	Maybe define bcopy, bzero, bcmp.
	(powerpcle-*-solaris2.5*, powerpcle-*-solaris2*): Remove (use
	non-existent machine file).
	(sys/vlimit.h, sys/resource.h, fsync, __restrict): Test for.
	(term.h, X11/Xaw3d/Scrollbar.h): Avoid warning from test.
	(nlist.h): Move test up.

2002-11-18  Markus Rost  <rost@math.ohio-state.edu>

	* configure.in (*-sunos5*, *-solaris*): Use sol2-8.

2002-11-14  Francesco Potortì  <pot@gnu.org>

	* configure.in (*-sunos5.8*, *-solaris2.8*): New configurations.

2002-11-11  Tim Van Holder  <tim.vanholder@anubex.com>

	* Makefile.in (install-arch-indep): Prepend $(srcdir)/ to lisp.

2002-11-08  Dave Love  <fx@gnu.org>

	* configure.in: Use AC_CONFIG_LIBOBJ_DIR and require autoconf 2.54.
	(AH_BOTTOM) [!HAVE_SIZE_T]: Typedef size_t.

2002-11-07  Miles Bader  <miles@gnu.org>

	* Makefile.in (maybe_bootstrap): Fix shell variable usage.
	Handle separate-build-dir case.

2002-11-06  Richard M. Stallman  <rms@gnu.org>

	* Makefile.in (maybe_bootstrap): Add doublequotes to make it
	bulletproof.  $bar may be empty when there are no .elc files.

2002-10-30  Dave Love  <fx@gnu.org>

	* configure.in: Require autoconf 2.53.  Test for pty.h,
	sys/mman.h, sys/param.h, mremap, memmove.
	(AH_BOTTOM): Maybe include strings.h.  Add local variables for mode.
	(AC_PROG_YACC): Delete.
	(size_t): Use AC_CHECK_TYPES.
	(AH_TOP): Up-date copyright.

2002-10-01  Juanma Barranquero  <lektu@terra.es>

	* update-subdirs: Add "no-byte-compile: t" to subdirs.el.

2002-09-19  Richard M. Stallman  <rms@gnu.org>

	* configure.in: Fix the LessTif-directory-finder for real.

2002-09-14  Richard M. Stallman  <rms@gnu.org>

	* Makefile.in (maybe_bootstrap): Test for complete absence
	of compiled Lisp files.

2002-09-11  Stefan Monnier  <monnier@cs.yale.edu>

	* Makefile.in (bootstrap-lisp-1, bootstrap-lisp, bootstrap)
	(bootstrap-clean-after): Delete.
	(bootstrap): Make the sequencing explicit.

2002-09-10  Richard M. Stallman  <rms@gnu.org>

	* configure.in: Fix previous LessTif change.

2002-09-09  Richard M. Stallman  <rms@gnu.org>

	* configure.in (powerpcle-*-solaris2.5*): New configuration.
	(powerpcle-*-solaris*): Use version 2.6 as default.
	(*-sunos5.6*, *-solaris2.6*): New alternative.
	(*-sunos5*): Use version 2.6 as default.

2002-09-06  Kai Großjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* configure.in: Fix typo.

2002-09-05  Richard M. Stallman  <rms@gnu.org>

	* configure.in: Look for LessTif in /usr/X11R6/LessTif/ before Motif.

	* configure.in: Handle $GCC_LINK_TEST_OPTIONS and
	$NON_GCC_LINK_TEST_OPTIONS after the AC_PROG_... macros.

2002-08-26  Kim F. Storm  <storm@cua.dk>

	* Makefile.in (install-arch-indep): Do not remove DOC file
	when it is the only DOC file installed; this is the case when
	CANNOT_DUMP is defined.  From Joe Buehler (tiny change).

2002-07-24  Markus Rost  <rost@math.ohio-state.edu>

	* configure.in: Fix typo.

2002-07-24  Richard M. Stallman  <rms@gnu.org>

	* configure.in: Don't print anything special about gamedir.

	* configure.in: Delete nonstandard --with-game-user option.

2002-07-21  Richard M. Stallman  <rms@gnu.org>

	* Makefile.in (gamedir, localstatedir): New variables.
	(epaths-force): Insert value of gamedir into PATH_GAME.

	* configure.in (gamedir): Handle it like lispdir.
	(--with-game-dir option): Delete.

2002-06-21  Pavel Janík  <Pavel@Janik.cz>

	* configure.in: Add support for mipseb-*-netbsd* machines.

2002-06-18  Kai Großjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* Makefile.in (install-arch-indep, uninstall): Add Tramp.

2002-06-17  Kai Großjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* info/dir (File): Add an entry for Tramp.

2002-06-17  Eli Zaretskii  <eliz@is.elta.co.il>

	* INSTALL-CVS: New file.

2002-06-07  Andreas Schwab  <schwab@suse.de>

	* configure.in (x86_64-*-linux-gnu*): New system.

2002-05-31  Eli Zaretskii  <eliz@is.elta.co.il>

	* config.bat: Handle the case when lispintro is truncated to lispintr.

2002-05-26  Paul Eggert  <eggert@twinsun.com>

	* config.guess, config.sub: Updated from master source.

2002-05-09  Richard M. Stallman  <rms@gnu.org>

	* configure.in (emacs_cv_speed_t): Add square brackets for clarity.

2002-05-04  Pavel Janík  <Pavel@Janik.cz>

	* make-dist: Do not distribute lock/ directory.

2002-04-30  Andrew Choi  <akochoi@shaw.ca>

	* configure.in: Provide documentation string when defining
	variable HAVE_CARBON.  Also define HAVE_WINDOW_SYSTEM, HAVE_MOUSE,
	and HAVE_MENUS in AH_BOTTOM if HAVE_CARBON is defined.

2002-04-29  Colin Walters  <walters@verbum.org>

	* configure.in: Delete configure check for access to the game user.

2002-04-29  Pavel Janík  <Pavel@Janik.cz>

	* make-dist: lwlib/Imakefile is removed.

2002-04-26  Andrew Choi  <akochoi@shaw.ca>

	* configure.in: Add support for powerpc-apple-darwin*.
	(HAVE_CARBON): Add.

	* make-dist: Create directories in mac/Emacs.app.

2002-04-25  Pavel Janík  <Pavel@Janik.cz>

	* make-dist: lwlib-Xol* are removed.

2002-04-23  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (MAINT): New variable.
	(${srcdir}/configure, $(srcdir)/src/stamp-h.in): Depend on this
	instead of configure.in, to avoid running autoconf and autoheader
	unless explicitly requested.

2002-04-16  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Update for msdos/sed2v2.inp.

2002-04-15  Andreas Schwab  <schwab@suse.de>

	* Makefile.in ($(srcdir)/src/config.in): Generate using autoheader.
	* configure.in: Add config header templates to all AC_DEFINE and
	AC_DEFINE_UNQUOTED symbols.
	* make-dist: Run autoheader if necessary.

2002-04-10  Colin Walters  <walters@verbum.org>

	* configure.in: Add --game-dir, --game-user.  Test to see if we
	can use them.

2002-04-08  Pavel Janík  <Pavel@Janik.cz>

	* configure.in: Add --with-sound.

2002-03-18  Kim F. Storm  <storm@cua.dk>

	* configure.in: Test for sendto, recvfrom, getsockopt, setsockopt,
	and getsockname functions.  Test for sys/un.h include file.

2002-03-15  Eli Zaretskii  <eliz@is.elta.co.il>

	* configure.in: Support AIX 5.1.

2002-03-10  Jan Djärv  <jan.h.d@swipnet.se>

	* configure.in: Added test for X Session Management (HAVE_X_SM).

2002-03-03  Richard M. Stallman  <rms@gnu.org>

	* Makefile.in (install-arch-indep): Use umask 022 for DOC* and lisp/.
	Run chown $${LOGNAME} on files installed by tar xvf.

2002-03-03  Kim F. Storm  <storm@cua.dk>

	* configure.in: Test for getpeername.

2002-03-01  Richard M. Stallman  <rms@gnu.org>

	* configure.in (HAVE_JPEG): Turn it off if libjpeg version < 6b.
	(HAVE_GIF): Don't use old libungif versions that crash.

2002-02-26  Richard M. Stallman  <rms@gnu.org>

	* configure.in <making srcdir absolute>: Verify that PWD is correct,
	not just well-formed and valid.
	(mips-compaq-nonstopux*): New configuration.

2002-02-18  Paul Eggert  <eggert@twinsun.com>

	* make-dist: Port to POSIX 1003.1-2001, which doesn't allow "head -1".
	"sed q" is a portable equivalent to plain "head -1".

2002-02-13  Richard M. Stallman  <rms@gnu.org>

	* Makefile.in (maybe_bootstrap): Do `exit 1'.
	(all): Don't depend on maybe_bootstrap here.
	(${SUBDIR}): Depend on it here instead.

2002-02-08  Richard M. Stallman  <rms@gnu.org>

	* Makefile.in (maybe_bootstrap): Add an infinite sleep-loop.

2002-01-27  Eli Zaretskii  <eliz@is.elta.co.il>

	* configure.in: Recognize BSD/OS 5.0.

2002-01-11  Eli Zaretskii  <eliz@is.elta.co.il>

	* make-dist: Make version checking in emacs.texi consistent with
	how we set it there.

2001-12-29  Kim F. Storm  <storm@cua.dk>

	* INSTALL: <CONFIGURATION BY HAND> Now requires autoconf 2.51.

2001-12-28  Richard M. Stallman  <rms@gnu.org>

	* configure.in: Test for mbsinit.

2001-12-21  Eli Zaretskii  <eliz@is.elta.co.il>

	These changes make Leim part of the standard distribution:

	* README: Add info about the `leim' directory.

	* INSTALL: Remove text that describes Leim as a separate package.

	* noleim-Makefile.in: File removed.

	* make-dist: Don't copy noleim-Makefile.in to the leim subdirectory.
	Link Leim files to ${tempdir}/leim, not to real-leim.  Don't move
	Leim files out of the Emacs tree.  Don't prepare a separate tarball
	for Leim.

2001-12-11  Richard M. Stallman  <rms@gnu.org>

	* configure.in (hppa*-*-linux-gnu*): New alternative.

2001-12-08  Pavel Janík  <Pavel@Janik.cz>

	* make-dist: Copy COPYING to leim/, lwlib/, mac/ and nt/ when
	creating distribution.

2001-12-06  Paul Eggert  <eggert@twinsun.com>

	* configure.in (AC_PREREQ): Bump from 2.50 to 2.51; needed for vfork.
	(AC_FUNC_VFORK): Remove.
	(AC_FUNC_FORK): Add.
	(HAVE_DES_H, HAVE_KRB5_H): Properly quote args of AC_CHECK_HEADERS;
	this is required by recent Autoconf versions.

2001-12-02  Pavel Janík  <Pavel@Janik.cz>

	* make-dist: Do not try to link removed files (aclocal.m4, _emacs,
	TODO, vms-pp.trans and others).

2001-11-29  Pavel Janík  <Pavel@Janik.cz>

	* make-dist: Use COPYING from the top-level directory.

2001-11-29  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Add support for FreeBSD/Alpha.

2001-11-29  Pavel Janík  <Pavel@Janik.cz>

	* make-dist: Add COPYING to the top-level directory of the
	distribution.  Simplify the logic behind copying.

	* Makefile.in (maybe_bootstrap): Fix previous change.

2001-11-28  Richard M. Stallman  <rms@gnu.org>

	* Makefile.in (maybe_bootstrap): Don't bootstrap, just suggest it.

2001-11-26  Richard M. Stallman  <rms@gnu.org>

	* Makefile.in: bootstrap should not delete dumped executables.
	(bootstrap-clean-before): New target.
	(bootstrap): Use bootstrap-clean-before instead of clean.
	(bootstrap-clean-after): Rename from bootstrap-clean.  Calls changed.

2001-11-24  Eli Zaretskii  <eliz@is.elta.co.il>

	These changes add the Emacs Lisp Introduction manual to the
	distribution:

	* Makefile.in (install-arch-indep, uninstall): Add ELisp Intro files.

	* make-dist: Copy the files in lispintro directory.

	* config.bat: Configure in the lispintro directory.

	* configure.in (AC_OUTPUT): Add lispintro/Makefile.

	* Makefile.in (SUBDIR_MAKEFILES): Add lispintro.
	(lispintro/Makefile): New target.
	(mostlyclean, clean, distclean, maintainer-clean): Add lispintro.
	(unlock, relock, info, dvi): Ditto.

2001-11-23  Eli Zaretskii  <eliz@is.elta.co.il>

	* Makefile.in (uninstall, install-arch-indep): Don't install gfdl.1.

	* make-dist (etc): Don't distribute gfdl.1.

2001-11-22  Colin Walters  <walters@debian.org>

	* Makefile.in (install-arch-indep): Install the calc .info files.
	(uninstall): Handle deletion of calc .info files (thanks Pavel Janík).

2001-11-17  Eli Zaretskii  <eliz@is.elta.co.il>

	* make-dist (lispref): Add *.txt, *.el, permute-index, and
	tindex.pl to the list of those being put into the distribution.

2001-11-16  Eli Zaretskii  <eliz@gnu.org>

	* configure.in: Add coff.h to the list in AC_CHECK_HEADERS.

2001-11-15  Pavel Janík  <Pavel@Janik.cz>

	* Makefile.in (uninstall): Fix previous change.

	* configure.in, Makefile.in: Add support for --program-prefix,
	--program-suffix and --program-transform-name options.

2001-11-13  Pavel Janík  <Pavel@Janik.cz>

	* Makefile.in (install-arch-indep): Use `${manext}' instead of `.1'.
	(install-arch-indep): Install emacsclient manual page.
	(uninstall): Uninstall emacsclient manual page.

2001-11-12  Eli Zaretskii  <eliz@is.elta.co.il>

	* make-dist: Add lispref/index.*perm files to the distribution.
	From Pavel Janík <Pavel@Janik.cz>.

2001-11-12  Pavel Janík  <Pavel@Janik.cz>

	* Makefile.in (uninstall): Remove gfdl.1 when uninstalling.

2001-11-10  Eli Zaretskii  <eliz@is.elta.co.il>

	* configure.in: AC_OUTPUT lispref/Makefile.

2001-11-10  Eli Zaretskii  <eliz@is.elta.co.il>

	The following changes add the ELisp reference manual to the
	distribution.

	* make-dist: Add the lispref directory to the distribution.

	* Makefile.in (install-arch-indep): Add elisp* to the list of
	installed Info files.
	(SUBDIR_MAKEFILES): Add lispref/Makefile.
	(lispref/Makefile): New target.
	(mostlyclean, clean, distclean, maintainer-clean, unlock, relock):
	Add commands for the lispref directory.
	(info, dvi): Ditto.

	* config.bat: Configure in `lispref'.

2001-11-09  Richard M. Stallman  <rms@gnu.org>

	* Makefile.in (bootstrap-lisp): Don't suppress error messages.

2001-11-07  Eli Zaretskii  <eliz@is.elta.co.il>

	* make-dist (tempdir): Copy AUTHORS as well.

2001-11-06  Sam Steingold  <sds@gnu.org>

	* configure.in: Added a check for <nlist.h>.

2001-11-01  Pavel Janík  <Pavel@Janik.cz>

	* configure.in: Reindent --help output.
	From Per Starbäck (starback@ling.uu.se).

2001-10-31  Eli Zaretskii  <eliz@is.elta.co.il>

	* configure.in: New entry for HP/UX-11.

	* Makefile.in (SOURCES): Replace GETTING.GNU.SOFTWARE with FTP.
	From Eric S. Raymond <esr@golux.thyrsus.com>.

2001-10-28  Eli Zaretskii  <eliz@is.elta.co.il>

	* configure.in (s390-*-linux-gnu): New system.  From Adam Thornton
	<athornton@sinenomine.net>.

2001-10-25  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (maybe_bootstrap): New target.
	(all): Add to prerequisites to bootstrap if abbrev.elc doesn't exist.

2001-10-24  Ken Raeburn  <raeburn@gnu.org>

	* configure.in: If --with-hesiod is given, look for
	hes_getmailhost and res_send or __res_send; check hesiod and
	resolv libraries respectively if system libraries don't supply them.

2001-10-24  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Use $MAKE for `make' if set.

2001-10-22  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (install-arch-indep): Add -h (follow symlinks)
	to tar options.

2001-10-20  Gerd Moellmann  <gerd@gnu.org>

	* (Version 21.1 released).

2001-10-20  Miles Bader  <miles@gnu.org>

	* configure.in (configuration): Set from `host' if `host_alias'
	isn't defined.

2001-10-19  Andreas Schwab  <schwab@suse.de>

	* configure.in: Make ready for autoconf 2.5x.
	(AC_PREREQ): Require autoconf 2.50.
	* aclocal.m4: Removed.
	* Makefile.in (${srcdir}/configure): Don't depend on aclocal.m4.

2001-10-13  Eli Zaretskii  <eliz@is.elta.co.il>

	* README: Bump Emacs version to 21.1.50.

2001-10-05  Gerd Moellmann  <gerd@gnu.org>

	* Branch for 21.1.

2001-09-05  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Avoid `$@' which is handled specially in
	Autoconf 2.52.  From "Adam J. Richter" <adam@yggdrasil.com>.

2001-09-01  Eli Zaretskii  <eliz@is.elta.co.il>

	* make-dist (nt): Add subdirs.el to the list of distributed files.

2001-08-14  Eli Zaretskii  <eliz@is.elta.co.il>

	* configure.in (machine): Add an entry for
	hppa1.1-hitachi-hiuxwe2*.

2001-05-28  Gerd Moellmann  <gerd@gnu.org>

	* make-dist (LANG): Set LC_ALL and LANGUAGE to C, unset
	LC_MESSAGES and LANG.  From Karl Eichwalder <keichwa@gmx.net>.

2001-05-14  Gerd Moellmann  <gerd@gnu.org>

	* make-dist: Copy texinfo.tex unconditionally.

2001-04-25  Eli Zaretskii  <eliz@is.elta.co.il>

	* Makefile.in (install-arch-indep): Add gfdl.1 to the man pages
	that are installed.

2001-04-06  Gerd Moellmann  <gerd@gnu.org>

	* make-dist: Copy only `[a-z]*.{el,elc}' from leim/quail.
	Don't copy quick-b5, quick-cns, tsang-b5, and tsang-cns files.

	* make-dist: Handle leim/MISC-DIC.  Only include
	`[a-zA-Z]*.{el,elc}' from leim/quail.

2001-04-05  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (install-arch-indep): Remove .cvsignore files.

2001-03-30  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (.PHONY): Add for bootstrap targets.
	(bootstrap-clean): New target.
	(bootstrap): Use it instead of `clean'.

2001-03-29  Eli Zaretskii  <a34785@is.elta.co.il>

	* Makefile.in (SUBDIR): Remove leim.
	(all, .RECURSIVE, extraclean): Add leim explicitly.
	(leim): Provide separate rule which exports PARALLEL=0 into the
	environment.

2001-03-20  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (HAVE_XPM): Don't print the result of the check for
	XpmReturnAllocPixels if we don't have an xpm.h.

2001-03-05  Gerd Moellmann  <gerd@gnu.org>

	* COPYING: New file.

2001-03-04  Eli Zaretskii  <eliz@is.elta.co.il>

	* config.bat: Update the copyright.

2001-02-23  Kenichi Handa  <handa@etl.go.jp>

	* configure.in: Use AC_EGREP_CPP to check if the C preprocessor
	converts `..' to `. .'.  If it converts, set CPP_NEED_TRADITIONAL
	to `yes'.  Later in AC_OUTPUT, check this variable.

2001-02-09  Dave Love  <fx@gnu.org>

	* AUTHORS: Updated.

2001-02-06  Eli Zaretskii  <eliz@is.elta.co.il>

	* info/dir (Ebrowse): Fix the entry (was missing a dot).

2001-02-02  Gerd Moellmann  <gerd@gnu.org>

	* mkinstalldirs (errstatus): Chmod a+rx directories we create.

	* Makefile.in (uninstall): Ignore exit code of `rm'.

	* Makefile.in (uninstall): Remove more info files.
	Remove ${libexecdir}/emacs/${version}.  Remove ${archlibdir}/fns-*.

2001-01-31  Gerd Moellmann  <gerd@gnu.org>

	* noleim-Makefile.in (extraclean): Add.

2001-01-28  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (extraclean): Add -f to -rm config-tmp-* to keep
	it quiet.

2001-01-24  Colin Walters  <walters@cis.ohio-state.edu>

	* Makefile.in (tags): Fix typo.

2001-01-13  Kenichi Handa  <handa@etl.go.jp>

	* configure.in: Fix typo in the code setting x_search_path.

2001-01-10  Dave Love  <fx@gnu.org>

	* configure.in: Don't reset LIBS at end of -lXmu test.  Test for
	-lXext.
	(HAVE_XKBGETKEYBOARD): Fix reporting of result.
	(HAVE_LIBXP): Remove -lXt from AC_CHECK_LIB.
	(HAVE_XAW3D, HAVE_XPM, HAVE_JPEG, HAVE_PNG, HAVE_TIFF, HAVE_GIF):
	Don't frob CFLAGS.  Remove extra X libs from AC_CHECK_LIB
	(now in $LIBS).

2001-01-08  Eli Zaretskii  <eliz@is.elta.co.il>

	* config.bat: Run the preprocessor with -traditional.

2001-01-01  Eli Zaretskii  <eliz@is.elta.co.il>

	* INSTALL: Move copying conditions to end of file.

2000-12-27  Eli Zaretskii  <eliz@is.elta.co.il>

	* INSTALL: Add basic installation procedure which assumes
	`configure' does its job.  Elaborate on image support libraries.
	Add a pointer to Xaw3d library.  Add advice about solving
	configure-time problems by looking in config.log and setting
	variables in the environment.

2000-12-27  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (install-arch-indep): If tar fails, exit with
	exit code 1.

2000-12-19  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Test for XkbGetKeyboard with an AC_TRY_LINK whose
	source file includes XKBlib.h.  On some broken Solaris systems,
	there is an XKBlib.h, reportedly, but header files included by
	XKBlib.h are missing.

2000-12-14  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: AC_CHECK_FUNC XkbGetKeyboard.

2000-12-11  Dave Love  <fx@gnu.org>

	* configure.in <alpha*-dec-osf*>: Use full path for NON_GNU_CPP.

2000-12-11  Paul Eggert  <eggert@twinsun.com>

	* aclocal.m4 (AC_SYS_LARGEFILE, AC_SYS_LARGEFILE_MACRO_VALUE):
	Merge fixes from latest GNU tar version.  These macros no longer
	futz with _XOPEN_SOURCE, as that was not portable in practice.
	(AC_FUNC_FSEEKO): New macro.

	* configure.in: Use it instead of invoking AC_CHECK_FUNCS on
	ftello.

2000-12-05  Dave Love  <fx@gnu.org>

	* Makefile.in (TAGS, info): Avoid tab-prefixed comments in rules.

2000-12-02  Eli Zaretskii  <eliz@is.elta.co.il>

	* info/dir: Change the category to "Emacs".

2000-12-01  Gerd Moellmann  <gerd@gnu.org>

	* make-dist (tempdir): Remove epaths.h from the distribution
	instead of paths.h.

2000-11-23  Eli Zaretskii  <eliz@is.elta.co.il>

	* config.bat: Check for existence of djecho.exe, and print an
	error message if it is not available.

	* INSTALL: Describe possible problem with djecho.exe in old
	versions of DJGPP v2.x.

2000-11-23  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Initialize HAVE_LIBXP to no.

2000-11-22  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Use m/macppc.h instead of the non-existent
	m/powerpc.h.

2000-11-21  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (install-arch-indep): Also install info/eshell*
	and info/speedbar*.

	* configure.in (HAVE_PNG): Check for the presence of
	png_get_channels to rule out older PNG libs.

	* configure.in (AC_OUTPUT): Arrange to emit definitions of
	GCC and NON_GNU_CPP into config.status.

2000-11-20  Dave Love  <fx@gnu.org>

	* configure.in: Fix last change.

	* GETTING.GNU.SOFTWARE: Deleted.
	* FTP: New file to replace it.
	* make-dist: Add FTP, remove GETTING.GNU.SOFTWARE.

2000-11-20  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Use -traditional with GNU cpp.

2000-11-17  Gerd Moellmann  <gerd@gnu.org>

	* make-dist: Handle the Mac port.  Distribute all makefile.w32-in.
	Distribute more files from the nt/ subdir.  Distribute PBM
	image files from subdirs of lisp/.  Distribute old change logs
	from subdirs of lisp/.  Distribute play/5x5.el.

2000-11-11  Dave Love  <fx@gnu.org>

	* config.sub, config.guess: Updated from master source.

2000-11-07  Dave Love  <fx@gnu.org>

	* configure.in: Test for mkstemp.

2000-11-01  Eli Zaretskii  <eliz@is.elta.co.il>

	* info/dir (Top): Rearrange menu items more logically, and put
	them into a single category.  Add menu items for RefTeX and
	Widget.

2000-10-29  Kai Großjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* Makefile.in (install-arch-indep): Use --info-dir instead of
	--dir-file, and a simple argument instead of --info-file, so that
	the Debian version of install-info also works.

2000-10-19  Eric M. Ludlam  <zappo@ultranet.com>

	* info/dir (Speedbar): Add entry.

2000-10-16  Eli Zaretskii  <eliz@is.elta.co.il>

	* INSTALL: Describe the new image-support options to the configure
	script.  List URLs where image support libraries can be found.

2000-10-14  Eli Zaretskii  <eliz@is.elta.co.il>

	* info/dir (Top): Add an entry for Eshell.

2000-10-02  Dave Love  <fx@gnu.org>

	* configure.in: Check for gai_strerror.

2000-10-01  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (install-arch-indep): Update list of installed info files.

2000-09-30  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Support `sparc*-*-netbsd*'.

2000-09-29  Eli Zaretskii  <eliz@is.elta.co.il>

	* info/dir (MIME): Add entry for emacs-mime.

2000-09-29  Dave Love  <fx@gnu.org>

	* configure.in: Fix alpha*-dec-osf4 using the osf5 config.

2000-09-26  Gerd Moellmann  <gerd@gnu.org>

	* make-dist: Adapt to the change of leim/Makefile which was
	necessary to ensure a reasonably working `make dist'.

	* leim-Makefile.in: Moved to leim/Makefile.in..

	* noleim-Makefile.in: New file, formerly leim/Makefile.in.

2000-09-21  Kenichi Handa  <handa@etl.go.jp>

	* leim-Makefile.in (TIT-GB, TIT-BIG5, NON-TIT-GB, NON-TIT-BIG5)
	(NON-TIT-CNS, JAPANESE, KOREAN, THAI, VIETNAMESE, LAO, INDIAN)
	(TIBETAN, LATIN, SLAVIC, GREEK, RUSSIAN, MISC): Rename all .el
	files to .elc.
	(${TIT}): Adjust for the above change.
	(clean mostlyclean): Likewise.
	(.el.elc): New target.

2000-09-19  Gerd Moellmann  <gerd@gnu.org>

	* make-dist: Include XPM and XBM files in lisp/ and subdirs
	in the distribution.

2000-09-18  Gerd Moellmann  <gerd@gnu.org>

	* make-dist (skk): Rename to `ja-dic' because the leim directory
	was renamed.

2000-09-14  Dave Love  <fx@gnu.org>

	* configure.in: Fix spurion in last change.

2000-09-14  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (USE_MMAP_FOR_BUFFERS): Recognize in system
	configuration files instead of REL_ALLOC_MMAP.  Set REL_ALLOC
	to `no' if defined.  Change result report.

2000-09-08  Dave Love  <fx@gnu.org>

	* configure.in: Remove spurious `@'s.

	* aclocal.m4 (AC_FUNC_MMAP): Use fixed version from development
	autoconf.

2000-09-06  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (REL_ALLOC_MMAP): Recognize in system configuration
	file and print informational message.

	* configure.in (AC_FUNC_MMAP): Add.

2000-09-01  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Add ``checking'' messages for
	XpmReturnAllocPixels.

2000-08-28  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Check <strings.h>; check `index' and `rindex'
	functions.

2000-08-26  Kenichi Handa  <handa@etl.go.jp>

	* configure.in <alpha*-dec-osf*>: Move "NON_GNU_CPP='cpp'" before
	"case "${canonical}" in".

2000-08-25  Dave Love  <fx@gnu.org>

	* configure.in <osf>: Use NON_GNU_CPP='cpp' always.

2000-08-25  Kenichi Handa  <handa@etl.go.jp>

	* leim-Makefile.in: Rename skk to ja-dic throughout the file.

2000-08-24  Gerd Moellmann  <gerd@gnu.org>

	* configure.in <making srcdir absolute>: Unset CDPATH in case $PWD
	contains a relative path.  Protect against unusable values of $PWD.

2000-08-08  Eli Zaretskii  <eliz@is.elta.co.il>

	* info/dir (WoMan): Add entry.

	* config.bat (maindir): Update src/_gdbinit even if it does
	already exist.

2000-08-07  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (config.status): Prepend `$(srcdir)/' to `configure'.

2000-08-03  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Add support for ia64*-*-linux*.

2000-07-27  Gerd Moellmann  <gerd@gnu.org>

	* make-dist (aclocal.m4): Include in distribution.

2000-07-26  Dave Love  <fx@gnu.org>

	* configure.in (AC_SYS_LARGEFILE): Move earlier.

2000-07-24  Dave Love  <fx@gnu.org>

	* configure.in: Add AC_SIZE_T.

2000-07-18  Dave Love  <fx@gnu.org>

	* configure.in: Reorder so that most tests are done after CPPFLAGS
	is set from the C_SWITCH_... definitions.

2000-07-10  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (HAVE_XPM): Undo previous change.  Check for
	preprocessor define XpmReturnAllocPixels.

2000-07-06  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (HAVE_XPM): Check for XpmReturnAllocPixels
	instead of XpmReadFileToPixmap.

2000-07-05  Ken Raeburn  <raeburn@gnu.org>

	* configure.in: Check for <soundcard.h>.  Look for ossaudio
	library, and set LIBSOUND accordingly.

2000-07-05  Dave Love  <fx@gnu.org>

	* configure.in: Use AC_HEADER_SYS_WAIT.

2000-07-05  Gerd Moellmann  <gerd@gnu.org>

	* make-dist: Check DONTCOMPILE in lisp/Makefile.in instead of
	lisp/Makefile.  Distribute lisp/Makefile.in instead of
	lisp/Makefile.

2000-06-30  Ken Raeburn  <raeburn@gnu.org>

	* configure.in: Add ${C_SWITCH_X_SITE} temporarily to CPPFLAGS,
	while searching for image-handling libraries.

2000-06-26  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (--with-xim): New option.

2000-06-23  Dave Love  <fx@gnu.org>

	* configure.in [HAVE_TIMEVAL]: Move gettimeofday test here, test
	for struct timezone and test how we can call gettimeofday.
	Check for OSF 5+.  Check for term.h.

	* aclocal.m4: Define the post-2.13 stuff conditionally on autoconf
	version.

2000-06-23  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (HAVE_LIBXP): Change test for libXp.

2000-06-21  Dave Love  <fx@gnu.org>

	* configure.in: Check for fcntl.h.  Use AC_FUNC_GETLOADAVG, not
	simple test for getloadavg and substitute GETLOADAVG_LIBS.
	Simplify test for GETTIMEOFDAY_ONE_ARGUMENT.

2000-06-19  Dave Love  <fx@gnu.org>

	* configure.in (GETTIMEOFDAY_ONE_ARGUMENT): Fix in case
	_XOPEN_SOURCE is defined.

2000-06-16  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (distclean): Also make distclean in lisp/.

2000-06-15  Eli Zaretskii  <eliz@is.elta.co.il>

	* config.bat: Generate lisp/Makefile from lisp/Makefile.in.

2000-06-15  Gerd Moellmann  <gerd@gnu.org>

	* make-dist: Add --help and --snapshot options.

2000-06-14  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Generate lisp/Makefile.

	* configure.in: Add support for `*-lynxos*'.
	Use `cpp' as NON_GNU_CPP for `alpha*-dec-osf[5-9]*', as
	recommended by <Karen.Dorhamer@compaq.com> to fix problems
	on Tru64 UNIX v5.0.

2000-06-13  Ken Raeburn  <raeburn@gnu.org>

	* Makefile.in (install-arch-indep): Don't use "-unset CDPATH" when
	it's on a continuation line.

2000-06-02  Dave Love  <fx@gnu.org>

	* Makefile.in (install-arch-indep): Add pcl-cvs to list of info
	files.

	* configure.in: Don't specify -n32 flag for mips-sgi-irix6.5.
	Check for struct exception.  Use AC_SYS_LARGEFILE and move ftello
	test.

	* aclocal.m4 (AC_SYS_LARGEFILE_TEST_INCLUDES)
	(AC_SYS_LARGEFILE_MACRO_VALUE, AC_SYS_LARGEFILE): New.

2000-05-26  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Add check for speed_t typedef.

2000-05-25  Ken Raeburn  <raeburn@gnu.org>

	* Makefile.in (install-arch-dep): Install fns-*.el only if it
	exists; it won't in the CANNOT_DUMP case.

2000-05-25  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in: Ignore exit status of `unset CDPATH' everywhere.
	On FreeBSD, the exit status is 1 if CDPATH is not set.
	(install-arch-indep): Install ebrowse.info.

2000-05-20  NIIBE Yutaka  <gniibe@mri.co.jp>

	* configure.in: Check for grandpt and getpt.

2000-05-09  Dave Love  <fx@gnu.org>

	* Makefile.in (install-arch-indep): Filter CVS as well as RCS.

2000-05-05  Gerd Moellmann  <gerd@gnu.org>

	* make-dist: Make a link for lib-src/grep-changelog.
	Copy install-sh.

2000-05-01  Eli Zaretskii  <eliz@is.elta.co.il>

	* config.bat: Identify the beginning of the cpp stuff in
	src/Makefile.in and lib-src/Makefile.in more accurately.

2000-04-27  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Add support for `powerpc*-*-linux-gnu*'.

2000-04-19  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Add support for `powerpc-*-netbsd*'.

2000-04-19  Dave Love  <fx@gnu.org>

	* configure.in: Don't use AC_FUNC_GETLOADAVG.

	* aclocal.m4 (AC_FUNC_MKTIME): Use AC_SUBST.

2000-04-16  Dave Love  <fx@gnu.org>

	* Makefile.in (${srcdir}/configure): Depend on aclocal.m4.

2000-04-14  Dave Love  <fx@gnu.org>

	* configure.in: Use AC_FUNC_GETLOADAVG, AC_FUNC_MKTIME.

	* aclocal.m4 (AC_FUNC_MKTIME): New.

2000-03-28  Ken Raeburn  <raeburn@gnu.org>

	* configure.in: Line up "--help" output a little better.

2000-03-26  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (bootstrap-lisp-1, bootstrap-lisp, bootstrap-src):
	New targets.
	(bootstrap): Rewritten in terms of the new targets above.
	Make info files, too.

2000-03-12  Gerd Moellmann  <gerd@gnu.org>

	* config.guess, config.sub: Use the versions of the files from
	subversions.

2000-03-08  Dave Love  <fx@gnu.org>

	* configure.in: Use AC_PROG_RANLIB, AC_C_PROTOTYPES,
	AC_C_VOLATILE.  Define POINTER_TYPE.

	* aclocal.m4: New file.

2000-03-02  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (machine): Add `mipsel-*-netbsd*' and
	`arm-*-netbsd*'.

2000-03-01  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (machine): Add support for `*-auspex-sunos*'.

2000-02-29  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (C_OPTIMIZE_SWITCH) [__GNUC__]: Use -O2.

2000-02-18  Dave Love  <fx@gnu.org>

	* configure.in: Define NON_GNU_CPP on alpha-dec-osf5+.

2000-02-18  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (install-arch-indep): Add eudc to list of installed
	info files.

2000-02-17  Ken Raeburn  <raeburn@gnu.org>

	* configure.in: Include -lz and -ljpeg (if it's available) when
	testing for the tiff library.

2000-02-17  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Remove LISP_FLOAT_TYPE.

2000-02-12  Dave Love  <fx@gnu.org>

	* configure.in: Use AC_FUNC_VFORK.

2000-02-01  Gerd Moellmann  <gerd@gnu.org>

	* make-dist: Various fixes for new development tree.

	* leim-Makefile.in: New file.

2000-01-31  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (dist): Call ./make-dist.

2000-01-24  Dave Love  <fx@gnu.org>

	* configure.in: Remove -G0 from Irix NON_GCC_TEST_OPTIONS.

2000-01-18  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (HAVE_GIF): Check for DGifOpen instead of
	DGifOpenFileName.

2000-01-11  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (install-arch-indep): Update list of info files to
	be installed.

2000-01-05  Dave Love  <fx@gnu.org>

	* configure.in: Check for jerror.h as well as libjpeg.

2000-01-03  Andreas Schwab  <schwab@suse.de>

	* Makefile.in (install-arch-indep): Install autotype*.
	Run install-info on autotype and emacs-faq.info.

1999-12-04  Dave Love  <fx@gnu.org>

	* Makefile.in (install-arch-indep): Depend on `info'.
	(install-strip): Use `install' as sub-make target.

1999-11-23  Ken Raeburn  <raeburn@gnu.org>

	* configure.in: Restore Kerberos code deleted on 1999-05-29 that
	didn't need to be deleted.  Check for the k5crypto library as well
	as the crypto library; MIT Kerberos 1.1 changed the name.

1999-11-18  Dave Love  <fx@gnu.org>

	* configure.in: Fix NON_GNU_CPP for Irix 6 to avoid failing tests.

1999-11-11  Erik Naggum  <erik@naggum.no>

	* configure.in (bitmapdir): Allow for both "bitmaps" directories.

1999-11-08  Dave Love  <fx@gnu.org>

	* configure.in: Fix change for --with-pop default.

1999-11-04  Dave Love  <fx@gnu.org>

	* configure.in: Default to --with-pop.  Change sense of with-gcc
	and with-toolkit-scroll-bars messages to reflect the defaults.

1999-11-01  Gerd Moellmann  <gerd@gnu.org>

	* INSTALL: Mention the Emacs Lisp Reference.

1999-10-27  Noah Friedman  <friedman@splode.com>

	* configure.in: Check for dynamic ptys (/dev/ptmx, /dev/pts/).

1999-10-23  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (bootstrap): New target.

1999-10-19  Paul Eggert  <eggert@twinsun.com>

	Add support for large files.  Merge glibc 2.1.2.

	* configure.in (AC_CHECK_HEADERS): Add stdio_ext.h.
	(HAVE_TM_GMTOFF): New symbol.
	(AC_CHECK_FUNCS): Add __fpending, ftello, getloadavg, mblen,
	mbrlen, strsignal.
	(LOCALTIME_CACHE): Don't include stdlib.h, as config.h does this now.

1999-10-09  Stefan Monnier  <monnier@cs.yale.edu>

	* make-dist (dontcompile): Look for the DONTCOMPILE variable rather
	than the obsolete dontcompilefiles pseudo-rule in lisp/Makefile.

1999-10-09  Richard M. Stallman  <rms@gnu.org>

	* Makefile.in (uninstall, install-arch-indep, install-arch-dep):
	Unset CDPATH to prevent cd from generating output.

1999-10-08  Stefan Monnier  <monnier@cs.yale.edu>

	* update-subdirs: Also ignore CVS subdirs.

1999-10-07  Gerd Moellmann  <gerd@gnu.org>

	* Makefile.in (install-arch-indep): Add ada-mode.

1999-10-06  Dave Love  <fx@gnu.org>

	* Makefile.in: Add rules for config.status, configure.

1999-09-07  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (--with-sound): Remove.

1999-08-30  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (USE_TOOLKIT_SCROLL_BARS): Move the test down after
	the test for Xaw3d.
	(HAVE_TIFF): Add -lm to library check.

1999-08-28  Richard Stallman  <rms@gnu.org>

	* configure.in (USE_TOOLKIT_SCROLL_BARS): Move tests for
	-lXaw3d, -lXpm, -ljpeg, -lpng, -ltiff, and -lgif, down
	after the other X-related libraries.

1999-08-21  Dave Love  <fx@gnu.org>

	* configure.in: Don't check for jpeglib.h.

1999-08-20  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (HAVE_TIFF): Remove tiff34 prefix from tiffio.h.
	(HAVE_XAW3D): Don't check for Xaw3d if USE_X_TOOLKIT=none.

1999-08-18  Dave Love  <fx@gnu.org>

	* configure.in: Check for termcap.h.

1999-08-15  Gerd Moellmann  <gerd@gnu.org>

	* configure.in: Add --with-toolkit-scroll-bars.  If "no",
	use Emacs' scroll bars, even if configured for Motif or when
	Xaw3d is available.

1999-08-12  Wolfgang Rupprecht  <wolfgang@wsrcc.com>

	* configure.in: Check for getaddrinfo.

1999-08-04  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Make --no-debug work again by removing -gcoff.

1999-07-30  Dave Love  <fx@gnu.org>

	* configure.in: Check for stdlib.h.

1999-07-19  Dave Love  <fx@gnu.org>

	* configure.in: Grok sparc64-*-linux-gnu*.

1999-07-12  Richard Stallman  <rms@gnu.org>

	* Version 20.4 released.

1999-06-23  Karl Heuer  <kwzh@gnu.org>

	* make-dist: Unset EMACS_UNIBYTE, so Emacs runs in its default state.
	Quote $EMACS, in case it's a program with args.

1999-06-15  Gerd Moellmann  <gerd@gnu.org>

	* configure.in (HAVE_GIF): Use libungif instead of libgif
	because the former doesn't contain patented compression code.

1999-05-29  Richard M. Stallman  <rms@gnu.org>

	* configure.in: Delete the Kerberos stuff.

1999-05-27  Greg Hudson  <ghudson@mit.edu>

	* configure.in: Prefer kerberos 5 names.

1999-04-26  Richard M. Stallman  <rms@gnu.org>

	* configure.in: Check for libXp.

1999-04-08  Richard Stallman  <rms@gnu.org>

	* make-dist: Include change logs in subdirs of `lisp'.

1999-04-05  Richard Stallman  <rms@gnu.org>

	* Makefile.in (mkdir): If we create ${datadir}, make it world-readable.
	(install-arch-indep): Make ${datadir}/emacs world-readable.

1999-03-30  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Use epaths.* instead of paths.*.

1999-03-07  Eli Zaretskii  <eliz@gnu.org>

	* INSTALL: Add detailed instructions to unpack and install
	intlfonts on MS-DOS.

1999-02-26  Richard Stallman  <rms@gnu.org>

	* configure.in: Use epaths.h and epaths-force instead of paths...

	* Makefile.in (epaths-force): Rename from paths-force;
	operate on epaths.in and produce epaths.h.

1999-02-24  Richard Stallman  <rms@gnu.org>

	* make-dist: Fix nt/icons directory handling.

1999-02-22  Simon Josefsson  <jas@pdc.kth.se>

	* configure.in (f301-fujitsu-uxpv4.1): New target.

1999-02-20  Richard Stallman  <rms@gnu.org>

	* make-dist (tempparent): Fix command to update info files.

1999-02-09  Richard Stallman  <rms@gnu.org>

	* configure.in (powerpc-apple-netbsd*): New alternative.

1999-01-25  Geoff Voelker  <voelker@cs.washington.edu>

	* make-dist: Include the new directory nt/icons in distributions.

1999-01-19  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* configure.in: Change message about HAVE_XFREE386.

1999-01-07  Eli Zaretskii  <eliz@gnu.org>

	* config.bat: Support configuring with leim.

1998-12-16  Petri Kaurinkoski  <Petri.Kaurinkoski@hut.fi>

	* configure.in (mips-sgi-irix6.5): New target.

1998-12-16  Jonathan I. Kamens  <jik@kamens.brookline.ma.us>

	* configure.in: Remove GSS-API support, since it has been removed
	from movemail.

1998-12-04  Markus Rost  <rost@delysid.gnu.org>

	* Makefile.in (install-arch-dep): Copy fns-*.el from lib-src.

1998-12-04  Andreas Schwab  <schwab@delysid.gnu.org>

	* Makefile.in: Don't install customize info file.
	Run install-info on viper info file.

1998-11-29  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* Makefile.in (install-arch-dep): Copy fns-*.el from lib-src.

1998-11-16  Kenichi Handa  <handa@etl.go.jp>

	* configure.in (*-*-bsdi4*): New target.

1998-11-13  Ehud Karni  <ehud@unix.simonwiesel.co.il>

	* configure.in: Fix previous change.

1998-11-11  Richard Stallman  <rms@gnu.org>

	* configure.in (aviion-intel): New machine.

1998-11-04  Kenichi Handa  <handa@etl.go.jp>

	* configure.in (mips-nec-sysv4*): New target.

1998-11-03  Andreas Schwab  <schwab@delysid.gnu.org>

	* Makefile.in (install-arch-dep): Fix last change and use fns-*.el
	from lisp.

1998-10-31  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* make-dist: Don't include fns*.el in dist.

1998-10-30  Dave Love  <fx@gnu.org>

	* configure.in: Don't mkdir cpp.

1998-10-30  Andreas Schwab  <schwab@delysid.gnu.org>

	* Makefile.in (install-arch-dep): Install src/fns-*.el in
	${archlibdir}.

1998-08-19  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* Version 20.3 released.

1998-07-30  Paul Eggert  <eggert@twinsun.com>

	* Makefile.in (Makefile, src/Makefile, src/config.stamp)
	(lib-src/Makefile, man/Makefile, oldXMenu/Makefile)
	(lwlib/Makefile, leim/Makefile):
	Prepend $(srcdir)/ to rule dependencies outside this dir.

1998-06-30  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* configure.in: Use unset CDPATH instead of making it empty.

1998-06-20  Karl Heuer  <kwzh@gnu.org>

	* configure.in: Assume unspecified Solaris is 2.5, not 2.4.

1998-06-07  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* make-dist (MANIFEST): Include most subdirs, but exclude subdirs.el
	and default.el.  Sort the results.

1998-05-31  Karl Heuer  <kwzh@gnu.org>

	* Makefile.in (install-arch-indep): Don't die if site-lisp/ isn't
	writable.

1998-05-14  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* Makefile.in (install-arch-indep):
	Don't alter site-lisp/subdirs.el if it exists.

1998-05-12  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* Makefile.in (install-arch-indep): Put `-' on commands to create
	subdirs.el in site-lisp dirs.

1998-05-07  Richard Stallman  <rms@psilocin.gnu.org>

	* Makefile.in (install-arch-indep): Fix typo in previous change.

1998-05-06  Richard Stallman  <rms@psilocin.gnu.org>

	* Makefile.in (install-arch-indep): Pass --dir-file to install-info.

1998-04-28  Richard Stallman  <rms@psilocin.gnu.org>

	* Makefile.in (mkdir): Create the site-lisp dirs.
	(install-arch-indep): Make site-lisp/subdirs files world-readable.

1998-04-26  Richard Stallman  <rms@psilocin.gnu.org>

	* Makefile.in (INSTALL_INFO): New variable.
	(install-arch-indep): Don't replace the dir file if it already exists.
	Use the install-info program, via INSTALL_INFO, to add entries.
	Make the `info' subdir and the Info files world-readable.

1998-04-16  Eli Zaretskii  <eliz@delysid.gnu.org>

	* config.bat: Make sure the environment is large enough to support
	all the "set foo=bar" commands.  Update pointers to DJGPP FTP sites.

1998-04-10  Karl Heuer  <kwzh@gnu.org>

	* make-dist: Don't accept EMACS=t when testing for $EMACS set.

1998-04-06  Jonathan I. Kamens  <jik@kamens.brookline.ma.us>

	* configure.in: Add --with-gssapi to specify GSS-API
	authentication support for movemail.

1998-04-02  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* Makefile.in (install-arch-indep): Fix previous change.

1998-03-30  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* Makefile.in (info): Run man in build dir, not srcdir.

1998-03-28  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* Makefile.in (install-arch-indep): Fix previous change.

1998-03-23  Kenichi Handa  <handa@etl.go.jp>

	* Makefile.in (top_distclean): Check the existence of `lock' subdir.

1998-03-22  Richard Stallman  <rms@gnu.org>

	* Makefile.in (install-arch-indep): Put special subdirs.el files
	in site-lisp dirs.  Use normal-top-level-add-subdirs-to-load-path.

1998-03-21  Richard Stallman  <rms@psilocin.gnu.org>

	* make-dist: Fix shell syntax in check for missing .el or .elc files.

1998-03-09  Richard Stallman  <rms@psilocin.gnu.org>

	* configure.in (hppa-hp-hpux1[0-9]*): Handle versions 1X like 10.
	(m68*-hp-hpux*): Handle versions 1X like 10.

1998-03-07  Richard Stallman  <rms@psilocin.gnu.org>

	* make-dist: PROBLEMS is now in etc, not top level dir.

	* Makefile.in (SOURCES): Delete PROBLEMS.

1998-02-25  Richard Stallman  <rms@gnu.org>

	* configure.in (hppa*-hp-hpux*): Use hpux10 by default.

	* Makefile.in (install-arch-indep): Do chmod a+x on subdirs.

1998-01-17  Richard Stallman  <rms@gnu.org>

	* Makefile.in (install-arch-indep): Add semicolon before `else'.

1998-01-02  Richard Stallman  <rms@psilocin.gnu.org>

	* make-dist (tempparent): New option --no-check.

	* make-dist: Don't do anything with cpp directory.

1997-12-20  Richard Stallman  <rms@psilocin.gnu.org>

	* configure.in (sparc-fujitsu-sysv4*): New target.

1997-12-17  Andreas Schwab  <schwab@gnu.org>

	* configure.in: Cache more tests.  Add missing quotes around
	message with embedded comma.

1997-12-04  Karl Heuer  <kwzh@gnu.org>

	* Makefile.in (unlock, relock): Don't reference cpp/ directory.

1997-11-26  Joel N. Weber II  <devnull@gnu.org>

	* make-dist: Changed the comment about `umask 0' to say `Don't
	restrict access to any files.'; previously it said `Don't protect
	any files', which may have implied that we think fascism is good.

1997-11-24  Paul Eggert  <eggert@twinsun.com>

	* configure.in (AC_CHECK_FUNCS): Add strftime.  The new GNU C library
	strftime needs the underlying host's strftime for locale dependent
	formats.

1997-11-20  Abraham Nahum  <miko@uxsrvc.tti.co.il>

	* configure.in (i586-dg-dguxR4.*): New name in case branch.

1997-11-20  Eli Zaretskii  <eliz@is.elta.co.il>

	* config.bat: Configure the man subdirectory.

1997-11-07  Paul Eggert  <eggert@twinsun.com>

	* configure.in (AC_CHECK_LIB): Add -lintl.

1997-11-07  Karl Heuer  <kwzh@gnu.org>

	* make-dist (check for .elc files): Avoid bash-specific syntax.
	(check for overflow 14-char limit): Simplify.

1997-11-07  Richard Stallman  <rms@gnu.org>

	* Makefile.in (install): Move blessmail last.

1997-10-02  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (gettimeofday, one arg or two):
	Clarify messages by avoiding double negative.

1997-09-30  Karl Eichwalder  <ke@suse.de>

	* Makefile.in (install-arch-indep): Install the widget info file.

1997-09-24  Jonathan I. Kamens  <jik@kamens.brookline.ma.us>

	* configure.in (with-pop, with-kerberos): Need to check Kerberos
	libraries in reverse order, so that libraries will appear in the
	correct dependency order on the link line (and so that the
	configure checks themselves will work properly when early
	libraries depend on later ones).

1997-09-21  Erik Naggum  <erik@naggum.no>

	* make-dist (making links to `src'): Keep timestamp on copied files.

	* make-delta: New script to produce delta distributions.

1997-09-19  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Version 20.2 released.

1997-09-15  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Version 20.1 released.

	* Makefile.in (install-leim): Depend on mkdir.
	(leim): Depend on src.

1997-09-13  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in: Recognize alpha* instead of just alpha.

1997-09-12  Paul Eggert  <eggert@twinsun.com>

	* leim-Makefile.in (mostlyclean, maintainer-clean): New targets.

1997-09-12  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* update-subdirs: Use rm -f.

1997-09-08  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* update-subdirs: Delete subdirs.el if this dir has no subdirs.
	Ignore subdirs named Old.

1997-08-04  Kenneth Stailey  <kstailey@elbereth.disclosure.com>

	* configure.in: Add OpenBSD clause to set $machine.

1997-09-04  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* make-dist: Recompile everything after updating various Lisp files.
	Recompile in leim as well as lisp.
	Check in leim as well as lisp for mismatched files and too-long names.

1997-09-03  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (TAGS tags): Simply refer this to the src subdir.

1997-08-30  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Verify ./lisp has simple.el in it
	before trying to copy anything from it.

1997-08-27  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (man/Makefile): New target.
	(tags): Define env var EMACS and run Makefile from build dir.

1997-08-27  Eli Zaretskii  <eliz@psilocin.gnu.ai.mit.edu>

	* config.bat: If src/_gdbinit doesn't exist, try using
	src/.gdbinit to create it (for building on Windows 95).

1997-08-25  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep):
	Discard extra data in tar | tar pipes.

1997-08-24  NIIBE Yutaka  <gniibe@mri.co.jp>

	* configure.in (x_default_search_path):
	Corrected '${x_library}' to '${x_library}/X11'.

1997-08-22  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (HAVE_MOTIF_2_1): Test for Motif 2.1.

1997-08-22  Jonathan I. Kamens  <jik@kamens.brookline.ma.us>

	* configure.in: Support auto-configuration of both Kerberos V4 and
	Kerberos V5 for movemail, including detection of V4 and V5 header
	files and libraries.

1997-08-16  NIIBE Yutaka  <gniibe@etl.go.jp>

	* configure.in: Compute x_default_search_path
	and substitute into makefiles.

	* Makefile.in (paths-force): Store PATH_X_DEFAULTS in paths.h.

1997-08-08  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Run list-load-path-shadows.

1997-08-07  Erik Naggum  <erik@naggum.no>

	* configure.in: Remove lockdir, it is no longer needed.
	* Makefile.in (mkdir): Don't create lockdir.
	(lockdir): Variable deleted.
	(paths-force): Don't operate on PATH_LOCK.

1997-08-06  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* leim-Makefile.in (clean, distclean): New targets.

	* make-dist: Include leim/ChangeLog in leim distribution.

1997-08-01  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (i*86-*-sysv4.2uw*): Set NON_GNU_CPP.

1997-07-30  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (CPPFLAGS): Get this from configure, like CFLAGS.

1997-07-27  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (LDFLAGS): Get this from configure, like CFLAGS.

1997-07-25  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* make-dist: Update leim/leim-list.el.
	Pass along value of $EMACS when updating lisp dir.

1997-07-25  Marcus G. Daniels  <marcus@cathcart.sysc.pdx.edu>

	* configure.in (doug_lea_malloc): Make __after_morecore_hook a
	prerequisite to the use of Doug Lea's malloc.

1997-07-21  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (top_distclean): Use -f to delete contents of lock dir.

	* make-dist: Use name leim/SKK-DIC, not leim/SKK.

1997-07-16  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* make-dist: Arrange for the leim tar file to unpack in emacs-M.N/leim.

1997-07-11  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (mips-sony-newsos6*): File news-risc.h renamed
	to news-r6.h.

1997-07-10  Eli Zaretskii  <eliz@is.elta.co.il>

	* config.bat: Use `sed' instead of `cp', which might not be
	installed.

1997-07-09  Kenichi Handa  <handa@etl.go.jp>

	* Makefile.in (mostlyclean): Add cleaning leim directory.
	(clean, distclean, maintainer-clean): Likewise.

1997-07-09  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* make-dist (bogosities): Check subdirs of `lisp' also.

1997-07-08  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* make-dist (etc): Really avoid symlinks now.
	(lisp): Don't delete from subdirs the things we never copy.

1997-07-07  Kenichi Handa  <handa@psilocin.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Correct the target name.
	The first letter `i' was dropped by the previous change of mine.

1997-07-06  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (leim/Makefile): Generate this.
	(*-sysv4.2uw*): Recognize new alternative.

	* leim-Makefile.in: Renamed from leim-Makefile.

	* make-dist: Set up real-leim subdirectory,
	with the real contents of leim; then move it to
	a separate top-level directory.

	* make-dist: Don't mention site-lisp, site-init, site-start
	or default, when listing files hat are not compiled and should be.

	* configure.in: Create src/config.stamp at the end.

1997-07-04  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (install-leim): Correct previous change.

1997-07-02  Kenichi Handa  <handa@psilocin.gnu.ai.mit.edu>

	* Makefile.in (install-leim): New target.
	(install): Depend on install-leim.

1997-07-01  Kenichi Handa  <handa@psilocin.gnu.ai.mit.edu>

	* Makefile.in (SUBDIR): Add leim.
	(SUBDIR_MAKEFILES): Add leim/Makefile.
	(leim/Makefile): New target.

1997-07-01  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* leim-Makefile: New file.
	* make-dist: Initialize a `leim' subdirectory with that makefile.

1997-06-29  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (GNU_MALLOC_reason): Fix message text.

1997-06-27  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* make-dist (lisp): Don't process subdirs that start with =.
	(etc): Copy symlinks, as in src.

1997-06-26  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (i*86-*-unixware*): New alternative.

1997-06-22  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (src/config.stamp): Target renamed from src/config.h
	and touch it explicitly.

	* configure.in (mips-sony-newsos6*): New alternative.
	(mips-*-linux-gnu*): New alternative.
	(*-*-bsdi*): New alternative.
	(i*86-*-bsd386, i*86-*-bsdi...): Delete old alternatives.

1997-06-22  Dave Love  <d.love@dl.ac.uk>

	* Makefile.in (lib-src): Depend on src/config.h (e.g. for movemail.o).
	(src/config.h): New target to re-configure if src/config.in is patched.

1997-06-18  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (shutdown): Check for `shutdown' function.

1997-06-18  Kenichi Handa  <handa@psilocin.gnu.ai.mit.edu>

	* update-subdirs: Include the directory "language" in subdirs.

1997-06-01  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (m88k-dg-dgux4*): New alternative.
	(alpha-*-netbsd*): New alternative.
	(powerpcle-*-solaris2*): New alternative.

1997-05-20  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* make-dist: Warn about .el files that are not compiled.

1997-05-11  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (dist): Don't run update-subdirs here,
	since make-dist now gets that done.

	* make-dist: Use the new `updates' target in lisp/Makefile.

	* make-dist: Use new non-file targets in lisp/Makefile.

1997-04-27  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* make-dist: Handle all subdirs of `lisp' uniformly.
	Don't handle `term' and `language' specially.
	Clear out umask at the beginning.

1997-04-11  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* make-dist: Use Make to update finder-inf.el and autoloads.
	Also update cus-load.el.

1997-04-09  Marcus G. Daniels  <marcus@cathcart.sysc.pdx.edu>

	* configure.in (doug_lea_malloc): First check for SYSTEM_MALLOC,
	in case it is desirable to disable the GNU malloc features with glibc.

1997-04-08  Marcus G. Daniels  <marcus@cathcart.sysc.pdx.edu>

	* configure.in (DOUG_LEA_MALLOC):
	Define if malloc_{get,set}_state exist.

1997-03-05  Kenichi Handa  <handa@etl.go.jp>

	* make-dist: Make links for files under lisp/language.

1997-02-20  Kenichi Handa  <handa@etl.go.jp>

	* update-subdirs: Exclude the directory "language" from subdirs.

1997-01-26  Karl Heuer  <kwzh@gnu.ai.mit.edu>

	* configure.in: Check for rint and cbrt.

1997-01-01  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>

	* make-dist: Use $EMACS to say where to run Emacs.
	Add --no-update option.

1996-12-30  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>

	* configure.in (hppa1.1-hitachi-hiuxmpp): New configuration.

1996-12-28  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>

	* make-dist (copying src): Check thoroughly for symlinks
	and copy them in all cases.  Regularize the linking of *.in
	and *.opt and ChangeLog files.
	(copying lib-src): Likewise.
	Don't rm getdate.c or y.tab.*--they don't exist any more.

1996-12-18  Jonathan I. Kamens  <jik@annex-1-slip-jik.cam.ov.com>

	* configure.in: Check for libmail, maillock.h and
	touchlock (for movemail).

1996-12-15  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (limits.h): Check for this file.

1996-12-08  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (rs6000-ibm-aix4.2): New alternative.
	(rs6000-ibm-aix4.0): New alternative.
	(rs6000-ibm-aix4*): Assume aix 4.1 by default.

1996-11-22  Ben Harris  <bjh21@cam.ac.uk>

	* configure.in: Recognize vax-*-netbsd*.

1996-11-06  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>

	* configure.in (locallisppath): Add leim directory.

1996-10-31  Eli Zaretskii  <eliz@is.elta.co.il>

	* config.bat: Make sure `mv' supports forward slashes and -f.

1996-10-28  Christian Limpach  <chris@nice.ch>

	* configure.in (hppa*-next-nextstep*): * added after hppa
	to accept hppa1.0 and hppa1.1.

1996-10-05  Marcus G. Daniels  <marcus@coulee.tdb.com>

	* configure.in: Provide an empty default for LD_SWITCH_X_SITE_AUX.
	* configure.in (ld_switch_machine): Fix typo.

1996-09-28  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>

	* configure.in: Fetch LD_SWITCH_SYSTEM and LD_SWITCH_MACHINE
	from config.h and use them in $ac_link.

1996-09-28  Erik Naggum  <erik@psilocin.gnu.ai.mit.edu>

	* configure.in: Create a subdir named `lisp'.

1996-09-24  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>

	* configure.in: Check for getcwd.

1996-09-04  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>

	* configure.in: Check for termios.h.  Check for setpgid.

1996-08-31  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>

	* configure.in: Check for setrlimit.

1996-08-31  Paul Eggert  <eggert@twinsun.com>

	* configure.in: Check for sys/systeminfo.h, getdomainname, sysinfo.

1996-08-28  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in: Check for utimes.

	* configure.in: Check for com_err library, but only
	if --with-kerberos was used.  Check for krb and des
	only if --with-kerberos.

1996-08-26  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>

	* Makefile.in (INSTALL_STRIP): New variable.
	(install-strip): Set INSTALL_STRIP, not INSTALL_PROGRAM.
	(install-arch-dep): Use INSTALL_STRIP, and pass it to lib-src.

1996-08-25  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>

	* configure.in: Check for krb and des libraries.

1996-08-24  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>

	* configure.in (*-sunos4.1.[3-9]*noshare):
	Use sunos413, not sunos4-1-3.
	(m88k-dg-dgux5.4R3*): Use dgux5-4-3, not dgux5-4r3.
	(arm-acorn-riscix1.2*): Use riscix12, not riscix1-2.

1996-08-22  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (src/paths.h): Target deleted.
	(paths-force): Delete all dependencies on this target
	but don't delete the target.
	(install): Depend on `all'.
	(paths-force): Don't print a message.

	* configure.in: Generate src/paths.h here.

1996-08-18  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (NON_GCC_LINK_TEST_OPTIONS, GCC_LINK_TEST_OPTIONS):
	New variables that affect linking only.
	(alpha-dec-osf*): Use those instead of previous change.

1996-08-15  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Install info/messages.

1996-08-11  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Version 19.33 released.

1996-08-10  Marcus G. Daniels  <marcus@sayre.sysc.pdx.edu>

	* configure.in (i[3456]86-sequent-ptx4*, i[3456]86-sequent-sysv4*):
	Fix previous change.

1996-08-08  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (i[3456]86-sequent-ptx4*, i[3456]86-sequent-sysv4*):
	New alternative.

1996-08-07  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (alpha-dec-osf*): Specify GCC_TEST_OPTIONS
	and NON_GCC_TEST_OPTIONS.

1996-08-06  Paul Eggert  <eggert@twinsun.com>

	* configure.in (LOCALTIME_CACHE): Don't put a string literal
	"TZ=..." in environ.

1996-08-04  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* make-dist (msdos): Add is_exec.c, sigaction.c to distribution.

1996-08-03  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (*-sunos4.1.[3-9]*noshare): Move this before
	the more general *-sunos4.1.[3-9]* clause.

1996-07-31  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Version 19.32 released.

	* configure.in (*-sco3.2v5*):
	Set OVERRIDE_CPPFLAG to a string of one space.
	Fix the code that uses OVERRIDE_CPPFLAG.

1996-07-16  Karl Heuer  <kwzh@gnu.ai.mit.edu>

	* configure.in: Undo previous change.

1996-07-16  Richard Stallman  <rms@whiz-bang.gnu.ai.mit.edu>

	* config.sub: Use `pc', not `unknown', when canonicalizing
	the vendor for ...86.

1996-07-15  David Mosberger-Tang  <davidm@AZStarNet.com>

	* configure.in: Check for termios.h header.

1996-07-11  Bill Mann  <dvmann@dvncr.praxisint.com>

	* configure.in: Use s/usg5-4-3.h for ncr-i[3456]86-sysv4.3.

1996-07-07  Karl Heuer  <kwzh@gnu.ai.mit.edu>

	* configure.in: Split bsdos2 and bsdos2-1.

1996-07-06  Richard Stallman  <rms@whiz-bang.gnu.ai.mit.edu>

	* config.sub: If last two words are not a recognized
	KERNEL-OS pair, use just the last word as OS, as in 19.31.
	Make conversion of gnu/linux to linux-gnu really work.

	* config.sub: If vendor unspecified with i386, use `pc' not `unknown'.

1996-06-30  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (check for using Lucid widgets by default):
	Eliminate indentation that confuses some compilers.

1996-06-29  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* config.sub: Convert linux and gnu/linux to linux-gnu.

	* make-dist: Don't update getdate.c.
	Ignore =... files when checking for too-long Lisp file names.

1996-06-28  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (euidaccess): Check for that, not for eaccess.

1996-06-27  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (sunos4.1.[3-9]*noshare): Eliminate dash from
	before `noshare'.
	(mips-sgi-irix6*): Specify NON_GCC_TEST_OPTIONS.

1996-06-21  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in: Rename lignux to linux-gnu in configuration names.
	Use gnu-linux as the opsys value (s/ file name).
	Allow i686 just like i386, i486, i586.

1996-06-20  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (i*86-*-sco3.2v5): New alternative.
	(OVERRIDE_CPPFLAG): New variable.
	(CPPFLAGS): If OVERRIDE_CPPFLAG is set, use that.

	* configure.in: Specify vpath for .texi files.

1996-06-09  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in: Always check for HAVE_X11R5.
	Separately decide whether to use a toolkit by default.

1996-06-04  Bill Mann  <dvmann@dvhpux1.praxisint.com>

	* configure.in: If X11R5 is missing the Xaw headers,
	default to --with-x-toolkit=no.

1996-05-31  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* configure.in (powerpc-*-solaris2*): Use ibmrs6000, not rs6000.

1996-05-30  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): If cd etc makes output,
	don't treat that as part of the tar data.
	Check that ./lisp actually exists.

1996-05-29  Karl Heuer  <kwzh@gnu.ai.mit.edu>

	* make-dist: Check for long file names.

1996-05-25  Karl Heuer  <kwzh@gnu.ai.mit.edu>

	* Version 19.31 released.

1996-05-25  Karl Heuer  <kwzh@gnu.ai.mit.edu>

	* configure.in: Recognize sparc-*-lignux.

1996-05-03  Richard Stallman  <rms@delasyd.gnu.ai.mit.edu>

	* make-dist: Include nt/inc/arpa and nt/inc/netinet in the dist.
	Don't include config.w95.

1996-04-21  Richard Stallman  <rms@delasyd.gnu.ai.mit.edu>

	* make-dist: Replace --no-clean-up and --no-tar options
	with --clean-up and --tar, so that the default is useful.

1996-04-15  Eli Zaretskii  <eliz@is.elta.co.il>

	* config.bat: Make sure the GDB init file is called src/_gdbinit;
	if not, tell the user to rename it and abort.

1996-04-14  Eli Zaretskii  <eliz@is.elta.co.il>

	* config.bat: With DJGPP v1.x, use `COFF2EXE' to produce JUNK.EXE
	test program.

1996-04-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* config.bat (djgpp_ver): Variable renamed from djgpp-ver.

	* make-dist (MANIFEST): Fix previous change.
	(msdos): Put mainmake.v2 into the dist.

1996-04-10  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* make-dist: Exit if autoconf fails.

1996-04-10  Eli Zaretskii  <eliz@is.elta.co.il>

	* config.bat: Set djgpp-ver, and unset it at the end.
	Add a number of conditionals for DJGPP version 2.
	Rename label libsrc2 to libsrc3.
	Substitute for LDFLAGS in src/Makefile.
	Substitute for ALL_CFLAGS in lib-src/Makefile.

1996-04-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (ncurses): Check this after checking fns like strerror.

1996-04-08  Erik Naggum  <erik@naggum.no>

	* make-dist (MANIFEST): Don't include lines from =files.

1996-04-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist: Don't put lisp/dired.todo in the dist.

1996-04-05  Richard Stallman  <rms@lucy.gnu.ai.mit.edu>

	* configure.in (HAVE_NCURSES): Look for library named ncurses.

	* configure.in (setlocale): Check for it.

	* configure.in (*-*-sysv4.2*): If no /usr/ccs/lib/cpp, use /lib/cpp.

1996-03-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Use lignux instead of linux as value of opsys.

1996-03-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (install-strip): Fix whitespace.
	Get rid of continuation.

	* config.sub: Convert linux or gnu/linux to lignux.

1996-03-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Accept lignux in configuration name.

1996-03-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (install-strip): New target.

1996-03-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (top_distclean): Use `|| true' to ignore error in rm.
	-f failed to do the job on Suns.

1996-03-13  Richard Stallman  <rms@whiz-bang.gnu.ai.mit.edu>

	* Makefile.in (install-arch-dep): Don't depend on install-arch-indep.

	* configure.in (linux/version.h): Check for this header.

1996-03-12  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* configure.in: Remove -fno-builtin hackery from -lm check.

1996-03-08  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* configure.in (-lm check): If $GCC, append -fno-builtin to $CC for
	just this test.

	* configure.in (AC_PREREQ): Require version 2.8 of Autoconf.

1996-03-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Check for ncurses.

1996-02-28  Paul Eggert  <eggert@twinsun.com>

	* configure.in (LOCALTIME_CACHE):
	Also define if localtime mishandles unsetting TZ.
	This works around a localtime bug in mips-dec-ultrix.

1996-02-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist (finder-inf.el): Use finder-compile-keywords-make-dist.

	* configure.in: Improve messages about X versions.

1996-02-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (LOCALTIME_CACHE): Cope if $ac_cv_func_tzset is null.

1996-02-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (HAVE_X11XTR6): Set it as a shell variable.
	(HAVE_LIBXMU): If HAVE_X11XTR6, use -lSM and -lICE.

	* Makefile.in (install-arch-dep): Depend on install-arch-indep.
	(install): Put install-arch-indep before install-arch-dep.

1996-02-20  Dave Love  <d.love@dl.ac.uk>

	* INSTALL: Clarify info about MS-DOS path handling.

1996-02-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Install info/ccmode*.
	In previous change, protect against /bin/pwd returning null string.

1996-02-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Copy build-dir's lisp subdir
	to lispdir.

1996-02-01  Paul Eggert  <eggert@twinsun.com>

	* configure.in (LD_RUN_PATH): Prepend x_libraries to this envvar.

1996-01-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (HAVE_TIMEVAL): Set explicitly to `no' if test fails.

1996-01-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (extraclean): Use ${top_distclean} to ensure
	we delete everything distclean deletes.

1996-01-23  Karl Heuer  <kwzh@gnu.ai.mit.edu>

	* make-dist (lwlib): Don't distribute lwlib-Xol* files.

1996-01-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (HAVE_X11): Merge $LD_SWITCH_X_SITE
	into LDFLAGS instead of into LIBS.

1996-01-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (HAVE_XMU): Fix typo in previous change.

1996-01-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in [Solaris]: Don't let $CC make us use /usr/ucb/cc.

1996-01-10  Erik Naggum  <erik@naggum.no>

	* configure.in (USE_X_TOOLKIT = maybe): Delete redundant `fi'.

1996-01-10  Karl Heuer  <kwzh@gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Ignore error if no chmod -R.

1996-01-10  Richard Stallman  <rms@whiz-bang.gnu.ai.mit.edu>

	* configure.in (HAVE_XMU): Check for libXmu.a only if using toolkit
	and use -lXt to link it.

1996-01-08  Richard Stallman  <rms@whiz-bang.gnu.ai.mit.edu>

	* configure.in (locallisppath): Put version-specific dir first.

1996-01-07  Richard Stallman  <rms@whiz-bang.gnu.ai.mit.edu>

	* configure.in (hppa-*-nextstep*): New alternative.
	(USE_X_TOOLKIT): By default, set this to "maybe";
	and change that later to LUCID or "no" according to X11 version.

	* make-dist: Recompile outdated .elc files and update all autoloads.

1996-01-05  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* configure.in (locallisppath): Fix typo in last change: " -> '.

1996-01-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (locallisppath): Add ../emacs/VERSION/site-lisp.

1995-12-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Give all files read permission.

1995-12-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (hppa*-hp-hpux9shr*, hppa*-hp-hpux9*, hppa*-hp-hpux*):
	If it is hpux 9, check for /usr/include/X11R5 and /usr/lib/x11R5.

1995-12-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Determine HAVE_X11R6.
	(HAVE_MENUS): Rename from HAVE_X_MENU.

1995-12-21  Richard Stallman  <rms@whiz-bang.gnu.ai.mit.edu>

	* configure.in: Just "solaris" now defaults to version 2.4.
	Add sunos4.1.n-noshare as alternative.

1995-12-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (mips-sgi-irix6*): Set NON_GNU_CPP.

1995-11-29  Erik Naggum  <erik@naggum.no>

	* Makefile.in (install-arch-indep): Add missing backslash.

1995-11-29  Karl Eichwalder  <ke@ke.Central.DE>

	* Makefile.in (install-arch-indep): Don't install
	lispdir/[Mm]akefile*, lispdir/ChangeLog, lispdir/dired.todo.

1995-11-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Fix previous change.

	* configure.in (mips-sni-sysv*): New alias for mips-siemens-sysv*.

1995-11-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Version 19.30 released.

	* make-dist (lisp): Exclude subdirs.el.

1995-11-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist (etc): Delete *.orig and *.rej.

1995-11-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Rename old info/dir only if exists.

1995-11-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (hppa*-hp-hpux10*): Use s/hpux10.h.

1995-11-14  Geoff Voelker  <voelker@cs.washington.edu>

	* make-dist (nt): Rename install, readme, and todo to
	INSTALL, README, and TODO.

1995-11-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist (lisp): Don't distribute site-start.

1995-11-06  Karl Heuer  <kwzh@gnu.ai.mit.edu>

	* make-dist: Break the hard link on alloca.c.

1995-11-04  Richard Stallman  <rms@whiz-bang.gnu.ai.mit.edu>

	* configure.in (LIBS): Add libsrc_libs and keep the old LIBS.

1995-11-02  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* make-dist (src, lib-src): Don't distribute Makefile.c.
	(etc/e): Do cleanup in $tempdir/etc/e, not $tempdir/etc.

1995-10-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (mkdir): Create man1dir, not mandir.
	(uninstall): Use man1dir, not mandir.

1995-10-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (man1dir): New variable.
	(install-arch-indep): Use man1dir.

	* configure.in (sparc-*-nextstep*): Remove incorrect .h's.

	* make-dist: Create lisp/MANIFEST.

1995-10-28  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>

	* configure.in (m68k-*-linux*): New alternative.

1995-10-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist: Use new names config.in, paths.in, and
	{src,lib-src}/Makefile.in.

1995-10-25  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* configure.in: Don't bother checking for drem.

1995-10-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (distclean): Delete line with just a tab in it.
	(install-arch-indep): Delete spaces that precede tabs.
	Delete spurious `fi' left from previous change.
	(install): Supply `true' as command, to avoid null command.

1995-10-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (--with-x-toolkit)): Add `athen' as alias for `athena'.

1995-09-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (powerpc-*-solaris2): New alternative.

1995-09-12  Karl Heuer  <kwzh@gnu.ai.mit.edu>

	* Makefile.in (src/paths.h, paths-force): Use paths.h.$$ instead
	of paths.h.tmp$$, to avoid going beyond 14 characters.

1995-09-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Improve error msg for invalid --with-x-toolkit value.

1995-09-06  Paul Eggert  <eggert@twinsun.com>

	* configure.in (LOCALTIME_CACHE): Define if tzset exists and
	if localtime caches TZ.  Check for tzset.

1995-09-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* config.bat: Simplify using new names file names src/makefile.in,
	config.in, paths.in.  Change Echo commands not to use `.

1995-08-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Always install the new dir file;
	rename the previous dir file to dir.bak or dir.old.

1995-08-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (RANLIB): Substitute this into makefiles.
	Set it specially on solaris; set it by default on other systems.

	* configure.in: Fix previous Alpha change.

1995-08-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (i*386-*-isc4.*): Set GCC_TEST_OPTIONS and
	NON_GCC_TEST_OPTIONS.

1995-08-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (CFLAGS): When computing CFLAGS and REAL_CFLAGS
	from config.h, use SPECIFIED_CFLAGS to get what the user specified.

	* configure.in (alpha-*-linux*): New configuration.

1995-08-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (m68*-next-*): Use m68k.h and nextstep.h.
	(m68k-next-nextstep*): New alias for that.
	(i*86-*-nextstep*): Use nextstep.h.
	(sparc-*-nextstep*): New configuration.

1995-08-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (CPP): Save original CFLAGS value in SPECIFIED_CFLAGS.
	And get CFLAGS from config.h if SPECIFIED_CFLAGS is null.

1995-07-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Handle sunos4shr by sharing; not like sunos4*.
	Determine GETTIMEOFDAY_ONE_ARGUMENT by experiment.

1995-07-18  Mike Long  <mike.long@analog.com>

	* make-dist: Fix update of finder-inf.el, and byte-compile it.

1995-07-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (src/paths.h, paths-force):
	Rename src/paths.h.in to src/paths.in.
	(Makefile): Depend on src/Makefile.in, not src/Makefile.in.in.

	* configure.in: Rename {src,lib-src}/Makefile.in.in to Makefile.in.
	Use Makefile.c for intermediate file.
	Rename src/config.h.in to src/config.in.

1995-07-17  Richard Stallman  <rms@gnu.ai.mit.edu>

	* configure.in (mips-dec-ultrix*): Assume version 4.3.
	(mips-dec-ultrix4.[12]): New alternative for old versions.

1995-07-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* make-dist: Don't break intra-tree links.

1995-07-06  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* configure.in: Put back archlibdir initialization.
	Require autoconf 2.4.1 or later.

1995-07-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Use sunos4shr normally for Sunos 4.1.[3-9].
	(mips-mips-riscos5*): New alternative.

1995-06-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (uninstall, install-arch-indep): Install info/ediff*.

1995-06-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (bindir, datadir, sharedstatedir, libexecdir)
	(mandir, infodir, archlibdir): Initializations deleted.

	* configure.in: On hpux9, use hpux9-x11r4.h if we have X11R4.
	On hpux9shr, use hpux9shxr4.h.

1995-06-24  Morten Welinder  <terra+@cs.cmu.edu>

	* configure.in: Added target mips-dec-mach_bsd4.3.
	* config.guess: Guess mips-dec-mach_bsd4.3.

1995-06-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (mkdir): Use symbolic chmod.

1995-06-22  Paul Eggert  <eggert@twinsun.com>

	* configure.in: Treat SunOS 4.1.4 like SunOS 4.1.3.  (Likewise for
	SunOS 4.1.5 through 4.1.9, should they ever exist.)

1995-06-22  Paul Eggert  <eggert@twinsun.com>

	* Makefile.in (SUBDIR_MAKEFILES):
	Add man/Makefile, so `make distclean' removes it.
	(top_distclean): Add config.log to the list of files to be removed.

1995-06-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Version 19.29 released.

1995-06-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Fix the previous change to verify that the -b
	option really solves the problem.

	* make-dist (nt): Explicitly include makefile.nt and makefile.def only.

1995-06-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Test whether XFree86 needs -b i486-linuxaout to link.

1995-06-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Report more clearly when there is no special
	dir to search for X includes or libraries.

1995-06-13  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* configure.in: Check for -lpthreads, not -lpthread.

1995-06-09  Geoff Voelker  <voelker@cs.washington.edu>

	* make-dist: Copy new files nt/addpm.c and nt/emacs.bat.in.

1995-06-08  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* configure.in: Check for -lpthread.

1995-06-05  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Install info files for mh-e.
	(uninstall): Uninstall info files for dired-x, gnus, mh-e, and sc.

1995-06-01  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* configure.in (*-solaris2.5): New configuration.

	* make-dist: Copy new files config.nt and config.w95.

1995-05-30  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* configure.in: Use x_includes, not x_libraries, for -I.
	Make bitmapdir a colon-separated list.

1995-05-27  Richard Stallman  <rms@gnu.ai.mit.edu>

	* configure.in (hppa*-hp-hpux10*, m68k-hp-hpux10*): New configurations.

	* configure.in: Allow x_libraries and x_includes to be paths.

1995-05-25  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* configure.in: Fix typo.

1995-05-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>

	* INSTALL: Clarify use of site-init.el.

1995-05-22  enami tsugutomo  <enami@sys.ptg.sony.co.jp>

	* configure.in: Pass arg to sqrt.

1995-05-18  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>

	* make-dist: Fix May 6 change.

1995-05-17  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* vpath.sed: Delete reference to ymakefile.

1995-05-09  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* configure.in: Use sqrt (more portable) instead of fmod in -lm check.

1995-05-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist: Put nt/emacs.ico and nt/emacs.rc in dist.

	* update-subdirs: Specify /bin/sh to run the script.

1995-05-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist: Put src/makefile.nt in dist.

	* configure.in (i[345]86-*-bsdi2*): New configuration.
	(vax-dec-bsd386*): Delete.

1995-05-06  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* configure.in: Make sure CDPATH doesn't mess up PWD check.
	Check whether X bitmaps are in X11/bitmaps instead of bitmaps.
	Use fmod instead of logb in -lm check.

1995-05-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (m68*-apollo-*): Rename from m68*-apollo*.
	Use bsd4-3.  Don't set NON_GNU_CPP.

	* make-dist: Don't copy in src/s/*.inp.  Don't copy nt/src.
	In nt, copy various different things, but not *.cmd.
	Fix the ln commands for the subdirs of nt.

1995-04-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (*-sun-sunos4.1.3*): Use sunos4shr.h.

1995-04-27  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* configure.in (*-sun-sunos4.1.3*): Use shared libraries,
	since that's what the header file expects.

1995-04-24  Francesco Potortì  (pot@cnuce.cnr.it)

	* configure.in (m68k-motorola-sysv*): Distinguish between 68030
	and 68040 based machines when choosing options for gnucc.

1995-04-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (top_distclean): Delete config.cache.

1995-04-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Delete .#* when copying subdirs.

	* configure.in: Use m/ncr386.h.

1995-04-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Undo Sep 23 change.

1995-04-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* make-dist (lib-src): Don't copy *.lex; it doesn't exist anymore.
	(man): Don't copy texindex.c and getopt.c; they're deleted.
	(etc): Omit `e'; it's a subdirectory.
	(etc/e): Use `../..', not `..', to reference top level.

1995-04-06  Simon Leinen  <simon@lia.di.epfl.ch>

	* Makefile.in (install-arch-indep, dist):
	Look for `update-subdir' in $(srcdir).

1995-04-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist: Include mkinstalldirs in distribution.

1995-04-05  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>

	* make-dist: Add missing close backquote.

1995-04-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist: Don't distribute shortnames directory.

1995-03-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (blessmail): Pass archlibdir to the sub-make.

1995-02-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (m88k-motorola-sysv4*): Use usg5-4-2.

1995-02-23  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* configure.in (EMACS_CONFIG_OPTIONS): Use $ac_configure_args.

1995-02-13  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>

	* configure.in (mips-sgi-irix6): New configuration.

1995-02-07  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>

	* Makefile.in (maintainer-clean): Rename from realclean.

1995-02-02  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* configure.in: Create a .gdbinit that sources the real one,
	if using a different build directory.

1995-01-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>

	* configure.in: Check for sys/select.h.

1995-01-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: On sunos4.1.3 and sunus4shr, set NON_GNU_CPP.

1994-12-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Handle isc 4.1 operating system.

1994-12-10  Richard Stallman  <rms@kepa>

	* configure.in (rs6000-ibm-aix4.1*): New alternative.
	(rs6000-ibm-aix4*): New alternative.

1994-12-06  Richard Stallman  <rms@kepa>

	* configure.in: For SVR4.2, set NON_GNU_CPP if not already set.

1994-11-30  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* configure.in: Don't try to make directories that are guaranteed
	to already exist.

1994-11-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Generate man/Makefile from man/Makefile.in.
	Create the man subdir.

	* Makefile.in (dvi): Run Make in our man subdir.

	* make-dist: Create subdir etc/e.
	Make links to it.
	Put man/Makefile.in in dist, instead of man/Makefile.

1994-11-21  David J. MacKenzie  (djm@mole.gnu.ai.mit.edu)

	* configure.in: Add --with-pop, --with-kerberos, and
	--with-hesiod for movemail.

1994-11-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (m68*-apollo*): Use s/domain.h.

1994-11-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (m68*-apollo*): Set NON_GNU_CPP.

1994-11-14  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* configure.in: Don't add -I, -L, -R options for cc if their
	arguments would be empty.

1994-11-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (i860-intel-osf1*): New alternative.
	(mips-sgi-irix5.[01]*): Distinguish from irix5*.
	(mips-sgi-irix*): Now an alias for mips-sgi-irix5*.

1994-11-09  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* configure.in: Make h_errno check not use nested functions.

1994-11-09  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Delete *.orig in copied dirs.

1994-11-08  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Avoid continued comment
	swallowing target line.

1994-11-08  David J. MacKenzie  (djm@churchy.gnu.ai.mit.edu)

	* configure.in: Protect a character class with `changequote'.

1994-11-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>

	* configure.in: Accept `news' as a synonym for `newsos'.

1994-11-03  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>

	* Makefile.in: Don't rm files if cd fails.

1994-11-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist: Put nt subdir and its subdirs in the dist.
	(lib-src): Put makefile.nt in the dist.
	(lisp): Put makefile.nt in the dist.

1994-10-29  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* configure.in: Change a stray `[' to `test'.

1994-10-28  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* configure.in: Adapt for Autoconf v2.  Use the standard argument
	parser, host type canonicalizer, X11 finder, and message
	printing macros.  Use the new macro names.  Use `test' instead of `['.

1994-10-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Check for getpagesize.

1994-10-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist (msdos): Put sed* in the distribution.

1994-10-17  Morten Welinder  <terra@mole.gnu.ai.mit.edu>

	* config.bat: New option, `--with-x', for configuring Emacs
	for use with the X11 system DesqView/X.
	New option, `--no-debug', for compiling Emacs without debug
	information thus saving disk space.
	(src/config.h, src/paths.h): Use `update' (which is like
	`move-if-changed') to change the file.
	(src/config.h): When configuring for X11 perform extra changes.
	(src/makefile): When configuring for X11 perform extra changes.
	(lib-src): Remove temporary files.
	(): Check that `sed', `rm', `mv', and `gcc' are available.

1994-10-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (sharedstatedir): Substitute sharedstatedir properly.

	* configure.in (bitmapdirs): Default to /usr/include/X11/bitmaps.

1994-10-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (EMACS_CONFIGURATION): Use $canonical as value.

	* configure.in (canonical): Substitute var into makefiles.
	(bitmapdir): Likewise.

	* Makefile.in (bitmapdir): New variable.
	(src/paths.h, paths-force): Edit PATH_BITMAPS.

1994-10-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist: Put update-subdirs and lisp/subdirs.el in the dist.

	* Makefile.in (dist, install-arch-indep): Run update-subdirs.
	* update-subdirs: New shell script.

1994-10-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (top_distclean): Don't rm build-install.
	(SOURCES): Delete build-install.in.

	* make-dist: Don't distribute build-ins.in.
	* build-ins.in: File deleted.

1994-10-12  David J. MacKenzie  (djm@duality.gnu.ai.mit.edu)

	* Makefile.in (mkdir): Use mkinstalldirs instead of make-path.

1994-10-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in: Use libexecdir and sharedstatedir as appropriate.

	* configure.in (libexecdir): Rename from libdir.  New default.
	(sharedstatedir): Rename from statedir.  New default.
	(datadir): New default.

	* make-dist: Don't distribute subdirs.el.

1994-10-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (eaccess): Check for it.

1994-10-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (mktime): Check for it.

1994-10-02  Paul Reilly  <pmr@geech.gnu.ai.mit.edu>

	* configure.in (motif): Add support for usage and option checking.

1994-09-24  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>

	* configure.in (utimes): Check for it.

1994-09-23  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Don't do mkdir here.

1994-09-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (arm-acorn-riscix1.1*, arm-acorn-riscix1.2*):
	riscix.h renamed to acorn.h.

1994-09-21  Michael Ben-Gershon  (mybg@cs.huji.ac.il)

	* configure.in (arm-acorn-riscix1.1*, arm-acorn-riscix1.2*):
	New configurations.

1994-09-21  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* configure.in: Remove trailing slashes from srcdir.

1994-09-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (i[345]86-sequent-ptx*): Handle.

1994-09-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (paths-force): Depend on src/paths.h.

1994-09-19  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>

	* configure.in (config_options): Save all arguments, not just some.

1994-09-18  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>

	* Makefile.in (install-arch-indep): Copy DOC-*, not DOC*.

	* configure.in: Add AC_AIX.
	Add checks to set HAVE_STRUCT_UTIMBUF, HAVE_TIMEVAL, HAVE_SELECT.

1994-09-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (parsing options): Simplify sed command to delete -'s.

1994-09-16  Karl Heuer  <kwzh@churchy.gnu.ai.mit.edu>

	* configure.in (config_options): New shell variable.
	Pass its value to C code in EMACS_CONFIG_OPTIONS.

1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (alpha-dec-osf*): New target.

	* Makefile.in: Use just one FRC target.

1994-09-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (removenullpaths, paths-force):
	Use name paths.h.tmp$$, which depends on the pid.

1994-09-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Makefile.in (removenullpaths, paths-force):
	Put paths.h.tmp in top-level dir, not in src.

1994-09-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Version 19.27 released.

1994-09-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* Version 19.26 released.

1994-09-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Check for lrand48, not rand48.

1994-09-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (powerpc-ibm-aix3.1*, powerpc-ibm-aix3.2.5)
	(powerpc-ibm-aix*): New aliases.

1994-08-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist (src/m, src/s): Put *.inp in distribution.

1994-08-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Accept i586 and i486 along with i386.

1994-08-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Do compute unexec, LIBX, system_malloc, etc
	even if CPP env var was set by the user.

	* configure.in (i[34]86-*-*): For SCO 3.2v4, fix NON_GNU_CPP value.

1994-08-14  Jonathan I. Kamens  (jik@gza-client1.aktis.com)

	* Makefile.in: Uninstall "$(EMACS)", not "emacs".

1994-08-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (i[34]86-*-*): For SCO 3.2v4, set NON_GNU_CPP.

1994-08-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Check more specifically for i*86-sun-sunos.

1994-08-03  Caveh Jalali  (caveh@eng.sun.com)

	* configure.in: Handle solaris 2.4.

1994-07-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (rand48): Check for it.

1994-07-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* make-dist: Update the info files.

1994-07-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in: Make "checking..." messages' style consistent.
	(HAVE_H_ERRNO): New test.

1994-07-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* configure.in (i860-*-sysv4*): Set NON_GNU_CC and NON_GNU_CPP.

1994-07-12  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (CFLAGS): If the envvar was specified, use that.
	And set REAL_CFLAGS from it too.

1994-07-11  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* make-dist: Update finder-inf.el.

1994-07-07  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* make-dist (msdos): Include sed4.inp in dist.

	* Makefile.in (libsrc_libs): Var deleted.

1994-07-06  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (mkdir, removenullpaths): Put g in sed replace commands.

1994-06-26  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (mips-sony-newsos4*): New alias.

1994-06-23  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (*-convex-bsd*): Set NON_GNU_CPP.
	(*-convex-convexos*): Accept this as alias.

1994-06-19  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Get CFLAGS both with and without THIS_IS_CONFIGURE,
	for two different uses.

1994-06-15  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Define THIS_IS_CONFIGURE when extracting CFLAGS etc.

1994-06-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* make-dist: Put ./BUGS into the distrib.

1994-06-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Handle 386 running Solaris 2.

1994-06-06  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (mips-siemens-sysv*): Use cpp, not cc -E.

1994-06-05  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (mips-sony-newsos*): Use news-risc.h.

	* configure.in: Accept bsdi as opsys, like bsd386.

1994-06-01  Morten Welinder  (terra@diku.dk)

	* config.bat (src/paths.h): Use sed script msdos/sed4.inp.

1994-05-30  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.25 released.

	* make-dist (shortversion): Don't assume another period follows.

1994-05-27  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (install-arch-indep): Use /bin/pwd uniformly, not pwd.
	(uninstall): Use /bin/pwd.

	* Makefile.in (blessmail): Depend on src.
	(all): Don't depend on blessmail.

	* Makefile.in (src/paths.h): Don't force recomputation.
	(paths-force): New target; force recomputation of paths.h.
	(all): Depend on paths-force.
	(src, lib-src): Depend on src/paths.h.

	* configure.in (*-sun-sunos4*): Set GCC_TEST_OPTIONS,
	NON_GCC_TEST_OPTIONS.

1994-05-26  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Don't insist on subversions for irix.

1994-05-24  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (hppa*-hp-hpux9shr): Move alternative up.

	* configure.in (i[34]86-next-*): New alternative.

1994-05-23  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.24 released.

	* configure.in: New config hppa*-hp-hpux9shr*.

1994-05-22  Morten Welinder  (terra@tyr.diku.dk)

	* config.bat: Doc fix.

1994-05-21  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (mostlyclean, clean, distclean, realclean)
	(extraclean): Don't act on man subdir if it doesn't exist.

1994-05-20  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (GCC_TEST_OPTIONS, NON_GCC_TEST_OPTIONS): New vars.
	Use them to set up CC.
	(*-sun-sunos4.1.3): Set them.

1994-05-19  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (lib-src): Don't depend on src/paths.h.

1994-05-18  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* build-ins.in (copydests): Get rid of spurious `-'s.

	* configure.in: Define EMACS_CONFIGURATION instead of CONFIGURATION.

1994-05-17  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.23 released.

	* configure.in [HAVE_X11]: Merge $C_SWITCH_X_SITE into CFLAGS
	for the Xlib and Xt checks; then restore old CFLAGS.

1994-05-15  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (HAVE_X11XTR6): Add newline before #if.
	Add newline after #endif.

1994-05-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (HAVE_X11XTR6): Arrange to define it.

1994-05-12  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (install): Depend on blessmail.

1994-05-12  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)

	* configure.in (mips-siemens-sysv*): Put quotes around value
	containing blanks.

1994-05-11  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (TAGS): Use the makefile in src subdir.

1994-05-10  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* configure.in (opsys): Recognize `gnu'.

1994-05-10  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (using NON_GNU_CPP): Fix test for CPP already set.

1994-05-09  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)

	* configure.in: Remove AC_LANG_C call.  Not needed with Autoconf
	version > 1.8.

1994-05-08  Morten Welinder  (terra@diku.dk)

	* config.bat: Forcibly remove "# " style comments from makefiles.

1994-05-08  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (uninstall): When processing lispdir and etcdir,
	do nothing unless it exists and is a directory.

1994-05-06  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (install-arch-indep): Do install info/dired-x*.
	Merge code in from install-doc.
	(install-doc): Merge code back into install-arch-indep.
	(install-arch-dep): Don't depend on install-doc.

	* configure.in (run_in_place): Don't use pwd for archlibdir and docdir.

1994-05-04  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (making src/Makefile and lib-src/Makefile):
	Split off the autoconf substitutions and don't pass them thru cpp.
	(undefs): Use $canonical as well as $configuration.

	* make-dist: Distribute lisp/Makefile.

	* configure.in: Recognize m88k-dg-dgux5.4.3* and m88k-dg-dgux5.4.2*.
	Use lower case names for the s files.

1994-05-03  Morten Welinder  (terra@diku.dk)

	* config.bat: Added possibility for different file name
	transcriptions in lib-src.

1994-05-03  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (lib-src): Undo previous change.
	(blessmail): New target to run maybe-blessmail in lib-src.
	(all): Depend on blessmail.

	* Makefile.in (lib-src): Depend on src.

1994-04-30  Paul Reilly  (pmr@churchy.gnu.ai.mit.edu)

	* configure.in (m88k-dg-dgux5.4R3): Use dgux5-4R3.
	(m88k-dg-dgux5.4R2): dgux5.4R2.

1994-04-29  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (window_system): Restore accidentally deleted code
	that uses AC_FIND_X.

	* make-dist: Distribute config.bat.

1994-04-29  Morten Welinder  (terra@diku.dk)

	* config.bat: Corrected the configuration of lib-src
	to keep up with configure.  Add note about dos version 3
	or better needed (djgpp needs that).  Add note explaining
	that either install in c:/emacs or edit the script.
	Don't change to c:/emacs, but assume we're there (to minimize
	the number of places to change).

	* config.bat: Build-in the first step towards X11 support with
	the X11 emulator that exists.  At this time it won't work,
	and several files are missing.

1994-04-28  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Use m/hp800.h in place of m/hp9000s800.h.
	Don't look for -lresolv.

	* Makefile.in (lib-src): Depend on src/paths.h.

1994-04-27  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Restore deleted AC_SUBST of `configuration'.
	Improve error message for bad --with-x-toolkit value.

	* configure.in: Define CONFIGURATION in src/config.h
	rather than substituting in src/Makefile.in.

1994-04-26  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)

	* Makefile.in (install-doc): New target.
	(install-arch-dep): Depend on install-doc.
	(mkdir): Create docdir.

1994-04-22  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Test for libresolv.a.
	Substitute machfile and opsysfile.

1994-04-22  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)

	* Makefile.in (.PHONY, install): Kill reference to obsolete do-install.
	(install-arch-dep): Install under the name $(EMACS).

1994-04-21  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (version): Use entire value of emacs-version.
	(mips-siemens-sysv*): New alternative.

1994-04-19  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (install-arch-indep): Don't install dired-x*.

1994-04-18  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)

	* configure.in (src/Makefile, lib-src/Makefile): Delete ^L.
	Fix definition of $undefs.

1994-04-17  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (window_system): Obey --with-x11=no and --with-x10=no.

	* configure.in (lib-src/Makefile.in): Use src, not lib-src, in -I.

1994-04-16  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)

	* configure.in: Call AC_LANG_C, if it's defined, after AC_PREPARE.

1994-04-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (lib-src/Makefile.in): Make this from Makefile.in.in
	and run it thru cpp, as with src/Makefile.in.

	* configure.in: Use AC_SET_MAKE.

1994-04-15  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (i[34]86-ncr-sysv*): Use usg5-4-2.

1994-04-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (MAKE): Don't just assign it--use @SET_MAKE@.

	* configure.in (CFLAGS): Exclude ${CFLAGS} from singlequotes.
	(printing the choices): Make the toolkit message unconditional.
	(USE_X_TOOLKIT): Use `none', not `no', if none.
	(include libsrc_libs): Include config.h, and specify -I for srcdir.
	Get rid of temp file foofoo1.

1994-04-13  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)

	* configure.in (CFLAGS): Use shell syntax, not Makefile.

1994-04-12  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (window_system): If no X, set USE_X_TOOLKIT=no.
	(printing the choices): State choice of toolkit.
	(libsrc_libs): Recalculate after writing config.h;
	then update lib-src/Makefile.

1994-04-11  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Add sunos4shr as alternative for suns.
	Conditionals testing for null $CC were backwards.

1994-04-10  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* make-dist (msdos): Don't link patch1.  Link sed*.inp, not sed.in*.

1994-04-09  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Handle -isc4.0*.

1994-03-30  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (esix5): Set NON_GNU_CPP.

1994-03-24  Roland McGrath  (roland@mole.gnu.ai.mit.edu)

	* Makefile.in (thisdir): Nonsensical variable removed.
	(install-arch-indep): Set shell var thisdir=`pwd` before cd and cd
	back to $thisdir, rather than the directory `this_dir'.

1994-03-17  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* Makefile.in (install-arch-indep): Add missing backslash after a
	`then'.

1994-03-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (thisdir): New variable.
	(install-arch-indep): Go back to thisdir to run INSTALL_DATA.

1994-03-08  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)

	* configure.in: Add freebsd.

1994-03-08  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* configure.in: Check for fpathconf.

1994-03-02  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)

	* configure.in (with_x_toolkit): Fix typo in previous change.

1994-03-01  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)

	* configure.in: New s-file for rs60000-ibm-aix3.2.5.

1994-02-26  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (with_x_toolkit): Don't allow motif or open-look.

1994-02-24  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)

	* configure.in: Fix value of docdir.
	* Makefile.in (install-arch-indep): Install DOC* in docdir.

1994-02-24  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (*-sysv4.1): Set NON_GNU_CPP.

1994-02-22  Karl Heuer  (kwzh@geech.gnu.ai.mit.edu)

	* configure.in: New variable docdir to control where the docstring
	file goes.
	Makefile.in: Use it to initialize PATH_DOC in paths.h.

1994-02-22  Karl Heuer  (kwzh@mole.gnu.ai.mit.edu)

	* configure.in: When --run-in-place, don't inherit archlibdir.

1994-02-19  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (install-arch-dep, install-arch-indep):
	New targets split up former do-install rule.
	(do-install): Target deleted.

1994-02-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (mips-sony-newsos*): New configuration.

1994-02-14  Frederic Pierresteguy  (fp@mole.gnu.ai.mit.edu)

	* configure.in (rs6000-bull-bosx*): Add support for BULL dpx20.

1994-02-11  Karl Heuer  (kwzh@mole.gnu.ai.mit.edu)

	* configure.in: Fix misspelled symbol LD_SWITCH_X_SITE_AUX.

1994-02-11  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Don't initialize CC.

1994-02-10  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* configure.in (creating src/Makefile): Also generate -U switches
	for symbols in the $configuration value.

	* configure.in: Check for sys_siglist being declared in system header.

1994-02-10  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (creating src/Makefile): Delete blank lines
	along with lines of whitespace.
	(m68k-motorola-sysv*, m68000-motorola-sysv*): Compute proper CC value.

1994-02-09  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Get, use, and substitute C_SWITCH_MACHINE
	like C_SWITCH_SYSTEM.
	(m68*-motorola-sysv*): Set CC.  Require cpu type to be m68k or m68000.

1994-02-04  Karl Heuer  (kwzh@mole.gnu.ai.mit.edu)

	* configure.in (drem): Check for this function.

1994-02-03  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (Using NON_GNU_CPP): Don't lose if it has spaces.
	If CPP was inherited from environment, don't use NON_GNU_CPP.
	(NON_GNU_CC): Likewise.
	(handling with_gcc): Use explicit if in the `no' case.
	(cc_specified): New variable; if set, don't use NON_GNU_CC.

1994-02-02  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (mips-mips-riscos4*): Set NON_GNU_CPP.

1994-02-01  Karl Heuer  (kwzh@mole.gnu.ai.mit.edu)

	* configure.in: Check whether fmod exists.

1994-01-31  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* make-dist: Distribute {src,lisp}/ChangeLog.? instead of
	{src,lisp}/OChangeLog.

1994-01-22  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* configure.in: Restore Jan 8 and Jan 16 changes.  The -U hack is
	necessary for proper operation.  This code works with the current
	released version of Autoconf.

1994-01-21  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (with_x_toolkit): Treat values athena and lucid alike.
	(USE_X_TOOLKIT): Define it for all values except `no'.

	* configure.in: Undo first Jan 8 change and Jan 16 change.

1994-01-18  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Handle --with-x-toolkit.  Produce lwlib/Makefile.
	Substitute USE_X_TOOLKIT as both C macro and Make variable.

	* Makefile.in (lwlib/Makefile): New target.
	(SUBDIR_MAKEFILES): Depend on lwlib/Makefile.
	(clean, mostlyclean, distclean, realclean): Handle lwlib subdir.
	(unlock, relock): Handle lwlib subdir.

	* Makefile.in: Add some .PHONY targets.

	* make-dist: Handle lwlib subdir like oldXMenu subdir.

	* lwlib: New subdirectory.

1994-01-17  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: If CPP has a value that is a directory,
	discard the value.

1994-01-16  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* configure.in (srcdir_undefs): Add g flag to sed substitution to
	remove -U[0-9]*.

1994-01-15  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (do-install): Install the dired-x info files.

	* configure.in: Provide for variable LD_SWITCH_X_SITE_AUX.
	(See src/s/sol2.h.)

1994-01-12  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (m68k-harris-cxux*, m88k-harris-cxux*): New configs.

1994-01-08  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* configure.in (creating src/Makefile): Put code inside 2nd arg to
	AC_OUTPUT as it should be; hopefully no one will again see fit to
	gratuitously break this and not make a change log entry.
	Optimized sed processing of Makefile.in and cpp output; now
	preserves comments previously removed from the cpp input.
	Eliminated temp file for cpp output.  Generate -U switches to
	undefine all identifiers that appear in the directory name
	${srcdir}; pass these to cpp.

	* configure.in (version): Fix sed regexp to match two-elt version
	number.

	* configure.in: Check for strerror.

1994-01-07  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Test for bcmp.

1994-01-06  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* make-dist (tempdir): Put subdir msdos into the distribution.

1993-01-07  Morten Welinder  (terra@diku.dk)

	* config.bat: New file.

1994-01-02  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (${SUBDIR} target): Pass down LDFLAGS and CPPFLAGS.

1994-01-01  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (m68*-next-*): Don't care about which os is specified.
	(i[34]86-*-*): Check for *-nextstop*.

1993-12-24  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Check for setsid.

1993-12-17  Richard Stallman  (rms@srarc2)

	* configure.in (*-sun-solaris*): Add special case for Solaris 2.3.

1993-12-15  Richard Stallman  (rms@srarc2)

	* Makefile.in (mkdir): Make only the lockdir writable.

	* configure.in (i860-*-sysv4): Rename from i860-*-sysvr4.

1993-12-11  Richard Stallman  (rms@srarc2)

	* Makefile.in (libdir): Use @libdir@.

1993-12-08  Richard Stallman  (rms@srarc2)

	* Makefile.in (install): Add empty command.

1993-12-04  Richard Stallman  (rms@srarc2)

	* make-dist: Put man/getopt.c in the dist.

	* configure.in (LIBS): Add test for existence of XSetWMProtocols.

	* Makefile.in (install): Depend on ${SUBDIR}, not `all'.

1993-12-03  Richard Stallman  (rms@srarc2)

	* configure.in (solaris): Set NON_GNU_CPP instead of CPP.
	Set it for all solaris versions.
	(mips-mips-riscos4*): Set NON_GNU_CC, not CC.
	(after checking for GCC): If not GCC, and NON_GNU_CPP is set, set CPP.
	Likewise for NON_GNU_CC and CC.

1993-12-01  Richard Stallman  (rms@srarc2)

	* configure.in (mips-mips-riscos4*): Assign variable CC.
	(checking ${with_gcc}): If "no", don't override CC if already set.
	(CC): Initialize it as empty.

1993-11-30  Richard Stallman  (rms@srarc2)

	* configure.in (Suns): Set CPP if *-solaris2.3*.

1993-11-27  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.22 released.

	* Makefile.in (do-install): Use umask 022 in copying etc and lisp dirs.

1993-11-25  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* make-dist: When breaking links, use cp -p.
	Copy install.sh into distribution.
	Move the temp dir up into the parent dir;
	don't leave the staging dir make-dist.tmp... in existence.
	* install.sh: New file.

1993-11-21  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (i[34]86-ncr-sysv*): New specific alternative.

1993-11-20  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (version): When --run-in-place, exclude
	${datadir}/emacs/site-lisp from locallisppath.

1993-11-18  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Delete jumk.c before writing it.

1993-11-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.21 released.

	* Makefile.in (mkdir): Ignore error from chmod.

1993-11-15  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* make-dist: Don't put lisp/forms.README in the distribution.

1993-11-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (creating src/Makefile): Before running cpp,
	discard all lines that start with `# Generated' or /**/#.

1993-11-11  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.20 released.

	* make-dist: Use build-ins.in, not build-install.in.
	Don't bother updating TAGS since it's not included.

	* build-ins.in: Renamed from build-install.in.

1993-11-10  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* make-dist: Don't try to link *.texinfo--there are none now.
	When running make in lib-src, specify YACC var value.

1993-10-03  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* configure.in (extrasub): Add vpath patterns for %.[yls].

	* configure.in: Don't do seddery on config.status after AC_OUTPUT.
	Instead just include the commands to make src/Makefile as the
	second arg to AC_OUTPUT.

	* configure.in: Use : instead of dnl for comment inside
	$makefile_command.

	* configure.in: No longer use vpath_sed.  Instead, when we notice
	srcdir already configured, set extrasub to hack vpath in the
	makefiles.

	* configure.in: In cmds to make src/Makefile, chmod Makefile.new
	before moving it.
	* Makefile.in (VPATH): Define to @srcdir@.

1993-09-28  Brian J. Fox  (bfox@cubit)

	* configure.in: Don't copy ${srcdir}/src/Makefile.in; that file
	doesn't exist.  Just copy src/Makefile.in instead.
	Touch all of the Makefiles after editing config.status.

	* INSTALL: Update documentation to match new configuration
	mechanism.

1993-09-27  Brian J. Fox  (bfox@ai.mit.edu)

	* configure.in: Allow any of the path or directory Makefile
	variables to be set with flags to configure.  Create all Makefiles
	at configure time.  Edit special commands into config.status after
	src/Makefile.in is built from src/Makefile.

	* Makefile.in (src/Makefile, lib-src/Makefile, oldXMenu/Makefile):
	If these files are out of date, simply have config.status
	rebuild them; don't rebuild them explicitly.

1993-09-25  Brian J. Fox  (bfox@ai.mit.edu)

	* build-install.in: Change src/xemacs to src/emacs.  We no longer
	create src/xemacs, so the file wouldn't be found.

	* make-dist: Remove `src/ymakefile', add `src/Makefile.in.in'.

1993-09-24  Brian J. Fox  (bfox@albert.gnu.ai.mit.edu)

	* configure.in: Avoid forcing the search of /usr/include before
	fixed include files by resetting C_SWITCH_X_SITE if it is
	"-I/usr/include".

1993-09-20  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (@rip_paths@locallisppath):
	Delete ${datadir}/emacs/site-lisp.

1993-09-15  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* configure.in:
	Use AC_QUOTE_SQUOTE twice to properly quote vpath_sed value.
	Remove ${extra_output} from AC_OUTPUT call.

1993-09-17  Brian J. Fox  (bfox@inferno)

	* make-dist: Quote backquotes found in strings to be echoed.

	* configure.in: Use "sh -c pwd" when we want to avoid having the
	shell fix up the value of $PWD.

1993-09-13  Brian J. Fox  (bfox@inferno)

	* Makefile.in (do-install): Don't abort if ln or chmod at the end
	of the installation fail.  Suggested by Karl Berry.

1993-08-30  Brian J. Fox  (bfox@inferno)

	* Makefile.in (*clean): Use "$(MAKE) $(MAKEFLAGS)" wherever "make"
	was used.  Set MAKEFLAGS from MFLAGS.

1993-09-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Test for res_init in libc.

1993-09-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: In the file ${tempcname}, use configure___
	instead of @configure@.

1993-09-12  Roland McGrath  (roland@sugar-bombs.gnu.ai.mit.edu)

	* make-dist: Dist vpath.sed.

	* Makefile.in (lib-src/Makefile, src/Makefile, oldXMenu/Makefile):
	Depend on vpath.sed.
	Replace sed command for VPATH with @vpath_sed@.

	* configure.in: Substitute variable `vpath_sed'.
	If not in $srcdir and $srcdir is configured,
	issue warning that GNU make is required,
	and set vpath_sed to use vpath.sed script.

1993-09-10  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* configure.in: Remove check for $srcdir being configured.
	This pretty much works now.
	Grok {m68*-hp,i[34]86-*}-netbsd* and set opsys=netbsd.
	Check for XFree86 (/usr/X386/include) independent of whether
	-lXbsd exists.

	* Makefile.in (info, dvi, clean, mostlyclean, distclean,
	realclean, unlock, relock): Use `$(MAKE)' in place of plain
	`make'.

1993-08-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.19 released.

	* configure.in (i386-*-sunos4): Assume Sunos 4.0.

1993-08-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Check for XScreenNumberOfScreen.

1993-08-12  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Add * to end of all configuration alternatives.
	(m68*-sony-newsos3*): New alternative.

1993-08-11  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* make-dist: Include getdate.c in distribution.

	* configure.in: For --help, use $PAGER if it is set.
	(LIB_X11_LIB): Default to -lX11.
	(mips-sgi-irix5.*): New alternative.

	* Makefile.in (do-install): Install info/gnus* and info/sc*.

	* configure.in (m68*-hp-hpux*, hppa*-hp-hpux*):
	Recognize *.B8.* as hpux version 8.
	(m68*-tektronix-bsd*): Fix typo in tek4300.
	(AC_HAVE_FUNCS): Add ftime.

1993-08-10  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (m88k-tektronix-sysv3*): Add the missing *.
	Use tekxd88, not tekXD88.

1993-08-10  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* configure.in: Check for -lm.  Then can check for frexp and logb.

1993-08-08  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.18 released.

	* make-dist (src): Don't put gnu-hp300 in dist.
	(src, lisp): Include OChangeLog in dist.

1993-08-08  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* configure.in: Test for presence of logb and frexp functions.

1993-08-05  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (machine): Add i370-ibm-aix*.

1993-08-03  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* configure.in (function checks): Test for mkdir and rmdir.

	* configure.in (function checks): Don't test for random and bcopy
	only when we're building with X; look for them all the time.

1993-07-30  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* configure.in: Test for availability of bcopy functions, searching
	the X libraries if we're using X.

	* configure.in: Test for the presence of/usr/lpp/X11/bin/smt.exp,
	and #define HAVE_AIX_SMT_EXP if we do.  This is present in some
	versions of AIX, and needs to be passed to the loader.

	* configure.in: Test for the availability of the
	XScreenResourceString function.

1993-07-30  David J. MacKenzie  (djm@frob.eng.umd.edu)

	* configure.in: If we found X on our own, set C_SWITCH_X_SITE and
	LD_SWITCH_X_SITE and assume --with-x11.
	Only look for X11 files if we weren't told about a window system
	or if we were told to use X11 but not told where.
	Search the libraries from the s and/or m files when checking for
	functions.

	* configure.in: Remove any trailing slashes in prefix and exec_prefix.

1993-07-27  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* make-dist: Include lisp/dired.todo in the distribution.

1993-07-23  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Add code to set HAVE_INET_SOCKETS.

1993-07-21  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: If we do find x_includes and x_libraries
	via AC_FIND_X, set C_SWITCH_X_SITE and LD_SWITCH_X_SITE.

1993-07-19  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* make-dist: Include src/gnu-hp300 in the dist.

	* configure.in (canonical): New variable holds the canonicalized
	configuration.  Don't alter `configuration'.  Use `configuration'
	for Makefile.in for file naming.
	(testing x_includes and x_libraries): Use =, not ==.

1993-07-17  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* Version 19.17 released.

	* Makefile.in (src/Makefile): Propagate C_SWITCH_SYSTEM to the src
	directory's makefile.  This allows the invocation of CPP which
	builds xmakefile to receive these switches.  The SunSoft C
	preprocessor inserts spaces between tokens if it doesn't get the
	-Xs flag requested in src/s/sol2.h.

1993-07-12  Frederic Pierresteguy  (F.Pierresteguy@frcl.bull.fr)

	* configure.in (m68k-bull-sysv3): New config.

1993-07-10  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* configure.in: Use the autoconf AC_FIND_X macro to try to find
	the X Windows libraries.

1993-07-07  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* make-dist (tempdir): Don't create lisp/forms-mode directory in
	the distribution.  Those files aren't kept in their own
	subdirectory any more.

1993-07-06  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* Version 19.16 released.

1993-06-23  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* configure.in: Add --verbose flag.

1993-06-19  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* version 19.15 released.

1993-06-18  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* Makefile.in (top_distclean): Use -f switch when cleaning out
	lock dir; it might be empty.

	* configure.in: Only check for -lXbsd once.

1993-06-17  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* Version 19.14 released.

1993-06-17  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* make-dist: If using gzip, create distribution with '.gz' extension.

	* make-dist (lisp/term): This doesn't have a ChangeLog anymore.
	(lisp/forms-mode): This doesn't exist anymore.

	* configure.in: Look for the closedir function.

1993-06-16  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* configure.in (CPP): Autoconf sets this to a shell variable
	reference, which doesn't work when it's edited into a makefile.
	Expand that variable reference.

	* Makefile.in (CPP): New variable.
	(src/Makefile): Edit CPP into src/Makefile.

	* Makefile.in (src/Makefile): Don't bother exiting single quotes
	and entering double quotes to get the values of LD_SWITCH_X_SITE
	and the other make variables; make substitutes them in anyway.

	* Makefile.in (uninstall): Don't remove the lisp and etc
	directories if they're in the source tree.

	Bring mumbleclean targets into conformance with GNU coding standards.
	* Makefile.in (mostlyclean, clean): Separate these two; just have
	them pass the request to the subdirectory makefiles.
	(distclean): Pass the request down, and then get rid of the
	files configure built, and get rid of the Makefiles.
	(realclean): Pass the request down, and then do the same things
	distclean does.
	(uninstall, info, dvi): New targets.

	* configure.in: Move clause for PC-compatible i386 box to the end
	of the case statement, to avoid masking configurations below.

	* configure.in: Add case for m88k-motorola-sysv4.

	* configure.in: Add support for HP/UX versions 7, 8, and 9 on
	the HP 68000 machines.

	* configure.in: Put the arguments to LD_SWITCH_X_SITE's and
	C_SWITCH_X_SITE's -L and -I switches in quotes, so the
	preprocessor won't fiddle with them.

1993-06-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (TAGS): cd to src to run etags.

1993-06-12  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* configure.in (version): Check the X libraries for XrmSetDatabase
	and random, and see if we have -lXbsd.

1993-06-11  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* configure.in: Pass "-Isrc" to the CPP we run to examine the
	s/*.h and m/*.h files.  Martin Tomes
	<mt00@controls.eurotherm.co.uk> says ISC Unix 3.0.1 needs it.

1993-06-10  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Move i386-prime-sysv* and i386-sequent-bsd*
	above the general i386 alternative.

1993-06-10  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* configure.in: Recognize configuration name for Data General
	AViiON machines.

	* configure.in: Use AC_LONG_FILE_NAMES.

1993-06-09  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* configure.in: Test for bison.
	* Makefile.in (YACC): New variable.
	(lib-src/Makefile.in): Edit YACC into the makefile.

1993-06-08  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* Version 19.13 released.

	* configure.in (CFLAGS): Don't set this according to the value of
	the GCC shell variable.  Instead, consult the machine and system
	files for the values of C_OPTIMIZE_SWITCH and C_DEBUG_SWITCH, and
	test __GNUC__ while we're at it.

	* configure.in: Remove extra ;; from hpux cases.

1993-06-07  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* configure.in: Check to see if the system has -ldnet.

1993-06-08  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* make-dist: Add clauses to distribute lisp/forms-mode.

1993-06-07  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in (machine): Fix the versions in hpux version number test.
	Do not guess based on cpu type.  Do check for explicit system version.

1993-06-03  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Do NOT look for `unknown' as company name.

1993-06-02  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Fix typo in message.

1993-06-01  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.12 released.

	* Makefile.in (do-install): Correct previous etc-copying change.
	Partially rewrite using `if'.
	(src/Makefile): Insert --x-libraries option into LD_SWITCH_X_SITE.

	* Version 19.11 released.

	* configure.in: Handle 386bsd.

1993-05-31  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* make-dist: Update getdate.c.

	* configure.in: Handle bsd386.

	* Makefile.in (do-install): Use `-' in tar options.

	* configure.in: Change  ! "${...}"  to  x"${...}" = x.

	* Makefile.in (do-install): Copy the DOC-* files from the build
	etc directory, as well as lots of things from ${srcdir}/etc.

	* make-dist: Copy config.guess.

	* configure.in: Handle AIX versions 1.2, 1.3.

1993-05-30  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* configure.in: Use s/bsd4-3.h for mips-mips-riscos4, and add
	the configuration name mips-mips-usg* to represent USG systems.

	* configure.in: Fix logic to detect if srcdir is already configured.

	* Makefile.in: Pass in LD_SWITCH_X_SITE.

	* Makefile.in (mkdir, clean, mostlyclean, do-install): Use `(cd
	foo && pwd)` instead of `(cd foo ; pwd)` to get the canonical name
	of a directory; cd might fail, and have pwd print out the current
	directory.

1993-05-30  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: When looking for sources, use '.', not `.`.  Also '..'.

1993-05-30  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* configure.in: Complain if srcdir points at an already-configured
	tree.

1993-05-30  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.10 released.

1993-05-29  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* Makefile.in: Use Makefile comments, not C comments.

	* configure.in: Add case for the Tektronix XD88.

1993-05-29  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Handle sysv4.2 and sysvr4.2.

1993-05-29  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* configure.in: Traverse the argument list without destroying it;
	don't use shift.  It turns out that "set - ${saved_arguments}"
	doesn't work portably.

	* configure.in: Add missing "fi".

	* make-dist: Rebuild configure if configure.in is newer.

	* Makefile.in (src:, lib-src:, FRC:): Force the src and lib-src
	targets to be executed even if make remembers that it has already
	satisfied FRC.

1993-05-29  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (do-install): Delete redundant code to copy etc twice.

	* configure.in (romp): Handle various version numbers with aos and bsd.

1993-05-28  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Fix message text.

1993-05-28  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* make-dist: Make a `site-lisp' directory in the distribution,
	instead of a `local-lisp' directory, which hasn't been the
	appropriate name for a long time.
	* Makefile.in (@rip_paths@locallisppath): Use site-lisp directory
	from the distribution first, then /usr/local/lib/emacs/site-lisp.

	* Makefile.in (do-install): Correctly detect if ./etc and
	${srcdir}/etc are the same.

	* configure.in: Extract UNEXEC from the system configuration
	files, compute the name of the source file corresponding to the
	object file, and #define it as UNEXEC_SRC in config.h.

	* configure.in: If srcdir is '.', then try using PWD to make it
	absolute.

	* configure.in: Include ${srcdir} in the printed report, to help
	people notice if it's an automounter path.

1993-05-27  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* configure.in (prefix): Don't run pwd on srcdir unnecessarily.

1993-05-27  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (do-install): Delete the dest dir, not the source dir,
	when they are different.  Add  `shift' command.
	(COPYDESTS, COPYDIR): Delete external-lisp dir.
	(externallispdir): Var deleted.

	* configure.in: Delete spurious paren outputting short_usage.

1993-05-27  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* Version 19.9 released.

1993-05-26  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* Makefile.in (${SUBDIR}): Pass the value of the make variable to
	subdirectory makes.

	* make-dist: Check for .elc files with no corresponding .el file.

	* Makefile.in (mkdir): Make all the directories in locallisppath.

	* config.guess: New file.
	* configure.in: Use it, tentatively.
	* INSTALL: Mention its usage.

	* configure.in (hppa-hp-hpux): Use uname -r instead of uname -m;
	the former gives you the operating system rev directly.
	Use s/hpux.h if we don't recognize what we got.

	* Makefile.in (do-install): Don't remove a destination directory
	if it's the same as the source.  If ${srcdir}/info == ${infodir},
	don't try to copy the info files.

	* Makefile.in (COPYDIR, COPYDESTS): Don't mention etc twice; this
	doesn't work if you're not using a separate source directory.
	(do-install): Copy the build tree's etc directory only after
	making sure it's not also the source tree's etc directory.

1993-05-26  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Handle sunos4.1.3 specially.

1993-05-25  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (INSTALL): Add definition.

	* configure.in: Fix some messages.  Support -with-gnu-cc.
	At the end, use `set --', not `set -'.
	Delete spurious `.h' in hpux alternatives.

1993-05-25  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* Version 19.8 released.

1993-05-25  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* configure.in: When looking for source in the same directory as
	the configure script, make the path thus discovered absolute.
	If the user specifies the `--srcdir' switch, make that directory
	absolute too.

	* Makefile.in (srcdir): Remove comment saying this doesn't work.

	* Makefile.in (src/paths.h): Edit the `infodir' variable into this
	too, as the value of the PATH_INFO macro.

	* configure.in: Check to see if the source lives in the same
	directory as the configure script.

1993-05-24  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* Makefile.in (install): Split this into `install' and
	`do-install', to give people more control over exactly what gets
	done.
	(do-install): New target, containing the guts of `install'.
	Don't remove and recreate the directories inside the copying loop - do
	it all before the copying loop.  Pass more flags to the lib-src
	make.
	(mkdir): Create ${infodir}, ${mandir}, and ${sitelispdir} here, to
	avoid errors and warnings.

	* configure.in: For generic IBM PC boxes, insist on "unknown" for
	the manufacturer - the more general case was blocking other i386
	configuration names below, and that's how the names are written in
	MACHINES anyway.

	* make-dist: When breaking links, remove the link before moving
	the copy onto it, to avoid interactive behavior.

	* Makefile.in: Doc fix.

	* configure.in: Doc fix.

	* INSTALL: Mention --exec-prefix option.

	* configure.in: Add support for the `--exec-prefix' option.
	* Makefile.in: Accept that support.

	* configure.in: Use the AC_PROG_INSTALL macro.
	* Makefile.in (INSTALL): Variable removed.
	(INSTALL_PROGRAM, INSTALL_DATA): Accept these values from configure.

	* configure.in: Distinguish between hp800's and hp700's by calling
	"uname -m".

1993-05-24  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Recognize configuration names for i860 boxes
	running SYSV.

1993-05-23  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* configure.in: Distinguish between hp800's and hp700's by the
	version of HP/UX they run, since that's something people are more
	likely to know - hp700's run 8.0.
	Add HP 700 configuration.

	* configure.in: Test for the presence of the `rename' function.

	* Makefile.in (C_SWITCH_X_SITE): New variable - get this from
	configure.in.
	(oldXMenu/Makefile): Edit C_SWITCH_X_SITE into this.

	* make-dist: Break intra-tree links.

	* configure.in: Explain that this is an autoconf script, and give
	instructions for rebuilding configure from it.  Arrange to put
	comments in configure explaining this too.

	* configure.in: Make the first line of the configure script be
	"#!/bin/sh".  Leaving the first line blank didn't work.

	* configure.in (long_usage): Remove; made short_usage describe
	the options briefly.

	* configure.in: Implement the --prefix option.
	* Makefile.in (prefix): Add support for it here.
	* INSTALL: Document it here.

	* Makefile.in (install): Don't assume that the files in the `info'
	subdirectory match  *.info.  They don't have that prefix.

1993-05-22  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* configure.in: Add case for version 5 of Esix.

1993-05-22  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* Version 19.7 released.

	* make-dist: There aren't any *.com files in lib-src anymore.

	* make-dist: Copy texinfo.tex and texindex.c, rather than linking
	them; they're symlinks to other filesystems on the GNU machines.

	* make-dist: Check that the manual reflects the same version of
	Emacs as stated in lisp/version.el.  Edit that version number into
	the README file.

1993-05-21  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* configure.in: Remove the hack of AC_DEFINE; use
	AC_DEFINE_UNQUOTED.

1993-05-20  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* make-dist: Don't distribute precomp.com, compile.com, or
	link.com from ./src; they're in ./vms now.

	Some time-handling patches from Paul Eggert:
	* configure.in: Add AC_TIMEZONE.

1993-05-19  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* configure.in: Recognize Linux as a valid operating system for
	the i386.

1993-05-18  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* make-dist: Distribute some VMS files we got from Richard Levitte.

	* Makefile.in (oldXMenu/Makefile): Take oldXMenu/Makefile.in as
	the source for the sed command, not oldXMenu/Makefile.

1993-05-17  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* INSTALL: Don't claim the srcdir option doesn't work.

1993-05-16  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* configure.in: Include remarks saying what order the autoconf
	tests should go in, and remind people to change config.h.in
	whenever they add autoconf tests which make #definitions.

	* make-dist: Distribute oldXMenu/Makefile.in, not oldXMenu/Makefile.

1993-05-15  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* Makefile.in (oldXMenu/Makefile): Make this depend on
	${srcdir}/oldXMenu/Makefile.in, not itself.

	* PROBLEMS: Some updates from David J. Mackenzie.

	More changes from David J. Mackenzie.
	* Makefile.in (install.sysv, install.xenix, install.aix):
	Targets removed; autoconf and config.h should specify all these
	differences.
	(buildlisppath): Make this path depend on ${srcdir}.
	(INSTALLFLAGS): Remove.
	(INSTALL): Include the -c flag.
	(install): Change the way we invoke install accordingly.

	Install ${srcdir} changes from DJM.
	* Makefile.in (SUBDIR_MAKEFILES): Add oldXMenu/Makefile to this
	list.
	(COPYDIR, COPYDESTS): Install files from both the etc directory in
	the source tree and the etc directory in the object tree.
	(${SUBDIR}): Pass the prefix variable down to submakes.
	(everywhere): Use `sed', not `/bin/sed'.  Not all systems have sed
	in /bin.
	(lib-src/Makefile, src/Makefile, oldXMenu/Makefile): Edit in
	values for srcdir and VPATH.
	(install): Add `v' flag to tar command.  Make sure that `dir'
	exists in ${srcdir}/info before copying it.  Remember that the man
	pages come from the source tree, not the object tree.
	* configure.in: Remove remarks saying that the --srcdir option
	doesn't work.
	Create the etc directory in the object tree.
	Recognize configuration names of the form *-sun-solaris*.
	Recognize sunos5 and solaris as operating system names.

	* configure.in: Use the AC_TIME_WITH_SYS_TIME macro, for
	lib-src/getdate.y and src/systime.h.

1993-05-15  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* make-dist: Make links in info subdir.

1993-05-13  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* configure.in: Call AC_STDC_HEADERS.

1993-05-10  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* configure.in: Sidestep autoconf's quoting of the second argument
	of AC_DEFINE, so we can specify the value to put there.  It would
	be nice if autoconf provided some way to specify computed values
	for macros.

1993-05-09  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* Makefile.in (DEFS): Delete; since we're using AC_CONFIG_HEADER,
	this is always just -DHAVE_CONFIG_H.

	The GNU coding standards specify that CFLAGS should be left for
	users to set.
	* Makefile.in (CFLAGS): Let configure determine the default value
	for this.
	Don't have it default to DEFS.
	(${SUBDIR}): Pass CFLAGS down to submakes, not DEFS.
	(lib-src/Makefile, src/Makefile): Edit the default value for
	CFLAGS into these files, not DEFS.
	* configure.in (CFLAGS): Choose a default value for this - "-g"
	normally, or "-g -O" if we're using GCC.  Edit it into the
	top-level Makefile.

	* configure.in: When scanning the machine and system description
	#include files, write their names to conftest.c properly.

1993-05-07  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* configure.in: In configuration name case for Apallos running
	Domainios, set opsys, not opsysfile.

	* configure.in: Use the autoconf AC_CONFIG_HEADER macro to produce
	src/config.h, instead of AC_OUTPUT; the latter overwrites
	src/config.h even when it hasn't changed, puts a makefile-style
	comment at the top even though it's C code, and produces a
	config.status script which doesn't do the job right.

	* configure.in: Add AC_LN_S test, so we can tell whether or not we
	can use a symbolic link to get the X Menu library into src.
	* Makefile.in (LN_S): New variable.
	(src/Makefile): Edit the value of LN_S into this makefile.

1993-05-06  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure.in: Support *-sco3.2v4* as opsystem.

	* make-dist: Don't include calc directory.
	Exclude many files in the man directory; copy a few.

1993-05-04  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* configure.in: Use AC_HAVE_HEADERS to test for sys/time.h, and
	call AC_STRUCT_TM to see what's in time.h.

	* configure.in: Employ quoting stupidity to get the value of CPP
	to expand properly.

1993-04-27  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* configure.in: Use the AC_PROG_CPP macro, and then use the CPP
	variable to scan the machine and system description files.

	* configure.in: Use the AC_HAVE_HEADERS to check for sys/timeb.h,
	so that getdate.y builds correctly.

1993-04-26  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* configure.in (tempcname): Change this to "conftest.c", so it will
	work properly on systems with short filenames; this is the name
	autoconf uses.

	* configure.in: Also detect the availability of dup2 and
	gethostname.

	* configure.in: Use the AC_ALLOCA test.
	* Makefile.in (ALLOCA): New variable, to be set by ./configure.
	(lib-src/Makefile): Edit the value of ALLOCA into lib-src/Makefile.

1993-04-24  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* make-dist: Distribute configure, as well as configure.in.
	Oversight.

1993-04-23  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* Makefile.in (install): Print out the name of the directory we're
	copying, so people can have some idea of whether we're making
	progress.

	* Makefile.in (install.aix, install.xenix, install.sysv, install):
	Don't forget to re-create the COPYDESTS directories after we clear
	them out.

1993-04-13  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* Makefile.in: Add autoconf cookies so that the configure
	script can comment out sections of path variable definitions to
	choose between the installable configuration and the run-in-place
	configuration.
	* configure.in: Add new option `--run-in-place', to select the
	run-in-place path definitions.

	* configure.in: Add a clause to the big configuration name case
	for the NeXT machine.

1993-04-12  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* Makefile.in (install, install.sysv, install.xenix, install.aix):
	Make sure that each source directory exists, and is different from
	the destination directory; then, delete the destination before
	copying over the source.

	* make-dist: Distribute configure.in, instead of configure.

1993-04-10  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* configure.in: Don't set CC to "gcc -O" if the user specifies
	`--with-gcc'.  Add -O to DEFS if GCC is set.

1993-04-09  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* Makefile.in (clean mostlyclean): Missing right paren.

	* configure.in: When checking for X windows, search for an X11
	subdirectory of ${x_includes}.

	* configure.in: Check for gettimeofday function, for getdate.y.

	Change `configure' to a mixture of custom code and autoconf stuff.
	autoconf can't derive all the information we need, but we'd really
	like to be able to take advantage of some of its tests, and its
	file-editing facilities.
	* configure.in: Renamed from configure.
	Quote the sections of shell script we want copied literally to
	the configure script.
	(compile): Initialize this to make the autoconf macros' code happy.
	Use AC_PROG_CC, AC_CONST, and AC_RETSIGTYPE instead of writing out
	code to do their jobs.
	Use autoconf to produce Makefile and src/config.h.
	Remove the Makefile-style comment that autoconf places at the top
	of src/config.h.
	(config_h_opts): Remove - no longer necessary.
	* Makefile.in (configname): Rename to configuration.
	(CONFIG_CFLAGS): Rename to DEFS.
	(CC, DEFS, C_SWITCH_SYSTEM, version, configuration): Adjust to
	get values via autoload @cookies@.
	(libsrc_libs): Get this from autoconf.  We used to do nothing
	about this.
	(${SUBDIR}): Pass DEFS to submakes instead of CONFIG_CFLAGS.

	* Makefile.in (src/paths.h, lib-src/Makefile, src/Makefile):
	Don't echo the move-if-change command.

1993-04-08  Jim Blandy  (jimb@churchy.gnu.ai.mit.edu)

	* make-dist: Distribute lib-src/rcs-checkin.

	* make-dist: It's oldXMenu/compile.com, not oldXMenu/compile.mms.
	Don't try to make links to the RCS or Old subdirectories.
	Use the appropriate extension for the compression type in use.
	Create the tar file in the shell's initial default directory, not
	in ${tempparent}.
	Erase the whole ${tempparent} tree, not just ${tempdir}.

1993-03-30  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* Makefile.in (src/paths.h): Don't echo the huge sed command we
	use to build paths.h.
	(lib-src/Makefile, src/Makefile): Similarly.

	* configure: Extend test for working `const' keyword to handle AIX
	3.2 cc.

1993-03-24  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* make-dist: Distribute lisp/term/ChangeLog.

	Arrange for C compilation throughout the tree to get
	C_SWITCH_SYSTEM from the configuration files.
	* configure: Extract C_SWITCH_SYSTEM from the machine and
	system-dependent files, and save it in the top-level Makefile.
	* Makefile.in (C_SWITCH_SYSTEM): New flag for configure to edit.
	(lib-src/Makefile): Edit C_SWITCH_SYSTEM into lib-src/Makefile.

	* make-dist: Include the VMS support files in oldXMenu in the
	distribution.

	* configure: Doc fix.

	* configure: Fix corrupted config_h_opts.

	* configure: Properly report option names in error messages.

	* configure: Properly recognize --x-includes and --x-libraries
	options.

	* configure: Fix syntax errors in code handling XFree386.

1993-03-23  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* configure: Add special code to detect XFree386, and tell
	config.h about it.

	* configure: Properly handle extracting values of LIBS_MACHINE and
	LIBS_SYSTEM that contain spaces.

	* configure: Add `--x-includes' and `--x-libraries' options.
	I think these are dopey, but no less than three alpha testers, at
	large sites, have said they have their X files installed in odd
	places.  Implement them by setting C_SWITCH_X_SITE and
	LD_SWITCH_X_SITE in src/config.h.

1993-03-22  Eric S. Raymond  (eric@geech.gnu.ai.mit.edu)

	* make-dist: Don't distribute etc/Old files.

	* GETTING.GNU.SOFTWARE, PROBLEMS: Registered into RCS with their
	backups.

1993-03-20  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* make-dist: Fix typo.

1993-03-19  Eric S. Raymond  (eric@geech.gnu.ai.mit.edu)

	* make-dist: Corrected typo, fixed it to discard = and TAGS files
	in some cases where it should but didn't seen to.

	* Makefile.in: Added unlock and relock productions.

1993-03-18  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* make-dist: Add a --compress option to force make-dist to use
	compress.

	* make-dist: Use gzip, if we can find it.

	* configure: Recognize rs6000-ibm-aix32 and rs6000-ibm-aix, and
	make rs6000-ibm-aix default to -aix32.

1993-03-17  Eric S. Raymond  (eric@geech.gnu.ai.mit.edu)

	* Makefile.in: Added `Developer's configuration' section.

1993-03-17  Eric S. Raymond  (eric@mole.gnu.ai.mit.edu)

	* Makefile.in: Add commented-out variable settings for developer's
	configuration.

1993-03-14  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* make-dist: Distribute `src/bitmaps' too.

1993-03-14  Charles Hannum  (mycroft@hal.gnu.ai.mit.edu)

	* configure: Recognize rs6000-ibm-aix32 and rs6000-ibm-aix, and
	make rs6000-ibm-aix default to -aix32.

1993-03-09  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* configure: Recognize strings like "sysvr0" or "sysvr1" as System V.

	* Makefile.in (install.sysv): Add a second `$' in front of
	`${dest}', so that the shell will expand it, instead of Make.

	* configure: When processing the name of the configure script,
	collapse `././' to `./', but leave a single `./' prefix alone.

	* configure: Doc fix.

1993-03-04  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* configure: Handle isc3.0 correctly.

1993-02-25  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* make-dist: Don't try to copy the COPYING notice into
	external-lisp; we're not distributing that directory any more.

1993-02-24  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* Makefile.in (install, install.aix, install.xenix, install.sysv):
	Remove CVS subdirectories from the installed directory trees, as
	well as RCS directories.

1993-02-23  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* make-dist: Only copy gmalloc.c if we couldn't link it.
	Don't try to copy man/{README,Makefile} unless they actually exist.

	* Makefile.in (lisppath): Don't include externallispdir in this.
	We're not sure whether we're even going to distribute the
	directory yet.

1993-02-17  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* make-dist: Don't distribute the external-lisp directory anymore.
	* INSTALL: Remove all references to external-lisp.

	* configure: Detect whether the compiler supports `const'
	properly, and edit src/config.h accordingly.

	* configure: Tweak layout of final report.

	* Makefile.in (${SUBDIR}): Pass CONFIG_CFLAGS to the submakes, not
	CFLAGS.

	* Makefile.in (locallisppath): Make this default to
	${datadir}/emacs/site-lisp, instead of
	${datadir}/emacs/local-lisp.  ${datadir} and ${statedir} are often
	the same thing, and local-lisp causes completion conflicts with
	lock.
	(lisppath): Add ${externallispdir} to this.
	* INSTALL: Adjust installation directions.

	* Makefile.in (externallispdir): New variable, to say where to
	install the externally-maintained lisp files.
	(COPYDIR, COPYDESTS): Copy the external lisp directory just like
	the others.
	* INSTALL: Describe external-lisp and the new externallispdir
	variable.

1993-02-14  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* configure (progname): New option `--with-gcc'.  Make it clearer
	how we are trying to guess whether or not we have GCC.
	* INSTALL: Document the `--with-gcc' option, and improve
	description of `--with-x' options.

1993-02-06  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* Makefile.in (COPYDIR, COPYDESTS): Remove ${srcdir}/info and
	${infodir} from these variables; we have written out explicit code
	to install the info files.

1993-01-25  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* make-dist: Don't distributed the RCS files in the etc directory.

1993-01-24  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* Makefile.in: Some makes can't handle comments in the middle of
	commands; move them to before the whole rule.

1993-01-16  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* README: Mention what Emacs is.

1993-01-14  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* make-dist: Include `./lisp/calc-2.02' in the distribution.
	Add `./cpp' and `./man' back into the distribution.

1993-01-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in: Define MAKE, and use where appropriate.

1993-01-07  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* make-dist: Remember that the authoritative COPYING notice is
	`etc/COPYING', not `../etc/COPYING'.

1992-12-20  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* make-dist: Make sure that the COPYING notices in each directory
	are copies, not symlinks.

1992-12-19  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* INSTALL: The build process produces an executable called `emacs'
	now.  Change references.
	* Makefile.in: Adjust `install.mumble' targets to install
	`src/emacs', not `src/xemacs'.

	* configure: Start with a blank line; this keeps some old CSH's
	from thinking it's a CSH script.  Most systems will just use
	/bin/sh to run it, which is what we're expecting; the only other
	shells which might try to interpret it themselves are probably
	Bourne-compatible.

1992-12-14  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* INSTALL: Improvements suggested by David Mackenzie.

1992-12-12  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* Makefile.in (install, install.sysv, install.xenix, install.aix):
	Don't try to copy the info files if there aren't any; the
	unexpanded globbing pattern disappoints `install'.  Ignore the
	return status of that command.

	* INSTALL: Updated for new configuration arrangement.

	* configure: Don't make the top-level Makefile read-only - people
	may want to edit the values of the path variables.

	* Makefile.in (install, install.sysv, install.xenix, install.aix):
	Install the info files in ${infodir}.  Install the executable
	under both `emacs' and `emacs-VERSION'.

	* Makefile.in: Doc fix.

	* Makefile.in (exec_prefix): New variable, as per latest version
	of coding standards.
	(bindir, libdir): Use it, instead of `prefix'.
	(lib-src/Makefile): Edit value of exec_prefix into lib-src/Makefile.

	* Makefile.in (mandir): Make the default value for this depend on
	$(prefix).

	* Makefile.in (datadir, statedir, libdir): Make these all default
	to ${prefix}/lib.
	(lispdir, locallisppath, etcdir, lockdir, archlibdir):
	Adjust to compensate.

	* Makefile.in (install, install.sysv, install.xenix, install.aix):
	Install the etags and ctags man pages too.

	* Makefile.in (distclean): Don't delete backup files; that's the
	job of extraclean.
	(extraclean): Like distclean, but deletes backup and autosave files.

1992-12-10  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	Make path specification conform to GNU coding standards.
	* configure (long_usage): Remove all traces of old arguments from
	usage messages, and document the options we do accept in more
	detail: -with-x... and --srcdir.
	(options, boolean_opts): Delete; we don't have enough options to
	make this worthwhile.
	(prefix, bindir, lisppath, datadir, libdir, lockdir): Delete,
	along with the code which supported them; these should be set as
	arguments to the top-level make.
	(config_h_opts): Since this no longer doubles as a list of option
	names, make them upper case; this simplifies the code which uses
	them to build the sed command to edit src/config.h.  Change the
	code which sets them.
	(cc, g, O): Don't allow the user to set these using options; they
	should be specified using `CC=' and `CFLAGS=' arguments to the
	top-level make.  Just choose reasonable default values for them,
	and edit them into Makefile.in's default CC and CONFIG_CFLAGS
	values.
	(gnu_malloc, rel_alloc): Don't allow the user to set these using
	options; use them whenever the configuration files say they're
	possible.
	Simplify the argument processing loop.  Don't accept abbreviations
	for option names; these might conflict with other configuration
	options in the future.
	Add some support for the `--srcdir' option.  Check for the sources
	in . and .. if `--srcdir' is omitted.  If the directories we will
	compile in don't exist yet, create them under the current directory.
	Note that the rest of the build process doesn't really support
	this.
	Edit only the top Makefile.  That should edit the others.
	Edit into the makefile: `version', from lisp/version.el, `configname'
	and `srcdir' from the configuration arguments, `CC' and
	`CONFIG_CFLAGS' as guessed from the presence or absence of GCC in
	the user's path, and LOADLIBES as gleaned from the system
	description files.
	Simplify the report generated; it doesn't need to include any
	description of paths now.
	Make `config.status' exec configure instead of just calling it, so
	there's no harm in overwriting `config.status'.
	* Makefile.in (version, configname): New variables, used to choose
	the default values for datadir and libdir.
	Path variables rearranged into two clearer groups:
	- In the first group are the variables specified by the GNU coding
	  standards (prefix, bindir, datadir, statedir, libdir, mandir,
	  manext, infodir, and srcdir).
	- In the second are the variables actually used for Emacs's paths
	  (lispdir, locallisppath, lisppath, buildlisppath, etcdir, lockdir,
	  archlibdir), which depend on the first category.
	datadir and libdir default to directories under
	${prefix}/lib/emacs instead of ${prefix}/emacs, by popular
	demand.
	etcdir and lispdir default to subdirectories of datadir.
	archlibdir defaults to libdir.
	The new installation tree is a bit deeper than it used to be, so
	use the new make-path program in lib-src to build them all.
	Always build a new src/paths.h.tmp and then move-if-change it to
	src/paths.h, to avoid unnecessary rebuilds while responding to the
	right changes.
	Remove all mention of arch-lib.  Run utility commands from
	lib-src, and let the executables be copied into archlibdir when
	Emacs is installed.
	Add targets for src/Makefile, lib-src/Makefile, and
	oldXMenu/Makefile, editing the values of the path variables into
	them.
	Let lib-src do its own installation.
	(datadir): Default to putting data files under
	${prefix}/lib/emacs/${version}, not /usr/local/emacs.
	(emacsdir): Variable deleted; it would only be confusing to use.
	(lispdir, etcdir): Default to ${datadir}/lisp.
	(mkdir): Use make-path for this.
	(lockdir): Do this in mkdir.
	(Makefile): New target.

	* configure (usage_message): Rename to long_usage.

	* make-dist: Don't bother creating an arch-lib directory; that's
	only for installation now.

1992-11-20  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* configure: Use GCC-style configuration names, using config.sub.
	Change the usage and help messages.

	* configure: Initialize window_system, not indow_system.

	* configure: Report which window system, compiler, and signal
	handler return type we decide to use.

	* make-dist: Explain what's going on if config.sub and gmalloc.c
	can't be linked.  Place the code which copies them near the code
	which links the rest of the files around them.

1992-11-15  Jim Blandy  (jimb@apple-gunkies.gnu.ai.mit.edu)

	* make-dist: Don't bother to distribute src/*.com, or
	src/vmsbuild; those have all been moved to `../vms'.

1992-11-07  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* make-dist: Don't forget that the way to avoid filenames starting
	with `=' is to use the pattern `[a-zA-Z0-9]*.h', not
	`[a-zA-Z0-9].h'.  Add a new section for dealing with files that we
	couldn't make hard links to, since we have two already, and
	perhaps more to come.

1992-11-04  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* configure: When editing parameters into lib-src/Makefile, change
	the definition of CONFIG_CFLAGS instead of CFLAGS itself; CFLAGS
	needs some other flags too.

1992-11-03  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* configure: Remove spurious echo of the configuration name.

	* make-dist: Don't distribute files in src/m and src/s whose names
	begin with `='.

1992-10-27  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure: Update GNU_MALLOC and REL_ALLOC in config.h.
	Also LISP_FLOAT_TYPE.

1992-10-26  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* make-dist: Copy config.sub, since it's a symbolic link to a file
	on another file system.

1992-10-17  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* make-dist: Include lib-src/makedoc.com and emacs.csh in the
	distribution.

	* config.sub: New file, to help us recognize configuration names.
	* make-dist: Include it in the distribution.

1992-09-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure: Convert `-' to `_' in specified option names.
	Accept options with --.  Delete --highpri and --have-x-menu options.
	New options --with-x and --with-x10 replace -window-system.
	Don't mention options --gnu-malloc, --rel-alloc
	or --lisp-float-type in help message.

1992-09-13  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* make-dist: Include the `vms' subdirectory in the distribution.

1992-09-10  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* configure: Remove lines starting with "# DIST: " when building
	lib-src/Makefile and src/Makefile.  This allows us to mark the
	"Makefile.in" files with explanatory comments which won't also get
	stuck in the Makefiles.

1992-09-05  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* make-dist: Don't use the '+' operator in the sed regular
	expression that extracts the version number from lisp/version.el;
	Ultrix sed doesn't seem support the operator.  Just double the
	operand and use *.

1992-09-01  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* Makefile.in: Doc fix.

1992-08-31  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* configure: Rewrite sed command to remove at most one ./ prefix;
	Ultrix's sed doesn't allow us to apply the * operator to a \( \)
	group.

1992-08-25  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (src/paths.h): Use sed, not /bin/sed.

1992-08-18  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* make-dist: Go ahead and build a new TAGS file, unless the
	--newer option was specified.  Don't try to delete a TAGS file
	from etc; it's not kept there, and shouldn't be deleted anyway.

1992-08-14  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* make-dist: If the lisp directory contains a default.el, don't
	distribute it.

	* configure: When searching signal.h for the type of a signal
	return handler, make a copy of it, not a symbolic link to it; that
	way, it will work on systems that don't have symbolic links.

1992-08-14  Eric S. Raymond  (eric@mole.gnu.ai.mit.edu)

	* make-dist: Taught it about vcdiff and rcs2log, added --newer
	option for generating incremental distributions.  Stopped it from
	generating a TAGS file into the distribution; that sucker is
	*big*, and easily enough generated with the toplevel makefile.

1992-08-13  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* configure: When writing config.status, don't prefix progname
	with a '.'; it might be absolute.

1992-08-05  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* configure: Choose to use X11 if either /usr/lib/libX11.a or
	/usr/include/X11 exist, not only if both exist.

1992-07-27  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* make-dist: Make the new external-lisp directory a duplicate of
	the external-lisp directory, not the lisp directory.

1992-07-07  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* Makefile.in (clean, mostlyclean): Don't bother trying to `make
	clean' in arch-lib; it doesn't even have a Makefile.

	* Makefile.in (clean, mostlyclean): In the test which tries to
	distinguish between the build directory, which should be cleaned,
	and the installed directory, which shouldn't, cd to `${emacsdir}',
	not `${DESTDIR}${LIBDIR}'.

1992-06-30  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* make-dist: Be sure to delete the .c and .h files that YACC and
	BISON create from getdate.y.

	* external-lisp: New directory; see `external-lisp/README'.
	* make-dist: Added support for the external-lisp subdirectory.

	* make-dist: Changed message which complains that make-dist wasn't
	invoked in the right directory to indicate which files it was
	looking for.

1992-06-29  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* configure: Add comments explaining why we can't translate
	character ranges or control characters in `tr'.

1992-06-24  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* configure: When generating the configuration message, we used to
	build the message from the start so that each line began with "# "
	so that it would be a comment in `config.status'.  However, this
	causes trouble if any of the variables we use in the message
	expand to more than one line of text - as gnu_malloc_reason
	sometimes does.  So instead, we build the message as it should be
	printed to the user (i.e. without the "# " prefixes), and stick on
	the "# "s when we write it to `config.status'.

	* Makefile.in (clean, mostlyclean): Don't neglect to clean out
	`lib-src' and `arch-lib'.

	* configure: When generating report and `config.status' file, note
	that bindir only determines where `make install' and
	`build-install' will place the executables; this should make it
	clear that the ordinary build process will not try to install
	things.

1992-06-10  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* make-dist: Change messages to say that we are 'making links to
	X', rather than 'copying X'.  And put `' quotes around file names.

	* make-dist: Include '.tmp' in the name of the staging directory.

	* make-dist: Pass the `-f' option to rm when you're not sure that
	the files you're removing actually exist.

	* make-dist: When setting up etc/COPYING, always nuke whatever is
	there, and then copy it in, to make sure we get a real file.

	* make-dist: Don't try to distribute *.defns files any more.
	The only such file was for simula.el, which has been superseded by a
	version which doesn't have a separate .defns file.

1992-05-28  Ken Raeburn  (Raeburn@Cygnus.COM)

	* make-dist: Don't distribute configured versions of config.h.in,
	paths.h.in, Makefile.in in src.

	* configure: Delete .tmp files before creating them; don't bother
	trying to make final targets writable first, since it won't
	matter to move-if-change.

1992-05-19  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* Makefile.in (mkdir, lockdir): Don't put dashes in front of the
	mkdir and chmod in the center of all the conditionals.  GNU Make
	will strip these out, but other makes won't.

1992-05-18  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* make-dist: Include move-if-change in list of files to distribute.

1992-05-04  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* configure: Remove any "." elements from the program name.

	* configure: Don't record the values of all the possible arguments
	in config.status; only record the options that the user specified.

	* configure: Use move-if-change to move in the new src/config.h.

1992-04-29  Ken Raeburn  (Raeburn@Cygnus.COM)

	* move-if-change: New file, copied from gcc release.
	* Makefile.in (src/paths.h): Use it, and put the "sed" output into
	a temp file, so we don't update paths.h if an error occurs or if
	it doesn't need changing.

1992-04-28  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* Makefile.in (src/paths.h): Do not install a value for the
	PATH_SUPERLOCK value; that macro doesn't exist anymore.
	* build-install.in: Same thing.

1992-04-24  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* make-dist: Check the flag called "make_tar", not "make_dir"; the
	latter, being a typo, is always false, resulting in a program
	whose default behavior is to painstakingly build a copy of the
	source tree, and then delete it.  Rah.

	* Makefile.in: Add dist target, and comment for it.

	* configure: When scanning <signal.h> for a declaration for
	signal, create a symbolic link with a name ending in .c, so the
	compiler won't complain that it's only been given .h files.

	* configure: Check whether there are any arguments available
	before shifting to get the value of a non-boolean parameter.

	* make-dist: Doc fix.

1992-04-20  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* configure: Instead of grepping /usr/include/signal.h for a
	signal declaration, run /usr/include/signal.h or
	/usr/include/sys/signal.h through cpp and grep for the
	declaration.

	* configure: Redirect the output of grep to /dev/null instead of
	using grep -s - that flag means different things on other systems.

	* Makefile.in: Use 'buildlisppath' instead of 'dumplisppath',
	since the former is recognizable even if you don't know what
	'dumping' is.
	* configure: Accommodate that change.

	* configure: Accept options for all of the directories you can
	change in the Makefile.

	* configure: Accept "-OPTION VALUE" as well as "-OPTION=VALUE".

	* INSTALL: Mention that you have to copy all the 'FOO.in' files to
	FOO before you can use them.

	* build-install.in: Made the "Where To Install Things" section
	conform with the similar section from Makefile.in.  Copied section
	which builds src/paths.h from src/paths.h.in from the Makefile.

1992-04-19  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* configure: Write config.status to pass its command-line
	arguments on to configure, so that people can use it to recreate
	an old configuration, with minor changes.

1992-04-16  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* configure: Don't rely on option variables being unset if their
	values are the empty string.  In particular, when producing the
	English report, don't assume that highpri will be unset when no
	increased priority has been requested; -highpri='' should be the
	same as omitting -highpri altogether.

	* configure: Fix dumb bug: when running the system and machine
	description files through cpp, mark those lines that we want to
	evaluate with the string '@configure@', and then only evaluate
	them.  This way if the files include anything that actually
	generates text (type definitions or external declarations, say),
	we won't try to eval it.

1992-04-11  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* make-dist: New shell script.

	* configure: When creating foo from foo.in, make foo read-only to
	remind people to edit the .in file instead.

	* INSTALL: Changed references to config.h-dist to config.h.in.
	The "BUILDING GNU EMACS BY HAND" section neglected to mention how
	to build src/paths.h from src/paths.h.in; added a paragraph to do
	this.
	* configure, Makefile, build-install: Changed filenames like
	FOO-dist to FOO.in.

1992-04-08  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* Makefile, build-install: Renamed to Makefile.in and
	build-install.in; the configure script will edit these to produce
	the usable Makefile and build-install.
	* configure: Changed to produce ./Makefile, ./build-install,
	lib-src/Makefile, and src/Makefile from their *.in counterparts,
	instead of editing them in place.

1992-04-07  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* Makefile: Re-arranged so that the undumped Emacs will search
	../lisp *after* the site's local elisp files.
	(locallisppath, dumplisppath): New variables.
	(lisppath): This variable's default value is now chosen based on
	$(locallisppath) and $(lispdir); while it used to be the
	customization point for adding site-local elisp directories to
	load-path, that job is now handled mostly by locallisppath.
	(src/paths.h): Edit the value of a new macro, PATH_DUMPLOADSEARCH.
	Check the values being assigned to the *LOADSEARCH macros for null
	path elements (like '::' in 'foo::bar').

	* configure: When checking if the machine- and system-dependent
	files define a particular macro or not, actually run them through
	CPP and test the macros with #ifs, instead of just grepping for
	the macros' names.  In particular, check for SYSTEM_MALLOC in this
	way.

1992-04-03  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile (install): Don't use -s in install.  (Keep the symbols.)

1992-04-02  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* configure: Make the config.status file an executable shell
	script which will recreate the same configuration.  Include the
	verbal description of the current configuration as a comment in
	the script.
	* INSTALL: Doc fix.

	* Makefile: Brought the Makefile up to the GNU coding
	standards, as described in standards.text:
	(TAGS): New name for the target which rebuilds the tags table.
	(check): New target; doesn't do anything yet.
	(mostlyclean): New target, synonymous with clean.
	(realclean): New target.  Currently, this just calls the
	subdirectories's makefiles and then deletes config.status.
	(INSTALL, INSTALLFLAGS, INSTALL_PROGRAM, INSTALL_DATA):
	New variables.
	Installation directory variables changed to conform.
	(install, install.sysv, install.xenix, install.aix): Change the
	code which copies the directories into their installed location to
	allow the installed locations to be in several different
	directories; the old version assumed that they would all be in
	$(emacsdir).
	(mkdir, lockdir): Allow the installed locations to be in several
	different directories.
	* INSTALL: Doc fix.

	* build-install: Use the same variable names as the Makefile.
	Allow the installed locations to be in several different
	directories.

1992-03-31  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* Makefile (src/paths.h): Instead of using a single sed command to
	edit both the PATH_LOCK and PATH_SUPERLOCK macros, edit the two
	separately, and don't forget to append "/!!!SuperLock!!!" to the
	value of the PATH_SUPERLOCK macro.

	* config.emacs: Renamed to configure, for consistency with other
	GNU products.  Internal references changed.
	INSTALL, Makefile: References changed.

	* lock: New directory, which should always be empty.  If this
	directory doesn't exist, Emacs won't complain; it just won't lock.
	Having this here means that people can just unpack Emacs, build
	it, and have locking work.

	* share-lib: Re-renamed to etc, for the sake of tradition.
	* config.emacs: Changed default value for datadir to ../etc.
	* INSTALL, README: Adjusted.

1992-03-18  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* config.emacs: Guess the value for LOADLIBES in lib-src/Makefile
	by running CPP on the appropriate s/*.h and m/*.h files.

1992-03-16  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* config.emacs: Make sure to set the "exit on error" flag once
	we've removed config.status; errors should abort the configuration.

1992-02-15  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* config.emacs: Added -distribute option, so that the Makefile
	paths are in their proper form.  I don't know why this matters.

1992-02-14  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* local-lisp: New directory, empty in the distribution, for people
	to put local elisp code in.
	* config.emacs: Include it in the default load path.
	* README: Document it.

1992-01-30  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* config.emacs: Guess the type of signal handling functions based
	on the contents of /usr/include/signal.h.

	* config.emacs: Print out progress report messages.

	* Makefile (src/paths.h): Don't generically replace
	/usr/local/lib/emacs with LIBROOT.  This can hide bugs in the
	editing of the other entries, and each entry should be dealt with
	explicitly anyway.

	* build-install: Converted from C-shell to Bourne shell.
	* config.emacs: Edit build-install properly.

	* config.emacs: Doc fix.

1992-01-27  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile (install): Remove `B' from tar xf command.

1992-01-13  Jim Blandy  (jimb@pogo.cs.oberlin.edu)

	* config.emacs: Removed support for the `maintain-environment'
	option; the only important difference between this and its absence
	has been removed.
	* INSTALL: Removed mention of `maintain-environment'.

	* config.emacs: Fix arguments to sed when processing boolean
	arguments.

1991-12-05  Jim Blandy  (jimb@pogo.gnu.ai.mit.edu)

	* config.emacs: New file, to help automate the installation
	process.

	* Makefile: Lots of changes to support the separation of etc into
	architecture-dependent and -independent files:
	(EMACSROOT): New variable, giving the directory under which all of
	Emacs's libraries should be installed.  Changed rest of file to
	use it.
	(LIBDIR): Now denotes only architecture-dependent dir.
	(DATADIR): New variable, denoting architecture-independent dir.
	(LOCKDIR): New variable, for completeness.
	(SUBDIR): No more etc, new lib-src.
	(COPYDIR): No more etc, new arch-lib and share-lib.
	(src/paths.h): Set PATH_DATA and the LOCK macros too.
	(src): Now depends on lib-src, not etc.
	* build-install: Changes parallel to the above.
	* README: Describe the new arrangement.

	* vms: New subdirectory for all the VMS stuff.

1991-12-03  Jim Blandy  (jimb@pogo.gnu.ai.mit.edu)

	* Makefile (LISPPATH): New variable.
	(src/paths.h): Define PATH_LOADSEARCH according to LISPPATH.

1990-09-28  Richard Stallman  (rms@mole.ai.mit.edu)

	* Makefile (install, install.sysv, install.xenix):
	Install wakeup instead of loadst.  No need for setuid or setgid.

1990-08-07  Richard Stallman  (rms@sugar-bombs.ai.mit.edu)

	* Makefile (clean): Clean etc if that's not the installation dir.

1990-04-26  Richard Stallman  (rms@sugar-bombs.ai.mit.edu)

	* Makefile (paths.h): Make sed alter each name in the path.

1988-08-30  Richard Stallman  (rms@sugar-bombs.ai.mit.edu)

	* Makefile (install.sysv): Use cpio, not tar.

1988-08-03  Richard Stallman  (rms@sugar-bombs.ai.mit.edu)

	* Makefile (lockdir): Rename `lock' target.
	Depend on it from install*, not from `all'.

1988-05-16  Richard Stallman  (rms@frosted-flakes.ai.mit.edu)

	* Makefile: Changed LIBDIR and BINDIR back to /usr/local/{emacs,bin}
	to match build-install and paths.h.

;; Local Variables:
;; coding: utf-8
;; End:

  Copyright (C) 1993-1999, 2001-2018 Free Software Foundation, Inc.

  This file is part of GNU Emacs.

  GNU Emacs is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  GNU Emacs is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with GNU Emacs.  If not, see <https://www.gnu.org/licenses/>.
