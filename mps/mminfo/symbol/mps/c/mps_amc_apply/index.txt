       DESCRIPTION OF THE MPS C INTERFACE SYMBOL "MPS_AMC_APPLY"
                       symbol.mps.c.mps_amc_apply
                            obsolete symbol
                             lmb 1997-10-13

NAME

mps_amc_apply


SUMMARY

"mps_amc_apply" is used to inspect objects in an AMC pool. You may only call it 
when the arena is parked (for example, after "mps_arena_collect"). 


ASSOCIATED PROTOCOLS

Arena.


SYNTAX

extern void mps_amc_apply(mps_pool_t, void(*f)(mps_addr_t, void *, size_t), 
void *, size_t)


ARGUMENTS

mps_pool_t the pool whose objects you want to inpect
f  a supplied function
mps_addr_t the address of the object you want to inspect
*
size_t  


INITIAL/DEFAULT VALUES

Not applicable.


RETURNED VALUES

Not applicable.


RESOURCES

Not applicable.


DESCRIPTION

"mps_amc_apply" is used to inspect objects in an AMC pool. You may only call it 
when the arena is parked (for example, after "mps_arena_collect"). When called, 
"mps_amc_apply" calls the supplied function "f" once for each object in the 
pool, with the address of the object as its first argument. "f" is given as its 
second and third arguments whatever values were given as the third and fourth 
arguments to "mps_amc_apply". (This is intended to make it easy to pass, for 
example, an array and its size as parameters.)

"f" will be called on both data and pad objects, and it is "f"'s job to 
distinguish, if required, between the two. Note (c.f. "mps_arena_collect", 
above) that it may be called on unreachable objects that the collector has not 
recycled or has not been able to recycle.

The function "f" may not allocate memory or access any automatically-managed 
memory except the object at which it is pointed and, in the case of objects in 
Dylan Container Format, that object's wrapper.


EXAMPLE


ERROR HANDLING


SEE ALSO

Functions that park the arena: mps_arena_park, mps_arena_collect.

A more general heap walker which inspects all formatted objects in the arena: 
mps_arena_formatted_objects_walk

NOTES

There is no equivalent function for other pool classes, but there is a more 
general heap walker: mps_arena_formatted_objects_walk.


INTERNAL NOTES

Does "You must call it when the arena is parked" mean that (a) parking an arena 
requires that you call this function, or (b) you can only call this function 
when the arena is in the parked state?  LMB

(b).  Changed "must call" to "may only call"  drj 1998-08-25


INTERNAL NOTES:

<information on the symbol or the symbol entry for internal use only; for 
example, This symbol's name may change, or The description needs a lot of 
work.  This will not be quoted externally without consultation.>

