                 MPS SYMBOL MPS_ARENA_COMMIT_LIMIT_SET
                symbol.mps.c.mps_arena_commit_limit_set
                           incomplete symbol
                             drj 1998-06-09

NAME

mps_arena_commit_limit_set


SUMMARY

Changes the current commit limit associated with the arena.


ASSOCIATED PROTOCOLS

Arena


TYPE

mps_res_t mps_arena_commit_limit_set(mps_arena_t arena, size_t limit)


ARGUMENTS

arena -- the arena
limit -- the new commit limit


RETURNED VALUES

Returns a result code.


RESOURCES

mps.h


DESCRIPTION

The commit limit associated with the arena is set to the limit passed (as a 
number of bytes).  The commit limit is used to control how much memory the MPS 
can obtain from the OS.  See Arena Protocol for details.  The commit limit 
cannot be set to a value that is lower than the number of bytes that the MPS is 
using.  If an attempt is made to set the commit limit to a value greater than 
or equal to that returned by mps_arena_committed then it will succeed.  If an 
attempt is made to set the commit limit to a value less than that returned by 
mps_arena_committed then it will succeed only if the amount committed by the 
MPS can be reduced by reducing the amount of spare committed memory; in such a 
case the spare committed memory will be reduced appropriately and the attempt 
will succeed.

mps_arena_commit_limit_set provides a limit on all memory committed by the 
MPS.  The "spare committed" memory can be limited separately with 
mps_arena_spare_commit_limit_set (see 
symbol.mps.c.mps_arena_spare_commit_limit_set(0)).  Note that "spare committed" 
memory is subject to both limits; there cannot be more spare committed memory 
than the spare commit limit, and there can't be so much spare committed memory 
that there is more committed memory than the commit limit.


EXAMPLE

do {
  res = mps_arena_commit_limit_set(arena, limit - 100 * 1024);
  if (res != MPS_RES_OK) flush_caches();
} while (res != MPS_RES_OK);


ERROR HANDLING

Returns MPS_RES_OK when successful, and some other result code when not.


SEE ALSO

mps_arena_committed, mps_arena_commit_limit


NOTES

None.


INTERNAL NOTES:

Source mail.drj.1998-06-08.11-10(0).

The example is not plausible neough yet, and should be shared with 
mps_arena_commit_limit.  pekka 1998-11-06

