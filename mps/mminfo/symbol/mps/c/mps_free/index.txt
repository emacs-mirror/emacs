                   MPS C INTERFACE: FUNCTION MPS_FREE
                         symbol.mps.c.mps_free
                           incomplete symbol
                            pekka 2000-05-22

NAME

mps_free


SUMMARY

Frees a block of memory to a pool.


ASSOCIATED PROTOCOLS

Allocation


SYNTAX

void mps_free(mps_pool_t pool, mps_addr_t p, size_t size);


ARGUMENTS

 pool   the pool of the object to be freed
 p      a pointer to the object to the freed
 size   the size of the object to the freed in bytes


RETURNED VALUES

None.


RESOURCES

mps.h


DESCRIPTION

Frees an object of memory, returning the memory block to the pool it was 
allocated from.  The pool might then decide to make it available to other 
pools, but the way this happens depends on the pool class and the current 
situation.


EXAMPLE



SEE ALSO

mps_alloc


NOTES

mps_free takes a size argument, because it is most efficient to do so.  In 
practical programs, the type of an object is usually known at the point in the 
code that calls the deallocation function, and hence the size is trivially 
available.  In such cases. storing the size on the MPS side would cost time and 
memory, and make it hard to get good virtual memory behaviour (as it is, the 
deallocation code doesn't have to touch the dead object at all).

Undoubtedly, one day, we'll get around to writing a pool that stores the size 
of each object.


