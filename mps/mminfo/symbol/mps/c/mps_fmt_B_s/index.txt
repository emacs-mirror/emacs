                    MPS C INTERFACE TYPE MPS_FMT_B_S
                        symbol.mps.c.mps_fmt_B_s
                              draft symbol
                           gavinm 1998-01-27

NAME

mps_fmt_B_s


SUMMARY

"mps_fmt_B_s" both a structure tag, and the type of an instance to that 
structure.  It is used to pass format data to mps_fmt_create_B.


ASSOCIATED PROTOCOLS

Format, tracing, pool creation, allocation.


SYNTAX


STRUCTURE

typedef struct mps_fmt_B_s {
  mps_align_t     align;
  mps_fmt_scan_t  scan;
  mps_fmt_skip_t  skip;
  mps_fmt_copy_t  copy;
  mps_fmt_fwd_t   fwd;
  mps_fmt_isfwd_t isfwd;
  mps_fmt_pad_t   pad;
  mps_fmt_class_t class;
} mps_fmt_B_s;


TYPE

ARGUMENTS

INITIAL/DEFAULT VALUES

RETURNED VALUES

EXCEPTIONS

RESOURCES

DESCRIPTION

"mps_fmt_B_s" represents a particular collection of methods and values that 
describes an object format.  An object of this type can be used to create an 
object of type "mps_fmt_t".  mps_fmt_B_s is the same as mps_fmt_A_s with the 
addition of the class method.

Broadly speaking, the object formats represented by objects of type 
"mps_fmt_B_s" are suitable for use in copying or moving memory managers (just 
like mps_fmt_A_s); the addition of the class method allows more information to 
be passed to various support tools (such as graphical browsers, etc).

"mps_fmt_B_s" has the following methods:

     scan, skip, copy, fwd, isfwd, pad, class

and the following value:

     align

Their use is summarized here, but you may also wish to consult the reference 
documentation for the type of each method and value.

mps_fmt_scan_t scan
Scans an object; that is, it extracts all the references from an object and 
applies "mps_fix" (or a similar function) to each one.  It is called by the MPS 
during any tracing process.

mps_fmt_copy_t copy
Creates a copy of an object.  It may be called by the MPS as part of copying 
garbage collection, for example.

mps_fmt_fwd_t fwd
Replaces an object with a "forwarding object", which points to the new location 
of the object.  It may be called by the MPS as part of copying garbage 
collection.

mps_isfwd_t isfwd
Determines whether an object has been replaced with a forwarding object (see 
"fwd", above) or not.

mps_pad_t pad
Creates an object that contains no references.  Padding objects may be used by 
the MPS to keep things tidy; for example, a padding object may created at the 
end of a page if the space at the end of the page is too small to be worth 
worrying about.

mps_class_t class
Returns an address that is related to the class of the object.  The exact 
meaning of this is up to the user, but should bear some relation to class or 
type in the client program.

mps_align_t align
  

EXAMPLE


ERROR HANDLING


SEE ALSO

mps_fmt_create_B, mps_fmt_destroy, mps_fmt_B_t, tracing, mps_fmt_t, 
mps_fmt_scan_t, mps_fmt_copy_t, mps_fmt_fwd_t, mps_isfwd_t, mps_pad_t, 
mps_align_t, mps_class_t, mps_fmt_A_s

"Defining an Object Format", "Pool Options"


NOTES


INTERNAL NOTES


