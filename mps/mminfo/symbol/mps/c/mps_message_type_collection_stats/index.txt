       MPS C INTERFACE SYMBOL "MPS_MESSAGE_TYPE_COLLECTION_STATS"
             symbol.mps.c.mps_message_type_collection_stats
                            obsolete symbol
                           gavinm 1998-10-07

NAME

mps_message_type_collection_stats


SUMMARY

"mps_message_type_collection_stats" returns the type of garbage collection 
statistic messages.


ASSOCIATED PROTOCOLS

Message, gc.


SYNTAX

mps_message_type_t mps_message_type_collection_stats()


ARGUMENTS


INITIAL/DEFAULT VALUES

Not applicable.


RETURNED VALUES

The type of garbage collection statistic messages.


RESOURCES

Not applicable.


DESCRIPTION

"mps_message_type_collection_stats" returns the type of garbage collection 
statistic messages.  Garbage collection statistic messages are used by the MPS 
to give the client information about garbage collections that have occurred.  
Such information may be useful in analysing the client's memory usage over time.

The access methods specific to a message of this type are:
  mps_message_collection_stats_live_size
  mps_message_collection_stats_condemned_size
  mps_message_collection_stats_not_condemned_size


EXAMPLE

{
  mps_message_type_t type;

  if(mps_message_queue_type(&type, arena)) {
    if(type == mps_message_type_collection_stats()) {
      size_t live, condemned, not_condemned;
      mps_message_t message;
      mps_bool_t got_message;

      got_message = mps_message_get(&message, arena, type);
      assert(got_message);

      live = mps_message_collection_stats_live_size(message);
      condemned = mps_message_collection_stats_condemned_size(message);
      not_condemned = mps_message_collection_stats_not_condemned_size(message);

      mps_message_discard(arena, message);

      process_collection_stats(live, condemned, not_condemned);
    } else {
      unknown_message_type();
    }
  }
}


ERROR HANDLING

Cannot fail.


SEE ALSO

mps_message_*, 

"Message Protocol", "GC Protocol"


NOTES





