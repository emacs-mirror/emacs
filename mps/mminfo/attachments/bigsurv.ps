%!PS-Adobe-2.0%%Creator: dvips, version 5.399 (C) 1986-90 Radical Eye Software%%Title: bigsurv.dvi%%Pages: 67 1%%BoundingBox: 0 0 612 792%%EndComments%%BeginProcSet: tex.pro/TeXDict 200 dict def TeXDict begin /N /def load def /B{bind def}N /S /exchload def /X{S N}B /TR /translate load N /isls false N /vsize 10 N /@rigin{isls{[0 1 -1 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scaleResolution VResolution vsize neg mul TR}B /@letter{/vsize 10 N}B /@landscape{/isls true N /vsize -1 N}B /@a4{/vsize 10.6929133858 N}B /@legal{/vsize 13 N}B /@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /df{/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sfX /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /df-tail{/nn 8 dict N nn begin/FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base X array/BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foo setfont}2array copy cvx N load 0 nn put /ctr 0 N[}B /E{pop nn dup definefont setfont}B/ch-image{ch-data dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B/ch-width{ch-data dup length 5 sub get}B /ch-height{ch-data dup length 4 subget}B /ch-xoff{128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data duplength 2 sub get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ctr 0 N/CharBuilder{save 3 1 roll S dup /base get 2 index get S /BitMaps get S get/ch-data X pop /ctr 0 N ch-dx 0 ch-xoff ch-yoff ch-height sub ch-xoff ch-widthadd ch-yoff setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff subch-yoff .1 add]{ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup length 1sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{cc 1 add D}B/bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin 0 0 moveto}B /eop{clear SI restore showpage userdict /eop-hook known{eop-hook}if}B /@start{userdict /start-hook known{start-hook}if /VResolution X /Resolution X 1000 div/DVImag X /IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for}B /p /show load N /RMat[1 0 0 -1 0 0]N /BDot 8 string N /v{/ruley X /rulex X V}B /V{gsave TR -.1 -.1 TR rulex ruley scale 1 1 false RMat{BDot}imagemaskgrestore}B /a{moveto}B /delta 0 N /tail{dup /delta X 0 rmoveto}B /M{S p deltaadd tail}B /b{S p tail}B /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{4 M}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /w{0 rmoveto}B /x{0 S rmoveto}B /y{3 2 roll p a}B /bos{/SS save N}B /eos{clear SS restore}B end%%EndProcSet%%BeginProcSet: special.proTeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N /vs792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP false N /BBcalc false N}B /@scaleunit 100 N /@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit div/vsc X}B /@hsize{/hs X /CLIP true N}B /@vsize{/vs X /CLIP true N}B /@hoffset{/ho X}B /@voffset{/vo X}B /@angle{/ang X}B /@rwi{10 div /rwi X}B /@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B /@ury{/ury X /BBcalc true N}B /magscale truedef end /@MacSetUp{userdict /md known{userdict /md get type /dicttype eq{mdbegin /letter{}N /note{}N /legal{}N /od{txpose 1 0 mtx defaultmatrixdtransform S atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2roll transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 rollcurveto}}{{closepath}}pathforall newpath counttomark array astore /gc xdf popct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1 -1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3 get ppr 1 getneg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip not and{pop Sneg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub neg 0 TR}if yflip xflipnot and{ppr 1 get neg ppr 0 get neg TR}if}{noflips{TR pop pop 270 rotate 1 -1scale}if xflip yflip and{TR pop pop 90 rotate 1 -1 scale ppr 3 get ppr 1 getneg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip not and{TR poppop 90 rotate ppr 3 get ppr 1 get neg sub neg 0 TR}if yflip xflip not and{TRpop pop 270 rotate ppr 2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scaleneg S neg S TR}if}N /cp{pop pop showpage pm restore}N end}if}if}N /normalscale{Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale}if}N /psfts{S 65536 div N}N /startTexFig{/psf$SavedState save N userdictmaxlength dict begin /magscale false def normalscale currentpoint TR /psf$urypsfts /psf$urx psfts /psf$lly psfts /psf$llx psfts /psf$y psfts /psf$x psftscurrentpoint /psf$cy X /psf$cx X /psf$sx psf$x psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx psf$sy scale psf$cx psf$sx divpsf$llx sub psf$cy psf$sy div psf$ury sub TR /showpage{}N /erasepage{}N/copypage{}N @MacSetUp}N /doclip{psf$llx psf$lly psf$urx psf$ury currentpoint6 2 roll newpath 4 copy 4 2 roll moveto 6 -1 roll S lineto S lineto S linetoclosepath clip newpath moveto}N /endTexFig{end psf$SavedState restore}N/@beginspecial{SDict begin /SpecialSave save N gsave normalscale currentpointTR @SpecialDefaults}B /@setspecial{CLIP{newpath 0 0 moveto hs 0 rlineto 0 vsrlineto hs neg 0 rlineto closepath clip}{initclip}ifelse ho vo TR hsc vscscale ang rotate BBcalc{rwi urx llx sub div dup scale llx neg lly neg TR}if/showpage{}N /erasepage{}N /copypage{}N newpath}B /@endspecial{grestore clearSpecialSave restore end}B /@defspecial{SDict begin}B /@fedspecial{end}B /li{lineto}B /rl{rlineto}B /rc{rcurveto}B /np{/SaveX currentpoint /SaveY X N 1setlinecap newpath}B /st{stroke SaveX SaveY moveto}B /fil{fill SaveX SaveYmoveto}B /ellipse{/endangle X /startangle X /yrad X /xrad X /savematrix matrixcurrentmatrix N TR xrad yrad scale 0 0 1 startangle endangle arc savematrixsetmatrix}B end%%EndProcSetTeXDict begin 1000 300 300 @start /Fa 5 116 df<003F0201C0C603002E0E001E1C000E1C0006380006780002700002700002F00000F00000F00000F00000F00000F000007000027000027800023800041C00041C00080E000803003001C0C0003F00171A7D991D>67D<FF801C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF8009137F920B>105 D<FC01FC1E007017002017802013C02011C02010E020107020103820103C20101E20100E201007201003A01001E01001E01000E0380060FE00201613809217>110D<03F8000E0E001C07003803807001C07001C06000C0E000E0E000E0E000E0E000E0E000E0E000E07001C07001C03803801C07000E0E0003F80013137E9218>I<1F9020704030C010C010C000E0007C007F803FC007E000700070003080308030C020E0409F800C137E9211>115D E /Fb 1 59 df<60F0F06004047D830B>58 D E /Fc 66 125 df<0003FB80000E0F8000181F8000381B800038070000380700007007000070070000700E0000700E0007FFFE0000E00E0000E01C0000E01C0000E01C0000E01C0001C0380001C0380001C0380001C0380001C0720001C072000380720003807200038034000380180003000000070000000700000066000000E6000000CC000000780000001921819917>13 D<183C3C1C08080810204080060B78990C>39D<000400180030006000C0008001800300030006000E000C001C001800180038003000300070007000600060006000E000E000E000C000C000C000C000C00060006000600020003000100008000E267B9B10>I<0040006000200030001000180018001800180018001800180018001800180018003800380030003000700070006000E000C000C001C0018003800300060006000C00180010002000400080000D267F9B10>I<000C00000C00000C00001800001800001800001800003000003000003000003000FFFFF8FFFFF800600000600000C00000C00000C00000C00001800001800001800001800001000015187A941D>43 D<1838783808101020204080050B7D830C>I<FF80FF80FF0009037D880E>I<0000080000180000180000300000300000600000600000C00000C0000180000300000300000600000600000C00000C0000180000300000300000600000600000C00000C0000180000300000300000600000600000C00000C0000180000180000300000600000600000C0000080000015257F9B14>47 D<007C000186000303000603000C03801C03801C0380380380380380380380700700700700700700700700E00E00E00E00E00E00E01C00E01C00E01800E0300060600030C0001F000011187C9714>I<000800180030007001F00E7000E000E000E000E001C001C001C001C0038003800380038007000700070007000F00FFF00D187C9714>I<007C000186000203000403800483800883801083801083801083801107001207000C0E00001C000030000060000180000200000C00001001002001003C060067FE00C1FC0080F00011187D9714>I<003E0000C3000101800201800481C00441C0088380048380070300000600000C0001F000001800000C00000C00000E00000E00600E00E01C00E01C0080380040300020E0001F800012187D9714>I<000300000380000700000700000700000E00000E00000E00001C00001C0000180000300000300000600000C00000C600018E00030E00021C00041C00081C00101C007FB800807F80003800003800007000007000007000007000006000111F7F9714>I<001F000060800180800303800603800E00001C000018000038000039F000721800740C00780E00700E00F00E00E00E00E00E00E00E00E01C00E01C0060380060700030C0001F800011187C9714>54 D<09C04017E0801FF1803C1F00300200600600400400800C0000080000180000300000300000700000600000E00000C00001C00001C00001800003800003800003800007000003000012187B9714>I<003E0000C1000100800200C00600C00600C00E018007030007860003CC0001F00001F800067C000C3E00180E00300700600700600700C00600C00600600C006018003070000FC00012187D9714>I<007C000186000703000E03000C03801C0380380380380380380380380780380700380F001817000C270007CE00000E00000C00001C00001800E03000E0600080C000C380003E000011187C9714>I<060F1E0C00000000000000003078F06008107C8F0C>I<0000200000600000600000E00001E00001E000027000027000047000087000087000107000107000207000207000407000807000FFF00100380100380200380400380400380C00381C0038FF01FF181A7E991D>65 D<03FFF800700E00700600700700E00700E00700E00700E00701C00E01C01C01C03801C07003FFE003807003803803801C07001C07001C07001C07001C0E00380E00380E00700E00E01C03C0FFFF00181A7D991B>I<000F8200706200C01603801E07000C0E000C1C000C18000C380008300008700000700000E00000E00000E00000E00000E00020E00020E00020E000406000406000803001001006000C180003E000171A7A991B>I<03FFF80000700E00007007000070030000E0018000E0018000E0018000E001C001C001C001C001C001C001C001C001C003800380038003800380038003800300070007000700070007000E0007000C000E001C000E0038000E0070000E00E0001C038000FFFE00001A1A7D991D>I<03FFFF00700700700300700100E00100E00100E00100E00101C08001C08001C08001C18003FF000381000381000381000702000700040700040700080E00080E00180E00100E00301C00E0FFFFE0181A7D991A>I<03FFFF00700700700300700100E00100E00100E00100E00101C08001C08001C08001C18003FF000381000381000381000702000700000700000700000E00000E00000E00000E00001E0000FFE000181A7D9919>I<000FC100302100C01301800F0700060E00060C0006180006380004300004700000700000E00000E00000E00000E007FEE00070E00070E00070E000706000E06000E03000E01801E00C064003F840181A7A991E>I<01FF8000380000380000380000700000700000700000700000E00000E00000E00000E00001C00001C00001C00001C0000380000380000380000380000700000700000700000700000E0000FFE000111A7E990F>73 D<00FFC0000E00000E00000E00001C00001C00001C00001C0000380000380000380000380000700000700000700000700000E00000E00000E00000E00061C000E1C000E180008380004700003C0000121A7C9914>I<03FF8000700000700000700000E00000E00000E00000E00001C00001C00001C00001C0000380000380000380000380000700000700100700100700200E00200E00600E00400E00C01C0380FFFF80141A7D9918>76 D<03F8001FC00078003C000078003C000078005C0000B800B80000B800B800009C013800009C013800011C027000011C027000011C047000011C087000021C08E000021C10E000021C10E000021C20E000041C41C000041C41C000041C81C000041C81C000080F038000080F038000080E038000180C038000380C070000FF083FF000221A7D9922>I<03F007F8007801C00078008000780080009C0100009C0100009C0100008E0100010E02000106020001070200010702000203840002038400020384000201C4000401C8000401C8000400E8000400E8000800F00008007000080070001800700038002000FF0020001D1A7D991D>I<001F8000706001C03003001806001C0E000C1C000C18000E38000E30000E70000E70000EE0001CE0001CE0001CE00038E00038E00030E00070E000E0E000C06001807003003806001C1C0007E000171A7A991D>I<03FFF800701C00700600700700E00700E00700E00700E00701C00E01C00E01C01C01C03803807003FF800380000380000700000700000700000700000E00000E00000E00000E00001C0000FFC000181A7D991A>I<03FFF000701C00700E00700700E00700E00700E00700E00701C00E01C01C01C03801C0E003FF800380C00380600380700700700700700700700700700E00E00E00E00E00E10E00E21C0062FFC03C181A7D991C>82 D<003F1000609001807001007003002006002006002006002006000007000007C00003F80001FE00007F00000F80000380000180000180200180200180600300600300600600700C00C8180087E000141A7D9916>I<3FFFFC381C0C201C04401C0440380480380480380480380400700000700000700000700000E00000E00000E00000E00001C00001C00001C00001C000038000038000038000038000078000FFF800161A79991B>I<7FE0FF0E00380E00100E00101C00201C00201C00201C0020380040380040380040380040700080700080700080700080E00100E00100E00100E00200E00200E004006008006010003860000F8000181A78991D>I<FF803F801C001C001C0008001C0010001C0010001C0020001C0040001E0040000E0080000E0080000E0100000E0200000E0200000E0400000E0C00000E0800000E100000071000000720000007400000074000000780000007800000070000000600000006000000191A78991D>I<FF87FC3FC03C00E006001C00E004001C00E004001C01E008001C03E008001C02E010001C04E030001C04E020001C08E040001C08E040001C10E080001C10E080001C20E100001C20E100001C40E200001C40E200001C80E400001D80E400001D00E800001E00F800001E00F000001C00E000001C00E000001800C000001800C00000221A789926>I<01FF07F8003C01C000380100003C0200001C0600001C0C00001E0800000E1000000E200000074000000780000007800000038000000780000007C0000009C0000011C0000020E0000040E0000080E000018070000100700002007800040038001C007800FF01FF001D1A7E991D>I<03CC0E2E181C381C301C701CE038E038E038E038C072C072C07260F261341E180F107C8F14>97 D<7E000E000E000E001C001C001C001C00380038003BC03C307830701870187018E038E038E038E038C070C060C0E060C063801E000D1A7C9912>I<01F006080C181838301070006000E000E000E000E000E008E010602030C01F000D107C8F12>I<001F80000380000380000380000700000700000700000700000E00000E0003CE000E2E00181C00381C00301C00701C00E03800E03800E03800E03800C07200C07200C0720060F2006134001E1800111A7C9914>I<01E006181C08380870087010FFE0E000E000E000E000E0086010602030C01F000D107C8F12>I<000700001980001B80003B0000300000300000700000700000700000700007FF0000E00000E00000E00000E00000E00001C00001C00001C00001C00001C000038000038000038000038000038000070000070000070000660000E40000CC0000700000112181990C>I<00F300038B800607000E07000C07001C0700380E00380E00380E00380E00301C00301C00301C00183C0018780007B800003800003800007000607000E0E000C1C0007F000011177E8F12>I<1F80000380000380000380000700000700000700000700000E00000E00000E7C000F86001E07001E07001C07001C0700380E00380E00380E00381C00701C80701C80703880703900E01900600E00111A7E9914>I<030706000000000000384C4E8E9C9C1C3838707272E2E4643808197C980C>I<000C000E000C00000000000000000000000000E001300238043804380438007000700070007000E000E000E000E001C001C001C001C003806380E700CE0078000F2081980C>I<1F8003800380038007000700070007000E000E000E0E0E131C271C431C801F003C003F8039C038E070E270E270E270E4E0646038101A7E9912>I<3F0707070E0E0E0E1C1C1C1C3838383870707070E4E4E4E46830081A7D990A>I<307C1E00598663009E0783809E0703809C0703809C070380380E0700380E0700380E0700380E0E00701C0E40701C0E40701C1C40701C1C80E0380C80601807001A107C8F1F>I<307C005986009E07009E07009C07009C0700380E00380E00380E00381C00701C80701C80703880703900E01900600E0011107C8F16>I<01F006180C0C180E300E700E600EE00EE00EE00CE01CE018E030606030C01F000F107C8F14>I<030F000590C009E0C009C06009C06009C0600380E00380E00380E00380E00701C00701800703800703000E8E000E78000E00000E00001C00001C00001C00001C0000FF00001317808F14>I<03C20E2E181C381C301C701CE038E038E038E038C070C070C07060F061E01EE000E000E001C001C001C001C01FF00F177C8F12>I<30F059189E389C189C009C0038003800380038007000700070007000E00060000D107C8F10>I<03E004300830187018601C001F801FC00FE000E00060E060E06080C041803E000C107D8F10>I<06000E000E000E000E001C001C00FFC01C0038003800380038007000700070007000E100E100E100E200640038000A177C960D>I<38064C074E0E8E0E9C0E9C0E1C1C381C381C381C7039703970393079389A0F0C10107C8F15>I<38184C1C4E1C8E0C9C0C9C0C1C08380838083808701070107020304018C00F000E107C8F12>I<380C304C0E384E1C388E1C189C1C189C1C181C381038381038381038381070702070702070704030704018B8800F0F0015107C8F19>I<078F0008D18010F38020E18020E00020E00001C00001C00001C00001C000038200038200C38200E78400C5880078F00011107E8F12>I<38064C074E0E8E0E9C0E9C0E1C1C381C381C381C703870387038307838F00F700070006060E0E1C0C18047003C0010177C8F13>I<038207C40FFC10081010002000400180030004000808100820187FF043E081C00F107E8F10>I<FFFFFFFFC022017C8927>124 D E /Fd 14 115 df<03800007E0000FE0001E70001C70001C70001C70001C77E01CE7E01DE7E00FC7000F8E000F0E001E0E003F1C007F1C00739C00E3F800E1F800E0F1C0E0F1C071F9C07FFFC03F9F801E070013197F9816>38 D<00E001E0038007000E001C001C0038003800700070007000E000E000E000E000E000E000E000E000E000700070007000380038001C001C000E000700038001E000E00B217A9C16>40 D<C000E000700038001C000E000E000700070003800380038001C001C001C001C001C001C001C001C001C0038003800380070007000E000E001C0038007000E000C0000A217B9C16>I<01C00001C00001C00001C00071C700F9CF807FFF001FFC0007F00007F0001FFC007FFF00F9CF8071C70001C00001C00001C00001C00011127E9516>I<FFFF80FFFF80FFFF8011037E8D16>45 D<C00000F00000FC00003E00000F800007C00001F00000F800003E00001F80000780001F80003E0000F80001F00007C0000F80003E0000FC0000F00000C0000011157E9616>62 D<1FE0003FF0007FF800783C00300E00000E00000E0003FE001FFE003E0E00700E00E00E00E00E00E00E00783E007FFFE03FE7E00F83E013127E9116>97 D<03F80FFC1FFE3C1E780C7000E000E000E000E000E000F000700778073E0E1FFC0FF803F010127D9116>99D<03E00FF81FFC3C1E780E7007E007FFFFFFFFFFFFE000E000700778073C0F1FFE0FFC03F010127D9116>101 D<001F00007F8000FF8001E78001C30001C00001C0007FFF00FFFF00FFFF0001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0003FFE007FFF003FFE0011197F9816>I<FFC000FFC000FFC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C000FFFF80FFFF80FFFF8011197E9816>108 D<F9C380FFEFC0FFFFE03C78E03C78E03870E03870E03870E03870E03870E03870E03870E03870E03870E03870E0FE7CF8FE7CF8FE3C781512809116>I<03E0000FF8001FFC003C1E00780F00700700E00380E00380E00380E00380E00380F00780700700780F003C1E001FFC000FF80003E00011127E9116>111 D<FF0FC0FF3FE0FF7FE007F04007C000078000078000070000070000070000070000070000070000070000070000FFFC00FFFC00FFFC0013127F9116>114 D E /Fe 2 16 df<FFFFFF80FFFFFF8019027D8A20>0D<03C00FF01FF83FFC7FFE7FFEFFFFFFFFFFFFFFFF7FFE7FFE3FFC1FF80FF003C010107E9115>15 D E /Ff 22 122 df<FFFE08027D870D>45 D<072008E018E0306030C060C060C060C0C180C188C1884388659038E00D0E7C8D12>97 D<3E000C000C000C000C0018001800180018003700388030C030C060C060C060C060C0C180C180C1004300660038000A177C9610>I<03C00C6018E030E030006000600060004000C0004020604021801E000B0E7C8D10>I<007C00180018001800180030003000300030076008E018E0306030C060C060C060C0C180C188C1884388659038E00E177C9612>I<07001880304060404080FF00C000C000C0008000C040C08043003C000A0E7B8D10>I<01C8023806380C180C3018301830183030603060306010E019C00EC000C000C06180E180C3007C000D147E8D10>103 D<1F0006000600060006000C000C000C000C0019C01A601C201830306030603060306060C060C461846188C098C0E00E177D9612>I<030706000000000000384C4C4C8C18181830326262243808177D960B>I<1F0006000600060006000C000C000C000C001870189819381A30340038003E0033006300631063106310C320C1C00D177D9610>107 D<3E0C0C0C0C181818183030303060606060C0D0D0D0D06007177C9609>I<38787800448C8C0047050400460604008C0C0C000C0C0C000C0C0C000C0C0C00181818001818188018183080181831003030130030301C00190E7D8D1D>I<387044984708460C8C180C180C180C18183018311861186230263038100E7D8D14>I<078018C0304060606060C060C060C06080C080C08180C10046003C000B0E7B8D12>I<1C702288230C230C460C060C060C060C0C180C180C100C301A601B8018001800300030003000FC000E147E8D12>I<38F04518463846308C000C000C000C001800180018001800300030000D0E7D8D0F>114D<07800C4018E018E038001E001F8007C000C060C0E0C0C180C3003E000B0E7D8D0F>I<030003000600060006000600FF800C000C000C001800180018001800300031003100310032001C0009147D930C>I<1C0826184618461886300C300C300C30186018621862186208E407380F0E7D8D13>I<1C1026184618461886100C100C100C101820182018401840088007000D0E7D8D10>I<1C0410260C18460C18460C188618100C18100C18100C18101830201830201830401830400C5880078F00150E7D8D18>I<1C0826184618461886300C300C300C30186018601860186008C007C000C000807180730066003C000D147D8D11>121 D E /Fg 78 125 df<00FCF807839C0E079C1C07081C07001C07001C07001C07001C0700FFFFE01C07001C07001C07001C07001C07001C07001C07001C07001C07001C07001C07001C0700FF1FE01617809615>11 D<00FC000782000E07001C07001C02001C00001C00001C00001C0000FFFF001C07001C07001C07001C07001C07001C07001C07001C07001C07001C07001C07001C0700FF1FE01317809614>I<00FF000707000E07001C07001C07001C07001C07001C07001C0700FFFF001C07001C07001C07001C07001C07001C07001C07001C07001C07001C07001C07001C0700FFBFE01317809614>I<00FC7E000703C1000E0783801C0703801C0701001C0700001C0700001C0700001C070000FFFFFF801C0703801C0703801C0703801C0703801C0703801C0703801C0703801C0703801C0703801C0703801C0703801C070380FF1FCFF01C1780961D>I<60C0F1E0F1E070E01020102020402040408040800B0A7F9612>34 D<1C00183200186180706161E0E09E60E080C0E08180E08180E08300E08300610600610C00320C001C18380030640030C20060C200C1C100C1C10181C10181C10301C10601C10600C20C00C2180064080038181B7E981D>37D<60F0F070101020204040040A7D960A>39 D<0102040C1818303070606060E0E0E0E0E0E0E0E0E0E060606070303018180C04020108227D980E>I<8040203018180C0C0E060606070707070707070707070606060E0C0C18183020408008227E980E>I<003000003000003000003000003000003000003000003000003000003000003000FFFFFCFFFFFC00300000300000300000300000300000300000300000300000300000300000300016187E931B>43 D<60F0F070101020204040040A7D830A>I<FF80FF80090280870C>I<60F0F06004047D830A>I<0008001800300030003000600060006000C000C000C0018001800180030003000600060006000C000C000C00180018001800300030003000600060006000C000C0000D217E9812>I<07C018303018701C600C600CE00EE00EE00EE00EE00EE00EE00EE00EE00E600C600C701C30181C7007C00F157F9412>I<03000700FF00070007000700070007000700070007000700070007000700070007000700070007007FF00C157E9412>I<0F8030E040708030C038E0384038003800700070006000C00180030006000C08080810183FF07FF0FFF00D157E9412>I<0FE030306018701C701C001C00180038006007E000300018000C000E000EE00EE00EC00C401830300FE00F157F9412>I<00300030007000F001F001700270047008701870107020704070C070FFFE0070007000700070007003FE0F157F9412>I<20303FE03FC0240020002000200020002F8030E020700030003800384038E038E0388030406020C01F000D157E9412>I<01F00608080C181C301C70006000E000E3E0EC30F018F00CE00EE00EE00E600E600E300C3018183007C00F157F9412>I<40007FFE7FFC7FF8C008801080200040008000800100010003000200060006000E000E000E000E000E0004000F167E9512>I<07E018302018600C600C700C78183E101F600FC00FF018F8607C601EC00EC006C006C004600C38300FE00F157F9412>I<07C0183030186018E00CE00CE00EE00EE00E601E301E186E0F8E000E000C001C70187018603020C01F800F157F9412>I<60F0F06000000000000060F0F060040E7D8D0A>I<60F0F06000000000000060F0F07010102020404004147D8D0A>I<001000003800003800003800005C00005C00005C00008E00008E00008E0001070001070003078002038002038007FFC00401C00401C00800E00800E01800E03800F0FE03FE17177F961A>65 D<FFFE001C03801C00E01C00601C00701C00701C00701C00701C00E01C01C01FFF801FFFC01C00E01C00701C00301C00381C00381C00381C00381C00701C00E01C01C0FFFF0015177F9619>I<00FC100383300E00B01C0070380030300030700010600010E00010E00000E00000E00000E00000E00000E000106000107000103000203800201C00400E008003830000FC0014177E9619>I<FFFF001C01C01C00E01C00301C00381C00181C001C1C000C1C000E1C000E1C000E1C000E1C000E1C000E1C000E1C000C1C001C1C001C1C00381C00301C00601C01C0FFFF0017177F961B>I<FFFFE01C00E01C00601C00201C00101C00101C00101C04001C04001C04001C0C001FFC001C0C001C04001C04081C04081C00081C00181C00101C00101C00301C00F0FFFFF015177F9618>I<FFFFE01C00E01C00601C00201C00101C00101C00101C04001C04001C04001C0C001FFC001C0C001C04001C04001C04001C00001C00001C00001C00001C00001C0000FFC00014177F9617>I<007E080381980600580C0038180018300018700008700008E00008E00000E00000E00000E00000E003FEE000387000387000383000381800380C00380600380380D8007F0817177E961C>I<FF83FE1C00701C00701C00701C00701C00701C00701C00701C00701C00701C00701FFFF01C00701C00701C00701C00701C00701C00701C00701C00701C00701C0070FF83FE17177F961A>I<FFE00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E00FFE00B177F960D>I<0FFC00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E0E0E0E0E0C1C061801F000E177E9612>I<FF80FE1C00781C00601C00401C00801C01001C06001C08001C10001C38001C78001C9C001D0E001E0E001C07001C03801C01C01C01C01C00E01C00701C00781C007CFF80FF18177F961B>I<FFC0001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00201C00201C00201C00601C00601C00401C00C01C03C0FFFFC013177F9616>I<FE0003F81E0003C0170005C0170005C0170005C0138009C0138009C011C011C011C011C011C011C010E021C010E021C0107041C0107041C0107041C0103881C0103881C0101D01C0101D01C0100E01C0100E01C0380E01C0FE040FF81D177F9620>I<FC00FE1E00381F001017001013801011C01011C01010E010107010103810103810101C10100E10100F101007101003901001D01001D01000F0100070100030380030FE001017177F961A>I<00FC000303000E01C01C00E0380070300030700038600018E0001CE0001CE0001CE0001CE0001CE0001CE0001C7000387000383000303800701C00E00E01C003030000FC0016177E961B>I<FFFE001C03801C00C01C00601C00701C00701C00701C00701C00601C00C01C03801FFE001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0000FF800014177F9618>I<FFFC001C03801C00C01C00E01C00701C00701C00701C00701C00E01C00C01C03801FFE001C07801C01C01C00E01C00E01C00E01C00E01C00E01C00E11C00E11C0072FF803C18177F961A>82D<0FC4302C601C400CC004C004C004E00070007F003FE00FF801FC001C000E0006800680068006C004E008D81087E00F177E9614>I<7FFFF860381840380840380880380480380480380400380000380000380000380000380000380000380000380000380000380000380000380000380000380000380007FFC016177F9619>I<FF80FE1C00381C00101C00101C00101C00101C00101C00101C00101C00101C00101C00101C00101C00101C00101C00101C00101C00100E0020060020030040018180007E0017177F961A>I<FF07FC3F803C01E00E001C00E004001C00E004001C017004000E017008000E017008000E023808000702381000070238100007041C100003841C200003841C200003880E200001C80E400001C80E400001D80F400000F007800000F007800000F007800000600300000060030000006003000021177F9624>87 D<FFC03F801E001C000F00080007001000078030000380200001C0400001E0400000E0800000F1800000710000003A0000003E0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C000000FF8000191780961A>89D<FCFCC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0FCFC06217D980A>91 D<204020404080408081008100E1C0F1E0F1E060C00B0A7B9612>I<FCFC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0CFCFC062180980A>I<1FC0386038301038003803F81E3830387038E039E039E07970FF1F1E100E7F8D12>97 D<FC00001C00001C00001C00001C00001C00001C00001C00001C00001CF8001F06001C03001C03801C01801C01C01C01C01C01C01C01C01C01801C03801C03001B0E0010F8001217809614>I<07F01838303870106000E000E000E000E000600070083008183007C00D0E7F8D10>I<007E00000E00000E00000E00000E00000E00000E00000E00000E0007CE001C3E00300E00700E00600E00E00E00E00E00E00E00E00E00600E00700E00301E00182E0007CFC012177F9614>I<0FC0186030307038E018FFF8E000E000E000600070083010183007C00D0E7F8D10>I<03E006700E701C201C001C001C001C001C00FF801C001C001C001C001C001C001C001C001C001C001C001C00FF800C1780960B>I<0F9E18E33060707070707070306018C02F80200060003FE03FF83FFC600EC006C006C006600C38380FE010157F8D12>I<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C7C001D8E001E07001C07001C07001C07001C07001C07001C07001C07001C07001C07001C0700FF9FE01317809614>I<183C3C1800000000007C1C1C1C1C1C1C1C1C1C1C1C1CFF081780960A>I<0300078007800300000000000000000000001F800380038003800380038003800380038003800380038003800380038003804380E300E7007C00091D82960B>I<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C3F801C1C001C18001C20001C40001CC0001FE0001CF0001C70001C78001C3C001C1E001C1E00FF3FC01217809613>I<FC001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF80091780960A>I<FC7C1F001D8E63801E0781C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C0FF9FE7F81D0E808D1E>I<FC7C001D8E001E07001C07001C07001C07001C07001C07001C07001C07001C07001C07001C0700FF9FE0130E808D14>I<07C018303018600C600CE00EE00EE00EE00EE00E701C3018183007C00F0E7F8D12>I<FCF8001F0E001C03001C03801C01801C01C01C01C01C01C01C01C01C01801C03801C07001F0E001CF8001C00001C00001C00001C00001C0000FF80001214808D14>I<07C2001C2600381E00700E00600E00E00E00E00E00E00E00E00E00600E00700E00301E001C2E0007CE00000E00000E00000E00000E00000E00007FC012147F8D13>I<FCF01D381E381C101C001C001C001C001C001C001C001C001C00FF800D0E808D0E>I<1F4060C0C040C040E000FF007F801FC001E080608060C060E0C09F000B0E7F8D0E>I<080008000800180018003800FF80380038003800380038003800380038403840384038401C800F000A147F930E>I<FC3F001C07001C07001C07001C07001C07001C07001C07001C07001C07001C07001C0F000E170003E7E0130E808D14>I<FE1F3C0E3C0C1C081C080E100E100720072003C003C003C001800180100E7F8D13>I<FCFE7C3838383838101C3C201C3C201C4C200E4E400E4E400E8640078780078780070380030300030300160E7F8D19>I<FE3F3C181C100E20074007C0038001C002E004F008701838383CFC7F100E7F8D13>I<FE1F3C0E3C0C1C081C080E100E100720072003C003C003C00180018001000100E200E200A400780010147F8D13>I<FFF0C0E080E081C08380878007000E001E081C08381870107030FFF00D0E7F8D10>I<FFFFFFFFC02201808823>124 D E /Fh 1158 df<00C00000C00000C00000C00000C00000C00000C00000C00000C000FFFF80FFFF8000C00000C00000C00000C00000C00000C00000C00000C00000C00011147E8F17>43D<1F00318060C04040C060C060C060C060C060C060C060C060404060C031801F000B107F8F0F>48 D<0C003C00CC000C000C000C000C000C000C000C000C000C000C000C000C00FF8009107E8F0F>I<1F00618040C08060C0600060006000C00180030006000C00102020207FC0FFC00B107F8F0F>I<1F00218060C060C000C0008001800F00008000400060C060C060804060801F000B107F8F0F>I<0300030007000F000B001300330023004300C300FFE003000300030003001FE00B107F8F0F>I<20803F002C002000200020002F0030802040006000600060C06080C061801F000B107F8F0F>I<0780184030C060C06000C000CF00F080E040C060C060C060406060C030801F000B107F8F0F>I<40007FE07FC08080808001000200040004000C0008000800180018001800180018000B117E900F>I<1F00318060C060C060C071803F000F00338061C0C060C060C060404060801F000B107F8F0F>I<1F00318060C0C040C060C060C06040E021E01E600060004060C0608043003E000B107F8F0F>I E /Fi 57 123 df<000FF83F00007FFDFFC001F81FE3E003E03F87E007C03F87E00F803F07E00F803F03C00F801F00000F801F00000F801F00000F801F00000F801F00000F801F0000FFFFFFFC00FFFFFFFC000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00007FF0FFF0007FF0FFF00023237FA221>11D<387CFEFFFF7F3B03030706060C1C18702008117CA210>39 D<FFFCFFFCFFFCFFFC0E047F8C13>45 D<387CFEFEFE7C3807077C8610>I<00180000780001F800FFF800FFF80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F8007FFFE07FFFE013207C9F1C>49 D<03FC000FFF003C1FC07007E07C07F0FE03F0FE03F8FE03F8FE01F87C01F83803F80003F80003F00003F00007E00007C0000F80001F00003E0000380000700000E01801C0180380180700180E00380FFFF01FFFF03FFFF07FFFF0FFFFF0FFFFF015207D9F1C>I<00FE0007FFC00F07E01E03F03F03F03F81F83F81F83F81F81F03F81F03F00003F00003E00007C0001F8001FE0001FF000007C00001F00001F80000FC0000FC3C00FE7E00FEFF00FEFF00FEFF00FEFF00FC7E01FC7801F81E07F00FFFC001FE0017207E9F1C>I<0000E00001E00003E00003E00007E0000FE0001FE0001FE00037E00077E000E7E001C7E00187E00307E00707E00E07E00C07E01807E03807E07007E0E007E0FFFFFEFFFFFE0007E00007E00007E00007E00007E00007E00007E000FFFE00FFFE17207E9F1C>I<1000201E01E01FFFC01FFF801FFF001FFE001FF8001BC00018000018000018000018000019FC001FFF001E0FC01807E01803E00003F00003F00003F80003F83803F87C03F8FE03F8FE03F8FC03F0FC03F07007E03007C01C1F800FFF0003F80015207D9F1C>I<001F8000FFE003F07007C0F00F01F81F01F83E01F83E01F87E00F07C00007C0000FC0800FC7FC0FCFFE0FD80F0FF00F8FE007CFE007CFC007EFC007EFC007EFC007E7C007E7C007E7C007E3C007C3E007C1E00F80F00F00783E003FFC000FF0017207E9F1C>I<6000007800007FFFFE7FFFFE7FFFFC7FFFF87FFFF87FFFF0E00060E000C0C00180C00300C00300000600000C00001C0000180000380000780000780000F00000F00000F00001F00001F00001F00003F00003F00003F00003F00003F00003F00003F00001E00017227DA11C>I<00FE0003FFC00703E00E00F01C00F01C00783C00783E00783F00783F80783FE0F01FF9E01FFFC00FFF8007FFC003FFE007FFF01E7FF83C1FFC7807FC7801FEF000FEF0003EF0001EF0001EF0001CF8001C7800383C00381F01F00FFFC001FF0017207E9F1C>I<01FE0007FF800F83E01E01F03E00F07C00F87C0078FC007CFC007CFC007CFC007EFC007EFC007EFC007E7C00FE7C00FE3E01FE1E037E0FFE7E07FC7E00207E00007C00007C1E007C3F00F83F00F83F00F03F01E01E03C01C0F800FFE0003F80017207E9F1C>I<000070000000007000000000F800000000F800000000F800000001FC00000001FC00000003FE00000003FE00000003FE00000006FF000000067F0000000E7F8000000C3F8000000C3F800000183FC00000181FC00000381FE00000300FE00000300FE00000600FF000006007F00000E007F80000FFFFF80000FFFFF800018001FC00018001FC00038001FE00030000FE00030000FE000600007F000600007F00FFE00FFFF8FFE00FFFF825227EA12A>65D<FFFFFF8000FFFFFFE00007F001F80007F000FC0007F0007E0007F0007E0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007E0007F000FE0007F000FC0007F003F80007FFFFF00007FFFFF00007F001FC0007F0007E0007F0003F0007F0003F8007F0001F8007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0003F8007F0003F8007F0007F0007F001FE00FFFFFFF800FFFFFFC00022227EA128>I<0003FE0080001FFF818000FF01E38001F8003F8003E0001F8007C0000F800F800007801F800007803F000003803F000003807F000001807E000001807E00000180FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE000000007E000000007E000001807F000001803F000001803F000003801F800003000F8000030007C000060003F0000C0001F800380000FF00F000001FFFC0000003FE000021227DA128>I<FFFFFF8000FFFFFFF00007F003FC0007F0007E0007F0003F0007F0001F8007F0000FC007F00007E007F00007E007F00007F007F00003F007F00003F007F00003F007F00003F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F007F00003F007F00003F007F00007E007F00007E007F0000FC007F0001F8007F0003F0007F0007E0007F003FC00FFFFFFF000FFFFFF800025227EA12B>I<FFFFFFFCFFFFFFFC07F000FC07F0003C07F0001C07F0000C07F0000E07F0000E07F0000607F0180607F0180607F0180607F0180007F0380007F0780007FFF80007FFF80007F0780007F0380007F0180007F0180007F0180307F0180307F0000307F0000607F0000607F0000607F0000E07F0000E07F0001E07F0003E07F001FCFFFFFFFCFFFFFFFC20227EA125>I<FFFFFFF8FFFFFFF807F001F807F0007807F0003807F0001807F0001C07F0001C07F0000C07F0000C07F0180C07F0180C07F0180007F0180007F0380007F0780007FFF80007FFF80007F0780007F0380007F0180007F0180007F0180007F0180007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000FFFFE000FFFFE0001E227EA123>I<0003FE0040001FFFC0C0007F00F1C001F8003FC003F0000FC007C00007C00FC00003C01F800003C03F000001C03F000001C07F000000C07E000000C07E000000C0FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE000FFFFC7E000FFFFC7F00001FC07F00001FC03F00001FC03F00001FC01F80001FC00FC0001FC007E0001FC003F0001FC001FC003FC0007F80E7C0001FFFC3C00003FF00C026227DA12C>I<FFFF83FFFEFFFF83FFFE07F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007FFFFFFC007FFFFFFC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC0FFFF83FFFEFFFF83FFFE27227EA12C>I<FFFFE0FFFFE003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F800FFFFE0FFFFE013227FA115>I<FFFFE000FFFFE00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0001807F0001807F0001807F0001807F0003807F0003807F0007007F0007007F000F007F001F007F007F0FFFFFFF0FFFFFFF01D227EA122>76 D<FFF000000FFFFFF800001FFF07F800001FE006FC000037E006FC000037E006FC000037E0067E000067E0067E000067E0063F0000C7E0063F0000C7E0061F800187E0061F800187E0060FC00307E0060FC00307E0060FC00307E00607E00607E00607E00607E00603F00C07E00603F00C07E00601F81807E00601F81807E00601F81807E00600FC3007E00600FC3007E006007E6007E006007E6007E006003FC007E006003FC007E006001F8007E006001F8007E006001F8007E006000F0007E0FFF00F00FFFFFFF00600FFFF30227EA135>I<FFF8001FFEFFFC001FFE07FC0000C007FE0000C006FF0000C0067F8000C0063FC000C0061FE000C0060FE000C0060FF000C00607F800C00603FC00C00601FE00C00600FE00C00600FF00C006007F80C006003FC0C006001FE0C006000FF0C0060007F0C0060007F8C0060003FCC0060001FEC0060000FFC00600007FC00600007FC00600003FC00600001FC00600000FC006000007C006000003C006000003C0FFF00001C0FFF00000C027227EA12C>I<0007FC0000003FFF800000FC07E00003F001F80007E000FC000FC0007E001F80003F001F80003F003F00001F803F00001F807F00001FC07E00000FC07E00000FC0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE07E00000FC07F00001FC07F00001FC03F00001F803F80003F801F80003F000FC0007E0007E000FC0003F001F80000FC07E000003FFF80000007FC000023227DA12A>I<FFFFFF00FFFFFFE007F007F007F001FC07F000FC07F0007E07F0007E07F0007F07F0007F07F0007F07F0007F07F0007F07F0007E07F0007E07F000FC07F001FC07F007F007FFFFE007FFFF0007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000FFFF8000FFFF800020227EA126>I<FFFFFE0000FFFFFFC00007F007F00007F001F80007F000FC0007F0007E0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007E0007F000FC0007F001F80007F007F00007FFFFC00007FFFF800007F00FE00007F007F00007F003F80007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0607F000FE0607F000FF0CFFFF803FF8FFFF800FF027227EA12A>82 D<01FC0407FF8C1F03FC3C007C7C003C78001C78001CF8000CF8000CFC000CFC0000FF0000FFE0007FFF007FFFC03FFFF01FFFF80FFFFC03FFFE003FFE0003FF00007F00003F00003FC0001FC0001FC0001FE0001EE0001EF0003CFC003CFF00F8C7FFE080FF8018227DA11F>I<7FFFFFFF807FFFFFFF807E03F80F807803F807807003F803806003F80180E003F801C0E003F801C0C003F800C0C003F800C0C003F800C0C003F800C00003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8000003FFFFF80003FFFFF80022227EA127>I<FFFF800FFEFFFF800FFE07F00000C007F80000C003F800018003F800018001FC00030001FC00030001FE00070000FE00060000FF000600007F000C00007F800C00003F801800003F801800003FC03800001FC03000001FE03000000FE06000000FF060000007F0C0000007F0C0000007F9C0000003F980000003FD80000001FF00000001FF00000000FE00000000FE00000000FE000000007C000000007C00000000380000000038000027227FA12A>86 D<FFFF0FFFF01FFEFFFF0FFFF01FFE0FF000FF0000E007F0007F0000C007F0007F0000C003F8007F80018003F8003F80018003FC003F80038001FC003FC0030001FC003FC0030000FE007FE0060000FE006FE0060000FF006FE00600007F00C7F00C00007F00C7F00C00007F80C7F81C00003F8183F81800003F8183F81800001FC383FC3000001FC301FC3000001FE301FC3000000FE600FE6000000FE600FE6000000FF600FFE0000007FC007FC0000007FC007FC0000003FC007F80000003F8003F80000003F8003F80000001F0001F00000001F0001F00000000F0001E00000000E0000E00000000E0000E000037227FA13A>I<07FC001FFF803F07C03F03E03F01E03F01F01E01F00001F00001F0003FF003FDF01FC1F03F01F07E01F0FC01F0FC01F0FC01F0FC01F07E02F07E0CF81FF87F07E03F18167E951B>97 D<FF000000FF0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0FE0001F3FF8001FF07C001F801E001F001F001F000F801F000F801F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000F801F001F801F801F001FC03E001EE07C001C3FF800180FC0001A237EA21F>I<00FF8007FFE00F83F01F03F03E03F07E03F07C01E07C0000FC0000FC0000FC0000FC0000FC0000FC00007C00007E00007E00003E00301F00600FC0E007FF8000FE0014167E9519>I<0001FE000001FE0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0001FC3E0007FFBE000F81FE001F007E003E003E007E003E007C003E00FC003E00FC003E00FC003E00FC003E00FC003E00FC003E00FC003E00FC003E007C003E007C003E003E007E001E00FE000F83BE0007FF3FC001FC3FC01A237EA21F>I<00FE0007FF800F87C01E01E03E01F07C00F07C00F8FC00F8FC00F8FFFFF8FFFFF8FC0000FC0000FC00007C00007C00007E00003E00181F00300FC07003FFC000FF0015167E951A>I<003F8000FFC001E3E003C7E007C7E00F87E00F83C00F80000F80000F80000F80000F80000F8000FFFC00FFFC000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80007FF8007FF80013237FA211>I<03FC1E0FFF7F1F0F8F3E07CF3C03C07C03E07C03E07C03E07C03E07C03E03C03C03E07C01F0F801FFF0013FC003000003000003800003FFF801FFFF00FFFF81FFFFC3800FC70003EF0001EF0001EF0001EF0001E78003C7C007C3F01F80FFFE001FF0018217E951C>I<FF000000FF0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F07E0001F1FF8001F307C001F403C001F803E001F803E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E00FFE1FFC0FFE1FFC01A237EA21F>I<1C003F007F007F007F003F001C000000000000000000000000000000FF00FF001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FFE0FFE00B247EA310>I<0038007C00FE00FE00FE007C0038000000000000000000000000000003FE03FE003E003E003E003E003E003E003E003E003E003E003E003E003E003E003E003E003E003E003E003E003E003E003E783EFC3EFC3CFC7C78F87FE01F800F2E83A311>I<FF000000FF0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F00FF801F00FF801F0038001F0060001F01C0001F0380001F0700001F0E00001F1C00001F7E00001FFF00001FCF00001F0F80001F07C0001F03E0001F01E0001F01F0001F00F8001F007C001F003C00FFE0FFC0FFE0FFC01A237EA21E>I<FF00FF001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FFE0FFE00B237EA210>I<FF07F007F000FF1FFC1FFC001F303E303E001F403E403E001F801F801F001F801F801F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FFE0FFE0FFE0FFE0FFE0FFE02B167E9530>I<FF07E000FF1FF8001F307C001F403C001F803E001F803E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E00FFE1FFC0FFE1FFC01A167E951F>I<00FE0007FFC00F83E01E00F03E00F87C007C7C007C7C007CFC007EFC007EFC007EFC007EFC007EFC007EFC007E7C007C7C007C3E00F81F01F00F83E007FFC000FE0017167E951C>I<FF0FE000FF3FF8001FF07C001F803E001F001F001F001F801F001F801F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F001F801F001F801F803F001FC03E001FE0FC001F3FF8001F0FC0001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F000000FFE00000FFE000001A207E951F>I<00FE030007FF87000FC1C7001F006F003F003F007E003F007E001F007C001F00FC001F00FC001F00FC001F00FC001F00FC001F00FC001F00FC001F007E001F007E001F003E003F001F007F000FC1DF0007FF9F0001FC1F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F000000FFE00000FFE01B207E951E>I<FE1F00FE3FC01E67E01EC7E01E87E01E87E01F83C01F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F0000FFF000FFF00013167E9517>I<0FF3003FFF00781F00600700E00300E00300F00300FC00007FE0007FF8003FFE000FFF0001FF00000F80C00780C00380E00380E00380F00700FC0E00EFFC00C7F00011167E9516>I<0180000180000180000180000380000380000780000780000F80003F8000FFFF00FFFF000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F81800F81800F81800F81800F81800F830007C30003FE0000F80011207F9F16>I<FF01FE00FF01FE001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F007E001F00FE000F81BE0007FF3FC001FC3FC01A167E951F>I<FFE01FE0FFE01FE00F8006000F8006000FC00E0007C00C0007E01C0003E0180003E0180001F0300001F0300000F8600000F86000007CC000007CC000007FC000003F8000003F8000001F0000001F0000000E0000000E00001B167F951E>I<FFE7FF07F8FFE7FF07F81F007800C00F807801800F807C01800F807C018007C07E030007C0DE030007E0DE070003E0DF060003E18F060001F18F0C0001F38F8C0001FB079C0000FB07D80000FE03D800007E03F000007E03F000007C01F000003C01E000003800E000001800C00025167F9528>I<FFE01FE0FFE01FE00F8006000F8006000FC00E0007C00C0007E01C0003E0180003E0180001F0300001F0300000F8600000F86000007CC000007CC000007FC000003F8000003F8000001F0000001F0000000E0000000E0000000C0000000C00000018000078180000FC380000FC300000FC60000069C000007F8000001F0000001B207F951E>121D<7FFFF07FFFF07C03E07007C0600FC0E01F80C01F00C03E00C07E0000FC0000F80001F00003F03007E03007C0300F80701F80703F00603E00E07C03E0FFFFE0FFFFE014167E9519>IE /Fj 11 58 df<006000006000006000006000006000006000006000006000006000006000FFFFF0FFFFF000600000600000600000600000600000600000600000600000600000600014167E9119>43 D<0F0030C0606060604020C030C030C030C030C030C030C030C030C03040206060606030C00F000C137E9211>48 D<0C001C00EC000C000C000C000C000C000C000C000C000C000C000C000C000C000C000C00FFC00A137D9211>I<1F0060C06060F070F030603000700070006000C001C00180020004000810101020207FE0FFE00C137E9211>I<0FC030707038703870380038003000E00FC0007000380018001C601CF01CF018E03860701FC00E137F9211>I<006000E000E00160026006600C600860106020606060C060FFFC0060006000600060006003FC0E137F9211>I<60607FC07F8044004000400040004F0070C040E0006000700070E070E070E06040E021C01F000C137E9211>I<07C00C201070207060006000C000CF00D0C0E060C020C030C030C03040306020206010C00F000C137E9211>I<40007FFC7FF8401080108020004000800100010003000200060006000E000E000E000E000E0004000E147E9311>I<0FC0107020186018601870183C303F600F800FE031F06078C01CC00CC00CC00C601830300FC00E137F9211>I<0F00308060404060C020C030C030C0304030607030B00F30003000200060E040E08041003E000C137E9211>I E /Fk49 123 df<0001FC3C00060E67000C0EC7001C0DC6001C01C0003801C0003803800038038000380380003803800070038007FFFFF800700700007007000070070000E0070000E00E0000E00E0000E00E0000E00E0001C00E0001C01C0001C01C0001C01C0001C01C0003801C0003803800038038000380380003003800070030000700700006006000C6606000E470C000C8618000703E00002025819C19>11 D<0001FC000703000C03001C07001C0300180000380000380000380000380000700007FFFC00701C00701C00701C00E03800E03800E03800E03800E07001C07001C07001C07001C0E201C0E201C0E20380E4038064038038038000030000070000060000C60000E40000CC00007000001825819C17>I<0001FDC000070FC0000C0FC0001C0F80001C038000380380003803800038070000380700003807000070070007FFFE0000700E0000700E0000700E0000E01C0000E01C0000E01C0000E01C0000E0380001C0380001C0380001C0380001C0710001C0710003807100038072000380320003801C0003800000030000000700000006000000C6000000E4000000CC000000700000001A25819C18>I<0001FE0FF0000307380C000607700C000C06601C001C00E00C001C00C000001C01C000003801C000003801C000003801C000003803800003FFFFFFF000700380700070038070007003807000700780E000700700E000700700E000E00700E000E00701C000E00701C000E00E01C000E00E01C001C00E038801C00E038801C00E038801C01C039001C01C019003801C00E003801C0000038038000003003800000300300000C630300000E638600000CC30C00000781F0000002625819C25>I<183C3C3C0404080810204080060C779C0D>39 D<183878380808101020404080050C7D830D>44 D<FFC0FFC0FFC00A037D890F>I<3078F06005047C830D>I<01E006180808100C100C200C400C401C8018E038E070C1E003C007800F001C0038003080308031001E000000000000000000000030007800F00060000E1E789D15>63 D<0000180000001800000038000000380000007800000078000000B8000001B800000138000002380000023C0000041C0000041C0000081C0000181C0000101C0000201C0000201C00007FFC0000401C0000801C0001801C0001001C0002001C0002001C0004000E000C000E001C001E00FF00FFC01A1D7E9C1F>65 D<01FFFE00003C0780003803C0003801C0003801C0003801C0007001C0007003C0007003C00070078000E0070000E00E0000E03C0000FFF80001C01C0001C00E0001C00F0001C00F0003800F0003800F0003800F0003800F0007001E0007001C0007003C00070078000E01E000FFFF80001A1C7D9B1D>I<0003F020001E0C60003002E000E003C001C001C0038001C0070000C00E0000801E0000801C0000803C0000803C000000780000007800000078000000F0000000F0000000F0000000F0000000F0000400F0000400F0000400F0000800700008007000100038002000180040000C0180000706000001F800001B1E7A9C1E>I<01FFFE00003C0780003801C0003801C0003800E0003800E0007000F00070007000700070007000F000E000F000E000F000E000F000E000F001C001E001C001E001C001E001C001C0038003C003800380038007800380070007000E0007001C0007003800070070000E01C000FFFF00001C1C7D9B1F>I<0003F020001E0C60003002E000E003C001C001C0038001C0070000C00E0000801E0000801C0000803C0000803C000000780000007800000078000000F0000000F0000000F001FFC0F0001E00F0001C00F0001C00F0001C00F0001C00700038007000380038003800180078000C0090000707100001F800001B1E7A9C20>71 D<01FFCFFE003C01E0003801C0003801C0003801C0003801C00070038000700380007003800070038000E0070000E0070000E0070000FFFF0001C00E0001C00E0001C00E0001C00E0003801C0003801C0003801C0003801C00070038000700380007003800070038000F007800FFE7FF001F1C7D9B1F>I<01FFC0003C0000380000380000380000380000700000700000700000700000E00000E00000E00000E00001C00001C00001C00001C0000380000380000380000380000700000700000700000700000F0000FFE000121C7E9B10>I<01FFE0003C0000380000380000380000380000700000700000700000700000E00000E00000E00000E00001C00001C00001C00001C0000380080380080380080380100700100700300700600700E00E03C0FFFFC0151C7D9B1A>76D<01FE0007F8003E000780002E000F00002E001700002E001700002E002700004E002E00004E004E00004E004E00004E008E00008E011C00008E011C00008E021C00008E021C0001070438000107043800010708380001071038000207107000020720700002072070000207407000040740E000040780E000040700E0000C0700E0001C0601E000FF861FFC00251C7D9B25>I<0007F000001C1C0000700E0000E0070001C0038003800380070003800E0003C01E0003C01C0003C03C0003C03C0003C0780003C0780003C0780003C0F0000780F0000780F0000780F0000F00F0000F00F0000E00F0001E00F0003C0070003800700070007800E0003801C0001C0380000E0E000003F800001A1E7A9C20>79 D<01FFFC00003C070000380380003801C0003801C0003801C0007003C0007003C0007003C00070038000E0078000E0070000E00E0000E0380001FFE00001C0000001C0000001C0000003800000038000000380000003800000070000000700000007000000070000000F000000FFE000001A1C7D9B1C>I<01FFF800003C0E000038070000380380003803800038038000700780007007800070078000700F0000E00E0000E01C0000E0700000FFC00001C0C00001C0600001C0700001C07000038070000380700003807000038070000700F0000700F0400700F0400700F0800F007880FFE0790000001E001A1D7D9B1E>82 D<000F8400304C00403C00801801001803001803001806001006001006000007000007000003E00003FC0001FF00007F800007C00001C00001C00000C00000C02000C02000C0600180600180600300600200F00400CC180083E000161E7D9C17>I<FF83FF0FF03C007001C038007001803800F001003800F0020038017002003801700400380270040038027008001C047008001C047010001C087010001C087020001C107020001C107040001C207040001C207080001C407180001C407100001C807200001D807200001D007400001E007400001E007800001C007800001C00700000180070000018006000001000600000241D779B29>87 D<03CC063C0C3C181C3838303870387038E070E070E070E070E0E2C0E2C0E261E462643C380F127B9115>97D<3F00070007000E000E000E000E001C001C001C001C0039C03E60383038307038703870387038E070E070E070E060E0E0C0C0C1C0618063003C000D1D7B9C13>I<01F007080C08181C3838300070007000E000E000E000E000E000E008E010602030C01F000E127B9113>I<001F80000380000380000700000700000700000700000E00000E00000E00000E0003DC00063C000C3C00181C00383800303800703800703800E07000E07000E07000E07000E0E200C0E200C0E20061E4006264003C3800111D7B9C15>I<01E007100C1018083810701070607F80E000E000E000E000E000E0086010602030C01F000D127B9113>I<0003C0000670000C70001C60001C00001C0000380000380000380000380000380003FF8000700000700000700000700000700000E00000E00000E00000E00000E00001C00001C00001C00001C00001C000038000038000038000030000030000070000C60000E60000CC00007800001425819C0D>I<00F3018F030F06070E0E0C0E1C0E1C0E381C381C381C381C383830383038187818F00F700070007000E000E0C0C0E1C0C3007E00101A7D9113>I<0FC00001C00001C0000380000380000380000380000700000700000700000700000E78000E8C000F0E000E0E001C0E001C0E001C0E001C0E00381C00381C00381C00383800703880703880707080707100E03200601C00111D7D9C15>I<01800380010000000000000000000000000000001C002600470047008E008E000E001C001C001C0038003800710071007100720072003C00091C7C9B0D>I<0006000E0006000000000000000000000000000000F00118021802180438043800380038007000700070007000E000E000E000E001C001C001C001C003800380C300E700CE0078000F24819B0D>I<0FC00001C00001C0000380000380000380000380000700000700000700000700000E0F000E11000E23800E43801C83001C80001D00001E00003F800039C00038E00038E00070E20070E20070E20070E400E06400603800111D7D9C13>I<1F800380038007000700070007000E000E000E000E001C001C001C001C0038003800380038007000700070007000E400E400E400E40068003800091D7C9C0B>I<3C1E0780266318C04683A0E04703C0E08E0380E08E0380E00E0380E00E0380E01C0701C01C0701C01C0701C01C070380380E0388380E0388380E0708380E0710701C0320300C01C01D127C9122>I<3C3C002646004687004707008E07008E07000E07000E07001C0E001C0E001C0E001C1C00381C40381C40383840383880701900300E0012127C9117>I<01E007180C0C180C380C300E700E700EE01CE01CE01CE018E038E030E06060C031801E000F127B9115>I<07870004D98008E0C008E0C011C0E011C0E001C0E001C0E00381C00381C00381C00381800703800703000707000706000E8C000E70000E00000E00001C00001C00001C00001C00003C0000FF8000131A7F9115>I<03C4062C0C3C181C3838303870387038E070E070E070E070E0E0C0E0C0E061E063C03DC001C001C0038003800380038007803FF00E1A7B9113>I<3C3C26C2468747078E068E000E000E001C001C001C001C0038003800380038007000300010127C9112>I<01F006080C080C1C18181C001F001FC00FF007F0007800386030E030C030806060C01F000E127D9111>I<00C001C001C001C00380038003800380FFE00700070007000E000E000E000E001C001C001C001C00384038403840388019000E000B1A7D990E>I<1E0300270700470700470700870E00870E000E0E000E0E001C1C001C1C001C1C001C1C003838803838801838801839001C5900078E0011127C9116>I<1E06270E470E4706870287020E020E021C041C041C041C0818083808181018200C4007800F127C9113>I<1E01832703874703874703838707018707010E07010E07011C0E021C0E021C0E021C0E04180C04181C04181C081C1C100C263007C3C018127C911C>I<070E0019910010E38020E38041C30041C00001C00001C000038000038000038000038000070200670200E70400CB04008B080070F00011127D9113>I<1E03270747074707870E870E0E0E0E0E1C1C1C1C1C1C1C1C38383838183818381C7007F00070007000E0E0C0E1C0818047003C00101A7C9114>I<038207C20FEC08381008001000200040008001000200040008081008383067F043E081C00F127D9111>I E /Fl 4 78 df<60F0F06004047C830C>58D<00010003000600060006000C000C000C0018001800180030003000300060006000C000C000C0018001800180030003000300060006000C000C000C00180018001800300030003000600060006000C000C00010297E9E15>61 D<01FFE0003C0000380000380000380000380000700000700000700000700000E00000E00000E00000E00001C00001C00001C00001C00003800203800203800203800407000407000C0700180700380E00F0FFFFF0171C7E9B1C>76 D<01FE0000FF003E0000F0002E0001E0002E0002E0002E0002E0002E0004E0004E0009C0004E0009C000470011C000470011C0008700238000870043800087004380008700838001070107000107010700010382070001038207000203840E000203880E000203880E000203900E000403A01C000403A01C000401C01C000C01C01C001C01803C00FF8103FF80281C7E9B28>I E /Fm 64 125 df<003FC1FE0001F03F818003C03E01C007C07E03E00F807C03E00F807C03E00F807C01C00F807C00000F807C00000F807C00000F807C0000FFFFFFFFE0FFFFFFFFE00F807C03E00F807C03E00F807C03E00F807C03E00F807C03E00F807C03E00F807C03E00F807C03E00F807C03E00F807C03E00F807C03E00F807C03E00F807C03E00F807C03E07FE1FF0FFC7FE1FF0FFC261D809C28>14 D<781E00FC3F00FC3F00FE3F80FE3F807A1E80020080020080040100040100080200080200300C00401000110E7E9C19>34D<78FCFCFEFE7A0202040408083040070E7D9C0D>39 D<FFE0FFE0FFE0FFE00B047F8A10>45D<78FCFCFCFC7806067D850D>I<03F8000F1E001C07003C07803803807803C07803C07803C0F803E0F803E0F803E0F803E0F803E0F803E0F803E0F803E0F803E0F803E0F803E0F803E07803C07803C03803803C07801C07000F1E0003F800131B7E9A18>48 D<00600001E0000FE000FFE000F3E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E0007FFF807FFF80111B7D9A18>I<07F8001FFE00383F80780FC0FC07C0FC07E0FC03E0FC03E07803E00007E00007C00007C0000F80001F00001E0000380000700000E0000180600300600600600800E01FFFC03FFFC07FFFC0FFFFC0FFFFC0131B7E9A18>I<03F8001FFE003C1F003C0F807C07C07E07C07C07C03807C0000F80000F80001E00003C0003F800001E00000F800007C00007C00007E03007E07807E0FC07E0FC07E0FC07C0780F80781F001FFE0007F800131B7E9A18>I<000180000380000780000F80001F80003F80006F8000CF80008F80018F80030F80060F800C0F80180F80300F80600F80C00F80FFFFF8FFFFF8000F80000F80000F80000F80000F80000F8001FFF801FFF8151B7F9A18>I<1801801FFF001FFE001FFC001FF8001FC00018000018000018000018000019F8001E0E00180F801007800007C00007E00007E00007E07807E0F807E0F807E0F807C0F007C0600F80381F001FFE0007F000131B7E9A18>I<007E0003FF000781800F03C01E07C03C07C03C0380780000780000F80000F8F800FB0E00FA0780FC0380FC03C0F803E0F803E0F803E0F803E07803E07803E07803C03C03C03C07801E0F0007FE0003F800131B7E9A18>I<6000007FFFE07FFFE07FFFC07FFF807FFF80E00300C00600C00C00C0180000300000300000600000E00000E00001E00001C00003C00003C00003C00003C00007C00007C00007C00007C00007C00007C000038000131C7D9B18>I<03F8000FFE001E0F803807803803C07803C07803C07E03C07F83807FC7003FFE001FFC000FFE0007FF801DFF80387FC0781FE0F007E0F003E0F001E0F001E0F001E07801C07803803E07801FFE0003F800131B7E9A18>I<03F8000FFE001E0F003C07807807807803C0F803C0F803C0F803E0F803E0F803E0F803E07807E03807E03C0BE00E1BE003E3E00003E00003C00003C03807C07C07807C0700780F00383C001FF8000FE000131B7E9A18>I<78FCFCFCFC7800000000000078FCFCFCFC7806127D910D>I<00038000000380000007C0000007C0000007C000000FE000000FE000001FF000001BF000001BF0000031F8000031F8000061FC000060FC0000E0FE0000C07E0000C07E0001803F0001FFFF0003FFFF8003001F8003001F8006000FC006000FC00E000FE00C0007E0FFC07FFEFFC07FFE1F1C7E9B24>65 D<FFFFF800FFFFFF000FC01F800FC00FC00FC007C00FC007E00FC007E00FC007E00FC007E00FC007E00FC007C00FC00F800FC03F000FFFFE000FC00F800FC007C00FC007E00FC003E00FC003F00FC003F00FC003F00FC003F00FC003F00FC007E00FC007E00FC01FC0FFFFFF00FFFFFC001C1C7E9B22>I<001FE02000FFF8E003F80FE007C003E00F8001E01F0000E03E0000E03E0000607E0000607C000060FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0000007C0000607E0000603E0000603E0000C01F0000C00F80018007C0030003F80E0000FFFC00001FE0001B1C7D9B22>I<FFFFF800FFFFFF000FC01FC00FC007E00FC001F00FC001F80FC000F80FC000FC0FC0007C0FC0007C0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007C0FC0007C0FC0007C0FC000F80FC000F80FC001F00FC007E00FC01FC0FFFFFF00FFFFF8001F1C7E9B25>I<FFFFFF00FFFFFF000FC01F000FC007000FC003000FC003800FC003800FC181800FC181800FC181800FC180000FC380000FFF80000FFF80000FC380000FC180000FC180000FC180600FC180600FC000E00FC000C00FC000C00FC001C00FC001C00FC003C00FC00F80FFFFFF80FFFFFF801B1C7E9B1F>I<FFFFFF00FFFFFF000FC01F000FC007000FC003000FC003800FC003800FC001800FC181800FC181800FC180000FC180000FC380000FFF80000FFF80000FC380000FC180000FC180000FC180000FC180000FC000000FC000000FC000000FC000000FC000000FC00000FFFF0000FFFF0000191C7E9B1E>I<000FF008007FFE3801FC07F807E001F80F8000781F0000783F0000383E0000387E0000187C000018FC000000FC000000FC000000FC000000FC000000FC000000FC007FFFFC007FFF7C0001F87E0001F83E0001F83F0001F81F0001F80F8001F807E001F801FC07F8007FFE78000FF818201C7D9B26>I<FFFC3FFFFFFC3FFF0FC003F00FC003F00FC003F00FC003F00FC003F00FC003F00FC003F00FC003F00FC003F00FC003F00FFFFFF00FFFFFF00FC003F00FC003F00FC003F00FC003F00FC003F00FC003F00FC003F00FC003F00FC003F00FC003F00FC003F00FC003F0FFFC3FFFFFFC3FFF201C7E9B25>I<FFFFFFFF07E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E0FFFFFFFF101C7F9B12>I<FFFF00FFFF000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0030FC0030FC0030FC0070FC0070FC0060FC00E0FC01E0FC07EFFFFFEFFFFFE181C7E9B1D>76 D<FFC00003FFFFE00007FF0FE00007F00DF0000DF00DF0000DF00DF0000DF00CF80019F00CF80019F00C7C0031F00C7C0031F00C3E0061F00C3E0061F00C1F00C1F00C1F00C1F00C1F00C1F00C0F8181F00C0F8181F00C07C301F00C07C301F00C03E601F00C03E601F00C01FC01F00C01FC01F00C01FC01F00C00F801F00C00F801F0FFC0701FFFFFC0701FFF281C7E9B2D>I<FFE003FFFFE003FF0FF000300FF800300DFC00300CFE00300C7E00300C3F00300C1F80300C1FC0300C0FE0300C07F0300C03F0300C01F8300C01FC300C00FE300C007F300C003F300C001FB00C001FF00C000FF00C0007F00C0003F00C0001F00C0000F00C0000F0FFC00070FFC00030201C7E9B25>I<003FE00001F07C0003C01E000F800F801F0007C01E0003C03E0003E07E0003F07C0001F07C0001F0FC0001F8FC0001F8FC0001F8FC0001F8FC0001F8FC0001F8FC0001F8FC0001F87C0001F07E0003F07E0003F03E0003E03F0007E01F0007C00F800F8003C01E0001F07C00003FE0001D1C7D9B24>I<FFFFF800FFFFFE000FC03F800FC00F800FC007C00FC007E00FC007E00FC007E00FC007E00FC007E00FC007C00FC007C00FC00F800FC03F000FFFFC000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC00000FFFC0000FFFC00001B1C7E9B21>I<FFFFF00000FFFFFE00000FC03F00000FC00F80000FC007C0000FC007E0000FC007E0000FC007E0000FC007E0000FC007E0000FC007C0000FC00F80000FC03E00000FFFF000000FC07C00000FC03E00000FC03F00000FC01F80000FC01F80000FC01F80000FC01F80000FC01F80000FC01F80000FC01F81800FC01F81800FC00FC180FFFC07C300FFFC01FE00211C7E9B24>82D<07F8201FFEE03C07E07801E07000E0F000E0F00060F00060F80000FE0000FFE0007FFE003FFF003FFF800FFFC007FFE0007FE00003F00001F00000F0C000F0C000F0C000E0E000E0F001C0FC03C0EFFF0083FC00141C7D9B1B>I<7FFFFFE07FFFFFE0781F81E0701F80E0601F8060E01F8070C01F8030C01F8030C01F8030C01F8030001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F800007FFFE0007FFFE001C1C7E9B21>I<FFFC03FFFFFC03FF0FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC0003007C0003007C0006003E000E001F001C000FC0780007FFE00000FF800201C7E9B25>I<FFFC01FF80FFFC01FF800FC000180007E000300007E000300007F000700003F000600003F800E00001F800C00001FC00C00000FC01800000FC018000007E030000007E030000007F070000003F060000003F8E0000001F8C0000001FCC0000000FD80000000FD800000007F000000007F000000007F000000003E000000003E000000001C000000001C00000211C7F9B24>I<FFFC7FFE0FFCFFFC7FFE0FFC0FC007E000C00FC007F000C00FE003F001C007E003F0018007E007F8018003F007F8030003F007F8030003F80CFC070001F80CFC060001F81CFE060001FC187E0E0000FC187E0C0000FC387F0C00007E303F1800007E303F1800007F601FB800003F601FB000003FE01FF000003FC00FF000001FC00FE000001FC00FE000000F8007C000000F8007C000000F0003C0000007000380000007000380002E1C7F9B31>I<040100180600200800200800401000401000802000802000BC2F00FE3F80FE3F807E1F807E1F803C0F00110E7B9C19>92D<0FF8001C1E003E0F803E07803E07C01C07C00007C0007FC007E7C01F07C03C07C07C07C0F807C0F807C0F807C0780BC03E13F80FE1F815127F9117>97 D<FF0000FF00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F3F801FE1E01F80701F00781F003C1F003C1F003E1F003E1F003E1F003E1F003E1F003E1F003C1F003C1F00781F80701EC1E01C3F00171D7F9C1B>I<03FC000E0E001C1F003C1F00781F00780E00F80000F80000F80000F80000F80000F800007800007801803C01801C03000E0E0003F80011127E9115>I<000FF0000FF00001F00001F00001F00001F00001F00001F00001F00001F00001F001F9F00F07F01C03F03C01F07801F07801F0F801F0F801F0F801F0F801F0F801F0F801F07801F07801F03C01F01C03F00F0FFE03F9FE171D7E9C1B>I<01FC000F07001C03803C01C07801C07801E0F801E0F801E0FFFFE0F80000F80000F800007800007C00603C00601E00C00F038001FC0013127F9116>I<007F0001E38003C7C00787C00F87C00F83800F80000F80000F80000F80000F8000FFF800FFF8000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80007FF8007FF800121D809C0F>I<03F8F00E0F381E0F381C07303C07803C07803C07803C07801C07001E0F000E0E001BF8001000001800001800001FFF001FFFC00FFFE01FFFF07801F8F00078F00078F000787000707800F01E03C007FF00151B7F9118>I<FF0000FF00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F0FC01F31E01F40F01F80F81F80F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F8FFE7FFFFE7FF181D7F9C1B>I<1E003F003F003F003F001E00000000000000000000000000FF00FF001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FFE0FFE00B1E7F9D0E>I<007800FC00FC00FC00FC007800000000000000000000000003FC03FC007C007C007C007C007C007C007C007C007C007C007C007C007C007C007C007C007C007C707CF87CF878F8F070E01F800E26839D0F>I<FF0000FF00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F0FF81F0FF81F03801F07001F0C001F18001F70001FF8001FFC001FBC001F3E001F1F001F0F001F0F801F07C01F03E0FFC7FCFFC7FC161D7F9C19>I<FF00FF001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FFE0FFE00B1D7F9C0E>I<FF0FC07E00FF31E18F001F40F207801F80FC07C01F80FC07C01F00F807C01F00F807C01F00F807C01F00F807C01F00F807C01F00F807C01F00F807C01F00F807C01F00F807C01F00F807C01F00F807C0FFE7FF3FF8FFE7FF3FF825127F9128>I<FF0FC0FF31E01F40F01F80F81F80F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F8FFE7FFFFE7FF18127F911B>I<01FC000F07801C01C03C01E07800F07800F0F800F8F800F8F800F8F800F8F800F8F800F87800F07800F03C01E01E03C00F078001FC0015127F9118>I<FF3F80FFE1E01F80F01F00781F007C1F003C1F003E1F003E1F003E1F003E1F003E1F003E1F003C1F007C1F00781F80F01FC1E01F3F001F00001F00001F00001F00001F00001F0000FFE000FFE000171A7F911B>I<03F0600F0CE01E07E03C03E07C03E07803E0F803E0F803E0F803E0F803E0F803E0F803E07803E07C03E03C03E01C07E00E0FE003F3E00003E00003E00003E00003E00003E00003E0001FFC001FFC161A7E9119>I<FE3E00FE47001E8F801E8F801E8F801F07001F00001F00001F00001F00001F00001F00001F00001F00001F00001F0000FFF000FFF00011127F9114>I<1FD830786018E018E018F000FF807FE07FF01FF807FC007CC01CC01CE01CE018F830CFC00E127E9113>I<0300030003000300070007000F000F003FFCFFFC1F001F001F001F001F001F001F001F001F001F0C1F0C1F0C1F0C0F08079803F00E1A7F9913>I<FF07F8FF07F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F01F80F01F80786FF01F8FF18127F911B>I<FFC1FCFFC1FC1F00601F80E00F80C00FC0C007C18007C18003E30003E30001F60001F60001FE0000FC0000FC0000780000780000300016127F9119>I<FF8FF8FEFF8FF8FE1F03E0301F03E0301F83E0700F83F0600F86F06007C6F0C007CEF8C007EC79C003EC7D8003F83D8001F83F0001F83F0001F01F0000F01E0000E00E0000E00E001F127F9122>I<FFC7FCFFC7FC1F81800F838007C70003EE0001FC0001F80000F800007C0000FE0001DF00039F00070F800607C00C03E0FF07FCFF07FC16127F9119>I<FFC1FCFFC1FC1F00601F80E00F80C00FC0C007C18007C18003E30003E30001F70001F60000FE0000FC0000FC00007800007800003000003000007000706000F86000F8C000F980007300003E0000161A7F9119>I<3FFF803C1F00303F00303E00607C0060FC0060F80001F00003F00007E00007C1800F81801F81801F03803E03007E07007C0F00FFFF0011127F9115>I<FFFFFFFFFFFE2F01808B30>124 D E /Fn 83 128 df<007E1F0001C1B1800303E3C00703C3C00E03C1800E01C0000E01C0000E01C0000E01C0000E01C0000E01C000FFFFFC000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0007F87FC001A1D809C18>11D<007E0001C1800301800703C00E03C00E01800E00000E00000E00000E00000E0000FFFFC00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C07F87F8151D809C17>I<007FC001C1C00303C00703C00E01C00E01C00E01C00E01C00E01C00E01C00E01C0FFFFC00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C07FCFF8151D809C17>I<003F07E00001C09C18000380F018000701F03C000E01E03C000E00E018000E00E000000E00E000000E00E000000E00E000000E00E00000FFFFFFFC000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C007FC7FCFF80211D809C23>I<6060F0F0F8F86868080808080808101010102020404080800D0C7F9C15>34 D<0F0000C0188000C030600380703807006027FB00E0100600E0100C00E0100C00E0101800E0101800E0103000E0106000602060007020C00030418000188180000F0303C00006062000060C10000C1C08001818080018380400303804006038040060380400C0380400C03804018038040300180803001C0806000C100C000620040003C01E217E9E23>37 D<60F0F8680808081010204080050C7C9C0C>39 D<004000800100020006000C000C0018001800300030007000600060006000E000E000E000E000E000E000E000E000E000E000E000E000600060006000700030003000180018000C000C00060002000100008000400A2A7D9E10>I<800040002000100018000C000C000600060003000300038001800180018001C001C001C001C001C001C001C001C001C001C001C001C0018001800180038003000300060006000C000C00180010002000400080000A2A7E9E10>I<00060000000600000006000000060000000600000006000000060000000600000006000000060000000600000006000000060000FFFFFFE0FFFFFFE0000600000006000000060000000600000006000000060000000600000006000000060000000600000006000000060000000600001B1C7E9720>43 D<60F0F0701010101020204080040C7C830C>I<FFE0FFE00B0280890E>I<60F0F06004047C830C>I<00010003000600060006000C000C000C0018001800180030003000300060006000C000C000C0018001800180030003000300060006000C000C000C00180018001800300030003000600060006000C000C00010297E9E15>I<03C00C301818300C300C700E60066006E007E007E007E007E007E007E007E007E007E007E007E007E00760066006700E300C300C18180C3007E0101D7E9B15>I<030007003F00C70007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000F80FFF80D1C7C9B15>I<07C01830201C400C400EF00FF80FF807F8077007000F000E000E001C001C00380070006000C00180030006010C01180110023FFE7FFEFFFE101C7E9B15>I<07E01830201C201C781E780E781E381E001C001C00180030006007E00030001C001C000E000F000F700FF80FF80FF80FF00E401C201C183007E0101D7E9B15>I<000C00000C00001C00003C00003C00005C0000DC00009C00011C00031C00021C00041C000C1C00081C00101C00301C00201C00401C00C01C00FFFFC0001C00001C00001C00001C00001C00001C00001C0001FFC0121C7F9B15>I<300C3FF83FF03FC020002000200020002000200023E024302818301C200E000E000F000F000F600FF00FF00FF00F800E401E401C2038187007C0101D7E9B15>I<00F0030C06040C0E181E301E300C700070006000E3E0E430E818F00CF00EE006E007E007E007E007E007600760077006300E300C18180C3003E0101D7E9B15>I<4000007FFF807FFF007FFF0040020080040080040080080000100000100000200000600000400000C00000C00001C000018000018000038000038000038000038000078000078000078000078000078000078000030000111D7E9B15>I<03E00C301008200C20066006600660067006780C3E083FB01FE007F007F818FC307E601E600FC007C003C003C003C00360026004300C1C1007E0101D7E9B15>I<03C00C301818300C700C600EE006E006E007E007E007E007E0076007700F300F18170C2707C700060006000E300C780C78187010203030C00F80101D7E9B15>I<60F0F0600000000000000000000060F0F06004127C910C>I<60F0F0600000000000000000000060F0F0701010101020204080041A7C910C>I<0FE03038401CE00EF00EF00EF00E000C001C0030006000C0008001800100010001000100010001000000000000000000000003000780078003000F1D7E9C14>63D<000600000006000000060000000F0000000F0000000F00000017800000178000001780000023C0000023C0000023C0000041E0000041E0000041E0000080F0000080F0000180F8000100780001FFF80003007C0002003C0002003C0006003E0004001E0004001E000C001F001E001F00FF80FFF01C1D7F9C1F>65 D<FFFFC00F00F00F00380F003C0F001C0F001E0F001E0F001E0F001E0F001C0F003C0F00780F01F00FFFE00F00780F003C0F001E0F000E0F000F0F000F0F000F0F000F0F000F0F001E0F001E0F003C0F0078FFFFE0181C7E9B1D>I<001F808000E0618001801980070007800E0003801C0003801C00018038000180780000807800008070000080F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000700000807800008078000080380000801C0001001C0001000E000200070004000180080000E03000001FC000191E7E9C1E>I<FFFFC0000F00F0000F003C000F000E000F0007000F0007000F0003800F0003C00F0001C00F0001C00F0001E00F0001E00F0001E00F0001E00F0001E00F0001E00F0001E00F0001E00F0001C00F0001C00F0003C00F0003800F0007800F0007000F000E000F001C000F007000FFFFC0001B1C7E9B20>I<FFFFFC0F003C0F000C0F00040F00040F00060F00020F00020F02020F02000F02000F02000F06000FFE000F06000F02000F02000F02000F02010F00010F00020F00020F00020F00060F00060F000C0F003CFFFFFC181C7E9B1C>I<FFFFF80F00780F00180F00080F00080F000C0F00040F00040F02040F02000F02000F02000F06000FFE000F06000F02000F02000F02000F02000F00000F00000F00000F00000F00000F00000F00000F8000FFF800161C7E9B1B>I<001F808000E0618001801980070007800E0003801C0003801C00018038000180780000807800008070000080F0000000F0000000F0000000F0000000F0000000F0000000F000FFF0F0000F80700007807800078078000780380007801C0007801C0007800E00078007000B800180118000E06080001F80001C1E7E9C21>I<FFF3FFC00F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000FFFFC000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C00FFF3FFC01A1C7E9B1F>I<FFF00F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F00FFF00C1C7F9B0F>I<1FFF00F800780078007800780078007800780078007800780078007800780078007800780078007800787078F878F878F878F0F040E021C01F00101D7F9B15>I<FFF03FE00F000F000F000C000F0008000F0010000F0020000F0040000F0080000F0100000F0200000F0400000F0E00000F1F00000F2F00000F2780000F4780000F83C0000F01E0000F01E0000F00F0000F00F8000F0078000F003C000F003C000F001E000F001F000F001F80FFF07FF01C1C7E9B20>I<FFF8000F80000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00080F00080F00080F00180F00180F00100F00300F00700F01F0FFFFF0151C7E9B1A>I<FF8000FF800F8000F8000F8000F8000BC00178000BC00178000BC001780009E002780009E002780008F004780008F004780008F0047800087808780008780878000878087800083C107800083C107800083C107800081E207800081E207800081E207800080F407800080F40780008078078000807807800080780780008030078001C03007800FF8307FF80211C7E9B26>I<FF007FC00F800E000F8004000BC0040009E0040009E0040008F0040008F8040008780400083C0400083C0400081E0400080F0400080F0400080784000807C4000803C4000801E4000801E4000800F40008007C0008007C0008003C0008003C0008001C0008000C001C000C00FF8004001A1C7E9B1F>I<003F800000E0E0000380380007001C000E000E001C0007003C00078038000380780003C0780003C0700001C0F00001E0F00001E0F00001E0F00001E0F00001E0F00001E0F00001E0F00001E0700001C0780003C0780003C0380003803C0007801C0007000E000E0007001C000380380000E0E000003F80001B1E7E9C20>I<FFFF800F00E00F00780F003C0F001C0F001E0F001E0F001E0F001E0F001E0F001C0F003C0F00780F00E00FFF800F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0000FFF000171C7E9B1C>I<FFFF00000F01E0000F0078000F003C000F001C000F001E000F001E000F001E000F001E000F001C000F003C000F0078000F01E0000FFF00000F03C0000F00E0000F00F0000F0078000F0078000F0078000F0078000F0078000F0078000F0078100F0078100F0038100F003C20FFF01C20000007C01C1D7E9B1F>82 D<07E0801C1980300580700380600180E00180E00080E00080E00080F00000F800007C00007FC0003FF8001FFE0007FF0000FF80000F800007C00003C00001C08001C08001C08001C0C00180C00180E00300D00200CC0C0083F800121E7E9C17>I<7FFFFFC0700F01C0600F00C0400F0040400F0040C00F0020800F0020800F0020800F0020000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000001F800003FFFC001B1C7F9B1E>I<FFF07FC00F000E000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000700080007800800038010000180100000C020000070C000001F00001A1D7E9B1F>I<FFE00FF01F0003C00F0001800F0001000F800300078002000780020003C0040003C0040003C0040001E0080001E0080001F0080000F0100000F0100000F830000078200000782000003C4000003C4000003C4000001E8000001E8000001F8000000F0000000F00000006000000060000000600001C1D7F9B1F>I<FFE0FFE0FF1F001F003C1E001E00180F001F00100F001F00100F001F001007801F00200780278020078027802003C027804003C043C04003C043C04003E043C04001E081E08001E081E08001E081E08000F100F10000F100F10000F100F100007900FA00007A007A00007A007A00003E007C00003C003C00003C003C00003C003C00001800180000180018000018001800281D7F9B2B>I<7FF0FFC00FC03E000780180003C0180003E0100001E0200001F0600000F0400000788000007D8000003D0000001E0000001F0000000F0000000F8000000F80000013C0000023E0000021E0000041F00000C0F8000080780001007C0003003C0002001E0006001F001F003F80FFC0FFF01C1C7F9B1F>I<FFF007FC0F8001E00780008007C0018003C0010003E0020001F0020000F0040000F8040000780800007C1800003C1000001E2000001F2000000F4000000FC0000007800000078000000780000007800000078000000780000007800000078000000780000007800000078000007FF8001E1C809B1F>I<7FFFF07C01F07001E06003C06003C0400780400F80400F00401E00001E00003C00007C0000780000F00000F00001E00003E00003C0100780100780100F00101F00301E00203C00203C00607800E0F803E0FFFFE0141C7E9B19>I<FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0FEFE07297C9E0C>I<08081010202040404040808080808080B0B0F8F8787830300D0C7A9C15>I<FEFE06060606060606060606060606060606060606060606060606060606060606060606060606FEFE0729809E0C>I<1FC000307000783800781C00301C00001C00001C0001FC000F1C00381C00701C00601C00E01C40E01C40E01C40603C40304E801F870012127E9115>97 D<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C7C001D86001E03001C01801C01C01C00C01C00E01C00E01C00E01C00E01C00E01C00E01C00C01C01C01C01801E030019060010F800131D7F9C17>I<07E00C301878307870306000E000E000E000E000E000E00060007004300418080C3007C00E127E9112>I<003F0000070000070000070000070000070000070000070000070000070000070003E7000C1700180F00300700700700600700E00700E00700E00700E00700E00700E00700600700700700300700180F000C370007C7E0131D7E9C17>I<03E00C301818300C700E6006E006FFFEE000E000E000E00060007002300218040C1803E00F127F9112>I<00F8018C071E061E0E0C0E000E000E000E000E000E00FFE00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E007FE00F1D809C0D>I<00038003C4C00C38C01C3880181800381C00381C00381C00381C001818001C38000C300013C0001000003000001800001FF8001FFF001FFF803003806001C0C000C0C000C0C000C06001803003001C0E0007F800121C7F9215>I<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C7C001C87001D03001E03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C0380FF9FF0141D7F9C17>I<18003C003C0018000000000000000000000000000000FC001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF80091D7F9C0C>I<00C001E001E000C000000000000000000000000000000FE000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E060E0F0C0F1C061803E000B25839C0D>I<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C3FC01C0F001C0C001C08001C10001C20001C40001CE0001DE0001E70001C78001C38001C3C001C1C001C0E001C0F001C0F80FF9FE0131D7F9C16>I<FC001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF80091D7F9C0C>I<FC7E07E0001C838838001D019018001E01E01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C00FF8FF8FF8021127F9124>I<FC7C001C87001D03001E03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C0380FF9FF014127F9117>I<03F0000E1C00180600300300700380600180E001C0E001C0E001C0E001C0E001C0E001C06001807003803003001806000E1C0003F00012127F9115>I<FC7C001D86001E03001C01801C01C01C00C01C00E01C00E01C00E01C00E01C00E01C00E01C01C01C01C01C01801E03001D06001CF8001C00001C00001C00001C00001C00001C00001C0000FF8000131A7F9117>I<03C1000C3300180B00300F00700700700700E00700E00700E00700E00700E00700E00700600700700700300F00180F000C370007C700000700000700000700000700000700000700000700003FE0131A7E9116>I<FCE01D301E781E781C301C001C001C001C001C001C001C001C001C001C001C001C00FFC00D127F9110>I<1F9030704030C010C010E010F8007F803FE00FF000F880388018C018C018E010D0608FC00D127F9110>I<04000400040004000C000C001C003C00FFE01C001C001C001C001C001C001C001C001C001C101C101C101C101C100C100E2003C00C1A7F9910>I<FC1F801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C07800C07800E1B8003E3F014127F9117>I<FF07E03C03801C01001C01000E02000E020007040007040007040003880003880003D80001D00001D00000E00000E00000E00000400013127F9116>I<FF3FCFE03C0F03801C0701801C0701001C0B01000E0B82000E0B82000E1182000711C4000711C4000720C40003A0E80003A0E80003C0680001C0700001C0700001803000008020001B127F911E>I<7F8FF00F03800F030007020003840001C80001D80000F00000700000780000F800009C00010E00020E000607000403801E07C0FF0FF81512809116>I<FF07E03C03801C01001C01000E02000E020007040007040007040003880003880003D80001D00001D00000E00000E00000E000004000004000008000008000F08000F10000F300006600003C0000131A7F9116>I<7FFC70386038407040F040E041C003C0038007000F040E041C043C0C380870087038FFF80E127F9112>I<FFFFFFFFFF802901808B2A>124 D<6060F0F0F0F060600C047C9C15>127D E /Fo 44 122 df<FFFF80FFFF80FFFF80FFFF80FFFF80FFFF8011067F9017>45D<000E00001E00007E0007FE00FFFE00FFFE00F8FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE007FFFFE7FFFFE7FFFFE17277BA622>49 D<00FF800003FFF0000FFFFC003F03FF007C00FF807C007FC0FE007FC0FF003FE0FF003FE0FF003FE0FF001FE07E001FE03C003FE000003FE000003FC000003FC000007F8000007F800000FF000001FE000001FC000003F0000007E000000FC000001F0000003E0000007C00E0007800E000F000E001E001C0038001C0070001C00FFFFFC01FFFFFC03FFFFFC07FFFFFC0FFFFFF80FFFFFF80FFFFFF801B277DA622>I<007F800003FFF00007FFFC001F81FE001F00FF003F80FF003F807F803FC07F803F807F803F807F801F007F800000FF800000FF000000FF000001FE000003F8000007F00000FFC00000FFF0000001FC000000FF0000007F8000007FC000003FC000003FE000003FE000003FE03C003FE07E003FE0FF003FE0FF003FE0FF003FC0FF007FC0FE007F807C00FF803F01FF001FFFFC0007FFF00000FF80001B277DA622>I<00000E0000001E0000003E0000007E000000FE000000FE000001FE000003FE0000077E00000E7E00000E7E00001C7E0000387E0000707E0000E07E0000E07E0001C07E0003807E0007007E000E007E000E007E001C007E0038007E0070007E00E0007E00FFFFFFF8FFFFFFF8FFFFFFF80000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00007FFFF8007FFFF8007FFFF81D277EA622>I<0C0003000F803F000FFFFE000FFFFE000FFFFC000FFFF8000FFFE0000FFFC0000FFE00000E0000000E0000000E0000000E0000000E0000000E0000000E7FC0000FFFF8000F80FE000E007F000C003F8000003F8000001FC000001FC000001FE000001FE018001FE07E001FE0FE001FE0FE001FE0FE001FE0FE001FE0FE001FC078003FC078003F803C007F001F01FE000FFFFC0003FFF00000FF80001B277DA622>I<0007F000003FFC0000FFFF0001FC0F0007F01F800FE03F800FC03F801FC03F803F803F803F801F007F8000007F0000007F0000007F000000FF000000FF0FC000FF3FF800FF70FE00FFE03F00FFC03F80FF801FC0FF801FC0FF801FC0FF001FE0FF001FE0FF001FE0FF001FE07F001FE07F001FE07F001FE07F001FE03F801FC03F801FC01F803F800FC03F8007E0FF0003FFFC0000FFF000003FC0001B277DA622>I<380000003E0000003FFFFFF03FFFFFF03FFFFFF07FFFFFE07FFFFFC07FFFFFC07FFFFF8070000F0070001E0070003C00E0003800E0007800E000F0000001E0000003C0000003C0000007800000078000000F0000001F0000001F0000001F0000003F0000003F0000003E0000007E0000007E0000007E0000007E000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE0000003800001C297CA822>I<003FC00001FFF00003FFFC000FC07E000F003F001F001F001E001F803E000F803E000F803F000F803F800F803FC01F803FF01F003FFC3F001FFE7E001FFFF8000FFFE00007FFF80001FFFC0001FFFF0007FFFF801F8FFF803F03FFC07E01FFC07C007FE0FC001FE0F8000FE0F80007E0F80003E0F80003E0F80003E0FC0003C07C0007C07E0007803F000F801FC03F000FFFFC0003FFF800007FC0001B277DA622>I<007F800001FFF00007FFF8000FE0FE001FC07E003F803F007F003F807F003F80FF001FC0FF001FC0FF001FC0FF001FC0FF001FE0FF001FE0FF001FE0FF001FE07F003FE07F003FE07F003FE03F807FE01F80FFE00FE1DFE003FF9FE0007E1FE000001FE000001FC000001FC000001FC000003FC01F003F803F803F803F807F003F807F003F80FE003F01FC001E03F8000FFFE00007FF800001FE00001B277DA622>I<000003800000000007C00000000007C0000000000FE0000000000FE0000000000FE0000000001FF0000000001FF0000000003FF8000000003FF8000000003FF80000000073FC0000000073FC00000000F3FE00000000E1FE00000000E1FE00000001C0FF00000001C0FF00000003C0FF80000003807F80000007807FC0000007003FC0000007003FC000000E003FE000000E001FE000001E001FF000001C000FF000001FFFFFF000003FFFFFF800003FFFFFF80000780007FC0000700003FC0000700003FC0000E00001FE0000E00001FE0001E00001FF0001C00000FF0001C00000FF00FFFE001FFFFEFFFE001FFFFEFFFE001FFFFE2F297EA834>65 D<FFFFFFF80000FFFFFFFF8000FFFFFFFFC00003F8001FF00003F8000FF80003F80007FC0003F80003FC0003F80003FC0003F80003FE0003F80001FE0003F80001FE0003F80001FE0003F80003FE0003F80003FC0003F80003FC0003F80007F80003F8000FF00003F8001FE00003F800FFC00003FFFFFE000003FFFFFFE00003F80007F00003F80003FC0003F80001FE0003F80001FE0003F80000FF0003F80000FF0003F80000FF8003F80000FF8003F80000FF8003F80000FF8003F80000FF8003F80000FF8003F80000FF0003F80001FF0003F80003FE0003F80007FC0003F8001FF800FFFFFFFFF000FFFFFFFFC000FFFFFFFE000029297DA831>I<00003FF001800003FFFE0780000FFFFF8F80003FF007FF8000FF8001FF8001FE00007F8007FC00003F8007F800001F800FF000000F801FE000000F803FE0000007803FC0000007807FC0000003807FC0000003807FC000000380FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF80000000007FC0000000007FC0000003807FC0000003803FC0000003803FE0000003801FE0000007800FF00000070007F800000F0007FC00001E0001FE00003C0000FF8000F800003FF007F000000FFFFFC0000003FFFF000000003FF8000029297CA832>I<FFFFFFFFC0FFFFFFFFC0FFFFFFFFC003FC003FC003FC000FE003FC0003E003FC0001E003FC0001E003FC0000E003FC0000E003FC0000E003FC0000F003FC03807003FC03807003FC03807003FC03800003FC07800003FC07800003FC1F800003FFFF800003FFFF800003FFFF800003FC1F800003FC07800003FC07800003FC03800003FC03800003FC03800003FC03800003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC000000FFFFFC0000FFFFFC0000FFFFFC000024297DA82B>70D<00007FE003000003FFFC0F00001FFFFF1F00007FF00FFF0000FF8001FF0003FE0000FF0007FC00007F000FF800003F000FF000001F001FE000001F003FE000000F003FC000000F007FC0000007007FC0000007007FC000000700FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8001FFFFF8FF8001FFFFF87FC001FFFFF87FC00000FF007FC00000FF003FC00000FF003FE00000FF001FE00000FF000FF00000FF000FF80000FF0007FC0000FF0003FE0001FF0000FF8001FF00007FF007FF00001FFFFFBF000003FFFE0F0000007FF003002D297CA836>I<FFFFFCFFFFFCFFFFFC01FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE00FFFFFCFFFFFCFFFFFC16297EA81A>73D<FFFFFC0000FFFFFC0000FFFFFC000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC0001C003FC0001C003FC0001C003FC0001C003FC0003C003FC00038003FC00038003FC00078003FC00078003FC000F8003FC000F8003FC001F8003FC007F8003FC01FF00FFFFFFFF00FFFFFFFF00FFFFFFFF0022297DA829>76 D<0000FFE000000007FFFC0000003FC07F8000007F001FC00001FC0007F00003F80003F80007F00001FC000FF00001FE001FE00000FF001FE00000FF003FC000007F803FC000007F807FC000007FC07F8000003FC07F8000003FC07F8000003FC0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE07F8000003FC07FC000007FC07FC000007FC03FC000007F803FC000007F801FE00000FF001FE00000FF000FF00001FE0007F00001FC0003F80003F80001FC0007F00000FF001FE000003FC07F8000000FFFFE00000000FFE000002B297CA834>79D<FFFFFFE00000FFFFFFFE0000FFFFFFFF800003FC007FE00003FC000FF00003FC0007F80003FC0007FC0003FC0003FC0003FC0003FE0003FC0003FE0003FC0003FE0003FC0003FE0003FC0003FE0003FC0003FE0003FC0003FC0003FC0007F80003FC0007F80003FC001FE00003FC007FC00003FFFFFE000003FFFFF0000003FC01FC000003FC007F000003FC007F800003FC003FC00003FC003FC00003FC001FE00003FC001FE00003FC001FE00003FC001FE00003FC001FF00003FC001FF00003FC001FF00003FC001FF00003FC001FF00703FC001FF80703FC000FF80703FC000FFC0FFFFFF007FE1EFFFFF001FFFCFFFFF0003FF030297DA834>82 D<007F806003FFF0E00FFFFFE01F807FE03F001FE07E0007E07E0003E07C0003E0FC0001E0FC0001E0FC0000E0FE0000E0FE0000E0FF000000FFC000007FFE00007FFFE0003FFFFC003FFFFF001FFFFF8007FFFFC003FFFFE000FFFFF00007FFF000007FF000000FF8000007F8000003F8E00003F8E00001F8E00001F8E00001F8F00001F8F00001F0F80003F0FC0003E0FF0007E0FFE01FC0FFFFFF00E0FFFE00C01FF0001D297CA826>I<7FFFFFFFFFC07FFFFFFFFFC07FFFFFFFFFC07F803FC03FC07E003FC007C078003FC003C078003FC003C070003FC001C0F0003FC001E0F0003FC001E0E0003FC000E0E0003FC000E0E0003FC000E0E0003FC000E0E0003FC000E000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC00000007FFFFFE000007FFFFFE000007FFFFFE0002B287EA730>I<01FF800007FFF0000F81FC001FC0FE001FC07F001FC07F001FC03F800F803F8000003F8000003F8000003F80000FFF8000FFFF8007FC3F801FE03F803F803F807F803F807F003F80FE003F80FE003F80FE003F80FE007F80FF007F807F00FFC03F83DFFC0FFF0FFC01FC03FC1E1B7E9A21>97 D<FFE0000000FFE0000000FFE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE1FE00000FE7FF80000FFE07E0000FF803F8000FF001FC000FE000FE000FE000FE000FE0007F000FE0007F000FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F000FE000FF000FE000FE000FF000FE000FF001FC000FF803F8000F9E07E0000F0FFF80000E01FC0000212A7EA926>I<001FF80000FFFE0003F01F000FE03F801FC03F803F803F803F803F807F801F007F000000FF000000FF000000FF000000FF000000FF000000FF000000FF000000FF000000FF0000007F0000007F8000003F8001C03FC001C01FC003C00FE0078003F01F0000FFFC00001FE0001A1B7E9A1F>I<00003FF80000003FF80000003FF800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800001FE3F80000FFFBF80003F03FF8000FE00FF8001FC007F8003F8003F8003F8003F8007F8003F8007F0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F8007F0003F8007F0003F8003F8003F8003F8007F8001FC00FF8000FE01FF80003F03FFF8000FFF3FF80003FC3FF80212A7EA926>I<003FE00001FFF80003F07E000FE03F001FC01F803F800FC03F800FC07F000FC07F0007E0FF0007E0FF0007E0FF0007E0FFFFFFE0FFFFFFE0FF000000FF000000FF000000FF0000007F0000007F8000003F8000E03F8001E01FC001C00FE003C003F81F8000FFFE00001FF0001B1B7E9A20>I<0007F0003FFC00FE3E01FC7F03F87F03F87F07F07F07F03E07F00007F00007F00007F00007F00007F00007F000FFFFC0FFFFC0FFFFC007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F0007FFF807FFF807FFF80182A7EA915>I<00FF81F003FFE7FC0FC1FE7C1F80FC7C3F80FE7C3F007E107F007F007F007F007F007F007F007F007F007F007F007F003F007E003F80FE001F80FC000FC1F8001FFFE00018FF8000380000003C0000003C0000003E0000003FFFF8003FFFFF001FFFFFC00FFFFFE007FFFFF01FFFFFF07E0007F87C0001F8F80001F8F80000F8F80000F8F80000F8FC0001F87E0003F03F0007E00FC01F8003FFFE00007FF0001E287E9A22>I<FFE0000000FFE0000000FFE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE07F00000FE1FFC0000FE787E0000FEE07F0000FFC03F8000FF803F8000FF003F8000FF003F8000FF003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F800FFFE3FFF80FFFE3FFF80FFFE3FFF80212A7DA926>I<07001FC01FE03FE03FE03FE01FE01FC007000000000000000000000000000000FFE0FFE0FFE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE0FFFEFFFEFFFE0F2B7DAA14>I<FFE00000FFE00000FFE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE01FFC0FE01FFC0FE01FFC0FE007C00FE00F800FE01E000FE07C000FE0F8000FE1F0000FE3E0000FE7C0000FEFE0000FFFF0000FFFF0000FFFF8000FF3FC000FE1FE000FC0FE000FC0FF000FC07F800FC03F800FC03FC00FC01FE00FC00FF0FFFC3FFEFFFC3FFEFFFC3FFE1F2A7EA924>107 D<FFE0FFE0FFE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE0FFFEFFFEFFFE0F2A7DA914>I<FFC07F800FF000FFC1FFE03FFC00FFC783F0F07E000FCE03F9C07F000FDC01FB803F000FF801FF003F800FF001FE003F800FF001FE003F800FF001FE003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F80FFFE1FFFC3FFF8FFFE1FFFC3FFF8FFFE1FFFC3FFF8351B7D9A3C>I<FFC07F0000FFC1FFC000FFC787E0000FCE07F0000FDC03F8000FF803F8000FF003F8000FF003F8000FF003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F800FFFE3FFF80FFFE3FFF80FFFE3FFF80211B7D9A26>I<003FE00001FFFC0003F07E000FC01F801F800FC03F800FE03F0007E07F0007F07F0007F07F0007F0FF0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF0007F87F0007F07F0007F03F800FE03F800FE01F800FC00FC01F8007F07F0001FFFC00003FE0001D1B7E9A22>I<FFE1FE0000FFE7FF8000FFFE07E0000FF803F8000FF001FC000FE001FE000FE000FE000FE000FF000FE000FF000FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE000FF000FE000FF000FE000FE000FF001FE000FF003FC000FF803F8000FFE0FE0000FEFFF80000FE1FC00000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE0000000FFFE000000FFFE000000FFFE00000021277E9A26>I<001FC0380000FFF0780003F83CF8000FE01FF8001FE00FF8003FC007F8003F8007F8007F8003F8007F8003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F8007F8003F8007F8003F8003F8003F8003FC007F8001FC00FF8000FE01FF80003F07FF80000FFF3F800003FC3F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F80000003FFF8000003FFF8000003FFF8021277E9A24>I<FFC1F0FFC7FCFFCE3E0FDC7F0FD87F0FF87F0FF07F0FF03E0FF0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE000FFFF00FFFF00FFFF00181B7E9A1C>I<03FE300FFFF03E03F07800F07000F0F00070F00070F80070FC0000FFE000FFFE007FFFC03FFFE01FFFF007FFF800FFFC0003FC0000FCE0007CE0003CF0003CF0003CF80078FC0078FF01F0F7FFC0C1FF00161B7E9A1B>I<00700000700000700000700000F00000F00000F00001F00003F00003F00007F0001FFFF0FFFFF0FFFFF007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F03807F03807F03807F03807F03807F03807F03803F87001F8F000FFE0001F8015267FA51B>I<FFE03FF800FFE03FF800FFE03FF8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE007F8000FE007F8000FE00FF80007E01FF80003F03BFF8001FFF3FF80003FC3FF80211B7D9A26>I<FFFE03FF80FFFE03FF80FFFE03FF8007F000700007F000700007F800F00003F800E00003FC01E00001FC01C00001FC01C00000FE03800000FE038000007F070000007F070000007F8F0000003F8E0000003FDE0000001FDC0000001FDC0000000FF80000000FF80000000FF800000007F000000007F000000003E000000003E000000001C00000211B7F9A24>I<FFFE7FFC0FFEFFFE7FFC0FFEFFFE7FFC0FFE0FE007E000E007F003F001C007F003F001C007F807F803C003F807F8038003F807F8038001FC0EFC070001FC0EFC070001FE1EFC0F0000FE1C7E0E0000FE1C7E0E0000FF383F1E00007F383F1C00007F783F3C00003FF01FB800003FF01FB800003FF01FF800001FE00FF000001FE00FF000000FC007E000000FC007E000000FC007E00000078003C00000078003C0002F1B7F9A32>I<FFFE03FF80FFFE03FF80FFFE03FF8007F000700007F000700007F800F00003F800E00003FC01E00001FC01C00001FC01C00000FE03800000FE038000007F070000007F070000007F8F0000003F8E0000003FDE0000001FDC0000001FDC0000000FF80000000FF80000000FF800000007F000000007F000000003E000000003E000000001C000000001C000000003800000000380000038078000007C07000000FE0F000000FE0E000000FE1E000000FE3C0000007C780000003FE00000000FC000000021277F9A24>121 D E /Fp 11 118 df<70F8F8F87005057C840E>46 D<FFFFF000FFFFFC0007803F0007800F8007800780078003C0078003C0078003E0078003E0078003E0078003E0078003E0078003C0078003C00780078007800F0007803E0007FFF8000780000007800000078000000780000007800000078000000780000007800000078000000780000007800000078000000780000007800000FFFC0000FFFC00001B227EA121>80 D<FFFFE00000FFFFF8000007803E000007800F00000780078000078007C000078003E000078003E000078003E000078003E000078003E000078003C000078007C000078007800007800F000007803C000007FFE000000780700000078038000007801C000007801E000007800E000007800F000007800F000007800F000007800F000007800F800007800F800007800F800007800F8080078007C080078007C100FFFC01E300FFFC007C0021227EA124>82D<FFF03FFC03FEFFF03FFC03FE0F0003C000F00F0003C000600F8003E00020078001E00040078001E00040078001E0004003C002F0008003C002F0008003C002F0008001E00478010001E00478010001E00478010000F0083C020000F0083C020000F0083C02000078101E04000078101E04000078101E0400003C200F0800003C200F0800003C200F0800001E40079000001E40079000001E40079000000F8003E000000F8003E000000F8003E00000070001C00000070001C00000070001C0000003000180000002000080002F227FA132>87 D<0FE0001838003C0C003C0E0018070000070000070000070000FF0007C7001E07003C0700780700700700F00708F00708F00708F00F087817083C23900FC1E015157E9418>97 D<1C001E003E001E001C00000000000000000000000000000000000E00FE00FE001E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E00FFC0FFC00A227FA10E>105 D<0E00FE00FE001E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E00FFE0FFE00B237FA20E>108 D<0E1F80FE60C0FE80E01F00700F00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E0070FFE7FFFFE7FF18157F941B>110 D<01FC000707000C01801800C03800E0700070700070F00078F00078F00078F00078F00078F00078F000787000707800F03800E01C01C00E038007070001FC0015157F9418>I<0F8830786018C018C008C008E008F0007F803FE00FF001F8003C801C800C800CC00CC008E018D0308FC00E157E9413>115 D<0E0070FE07F0FE07F01E00F00E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00F00E00F006017803827F00FC7F18157F941B>117 D E /Fq 84 128 df<00FC7C0183C607078E0607040E07000E07000E07000E07000E07000E0700FFFFF00E07000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07007F0FF0171A809916>11 D<00FC000182000703000607000E02000E00000E00000E00000E00000E0000FFFF000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07007F0FE0131A809915>I<00FF000387000707000607000E07000E07000E07000E07000E07000E0700FFFF000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07000E07007F9FE0131A809915>I<007E1F8001C170400703C060060380E00E0380400E0380000E0380000E0380000E0380000E038000FFFFFFE00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E07F8FE3FC1E1A809920>I<1C1C3C7060C0800607789913>19 D<60C0F1E0F9F068D0081008100810102010202040C1800C0B7F9913>34D<60F0F868080808101020C0050B7D990B>39 D<00800100020004000C00080018003000300030006000600060006000E000E000E000E000E000E000E000E000E000E0006000600060006000300030003000180008000C00040002000100008009267D9B0F>I<8000400020001000180008000C000600060006000300030003000300038003800380038003800380038003800380038003000300030003000600060006000C0008001800100020004000800009267E9B0F>I<000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000FFFFFF80FFFFFF80000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000191A7E951E>43 D<60F0F07010101020204080040B7D830B>I<FFC0FFC00A0280880D>I<60F0F06004047D830B>I<0004000C00180018001800300030003000600060006000C000C000C00180018001800300030003000600060006000C000C000C00180018001800300030003000600060006000C000C0000E257E9B13>I<078018603030303060186018E01CE01CE01CE01CE01CE01CE01CE01CE01CE01CE01CE01C6018601870383030186007800E187E9713>I<03000700FF0007000700070007000700070007000700070007000700070007000700070007000700070007000700FFF00C187D9713>I<0F80106020304038803CC01CE01C401C003C003800380070006000C001800100020004040804100430083FF87FF8FFF80E187E9713>I<0F8010E02070607870382038007800700070006000C00F8000E000700038003C003CE03CE03CC03C4038407030E00F800E187E9713>I<00300030007000F000F001700370027004700C7008701070307020704070C070FFFF00700070007000700070007007FF10187F9713>I<30183FF03FE03FC02000200020002000200027C03860203000380018001C001C401CE01CE01C80184038403030E00F800E187E9713>I<01E006100C1818383038300070006000E000E7C0E860F030F018E018E01CE01CE01C601C601C701830183030186007C00E187E9713>I<40007FFE7FFC7FFC4008801080108020004000400080018001800100030003000300030007000700070007000700070002000F197E9813>I<078018603030201860186018601870103C303E600F8007C019F030F86038401CC00CC00CC00CC00C6008201018600FC00E187E9713>I<07801860303070306018E018E018E01CE01CE01C601C603C303C185C0F9C001C00180018003870307060604021801F000E187E9713>I<60F0F060000000000000000060F0F06004107D8F0B>I<1FC020604030C038E038E0380038007000E0018001000300020002000200020002000200000000000000000006000F000F0006000D1A7E9912>63D<000C0000000C0000000C0000001E0000001E0000003F000000270000002700000043800000438000004380000081C0000081C0000081C0000100E0000100E00001FFE000020070000200700006007800040038000400380008001C0008001C001C001E00FF00FFC01A1A7F991D>65D<FFFF000E01C00E00E00E00700E00780E00780E00780E00780E00780E00F00E00E00E03C00FFF800E01E00E00700E00780E003C0E003C0E003C0E003C0E003C0E00380E00780E00F00E01E0FFFF80161A7E991B>I<003F0201C0C603002E0E001E1C000E1C0006380006780002700002700002F00000F00000F00000F00000F00000F000007000027000027800023800041C00041C00080E000803003001C0C0003F00171A7E991C>I<FFFF000E01C00E00E00E00300E00380E001C0E001C0E000E0E000E0E000F0E000F0E000F0E000F0E000F0E000F0E000F0E000F0E000E0E000E0E001E0E001C0E00380E00380E00700E01C0FFFF00181A7E991D>I<FFFFF00E00700E00300E00100E00180E00080E00080E00080E04000E04000E04000E0C000FFC000E0C000E04000E04000E04000E00040E00040E00080E00080E00080E00180E00380E0070FFFFF0161A7E991A>I<FFFFE00E00E00E00600E00200E00300E00100E00100E00100E04000E04000E04000E0C000FFC000E0C000E04000E04000E04000E00000E00000E00000E00000E00000E00000E00000E0000FFF000141A7E9919>I<003F020001C0C60003002E000E001E001C000E001C00060038000600780002007000020070000200F0000000F0000000F0000000F0000000F0000000F001FFC070000E0070000E0078000E0038000E001C000E001C000E000E000E000300160001C06600003F82001A1A7E991E>I<FFE7FF0E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700FFFF00E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E0070FFE7FF181A7E991D>I<FFE00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E00FFE00B1A7F990E>I<1FFC00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E040E0E0E0E0E041C061801E000E1A7D9914>I<FFE07F800E001E000E0018000E0010000E0020000E0040000E0080000E0100000E0200000E0400000E0800000E1C00000E2E00000E4E00000E8700000F0380000E0380000E01C0000E00E0000E00E0000E0070000E0070000E0038000E001C000E003E00FFE0FF80191A7E991E>I<FFF0000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00200E00200E00200E00600E00400E00400E00C00E03C0FFFFC0131A7E9918>I<FF0003FC0F0003C00F0003C00B8005C00B8005C00B8005C009C009C009C009C009C009C008E011C008E011C008E011C0087021C0087021C0083841C0083841C0083841C0081C81C0081C81C0081C81C0080F01C0080F01C0080F01C0080601C01C0601C0FF861FFC1E1A7E9923>I<FE01FF0F00380F00100B80100B801009C01008E01008E010087010087010083810081C10081C10080E10080E100807100803900803900801D00801D00800F00800700800700800301C0030FF8010181A7E991D>I<007F000001C1C000070070000E0038001C001C003C001E0038000E0078000F0070000700F0000780F0000780F0000780F0000780F0000780F0000780F0000780F000078078000F0078000F0038000E003C001E001C001C000E0038000700700001C1C000007F0000191A7E991E>I<FFFF000E03C00E00E00E00700E00700E00780E00780E00780E00780E00700E00700E00E00E03C00FFF000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0000FFE000151A7E991A>I<007F000001C1C000070070000E0038001C001C003C001E0038000E0078000F0070000700F0000780F0000780F0000780F0000780F0000780F0000780F0000780F00007807000070078000F0038000E003C1C1E001C221C000E4138000741F00001E1C000007F80800000C0800000C0800000E18000007F0000007F0000003E0000001C0019217E991E>I<FFFC00000E0780000E01C0000E00E0000E00F0000E00F0000E00F0000E00F0000E00F0000E00E0000E01C0000E0780000FFC00000E0600000E0300000E0180000E01C0000E01C0000E01C0000E01E0000E01E0000E01E0000E01E0800E00F0800E007100FFE03E00191A7E991C>I<0FC21836200E6006C006C002C002C002E00070007E003FE01FF807FC003E000E00070003800380038003C002C006E004D81887E0101A7E9915>I<7FFFFF00701C0700401C0100401C0100C01C0180801C0080801C0080801C0080001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C000003FFE000191A7F991C>I<FFE1FF0E00380E00100E00100E00100E00100E00100E00100E00100E00100E00100E00100E00100E00100E00100E00100E00100E00100E00100E001006002007002003004001804000C180003E00181A7E991D>I<FF801FC01E000F001C0006000E0004000E000400070008000700080007000800038010000380100003C0300001C0200001C0200000E0400000E0400000E040000070800000708000003900000039000000390000001E0000001E0000001E0000000C0000000C00001A1A7F991D>I<FF83FF0FF03C007801C01C007800801C007800800E007801000E007801000E009C010007009C020007009C020007010E020007010E020003810E04000382070400038207040001C207080001C403880001C403880000E403900000E403900000E801D000007801E000007801E000007000E000007000E000003000C0000020004000241A7F9927>I<7FC0FF000F003C0007003000078020000380600001C0400001E0800000E1800000710000007A0000003C0000001C0000001E0000001E00000017000000278000004380000041C0000081E0000100E0000100700002007800040038000C001C001E003E00FF80FFC01A1A7F991D>I<FF801FE01E0007000E0006000F000400070008000780080003C0100001C0300001E0200000F04000007040000078800000388000001D0000001F0000000E0000000E0000000E0000000E0000000E0000000E0000000E0000000E0000000E0000000E000000FFE0001B1A7F991D>I<7FFFC0780380700380600700400700400E00401C00401C0000380000380000700000E00000E00001C00001C0000380000700400700400E00400E00401C00C0380080380180700380700780FFFF80121A7E9917>I<FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0FEFE07257D9B0B>I<1830204040804080810081008100B160F9F078F030600C0B7B9913>I<FEFE060606060606060606060606060606060606060606060606060606060606060606FEFE0725809B0B>I<3F8070C070E020700070007007F01C7030707070E070E071E071E0F171FB1E3C10107E8F13>97 D<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001CF8001F0E001E07001C03801C01801C01C01C01C01C01C01C01C01C01C01C01C01C03801C03001E07001B0C0010F000121A7F9915>I<07F80C1C381C30087000E000E000E000E000E000E0007000300438080C1807E00E107F8F11>I<007E00000E00000E00000E00000E00000E00000E00000E00000E00000E0003CE000C3E00380E00300E00700E00E00E00E00E00E00E00E00E00E00E00E00E00600E00700E00381E001C2E0007CFC0121A7F9915>I<07C01C3030187018600CE00CFFFCE000E000E000E0006000300438080C1807E00E107F8F11>I<01F0031807380E100E000E000E000E000E000E00FFC00E000E000E000E000E000E000E000E000E000E000E000E000E000E007FE00D1A80990C>I<0FCE187330307038703870387038303018602FC02000600070003FF03FFC1FFE600FC003C003C003C0036006381C07E010187F8F13>I<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001CF8001D0C001E0E001E0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E00FF9FC0121A7F9915>I<18003C003C001800000000000000000000000000FC001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF80091A80990A>I<018003C003C001800000000000000000000000000FC001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C041C0E180E3007E000A2182990C>I<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C3F801C1E001C18001C10001C20001C40001DC0001FE0001CE0001C70001C78001C38001C1C001C1E001C1F00FF3FC0121A7F9914>I<FC001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF80091A80990A>I<FC7C1F001D8E63801E0781C01E0781C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C0FF9FE7F81D107F8F20>I<FCF8001D0C001E0E001E0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E00FF9FC012107F8F15>I<07E01C38300C700E6006E007E007E007E007E007E0076006700E381C1C3807E010107F8F13>I<FCF8001F0E001E07001C03801C03801C01C01C01C01C01C01C01C01C01C01C01C01C03801C03001E07001F0C001CF0001C00001C00001C00001C00001C00001C0000FF800012177F8F15>I<03C2000C2600381E00300E00700E00E00E00E00E00E00E00E00E00E00E00E00E00700E00700E00381E001C2E0007CE00000E00000E00000E00000E00000E00000E00007FC012177F8F14>I<FCE01D701E701E201C001C001C001C001C001C001C001C001C001C001C00FFC00C107F8F0F>I<1F2060E04020C020C020F0007F003FC01FE000F080708030C030C020F0408F800C107F8F0F>I<0400040004000C000C001C003C00FFC01C001C001C001C001C001C001C001C001C201C201C201C201C200E4003800B177F960F>I<FC7E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C1E000C2E0007CFC012107F8F15>I<FF1F803C06001C04001C04001E0C000E08000E080007100007100007900003A00003A00001C00001C00001C00000800011107F8F14>I<FF3F9F803C0E0700380E06001C1604001C1704001E170C000E2308000E2388000F239800074190000741D00003C1E0000380E0000380E0000180C0000100400019107F8F1C>I<FF3F803C1C001C18000E100007200007600003C00001C00001E00003E000027000043800083800181C00381E00FC3FC012107F8F14>I<FF1F803C06001C04001C04001E0C000E08000E080007100007100007900003A00003A00001C00001C00001C000008000008000010000010000E10000E20000E4000078000011177F8F14>I<7FF86070407040E041C041C00380070007000E081C081C08381070107030FFF00D107F8F11>I<FFFFC01201808913>I<FFFFFFFFF82501808926>I<6180F3C0F3C061800A047C9913>127 D E /Fr 20 118 df<00003FE0010001FFF8030007F01E03001F800307003E000087007800004F00F000002F01E000001F03C000000F078000000F0F800000070F000000071F000000031E000000033E000000033C000000017C000000017C000000017C000000017800000000F800000000F800000000F800000000F800000000F800000000F800000000F800000000F800000000F800000000F800000000F80000000078000000007C000000007C000000017C000000013C000000013E000000011E000000011F000000020F000000020F80000006078000000403C000000801E000000800F00000100078000020003E0000C0001F8003800007F00F000001FFFC0000003FE00028337CB130>67 D<00001FE000800000FFFC01800007F00F0180000F80018380003E0000C38000780000278000F00000178001E000000F8003C000000F800780000007800780000003800F00000003801F00000001801E00000001803E00000001803C00000001803C00000000807C00000000807C0000000080780000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F800000FFFFC7800000FFFFC7C0000001FC07C0000000F803C0000000F803C0000000F803E0000000F801E0000000F801F0000000F800F0000000F80078000000F8007C000000F8003C000000F8001E000000F8000F000001780007C00001780003E00006380000F8000C3800007F00781800000FFFE008000001FF000002E337CB134>71 D<7FFFFFFFFFE07FFFFFFFFFE07E000F8007E078000F8001E070000F8000E060000F80006040000F80002040000F800020C0000F800030C0000F80003080000F80001080000F80001080000F80001080000F80001080000F80001080000F80001000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000001FC00000000FFFFF8000000FFFFF80002C317EB030>84D<FFFF8007FFC0FFFF8007FFC007F000007C0003E00000380003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100003E00000100001E00000200001F00000200001F00000200000F00000400000F000004000007800008000003C00018000003C00010000001E000600000007800C00000003E07800000000FFF0000000003F8000002A327CB032>I<00FE00000303C0000C00E00010007000100038003C003C003E001C003E001E003E001E0008001E0000001E0000001E0000001E00000FFE0000FC1E0003E01E000F801E001F001E003E001E003C001E007C001E00F8001E04F8001E04F8001E04F8003E04F8003E0478003E047C005E043E008F080F0307F003FC03E01E1F7D9E21>97 D<07800000FF800000FF8000000F8000000780000007800000078000000780000007800000078000000780000007800000078000000780000007800000078000000780000007800000078000000781FC0007860700078801C0079000E007A0007007C00078078000380780003C0780003C0780001E0780001E0780001F0780001F0780001F0780001F0780001F0780001F0780001F0780001F0780001F0780001E0780003E0780003C0780003C0780007807C00070072000F0072001E00618038006060F000401F80020327EB125>I<003F8000E0600380180700040F00041E001E1C003E3C003E7C003E7C0008780000F80000F80000F80000F80000F80000F80000F80000F80000F800007800007C00007C00003C00011E00011E00020F000207000403801800E060003F80181F7D9E1D>I<003F800000E0E0000380380007003C000E001E001E001E001C000F003C000F007C000F0078000F8078000780F8000780F8000780FFFFFF80F8000000F8000000F8000000F8000000F8000000F8000000780000007C0000003C0000003C0000801E0000800E0001000F0002000780020001C00C0000F03000001FC000191F7E9E1D>101 D<000000F0007F030801C1C41C0380E81C070070080F0078001E003C001E003C003E003E003E003E003E003E003E003E003E003E003E003E001E003C001E003C000F007800070070000780E00009C1C000087F000018000000180000001800000018000000180000001C0000000E0000000FFFF80007FFFF0003FFFF800E000FC0180001E0300000F070000070E0000038E0000038E0000038E0000038E00000387000007070000070380000E01C0001C00700070001C01C00003FE0001E2F7E9F21>103 D<0780000000FF80000000FF800000000F800000000780000000078000000007800000000780000000078000000007800000000780000000078000000007800000000780000000078000000007800000000780000000078000000007800000000780FE00000783078000078C03C000079001E00007A001E00007A000F00007C000F00007C000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F0000FC001F800FFFC1FFF80FFFC1FFF8021327EB125>I<07000F801F801F800F800700000000000000000000000000000000000000000000000780FF80FF800F800780078007800780078007800780078007800780078007800780078007800780078007800780078007800780078007800FC0FFF8FFF80D307EAF12>I<0780FF80FF800F8007800780078007800780078007800780078007800780078007800780078007800780078007800780078007800780078007800780078007800780078007800780078007800780078007800780078007800780078007800FC0FFFCFFFC0E327EB112>108 D<0780FE0000FF83078000FF8C03C0000F9001E00007A001E00007A000F00007C000F00007C000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F0000FC001F800FFFC1FFF80FFFC1FFF80211F7E9E25>110D<001FC00000F0780001C01C00070007000F0007801E0003C01C0001C03C0001E03C0001E0780000F0780000F0780000F0F80000F8F80000F8F80000F8F80000F8F80000F8F80000F8F80000F8F80000F8780000F07C0001F03C0001E03C0001E01E0003C01E0003C00F00078007800F0001C01C0000F07800001FC0001D1F7E9E21>I<0781FC00FF860700FF8803C00F9001E007A000F007C00078078000780780003C0780003C0780003E0780001E0780001F0780001F0780001F0780001F0780001F0780001F0780001F0780001F0780001F0780003E0780003E0780003C0780007C0780007807C000F007A000F007A001E00798038007860F000781F80007800000078000000780000007800000078000000780000007800000078000000780000007800000078000000FC00000FFFC0000FFFC0000202D7E9E25>I<001F802000F0606001C01060078008600F0004E00F0002E01E0003E03E0003E03C0001E07C0001E07C0001E0F80001E0F80001E0F80001E0F80001E0F80001E0F80001E0F80001E0F80001E0F80001E0780001E07C0001E03C0001E03C0001E01E0003E01E0003E00F0005E0078009E003C011E000E061E0003F81E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000003F000003FFF00003FFF202D7D9E23>I<0783E0FF8C18FF907C0F907C07A07C07C03807C00007C00007C0000780000780000780000780000780000780000780000780000780000780000780000780000780000780000780000780000780000780000780000FC000FFFE00FFFE00161F7E9E19>I<01FC100E03301800F0300070600030E00030E00010E00010E00010F00010F800007E00003FF0001FFF000FFFC003FFE0003FF00001F80000F880003C80003C80001CC0001CC0001CE0001CE00018F00038F00030CC0060C301C080FE00161F7E9E1A>I<00400000400000400000400000400000C00000C00000C00001C00001C00003C00007C0000FC0001FFFE0FFFFE003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C01003C01003C01003C01003C01003C01003C01003C01001C02001E02000E0400078C0001F00142C7FAB19>I<078000F000FF801FF000FF801FF0000F8001F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078000F000078001F000078001F000078001F000038002F00003C004F00001C008F800007030FF80001FC0FF80211F7E9E25>IE end%%EndProlog%%BeginSetup%%Feature: *Resolution 300TeXDict begin @letter%%EndSetup%%Page: 1 1bop 350 188 a Fr(Unipro)r(cessor)21 b(Garbage)g(Collection)h(T)-6b(ec)n(hniques)645 234 y Fq([Submitted)15 b(to)e(A)o(CM)f(Computing)j(Surv)o(eys])827 354 y Fp(P)o(aul)h(R.)f(Wilson)0 517 y Fo(Abstract)0615 y Fn(W)m(e)20 b(surv)o(ey)h(basic)f(garbage)g(collection)g(algorithms,)f(and)0 665 y(v)n(ariations)9 b(suc)o(h)j(as)e(incremen)o(tal)g(and)g(generational)g(collec-)0 714 y(tion;)h(w)o(e)g(then)h(discuss)h(lo)o(w-lev)o(el)d(implem)o(en)o(tation)e(consid-)0 764 y(erations)18 b(and)f(the)h(relationships)f(b)q(et)o(w)o(een)i(storage)f(man-)0 814 y(agemen)o(t)9b(systems,)i(languages,)f(and)g(compilers.)15 b(Through-)0864 y(out,)k(w)o(e)g(attempt)f(to)g(presen)o(t)i(a)e(uni\014ed)h(view)f(based)h(on)0 914 y(abstract)14 b(tra)o(v)o(ersal)g(strategies,)g(addressing)h(issues)f(of)f(con-)0 963 y(serv)n(atism,)19 b(opp)q(ortunism,)f(and)h(imm)o(ediacy)d(of)j(reclama-)0 1013 y(tion;)i(w)o(e)e(also)f(p)q(oin)o(t)h(out)g(a)g(v)n(ariet)o(y)f(of)h(implem)o(en)o(tation)0 1063 y(details)c(that)f(are)i(lik)o(ely)d(to)i(ha)o(v)o(e)f(a)h(signi\014can)o(t)f(impact)f(on)01113 y(p)q(erformance.)0 1270 y Fo(Con)n(ten)n(ts)0 1369 yFm(1)38 b(Automatic)14 b(Storage)h(Reclamation)209 b(2)62 1423y Fn(1.1)42 b(Motiv)n(ation)e Fl(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)54 b Fn(2)62 1477 y(1.2)42 b(The)14b(Tw)o(o-Phase)g(Abstraction)k Fl(:)j(:)f(:)g(:)h(:)f(:)g(:)54b Fn(4)62 1531 y(1.3)42 b(Ob)r(ject)15 b(Represen)o(tations)42b Fl(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)54 b Fn(5)62 1586y(1.4)42 b(Ov)o(erview)14 b(of)f(the)i(P)o(ap)q(er)26 b Fl(:)20b(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)54 b Fn(5)0 1684 y Fm(2)38b(Basic)16 b(Garbage)e(Collection)g(T)l(ec)o(hniques)106 b(6)621739 y Fn(2.1)42 b(Reference)15 b(Coun)o(ting)e Fl(:)20 b(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)54 b Fn(6)158 1793 y(2.1.1)46 b(The)14b(Problem)f(with)g(Cycles)32 b Fl(:)21 b(:)f(:)g(:)54 b Fn(7)1581847 y(2.1.2)46 b(The)14 b(E\016ciency)g(Problem)35 b Fl(:)20b(:)h(:)f(:)g(:)54 b Fn(7)158 1902 y(2.1.3)46 b(Deferred)15b(Reference)g(Coun)o(ting.)22 b Fl(:)e(:)54 b Fn(8)158 1956y(2.1.4)46 b(V)m(ariations)12 b(on)i(Reference)i(Coun)o(ting)44b(8)62 2010 y(2.2)e(Mark-Sw)o(eep)14 b(Collection)h Fl(:)20b(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)54 b Fn(9)62 2064 y(2.3)42b(Mark-Compact)12 b(Collection)27 b Fl(:)20 b(:)h(:)f(:)g(:)h(:)f(:)g(:)34b Fn(10)62 2119 y(2.4)42 b(Cop)o(ying)12 b(Garbage)i(Collection)jFl(:)k(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(10)158 2173 y(2.4.1)46b(A)31 b(Simple)f(Cop)o(ying)g(Collector:)291 2223 y(\\Stop-and-Cop)o(y")c(Using)h(Semi-)291 2273 y(spaces.)15 b Fl(:)20 b(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(10)158 2327 y(2.4.2)46 b(E\016ciency)14b(of)f(Cop)o(ying)g(Collection.)43 b(11)62 2381 y(2.5)f(Non-Cop)o(ying)12b(Implicit)g(Collection)36 b Fl(:)21 b(:)f(:)g(:)34 b Fn(13)622435 y(2.6)42 b(Cho)q(osing)18 b(Among)f(Basic)i(T)m(racing)f(T)m(ec)o(h-)1582485 y(niques)29 b Fl(:)20 b(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(15)62 2540 y(2.7)42 b(Problems)13b(with)g(Simple)f(T)m(racing)i(Collectors)25 b(16)62 2594 y(2.8)42b(Conserv)n(atism)12 b(in)i(Garbage)f(Collection)37 b Fl(:)20b(:)34 b Fn(17)1011 517 y Fm(3)k(Incremen)o(tal)13 b(T)l(racing)i(Collectors)210 b(17)1073 568 y Fn(3.1)41 b(Coherence)16 b(and)e(Conserv)n(atism)36b Fl(:)21 b(:)f(:)g(:)h(:)f(:)33 b Fn(18)1073 619 y(3.2)41b(T)m(ricolor)13 b(Marking)28 b Fl(:)21 b(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)33 b Fn(18)1168 671 y(3.2.1)46 b(Incremen)o(tal)14b(approac)o(hes)35 b Fl(:)20 b(:)g(:)h(:)f(:)33 b Fn(19)1073722 y(3.3)41 b(W)m(rite)14 b(Barrier)h(Algorithms)36 b Fl(:)20b(:)g(:)h(:)f(:)g(:)h(:)f(:)33 b Fn(20)1168 773 y(3.3.1)46b(Snapshot-at-b)q(eginning)1301 823 y(Algorithms)33 b Fl(:)20b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)33 b Fn(20)1168874 y(3.3.2)46 b(Incremen)o(tal)14 b(Up)q(date)h(W)m(rite-Bar-)1301924 y(rier)g(Algorithms)20 b Fl(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)33b Fn(21)1073 975 y(3.4)41 b(Bak)o(er's)15 b(Read)f(Barrier)g(Algorithms)27b Fl(:)20 b(:)h(:)f(:)33 b Fn(22)1168 1026 y(3.4.1)46 b(Incremen)o(tal)14b(Cop)o(ying)k Fl(:)i(:)h(:)f(:)g(:)h(:)f(:)33 b Fn(22)11681077 y(3.4.2)46 b(Bak)o(er's)20 b(Incremen)o(tal)g(Non-cop)o(y-)13011127 y(ing)14 b(Algorithm|The)d(T)m(readmill)33 b Fl(:)g Fn(23)11681178 y(3.4.3)46 b(Conserv)n(atism)22 b(of)h(Bak)o(er's)g(Read)13011228 y(Barrier)12 b Fl(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)33 b Fn(24)1168 1279 y(3.4.4)46 b(V)m(ariations)13 b(on)h(the)g(Read)g(Barrier)29 b Fl(:)k Fn(24)1073 1331 y(3.5)41 b(Replication)13b(Cop)o(ying)g(Collection)29 b Fl(:)20 b(:)g(:)h(:)f(:)33 bFn(25)1073 1382 y(3.6)41 b(Coherence)16 b(and)e(Conserv)n(atism)f(Revisited)kFl(:)33 b Fn(25)1168 1433 y(3.6.1)46 b(Coherence)16 b(and)d(Conserv)n(atism)g(in)1301 1483 y(Non-cop)o(ying)g(collection)18 b Fl(:)j(:)f(:)g(:)h(:)f(:)33b Fn(25)1168 1534 y(3.6.2)46 b(Coherence)16 b(and)d(Conserv)n(atism)g(in)13011584 y(Cop)o(ying)g(Collection)19 b Fl(:)h(:)g(:)h(:)f(:)g(:)h(:)f(:)33b Fn(26)1168 1635 y(3.6.3)46 b(\\Radical")24 b(Collection)h(and)g(Op-)13011685 y(p)q(ortunistic)15 b(T)m(racing)h Fl(:)k(:)g(:)h(:)f(:)g(:)h(:)f(:)33b Fn(26)1073 1736 y(3.7)41 b(Comparing)12 b(Incremen)o(tal)i(T)m(ec)o(hniques)j Fl(:)k(:)f(:)33 b Fn(27)1073 1787 y(3.8)41 b(Real-time)12b(T)m(racing)h(Collection)39 b Fl(:)21 b(:)f(:)g(:)h(:)f(:)33b Fn(28)1168 1839 y(3.8.1)46 b(Ro)q(ot)14 b(Set)g(Scanning)27b Fl(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)33 b Fn(29)1168 1890y(3.8.2)46 b(Guaran)o(teeing)14 b(Su\016cien)o(t)g(Progress)46b(30)1168 1941 y(3.8.3)g(T)m(rading)10 b(w)o(orst-case)h(p)q(erformance)13011991 y(for)j(exp)q(ected)i(p)q(erformance)34 b Fl(:)20 b(:)h(:)f(:)33b Fn(31)1168 2042 y(3.8.4)46 b(Discussion)15 b Fl(:)21 b(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)33 b Fn(31)1073 2093 y(3.9)41 b(Cho)q(osing)14b(an)f(Incremen)o(tal)h(Algorithm)37 b Fl(:)20 b(:)33 b Fn(32)10112187 y Fm(4)38 b(Generational)12 b(Garbage)j(Collection)169b(32)1073 2238 y Fn(4.1)41 b(Multiple)21 b(Subheaps)g(with)f(V)m(arying)g(Col-)1168 2288 y(lection)14 b(F)m(requencies)28 b Fl(:)20b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)33 b Fn(33)10732339 y(4.2)41 b(Adv)n(ancemen)o(t)14 b(P)o(olicies)38 b Fl(:)21b(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)33 b Fn(36)1073 2390 y(4.3)41b(Heap)15 b(Organization)26 b Fl(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)33 b Fn(37)1168 2442 y(4.3.1)46 b(Subareas)15 b(in)e(cop)o(ying)h(sc)o(hemes)39 b Fl(:)20 b(:)33 b Fn(37)1168 2493 y(4.3.2)46 b(Generations)i(in)e(Non-cop)o(ying)1301 2543 y(Sc)o(hemes)21 b Fl(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)33 b Fn(38)1168 2594 y(4.3.3)46 b(Discussion)15b Fl(:)21 b(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)33b Fn(38)980 2718 y(1)p eop%%Page: 2 2bop 62 55 a Fn(4.4)42 b(T)m(rac)o(king)13 b(In)o(tergenerational)h(References)40 b Fl(:)34 b Fn(38)158 111 y(4.4.1)46 b(Indirection)14b(T)m(ables)37 b Fl(:)20 b(:)h(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(39)158167 y(4.4.2)46 b(Ungar's)13 b(Remem)o(b)q(ered)g(Sets)18 bFl(:)j(:)f(:)g(:)34 b Fn(39)158 222 y(4.4.3)46 b(P)o(age)13b(Marking)i Fl(:)21 b(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34b Fn(40)158 278 y(4.4.4)46 b(W)m(ord)13 b(marking)37 b Fl(:)20b(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(40)158 334 y(4.4.5)46b(Card)13 b(Marking)f Fl(:)21 b(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34b Fn(41)158 390 y(4.4.6)46 b(Store)14 b(Lists)42 b Fl(:)20b(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(41)158445 y(4.4.7)46 b(Discussion)15 b Fl(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(42)62 501 y(4.5)42 b(The)14 b(Generational)f(Principle)h(Revisited)i Fl(:)k(:)34 b Fn(43)62 557 y(4.6)42 b(Pitfalls)12b(of)i(Generational)f(Collection)40 b Fl(:)20 b(:)g(:)34 bFn(43)158 613 y(4.6.1)46 b(The)14 b(\\Pig)f(in)g(the)i(Snak)o(e")f(Problem)42b(43)158 668 y(4.6.2)k(Small)11 b(Heap-allo)q(cated)j(Ob)r(jects)22b Fl(:)e(:)34 b Fn(44)158 724 y(4.6.3)46 b(Large)14 b(Ro)q(ot)f(Sets)41b Fl(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(44)62 780y(4.7)42 b(Real-time)11 b(Generational)j(Collection)40 b Fl(:)20b(:)g(:)34 b Fn(45)0 881 y Fm(5)k(Lo)q(calit)o(y)14 b(Considerations)364b(46)62 937 y Fn(5.1)42 b(V)m(arieties)14 b(of)f(Lo)q(calit)o(y)g(E\013ects)31 b Fl(:)21 b(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(46)62 992 y(5.2)42b(Lo)q(calit)o(y)17 b(of)h(Allo)q(cation)f(and)h(Short-liv)o(ed)1581042 y(ob)r(jects)e Fl(:)k(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(47)62 1098 y(5.3)42 b(Lo)q(calit)o(y)13b(of)g(T)m(racing)g(T)m(ra)o(v)o(ersals)21 b Fl(:)f(:)g(:)h(:)f(:)g(:)34b Fn(48)62 1154 y(5.4)42 b(Clustering)14 b(of)f(Longer-Liv)o(ed)h(Ob)r(jects)21 b Fl(:)f(:)g(:)34 b Fn(49)158 1209 y(5.4.1)46 b(Static)13b(Grouping)42 b Fl(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34b Fn(49)158 1265 y(5.4.2)46 b(Dynamic)11 b(Reorganization)iFl(:)20 b(:)h(:)f(:)g(:)34 b Fn(49)158 1321 y(5.4.3)46 b(Co)q(ordination)12b(with)i(P)o(aging)22 b Fl(:)f(:)f(:)g(:)34 b Fn(50)0 1422y Fm(6)k(Lo)o(w-lev)o(el)14 b(Implemen)o(tati)o(on)e(Issues)178b(50)62 1478 y Fn(6.1)42 b(P)o(oin)o(ter)14 b(T)m(ags)f(and)h(Ob)r(ject)h(Headers)22 b Fl(:)f(:)f(:)g(:)34 b Fn(50)62 1534 y(6.2)42b(Conserv)n(ativ)o(e)14 b(P)o(oin)o(ter)g(Finding)30 b Fl(:)20b(:)g(:)h(:)f(:)g(:)34 b Fn(51)62 1589 y(6.3)42 b(Linguistic)13b(Supp)q(ort)h(and)g(Smart)f(P)o(oin)o(ters)18 b Fl(:)34 bFn(53)62 1645 y(6.4)42 b(Compiler)9 b(Co)q(op)q(eration)i(and)h(Optimizations)21 b(53)158 1701 y(6.4.1)46 b(GC-An)o(ytime)25b(vs.)61 b(Safe-P)o(oin)o(ts)291 1751 y(Collection)21 b Fl(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(53)158 1806 y(6.4.2)46b(P)o(artitioned)291 1856 y(Register)15 b(Sets)g(vs.)21 b(V)m(ariable)13b(Rep-)291 1906 y(resen)o(tation)h(Recording)34 b Fl(:)20 b(:)g(:)h(:)f(:)g(:)34 b Fn(54)158 1962 y(6.4.3)46 b(Optimization)21 b(of)i(Garbage)g(Col-)2912012 y(lection)13 b(Itself)g Fl(:)20 b(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(54)62 2067 y(6.5)42 b(F)m(ree)14 b(Storage)g(Managemen)o(t)24b Fl(:)c(:)h(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(55)62 2123 y(6.6)42b(Compact)12 b(Represen)o(tations)j(of)f(Heap)g(Data)46 b(55)02224 y Fm(7)38 b(GC-related)14 b(Language)h(F)l(eatures)219b(56)62 2280 y Fn(7.1)42 b(W)m(eak)13 b(P)o(oin)o(ters)42 bFl(:)21 b(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34b Fn(56)62 2336 y(7.2)42 b(Finalization)22 b Fl(:)e(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)34 b Fn(57)62 2391 y(7.3)42b(Multiple)13 b(Differen)o(tly-Managed)g(Heaps)30 b Fl(:)20b(:)34 b Fn(57)0 2493 y Fm(8)k(Ov)o(erall)14 b(Cost)i(of)f(Garbage)g(Collection)122 b(58)0 2594 y(9)38 b(Conclusions)13 b(and)j(Areas)f(for)g(Researc)o(h)106 b(58)1011 55 y Fo(1)69 b(Automatic)17 b(Storage)k(Reclam)o(a-)1114 130 y(tion)1011 221 y Fk(Garb)n(age)j(c)n(ol)r(le)n(ction)eFn(is)i(the)g(automatic)d(reclamation)h(of)1011 271 y(computer)17b(storage)h([Kn)o(u69)o(,)f(Coh81,)g(App91)o(].)29 b(While)16b(in)1011 321 y(man)o(y)j(systems)i(programmers)e(m)o(ust)h(explicitly)g(reclaim)1011 370 y(heap)c(memory)1261 355 y Fj(1)1293 370y Fn(at)g(some)f(p)q(oin)o(t)g(in)h(the)h(program,)d(b)o(y)i(us-)1011420 y(ing)c(a)g(\\free")h(or)g(\\disp)q(ose")f(statemen)o(t;)h(garbage)f(collected)1011 470 y(systems)k(free)h(the)g(programmer)d(from)g(this)j(burden.)26 b(The)1011 520 y(garbage)19 b(collector's)h(function)g(is)f(to)h(\014nd)g(data)f(ob)r(jects)1960 505 y Fj(2)1011 570 y Fn(that)c(are)g(no)g(longer)g(in)f(use)i(and)f(mak)o(e)f(their)h(space)h(a)o(v)n(ail-)1011619 y(able)d(for)g(reuse)h(b)o(y)f(the)h(the)g(running)f(program.)j(An)d(ob)r(ject)1011 669 y(is)e(considered)h Fk(garb)n(age)f Fn(\(and)g(sub)r(ject)h(to)f(reclamation\))e(if)h(it)1011 719 y(is)i(not)h(reac)o(hable)h(b)o(y)e(the)i(running)e(program)g(via)g(an)o(y)g(path)1011 769 y(of)h(p)q(oin)o(ter)i(tra)o(v)o(ersals.)20 b Fk(Live)14 b Fn(\(p)q(oten)o(tially)f(reac)o(hable\))i(ob-)1011 819 y(jects)f(are)h(preserv)o(ed)g(b)o(y)f(the)g(collector,)f(ensuring)i(that)e(the)1011 868 y(program)f(can)j(nev)o(er)g(tra)o(v)o(erse)g(a)f(\\dangling")e(p)q(oin)o(ter)j(in)o(to)1011918 y(a)e(deallo)q(cated)h(ob)r(ject.)1052 968 y(This)i(pap)q(er)h(surv)o(eys)h(basic)e(and)g(adv)n(anced)h(tec)o(hniques)1011 1018y(in)10 b(unipro)q(cessor)i(garbage)f(collectors,)g(esp)q(ecially)g(those)h(de-)1011 1068 y(v)o(elop)q(ed)21 b(in)g(the)h(last)f(decade.)42b(\(F)m(or)21 b(a)g(more)f(thorough)1011 1118 y(treatmen)o(t)f(of)f(older)i(tec)o(hniques,)h(see)f([Kn)o(u69,)e(Coh81].\))1011 1167 y(While)i(it)g(do)q(es)i(not)f(co)o(v)o(er)g(parallel)f(or)h(distributed)g(col-)10111217 y(lection,)e(it)f(presen)o(ts)i(a)f(uni\014ed)f(taxonom)o(y)e(of)i(incremen-)1011 1267 y(tal)c(tec)o(hniques,)j(whic)o(h)e(la)o(ys)f(the)i(groundw)o(ork)f(for)f(under-)1011 1317 y(standing)j(parallel)f(and)h(distributed)g(collection.)28 b(Our)18 b(fo-)1011 1367 y(cus)12b(is)g(on)f(garbage)h(collection)f(for)g(pro)q(cedural)i(and)e(ob)r(ject-)1011 1416 y(orien)o(ted)j(languages,)f(but)i(m)o(uc)o(h)e(of)g(the)i(information)c(here)1011 1466 y(will)18 b(serv)o(e)j(as)f(bac)o(kground)f(for)h(understanding)g(garbage)1011 1516 y(collection)11 b(of)g(other)h(kinds)f(of)g(systems,)g(suc)o(h)h(as)g(functional)1011 1566y(or)h(logic)f(programmi)o(ng)e(languages.)17 b(\(F)m(or)c(further)h(reading)1011 1616 y(on)h(v)n(arious)g(adv)n(anced)g(topics)h(in)f(garbage)g(collection,)g(the)1011 1666 y(pap)q(ers)d(collected)g(in)f([BC92)o(])g(are)g(a)g(go)q(o)q(d)g(starting)g(p)q(oin)o(t.)1946 1650 y Fj(3)19641666 y Fn(\))1011 1782 y Fi(1.1)55 b(Motiv)m(ation)1011 1858y Fn(Garbage)13 b(collection)f(is)i(necessary)h(for)e(fully)f(mo)q(dular)f(pro-)1011 1908 y(grammi)o(ng,)23 b(to)g(a)o(v)o(oid)g(in)o(tro)q(ducing)g(unnecessary)j(in)o(ter-)1011 1958 y(mo)q(dule)17 b(dep)q(endencies.)35b(A)19 b(soft)o(w)o(are)f(routine)h(op)q(erating)1011 2008y(on)c(a)h(data)g(structure)i(should)e(not)f(ha)o(v)o(e)h(to)g(dep)q(end)h(what)p 1011 2042 388 2 v 1057 2069 a Fh(1)1074 2081 y Fg(W)m(e)e(use)g(the)f(term)g(\\heap")f(in)h(the)g(simple)g(sense)g(of)g(a)h(storage)10112120 y(manageme)o(n)o(t)8 b(tec)o(hnique)g(whic)o(h)i(allo)o(ws)g(an)o(y)g(dynamical)o(ly)e(allo)q(cated)1011 2160 y(ob)r(ject)i(to)h(b)q(e)g(freed)f(at)h(an)o(y)f(time|this)g(is)h(not)g(to)g(b)q(e)g(confused)e(with)10112199 y(heap)h(data)g(structures)g(whic)o(h)g(main)o(tain)f(ordering)h(constrain)o(ts.)1057 2227 y Fh(2)1074 2239 y Fg(W)m(e)15 b(use)g(the)f(term)g(\\ob)r(ject")e(lo)q(osely)m(,)i(to)h(include)e(an)o(y)h(kind)g(of)10112278 y(structured)9 b(data)j(record,)e(suc)o(h)i(as)g(P)o(ascal)f(records)g(or)h(C)h(structs,)d(as)1011 2318 y(w)o(ell)h(as)h(full-\015edged)c(ob)r(jects)i(with)i(encapsulatio)o(n)d(and)i(inheritance)o(,)10112357 y(in)g(the)g(sense)f(of)h(ob)r(ject-orien)o(t)o(ed)e(programm)o(ing)o(.)1057 2385 y Fh(3)1074 2397 y Fg(There)20 b(is)h(also)e(a)i(rep)q(ository)d(of)i(pap)q(ers)f(in)h(P)o(ostScript)e(for-)1011 2436 y(mat)i(a)o(v)n(ailable)e(for)i(anon)o(ymous)e(In)o(ternet)h(FTP)j(from)d(our)i(FTP)10112475 y(host)16 b(\(cs.utexas.edu)o(:pu)o(b/g)o(arb)o(age)o(\).)30b(Among)17 b(other)f(things,)h(this)1011 2515 y(rep)q(ository)12b(con)o(tains)g(collected)g(pap)q(ers)h(from)g(sev)o(eral)g(garbage)f(col-)1011 2554 y(lection)17 b(w)o(orkshops)h(held)g(in)h(conjunctio)o(n)d(with)j(A)o(CM)i(OOPSLA)1011 2594 y(conferences)o(.)980 2718 y Fn(2)peop%%Page: 3 3bop 0 55 a Fn(other)18 b(routines)h(ma)o(y)d(b)q(e)i(op)q(erating)g(on)g(the)g(same)f(struc-)0 105 y(ture,)h(unless)f(there)h(is)f(some)f(go)q(o)q(d)g(reason)h(to)g(co)q(ordinate)0 155 y(their)d(activities.)k(If)13b(ob)r(jects)h(m)o(ust)f(b)q(e)h(deallo)q(cated)f(explic-)0205 y(itly)m(,)20 b(some)g(mo)q(dule)f(m)o(ust)h(b)q(e)h(resp)q(onsible)h(for)e(kno)o(wing)0 255 y(when)14 b Fk(other)f Fn(mo)q(dules)g(are)h(not)f(in)o(terested)i(in)e(a)g(particular)0 304 y(ob)r(ject.)42356 y(Since)18 b(liv)o(eness)h(is)g(a)f Fk(glob)n(al)g Fn(prop)q(ert)o(y)m(,)i(this)e(in)o(tro)q(duces)0 406 y(nonlo)q(cal)c(b)q(o)q(okk)o(eeping)g(in)o(to)g(routines)h(that)g(migh)o(t)e(other-)0 456 y(wise)18 b(b)q(e)h(lo)q(cally)e(understandable)i(and)f(\015exibly)f(comp)q(os-)0 506y(able.)31 b(This)18 b(b)q(o)q(okk)o(eeping)g(inhibits)g(abstraction)h(and)f(re-)0 555 y(duces)c(extensibilit)o(y)m(,)e(b)q(ecause)j(when)e(new)h(functionalit)o(y)d(is)0 605 y(implemen)o(ted,)e(the)j(b)q(o)q(okk)o(eeping)g(co)q(de)g(m)o(ust)f(b)q(e)h(up)q(dated.)0 655 y(The)g(run)o(time)e(cost)i(of)e(the)i(b)q(o)q(okk)o(eeping)f(itself)g(ma)o(y)e(b)q(e)j(sig-)0705 y(ni\014can)o(t,)h(and)h(in)g(some)f(cases)i(it)f(ma)o(y)e(in)o(tro)q(duce)j(the)f(need)0 755 y(for)i(additional)f(sync)o(hronization)i(in)f(concurren)o(t)i(applica-)0 805 y(tions.)42 856 y(The)e(unnecessary)i(complications)c(and)i(subtle)h(in)o(terac-)0 906 y(tions)g(created)i(b)o(y)e(explicit)g(storage)h(allo)q(cation)d(are)j(esp)q(e-)0 956y(cially)13 b(troublesome)g(b)q(ecause)j(programmi)o(ng)11b(mistak)o(es)i(of-)0 1006 y(ten)j(break)h(the)f(basic)g(abstractions)g(of)f(the)i(programmi)o(ng)0 1056 y(language,)d(making)f(errors)k(hard)f(to)f(diagnose.)22 b(F)m(ailing)13 b(to)0 1105 y(reclaim)f(memory)f(at)i(the)g(prop)q(er)i(p)q(oin)o(t)d(ma)o(y)g(lead)h(to)g(slo)o(w)0 1155y(memory)7 b Fk(le)n(aks)p Fn(,)j(with)f(unreclaimed)f(memory)f(gradually)h(ac-)0 1205 y(cum)o(ulating)h(un)o(til)i(the)h(pro)q(cess)h(terminates)e(or)h(sw)o(ap)f(space)0 1255 y(is)f(exhausted.)18 b(Reclaiming)7b(memory)h(to)q(o)h(so)q(on)h(can)h(lead)e(to)0 1305 y(v)o(ery)14b(strange)h(b)q(eha)o(vior,)e(b)q(ecause)i(an)f(ob)r(ject's)g(space)h(ma)o(y)0 1354 y(b)q(e)g(reused)h(to)e(store)h(a)f(completely)f(di\013eren)o(t)j(ob)r(ject)f(while)0 1404 y(an)20 b(old)f(p)q(oin)o(ter)h(still)g(exists.)37b(The)20 b(same)g(memory)d(ma)o(y)0 1454 y(therefore)12 b(b)q(e)g(in)o(terpreted)h(as)e(t)o(w)o(o)f(di\013eren)o(t)i(ob)r(jects)g(sim)o(ul-)01504 y(taneously)k(with)f(up)q(dates)i(to)f(one)g(causing)f(unpredictable)01554 y(m)o(utations)d(of)h(the)i(other.)42 1606 y(These)26b(programming)c(errors)27 b(are)f(particularly)f(dan-)0 1655y(gerous)f(b)q(ecause)h(they)f(often)f(fail)f(to)h(sho)o(w)h(up)f(rep)q(eat-)0 1705 y(ably)m(,)9 b(making)e(debugging)h(v)o(ery)i(di\016cult|they)f(ma)o(y)e(nev)o(er)0 1755 y(sho)o(w)14 b(up)g(at)f(all)g(un)o(til)g(the)h(program)e(is)i(stressed)i(in)e(an)f(un-)0 1805 y(usual)19 b(w)o(a)o(y)m(.)35b(If)19 b(the)i(allo)q(cator)d(happ)q(ens)j(not)f(to)f(reuse)i(a)01855 y(particular)14 b(ob)r(ject's)i(space,)f(a)g(dangling)e(p)q(oin)o(ter)i(ma)o(y)d(not)0 1904 y(cause)h(a)f(problem.)k(Later,)c(after)h(deliv)o(ery)m(,)e(the)i(application)0 1954 y(ma)o(y)c(crash)j(when)f(it)f(mak)o(es)g(a)h(di\013eren)o(t)h(set)f(of)g(memory)d(de-)0 2004 y(mands,)j(or)h(is)g(link)o(ed)g(with)g(a)g(di\013eren)o(t)h(allo)q(cation)d(routine.)02054 y(A)j(slo)o(w)g(leak)g(ma)o(y)e(not)i(b)q(e)h(noticeable)f(while)g(a)g(program)e(is)0 2104 y(b)q(eing)g(used)g(in)g(normal)e(w)o(a)o(ys|p)q(erhaps)i(for)f(man)o(y)f(y)o(ears|)0 2153 y(b)q(ecause)i(the)g(program)d(terminates)h(b)q(efore)i(to)q(o)e(m)o(uc)o(h)g(extra)0 2203 y(space)17b(is)f(used.)26 b(But)17 b(if)e(the)i(co)q(de)g(is)f(incorp)q(orated)h(in)o(to)e(a)0 2253 y(long-running)h(serv)o(er)k(program,)c(the)i(serv)o(er)h(will)e(ev)o(en)o(tu-)0 2303 y(ally)c(exhaust)h(the)h(a)o(v)n(ailable)c(memory)h(and)h(crash.)822 2288 y Fj(4)42 2355 y Fn(Recen)o(tly)m(,)j(to)q(ols)g(ha)o(v)o(e)g(b)q(ecome)g(a)o(v)n(ailable)f(to)h(help)g(pro-)p0 2397 388 2 v 46 2424 a Fh(4)64 2436 y Fg(Long-runnin)o(g)5b(serv)o(er)i(programs)f(are)h(also)h(esp)q(ecially)d(vulnerable)02475 y(to)14 b(leaks)g(due)g(to)g(exception)e(handling.)22b(Exception)12 b(handling)h(co)q(de)0 2515 y(ma)o(y)c(fail)h(to)g(deallo)q(cate)d(all)j(of)g(the)g(ob)r(jects)e(allo)q(cated)g(b)o(y)i(an)g(ab)q(orted)0 2554 y(op)q(eration,)g(and)j(these)e(o)q(ccasional)g(failures)g(ma)o(y)h(cause)g(a)h(leak)f(that)0 2594 y(is)f(extremely)e(hard)i(to)g(diagnose.)101155 y Fn(grammers)19 b(\014nd)j(the)g(source)h(of)e(leak)o(ed)h(ob)r(jects)h(in)e(lan-)1011 105 y(guages)9 b(with)h(explicit)f(deallo)q(cation)f([HJ92],)h(and)h(these)h(can)1011 155 y(b)q(e)g(extremely)f(v)n(aluable.)15b(Unfortunately)m(,)10 b(these)i(to)q(ols)e(only)1011 205 y(\014nd)15b(actual)f(leaks)g(during)h(particular)f(program)f(runs,)i(not)1011255 y(p)q(ossible)i(leaks)h(due)g(to)f(uncommon)e(execution)j(patterns.)1011304 y(Finding)12 b(the)i(source)h(of)e(a)g(leak)o(ed)g(ob)r(ject)i(do)q(es)f(not)f(alw)o(a)o(ys)1011 354 y(solv)o(e)i(the)h(problem,)e(either:)22b(the)16 b(programmer)d(still)h(m)o(ust)1011 404 y(b)q(e)h(able)f(to)h(determine)f(a)h(p)q(oin)o(t)f(where)i(the)f(ob)r(ject)g Fk(should)1011454 y Fn(b)q(e)e(deallo)q(cated|if)f(one)h(exists.)18 b(If)13b(one)g(do)q(esn't)g(exist,)g(the)1011 504 y(program)k(m)o(ust)h(b)q(e)i(restructured.)37 b(\(This)19 b(kind)g(of)g(\\gar-)1011 553y(bage)13 b(debugging")f(is)g(b)q(etter)j(than)e(nothing,)e(but)i(it)g(is)g(v)o(ery)1011 603 y(fallible,)i(and)h(it)h(m)o(ust)e(b)q(e)j(rep)q(eated)g(whenev)o(er)g(programs)1011 653 y(c)o(hange;)i(it)e(is)g(desirable)h(to)f(actually)g(eliminate)e(leaks)i(in)1011 703 y(general,)12 b(rather)g(than)g(certain)g(detectable)h(leaks)f(in)f(partic-)1011 753 y(ular.\))1052818 y(Explicit)g(allo)q(cation)e(and)i(reclamation)f(lead)h(to)g(program)1011868 y(errors)17 b(in)e(more)g(subtle)h(w)o(a)o(ys)f(as)h(w)o(ell.)23b(It)16 b(is)f(common)e(for)1011 918 y(programmers)k(to)j(allo)q(cate)f(a)g(mo)q(derate)g(n)o(um)o(b)q(er)f(of)h(ob-)1011 968 y(jects)h(statically)m(,)e(so)h(that)g(it)g(is)g(unnecessary)i(to)d(allo)q(cate)10111018 y(them)d(on)g(the)i(heap)f(and)f(decide)i(when)f(and)g(where)h(to)e(re-)1011 1067 y(claim)h(them.)32 b(This)18 b(leads)h(to)f(\014xed)h(limitations)d(on)i(pro-)1011 1117 y(grams,)f(making)f(them)i(fail)e(when)j(those)g(limitations)d(are)1011 1167 y(exceeded,)g(p)q(ossibly)f(y)o(ears)g(later)g(when)g(computer)g(memo-)1011 1217 y(ries)10 b(\(and)f(data)g(sets\))i(are)e(m)o(uc)o(h)f(larger.)17 b(This)9 b(\\brittleness")1011 1267y(mak)o(es)15 b(co)q(de)i(m)o(uc)o(h)e(less)i(reusable,)g(b)q(ecause)h(the)f(undo)q(cu-)1011 1317 y(men)o(ted)11 b(limits)f(cause)j(it)e(to)h(fail,)e(ev)o(en)j(if)e(it's)h(b)q(eing)g(used)g(in)1011 1366 y(a)i(w)o(a)o(y)g(consisten)o(t)h(with)f(its)g(abstractions.)21 b(\(F)m(or)14b(example,)1011 1416 y(man)o(y)j(compilers)g(fail)h(when)h(faced)g(with)f(automatically-)1011 1466 y(generated)j(programs)e(that)i(violate)e(assumptions)g(ab)q(out)1011 1516 y(\\normal")11 b(programming)f(practices.\))1052 1582 y(These)22 b(problems)d(lead)h(man)o(y)e(applications)i(program-)1011 1631 y(mers)d(to)g(implemen)o(t)d(some)j(form)e(of)i(application-sp)q(eci\014c)1011 1681 y(garbage)f(collection)f(within)h(a)f(large)h(soft)o(w)o(are)g(system,)g(to)1011 1731 y(a)o(v)o(oid)e(most)h(of)g(the)h(headac)o(hes)h(of)e(explicit)h(storage)g(man-)10111781 y(agemen)o(t.)25 b(Man)o(y)17 b(large)f(programs)f(ha)o(v)o(e)i(their)g(o)o(wn)f(data)1011 1831 y(t)o(yp)q(es)c(that)g(implem)o(en)o(t)d(reference)14 b(coun)o(ting,)e(for)f(example.)1011 1880 y(Because)k(they)e(are)g(co)q(ded)h(up)f(for)g(a)g(one-shot)g(application,)1011 1930 y(these)i(collectors)g(are)f(often)g(b)q(oth)g(incomplete)f(and)g(buggy)m(.)10111980 y(The)i(garbage)f(collectors)h(themselv)o(es)g(are)g(therefore)h(often)1011 2030 y(unreliable,)f(as)h(w)o(ell)e(as)i(b)q(eing)g(hard)f(to)h(use)g(b)q(ecause)h(they)1011 2080 y(are)22 b(not)f(in)o(tegrated)h(in)o(to)f(the)h(programming)c(language.)1011 2130 y(The)f(fact)h(that)f(suc)o(h)h(kludges)f(exist)h(despite)g(these)h(prob-)1011 2179 y(lems)12 b(is)h(a)g(testimon)o(y)e(to)i(the)h(v)n(alue)e(of)h(garbage)g(collection,)1011 2229y(and)f(it)h(suggests)h(that)f(garbage)f(collection)h(should)f(b)q(e)i(part)1011 2279 y(of)f(programming)d(language)j(implemen)o(tations.)10522345 y(It)g(is)f(widely)g(b)q(eliev)o(ed)h(that)f(garbage)h(collection)f(is)g(quite)1011 2395 y(exp)q(ensiv)o(e)18 b(relativ)o(e)f(to)g(explicit)g(heap)h(managemen)o(t,)d(but)1011 2444 y(sev)o(eral)h(studies)h(ha)o(v)o(e)f(sho)o(wn)g(that)h(garbage)e(collection)h(is)1011 2494 y(sometimes)9b(c)o(heap)q(er)k([App87)o(])e(than)h(explicit)f(deallo)q(cation,)10112544 y(and)i(is)h(usually)f(comp)q(etitiv)o(e)g(with)h(it)f([Zor93].)k(As)d(w)o(e)g(will)1011 2594 y(explain)22 b(later,)i(a)e(w)o(ell-implem)o(en)o(ted)e(garbage)j(collector)980 2718 y(3)p eop%%Page: 4 4bop 0 55 a Fn(should)11 b(slo)o(w)g(running)f(programs)g(do)o(wn)h(b)o(y)g(\(v)o(ery)h(roughly\))0 105 y(10)k(p)q(ercen)o(t,)i(relativ)o(e)e(to)g(explicit)g(heap)g(deallo)q(cation,)g(for)0 155 y(a)e(high-p)q(erformance)g(system.)502 140 y Fj(5)540 155 y Fn(A)h(signi\014can)o(t)f(n)o(um)o(b)q(er)g(of)0 205 y(programmers)e(regard)i(suc)o(h)h(a)f(cost)g(as)g(unacceptable,)h(but)0 255 y(man)o(y)c(others)i(b)q(eliev)o(e)g(it)g(to)f(b)q(e)h(a)g(small)d(price)j(for)f(the)i(b)q(en-)0 304 y(e\014ts)e(in)f(con)o(v)o(enience,)i(dev)o(elopmen)o(t)d(time,)g(and)h(reliabilit)o(y)m(.)42 356 y(Reliable)23b(cost)i(comparisons)f(are)h(di\016cult,)h(ho)o(w)o(ev)o(er,)0406 y(partly)15 b(b)q(ecause)i(the)e(use)h(of)f(explicit)g(deallo)q(cation)f(a\013ects)0 456 y(the)c(structure)i(of)d(programs)g(in)g(w)o(a)o(ys)g(that)h(ma)o(y)e(themselv)o(es)0 506 y(b)q(e)13 b(exp)q(ensiv)o(e,)g(either)g(directly)f(or)g(b)o(y)g(their)g(impact)f(on)h(the)0 556 y(soft)o(w)o(are)i(dev)o(elopmen)o(t)f(pro)q(cess.)42 608 y(F)m(or)e(example,)g(explicit)g(heap)h(managemen)o(t)d(often)j(moti-)0 658 y(v)n(ates)h(extra)f(cop)o(ying)g(of)g(ob)r(jects)h(so)f(that)h(deallo)q(cation)e(de-)0 707y(cisions)k(can)g(b)q(e)g(made)e(lo)q(cally|i.e.,)f(eac)o(h)j(mo)q(dule)e(mak)o(es)0 757 y(its)i(o)o(wn)g(cop)o(y)g(of)g(a)g(piece)h(of)f(information,)d(and)j(can)h(deal-)0 807 y(lo)q(cate)e(it)g(when)g(it)g(is)g(\014nished)h(with)e(it.)19 b(This)14 b(not)g(only)f(in-)0857 y(curs)h(extra)f(heap)g(allo)q(cation,)e(but)i(undermines)f(an)h(ob)r(ject-)0 907 y(orien)o(ted)20 b(design)f(strategy)m(,)h(where)g(the)g(iden)o(tities)f(of)g(ob-)0 956 y(jects)g(ma)o(y)e(b)q(e)i(as)f(imp)q(ortan)o(t)f(as)i(the)g(v)n(alues)f(they)h(store.)0 1006 y(\(The)g(e\016ciency)g(cost)g(of)f(this)g(extra)h(cop)o(ying)f(is)g(hard)g(to)0 1056 y(measure,)f(b)q(ecause)i(y)o(ou)e(can't)g(fairly)f(compare)g(the)i(same)01106 y(program)9 b(with)h(and)g(without)g(garbage)h(collection;)f(the)h(pro-)0 1156 y(gram)16 b(w)o(ould)h(ha)o(v)o(e)g(b)q(een)i(written)f(di\013eren)o(tly)h(if)d(garbage)0 1206 y(collection)d(w)o(ere)i(assumed.\))421258 y(In)f(the)h(long)e(run,)h(p)q(o)q(or)h(program)d(structure)17b(ma)o(y)12 b(incur)0 1307 y(extra)19 b(dev)o(elopmen)o(t)f(and)g(main)o(tenance)g(costs,)i(and)e(ma)o(y)0 1357 y(cause)12 b(programmer)c(time)h(to)i(b)q(e)g(sp)q(en)o(t)h(on)f(main)o(taini)o(ng)d(in-)0 1407y(elegan)o(t)i(co)q(de)i(rather)f(than)f(optimizing)e(time-critical)h(parts)01457 y(of)15 b(applications;)h(ev)o(en)h(if)e(garbage)h(collection)f(costs)i(more)0 1507 y(than)h(explicit)h(deallo)q(cation,)f(the)h(sa)o(vings)f(in)g(h)o(uman)f(re-)0 1556 y(sources)d(ma)o(y)d(pa)o(y)i(for)f(themselv)o(es)h(in)f(increased)i(atten)o(tion)0 1606 y(to)g(other)g(asp)q(ects)i(of)d(the)i(system.)559 1591 y Fj(6)42 1658 y Fn(F)m(or)d(these)h(reasons,)h(garbage-collected)e(languages)g(ha)o(v)o(e)0 1708 y(long)j(b)q(een)h(used)h(for)e(the)i(programmi)o(ng)c(of)i(sophisticated)0 1758 y(algorithms)24b(using)h(complex)g(data)h(structures.)57 b(Man)o(y)0 1808y(garbage-collected)22 b(languages)e(\(suc)o(h)i(as)f(Lisp)g(and)g(Pro-)01858 y(log\))c(w)o(ere)i(originally)c(p)q(opular)j(for)g(arti\014cial)e(in)o(telligence)0 1907 y(programming)o(,)10 b(but)i(ha)o(v)o(e)g(b)q(een)i(found)e(useful)g(for)g(general-)0 1957 y(purp)q(ose)h(programming)o(.)i(F)m(unctional)10 b(and)i(logic)f(program-)0 2007 y(ming)24 b(languages)h(generally)h(incorp)q(orate)g(garbage)g(col-)0 2057 y(lection,)f(b)q(ecause)h(their)e(unpredictable)g(execution)g(pat-)0 2107 y(terns)h(mak)o(e)e(it)h(esp)q(ecially)g(di\016cult)f(to)h(explicitly)f(pro-)0 2156y(gram)f(storage)h(deallo)q(cation.)46 b(The)23 b(in\015uen)o(tial)g(ob)r(ject-)p 0 2200 388 2 v 46 2227 a Fh(5)64 2239 y Fg(This)12b(is)h(an)f(estimate)f(on)h(our)g(part,)f(and)h(in)h(principle)d(w)o(e)j(think)0 2278 y(garbage)g(collection)g(p)q(erforman)o(ce)f(could)i(b)q(e)h(somewhat)f(b)q(etter;)h(in)0 2318 y(practice,)f(it)g(is)h(sometimes)e(w)o(orse.)25 b(Reasons)14 b(for)h(\(and)e(limitations)0 2357 y(of)s(\))d(suc)o(h)g(an)h(estimate)e(will)i(b)q(e)g(discussed)e(in)i(Sect.)f(8.)15b(One)c(practical)0 2396 y(problem)c(is)i(that)f(state-of-the-)o(art)e(garbage)h(collectors)f(ha)o(v)o(e)i(not)h(gen-)0 2436 y(erally)k(b)q(een)g(a)o(v)n(ailable)f(for)i(most)f(high-p)q(erform)o(an)o(ce)e(programming)02475 y(systems.)46 2503 y Fh(6)64 2515 y Fg(F)m(or)g(example,)e(Ro)o(vner)h(rep)q(orts)g(that)h(an)g(estimated)e(40\045)j(of)f(de-)0 2554y(v)o(elop)q(er)6 b(e\013ort)g(in)h(the)g(Mesa)h(system)e(w)o(as)i(sp)q(en)o(t)e(dealing)g(with)i(di\016cult)0 2594 y(storage)i(manageme)o(n)o(t)f(issues)h([Ro)o(v85)n(].)1011 55 y Fn(orien)o(ted)25 b(programming)d(language)i(Smalltalk)e(incorp)q(o-)1011 105 y(rates)11 b(garbage)f(collection;)h(more)e(recen)o(tly)m(,)i(garbage)f(collec-)1011155 y(tion)h(has)g(b)q(een)i(incorp)q(orated)f(in)o(to)f(man)o(y)f(general-purp)q(ose)1011 205 y(languages)16 b(\(suc)o(h)i(as)f(Ei\013el,)g(Self)g(and)g(Dylan\),)f(including)1011 255 y(those)e(designed)h(in)e(part)i(for)e(lo)o(w-lev)o(el)g(systems)h(program-)1011 304 y(ming)c(\(suc)o(h)j(as)f(Mo)q(dula-3)f(and)h(Ob)q(eron\).)18 b(Sev)o(eral)12 b(add-on)1011354 y(pac)o(k)n(ages)17 b(also)f(exist)h(to)f(retro\014t)i(C)f(and)g(C++)g(with)f(gar-)1011 404 y(bage)e(collection.)1052 454 y(In)i(the)h(rest)g(of)f(this)g(pap)q(er,)h(w)o(e)f(fo)q(cus)h(on)f(garbage)f(col-)1011504 y(lectors)f(that)f(are)g(built)f(in)o(to)g(a)h(language)f(implemen)o(tatio)o(n,)1011 553 y(or)f(grafted)h(on)o(to)f(a)g(language)g(b)o(y)g(imp)q(orting)f(routines)i(from)1011 603 y(a)i(library)m(.)j(The)e(usual)f(arrangemen)o(t)f(is)h(that)h(the)f(heap)h(al-)1011 653 y(lo)q(cation)k(routines)h(p)q(erform)f(sp)q(ecial)i(actions)f(to)f(reclaim)1011703 y(space,)j(as)f(necessary)m(,)i(when)d(a)g(memory)e(request)k(is)e(not)1011 753 y(easily)i(satis\014ed.)43 b(Explicit)22 b(calls)g(to)g(the)h(\\deallo)q(cator")1011 802 y(are)15 b(unnecessary)i(b)q(ecause)f(calls)e(to)h(the)g(collector)g(are)g(im-)1011 852 y(plicit)i(in)g(calls)g(to)h(the)g(allo)q(cator|the)f(allo)q(cator)f(in)o(v)o(ok)o(es)1011 902y(the)c(garbage)g(collector)g(as)h(necessary)h(to)d(free)i(up)f(the)h(space)1011 952 y(it)g(needs.)1052 1002 y(Most)k(collectors)g(require)g(some)e(co)q(op)q(eration)i(from)d(the)1011 1052 y(compiler)9 b(\(or)i(in)o(terpreter\),)j(as)d(w)o(ell:)16 b(ob)r(ject)11 b(formats)f(m)o(ust)10111101 y(b)q(e)16 b(recognizable)g(b)o(y)f(the)h(garbage)f(collector,)g(and)g(certain)1011 1151 y(in)o(v)n(arian)o(ts)9 b(m)o(ust)g(b)q(e)i(preserv)o(ed)i(b)o(y)d(the)h(running)f(co)q(de.)18 b(De-)1011 1201 y(p)q(ending)g(on)f(the)i(details)e(of)g(the)i(garbage)e(collector,)i(this)1011 1251y(ma)o(y)10 b(require)i(sligh)o(t)f(c)o(hanges)i(to)f(the)g(compiler's)e(co)q(de)j(gen-)1011 1301 y(erator,)19 b(to)f(emit)f(certain)h(extra)h(information)c(at)j(compile)1011 1350 y(time,)23 b(and)f(p)q(erhaps)i(execute)h(di\013eren)o(t)e(instruction)g(se-)1011 1400 y(quences)17b(at)f(run)g(time)f([Bo)q(e91)o(,)h(WH91)o(,)f(BC91,)h(DMH92)o(].)10111450 y(\(Con)o(trary)h(to)g(widespread)h(misconceptions,)f(there)h(is)f(no)1011 1500 y(con\015ict)g(b)q(et)o(w)o(een)h(using)e(a)h(compiled)e(language)h(and)g(gar-)1011 1550 y(bage)21 b(collection;)k(state-of-the)d(art)g(implemen)o(tations)d(of)1011 1599 y(garbage-collected)c(languages)e(use)j(sophisticated)f(optimi-)1011 1649 y(zing)e(compilers.\))10111765 y Fi(1.2)55 b(The)19 b(Tw)n(o-Phase)g(Abstraction)10111841 y Fn(Garbage)f(collection)h(automatically)d(reclaims)i(the)i(space)10111891 y(o)q(ccupied)g(b)o(y)e(data)h(ob)r(jects)h(that)f(the)g(running)g(program)1011 1941 y(can)12 b(nev)o(er)h(access)h(again.)i(Suc)o(h)d(data)e(ob)r(jects)j(are)e(referred)1011 1991 y(to)h(as)g Fk(garb)n(age)pFn(.)18 b(The)c(basic)f(functioning)g(of)f(a)h(garbage)g(col-)10112041 y(lector)h(consists,)h(abstractly)f(sp)q(eaking,)f(of)h(t)o(w)o(o)f(parts:)1041 2127 y(1.)20 b(Distinguishing)14 b(the)j(liv)o(e)e(ob)r(jects)i(from)d(the)i(garbage)1094 2177 y(in)d(some)g(w)o(a)o(y)g(\()pFk(garb)n(age)j(dete)n(ction)p Fn(\),)d(and)1041 2258 y(2.)20b(Reclaiming)12 b(the)k(garbage)g(ob)r(jects')g(storage,)f(so)h(that)10942308 y(the)c(running)g(program)e(can)i(use)h(it)e(\()p Fk(garb)n(age)j(r)n(e)n(clama-)1094 2358 y(tion)p Fn(\).)1052 2444 y(In)k(practice,)i(these)f(t)o(w)o(o)f(phases)h(ma)o(y)d(b)q(e)j(functionally)1011 2494 y(or)e(temp)q(orally)e(in)o(terlea)o(v)o(ed,)i(and)g(the)h(reclamation)d(tec)o(h-)10112544 y(nique)f(is)h(strongly)f(dep)q(enden)o(t)i(on)f(the)g(garbage)f(detection)1011 2594 y(tec)o(hnique.)980 2718 y(4)p eop%%Page: 5 5bop 42 55 a Fn(In)17 b(general,)h(garbage)f(collectors)h(use)h(a)e(\\liv)o(eness")g(cri-)0 105 y(terion)c(that)g(is)g(somewhat)f(more)g(conserv)n(ativ)o(e)i(than)e(those)0 155 y(used)21 b(b)o(y)f(other)h(systems.)37b(In)20 b(an)g(optimizing)e(compiler,)0 205 y(a)f(v)n(alue)f(ma)o(y)f(b)q(e)i(considered)i(dead)e(at)g(the)g(p)q(oin)o(t)g(that)g(it)0 255y(can)f(nev)o(er)i(b)q(e)e(used)i(again)d(b)o(y)h(the)g(running)g(program,)f(as)0 304 y(determined)f(b)o(y)g(con)o(trol)g(\015o)o(w)g(and)g(data)g(\015o)o(w)g(analysis.)k(A)0 354 y(garbage)9 b(collector)h(t)o(ypically)e(uses)i(a)f(simpler,)g(less)h(dynamic)0 404 y(criterion,)h(de\014ned)h(in)d(terms)i(of)e(a)h Fk(r)n(o)n(ot)i(set)e Fn(and)g Fk(r)n(e)n(achability)0454 y Fn(from)i(these)j(ro)q(ots.)42 504 y(A)o(t)c(the)h(momen)o(t)d(the)j(garbage)g(collector)f(is)h(in)o(v)o(ok)o(ed,)f(the)0 554 y(activ)o(e)i(v)n(ariables)e(are)i(considered)h(liv)o(e.)j(T)o(ypically)m(,)10b(this)j(in-)0 604 y(cludes)i(statically-allo)q(cated)d(global)g(or)i(mo)q(dule)e(v)n(ariables,)0 653 y(as)j(w)o(ell)g(as)h(lo)q(cal)e(v)n(ariables)h(in)g(activ)n(ation)f(records)i(on)g(the)0 703 y(activ)n(ation)10b(stac)o(k\(s\),)j(and)e(an)o(y)g(v)n(ariables)g(curren)o(tly)h(in)f(reg-)0753 y(isters.)18 b(These)13 b(v)n(ariables)d(form)g(the)h Fk(r)n(o)n(ot)h(set)f Fn(for)g(the)h(tra)o(v)o(er-)0 803 y(sal.)17 b(Heap)c(ob)r(jects)h(directly)f(reac)o(hable)g(from)e(an)o(y)h(of)g(these)0 853y(v)n(ariables)k(could)g(b)q(e)h(accessed)i(b)o(y)d(the)h(running)f(program,)0 903 y(so)d(they)g(m)o(ust)f(b)q(e)h(preserv)o(ed.)20 b(In)12b(addition,)g(since)h(the)g(pro-)0 952 y(gram)18 b(migh)o(t)g(tra)o(v)o(erse)k(p)q(oin)o(ters)e(from)e(those)j(ob)r(jects)g(to)0 1002 y(reac)o(h)16b(other)h(ob)r(jects,)g(an)o(y)e(ob)r(ject)h(reac)o(hable)h(from)d(a)h(liv)o(e)0 1052 y(ob)r(ject)g(is)f(also)f(liv)o(e.)18 b(Th)o(us)c(the)g(set)h(of)f(liv)o(e)f(ob)r(jects)i(is)f(sim-)0 1102 y(ply)e(the)h(set)h(of)e(ob)r(jects)i(on)f(an)o(y)f(directed)i(path)f(of)f(p)q(oin)o(ters)0 1152y(from)g(the)j(ro)q(ots.)42 1202 y(An)o(y)g(ob)r(ject)h(that)g(is)f(not)h(reac)o(hable)g(from)e(the)i(ro)q(ot)f(set)0 1252 y(is)i(garbage,)g(i.e.,)g(useless,)i(b)q(ecause)g(there)f(is)f(no)g(legal)g(se-)0 1301y(quence)g(of)e(program)f(actions)i(that)f(w)o(ould)g(allo)o(w)f(the)i(pro-)01351 y(gram)c(to)i(reac)o(h)h(that)f(ob)r(ject.)20 b(Garbage)13b(ob)r(jects)j(therefore)0 1401 y(can't)d(a\013ect)h(the)f(future)h(course)g(of)e(the)h(computation,)e(and)0 1451 y(their)j(space)h(ma)o(y)d(b)q(e)j(safely)e(reclaimed.)0 1569 y Fi(1.3)56 b(Ob)s(ject)18 b(Represen)n(tations)01647 y Fn(In)i(most)e(of)i(this)g(pap)q(er,)h(w)o(e)f(mak)o(e)f(the)h(simplifying)c(as-)0 1697 y(sumption)h(that)i(heap)g(ob)r(jects)h(are)g(self-iden)o(tifying,)e(i.e.,)0 1747 y(that)10 b(it)f(is)h(easy)g(to)g(determine)g(the)g(t)o(yp)q(e)h(of)e(an)h(ob)r(ject)g(at)g(run)01796 y(time.)15 b(Implemen)o(tations)7 b(of)i(statically-t)o(yp)q(ed)g(garbage)g(col-)0 1846 y(lected)k(languages)f(t)o(ypically)f(ha)o(v)o(e)h(hidden)h(\\header")g(\014elds)0 1896 y(on)f(heap)g(ob)r(jects,)h(i.e.,)d(an)i(extra)g(\014eld)g(con)o(taining)f(t)o(yp)q(e)h(in-)0 1946y(formation,)e(whic)o(h)j(can)h(b)q(e)f(used)h(to)f(deco)q(de)i(the)f(format)d(of)0 1996 y(the)k(ob)r(ject)h(itself.)k(\(This)15 b(is)g(esp)q(ecially)f(useful)h(for)g(\014nding)0 2045 y(p)q(oin)o(ters)g(to)f(other)i(ob)r(jects.\))21 b(Suc)o(h)15 b(information)c(can)k(eas-)0 2095y(ily)c(b)q(e)h(generated)h(b)o(y)e(the)i(compiler,)d(whic)o(h)h(m)o(ust)g(ha)o(v)o(e)h(the)0 2145 y(information)f(to)j(generate)i(correct)g(co)q(de)f(for)e(references)k(to)0 2195 y(ob)r(jects')e(\014elds.)422245 y(Dynamicall)o(y-t)o(yp)q(ed)27 b(languages)i(suc)o(h)h(as)g(Lisp)f(and)0 2295 y(Smalltalk)9 b(usually)i(use)i Fk(tagge)n(d)f Fn(p)q(oin)o(ters;)h(a)e(sligh)o(tly)g(short-)0 2345 y(ened)18 b(represen)o(tation)g(of)e(the)h(hardw)o(are)g(address)g(is)g(used,)0 2395 y(with)11 b(a)g(small)e(t)o(yp)q(e-iden)o(tifying)h(\014eld)h(in)g(place)g(of)g(the)h(miss-)02444 y(ing)f(address)i(bits.)k(This)11 b(also)g(allo)o(ws)f(short)j(imm)n(utable)c(ob-)0 2494 y(jects)17 b(\(in)e(particular,)h(small)d(in)o(tegers\))k(to)e(b)q(e)h(represen)o(ted)0 2544 y(as)c(unique)g(bit)f(patterns)i(stored)g(directly)f(in)f(the)h(\\address")0 2594 y(part)17 b(of)g(the)h(\014eld,)g(rather)g(than)f(actually)f(referred)j(to)e(b)o(y)1011 55 y(an)11b(address.)18 b(This)11 b(tagged)g(represen)o(tation)h(supp)q(orts)h(p)q(oly-)1011 105 y(morphic)h(\014elds)i(whic)o(h)f(ma)o(y)f(con)o(tain)h(either)h(one)g(of)f(these)1011 155 y(\\imm)o(ediate")10 b(ob)r(jects,)k(or)g(a)e(p)q(oin)o(ter)i(to)f(an)g(ob)r(ject)g(on)g(the)1011 205y(heap.)18 b(Usually)m(,)12 b(these)j(short)g(tags)f(are)g(augmen)o(ted)f(b)o(y)g(ad-)1011 255 y(ditional)i(information)f(in)j(heap-allo)q(cated)f(ob)r(jects')i(head-)1011 304 y(ers.)1052 358 y(F)m(or)27 b(a)f(purely)h(statically-t)o(yp)q(ed)f(language,)j(no)d(p)q(er-)1011 408y(ob)r(ject)13 b(run)o(time)e(t)o(yp)q(e)i(information)d(is)i(actually)g(necessary)m(,)1011 458 y(except)f(the)g(t)o(yp)q(es)g(of)f(the)g(ro)q(ot)g(set)h(v)n(ariables.)17 b(\(This)10 b(will)e(b)q(e)1011 508y(discussed)15 b(in)e(Sect)i(6.1.\))i(Despite)d(this,)g(headers)h(are)f(often)1011 558 y(used)21 b(for)g(statically-t)o(yp)q(ed)f(languages,)i(b)q(ecause)g(it)f(sim-)1011 607 y(pli\014es)d(implemen)o(tations)e(at)i(little)g(cost.)33 b(\(Con)o(v)o(en)o(tional)1011 657 y(\(explicit\))14b(heap)h(managemen)o(t)e(systems)i(often)g(use)g(ob)r(ject)1011707 y(headers)g(for)f(similar)d(reasons.\))1052 761 y(\(Garbage)i(collectors)g(using)g Fk(c)n(onservative)h(p)n(ointer)f(\014nd-)1011 811y(ing)26 b Fn([BW88)o(])f(are)i(usable)f(with)f(little)h(or)g(no)f(co)q(op)q(era-)1011 861 y(tion)13 b(from)g(the)h(compiler|not)e(ev)o(en)j(the)g(t)o(yp)q(es)g(of)e(named)1011 910 y(v)n(ariables|but)e(w)o(e)i(will)e(defer)i(discussion)g(of)f(these)i(collec-)1011 960 y(tors)g(un)o(til)f(Sect)i(6.2.\))1011 1098 y Fi(1.4)55 b(Ov)n(erview)18 b(of)h(the)f(P)n(ap)r(er)10111183 y Fn(The)j(remainder)f(of)g(this)h(pap)q(er)g(will)e(discuss)j(basic)f(and)1011 1232 y(adv)n(anced)14 b(topics)g(in)f(garbage)h(collection.)10521286 y(The)35 b(basic)f(algorithms)e(include)i(reference)j(coun)o(t-)10111336 y(ing,)21 b(mark-sw)o(eep,)g(mark-compact,)f(cop)o(ying,)h(and)f(non-)1011 1386 y(cop)o(ying)25 b(implicit)e(collection;)31 b(these)d(are)e(discussed)h(in)1011 1436 y(Sect.)14 b(2.)1052 1490 y Fk(Incr)n(emental)gFn(tec)o(hniques)i(\(Sect.)e(3\))g(allo)o(w)f(garbage)g(col-)10111539 y(lection)21 b(to)h(pro)q(ceed)h(piecemeal)e(while)h(applications)f(are)1011 1589 y(running.)d(These)e(tec)o(hniques)f(can)f(reduce)i(the)f(disruptiv)o(e-)1011 1639 y(ness)f(of)e(garbage)g(collection,)h(and)f(ma)o(y)f(ev)o(en)i(pro)o(vide)g Fk(r)n(e)n(al-)1011 1689 y(time)18b Fn(guaran)o(tees.)34 b(They)19 b(can)g(also)g(b)q(e)g(generalized)h(in)o(to)1011 1739 y(concurren)o(t)14 b(collections,)f(whic)o(h)g(pro)q(ceed)h(on)f(another)g(pro-)1011 1789 y(cessor,)i(in)e(parallel)g(with)g(actual)h(program)e(execution.)1052 1842 y Fk(Gener)n(ational)20 b Fn(sc)o(hemes)h(\(Sect.)g(4\))f(impro)o(v)o(e)e(e\016ciency)1011 1892 y(and/or)g(lo)q(calit)o(y)f(b)o(y)i(garbage)f(collecting)g(a)h(smaller)e(area)10111942 y(more)10 b(often,)g(while)h(exploiting)e(t)o(ypical)h(lifetime)f(c)o(haracter-)1011 1992 y(istics)i(to)g(a)o(v)o(oid)e(undue)j(o)o(v)o(erhead)f(from)e(long-liv)o(ed)g(ob)r(jects.)1011 2042 y(Because)18b(most)e(collections)h(are)g(of)f(a)h(small)e(area,)i(t)o(ypical)10112092 y(pause)d(times)f(are)h(also)f(short,)h(and)f(for)g(man)o(y)f(applications)1011 2141 y(this)g(is)g(an)h(acceptable)g(alternativ)o(e)f(to)h(incremen)o(tal)e(collec-)1011 2191 y(tion.)1052 2245 y(Section)20b(5)e(discusses)j(lo)q(calit)o(y)d(prop)q(erties)i(of)e(garbage-)10112295 y(collected)26 b(systems,)i(whic)o(h)d(are)h(rather)g(di\013eren)o(t)h(from)1011 2345 y(those)12 b(of)g(con)o(v)o(en)o(tional)f(systems.)17b(Section)c(6)e(explores)i(lo)o(w-)1011 2395 y(lev)o(el)21b(implemen)o(tatio)o(n)e(considerations,)k(suc)o(h)g(as)e(ob)r(ject)10112444 y(formats)10 b(and)i(compiler)e(co)q(op)q(eration;)i(Section)g(7)g(describ)q(es)1011 2494 y(language-lev)o(el)19 b(constrain)o(ts)j(and)f(features)h(for)e(garbage-)1011 2544 y(collected)e(systems.)31b(Section)18 b(9)g(presen)o(ts)h(the)g(basic)f(con-)1011 2594y(clusions)f(of)g(the)g(pap)q(er)h(and)f(sk)o(etc)o(hes)i(researc)o(h)g(issues)f(in)980 2718 y(5)p eop%%Page: 6 6bop 0 55 a Fn(garbage)14 b(collection)g(of)f(parallel,)g(distributed,)h(and)g(p)q(ersis-)0 105 y(ten)o(t)g(systems.)0 247 y Fo(2)69 b(Basic)75b(Garbage)i(Collecti)o(on)103 322 y(T)-6 b(ec)n(hniques)0 415y Fn(Giv)o(en)9 b(the)i(basic)f(t)o(w)o(o-part)g(op)q(eration)g(of)g(a)f(garbage)h(collec-)0 464 y(tor,)k(man)o(y)f(v)n(ariations)h(are)h(p)q(ossible.)20 b(The)15 b(\014rst)h(part,)e(dis-)0 514 y(tinguishing)e(liv)o(e)g(ob)r(jects)i(from)d(garbage,)h(ma)o(y)f(b)q(e)j(done)f(in)0564 y(t)o(w)o(o)i(w)o(a)o(ys:)k(b)o(y)c Fk(r)n(efer)n(enc)n(e)g(c)n(ounting)pFn(,)h(or)f(b)o(y)g Fk(tr)n(acing)p Fn(.)21 b(\(The)0 614 y(general)14b(term)f(\\tracing,")f(used)j(to)e(include)h(b)q(oth)f(marking)0664 y(and)j(cop)o(ying)g(tec)o(hniques,)i(is)f(tak)o(en)f(from)f([LD87)o(].\))26 b(Ref-)0 713 y(erence)16 b(coun)o(ting)d(garbage)g(collectors)h(main)o(tain)d(coun)o(ts)j(of)0 763 y(the)g(n)o(um)o(b)q(er)f(of)g(p)q(oin)o(ters)h(to)f(eac)o(h)h(ob)r(ject,)g(and)f(this)h(coun)o(t)0813 y(is)i(used)i(as)e(a)g(lo)q(cal)g(appro)o(ximation)d(of)j(determining)f(true)0 863 y(liv)o(eness.)33 b(T)m(racing)19 b(collectors)g(determine)g(liv)o(eness)g(more)0 913 y(directly)m(,)e(b)o(y)g(actually)f(tra)o(v)o(ersing)h(the)h(p)q(oin)o(ters)g(that)f(the)0 962 y(program)d(could)h(tra)o(v)o(erse,)i(to)e(\014nd)h(all)e(of)h(the)h(ob)r(jects)h(the)0 1012 y(program)f(migh)o(t)g(reac)o(h.)31 b(There)19 b(are)f(sev)o(eral)h(v)n(arieties)f(of)01062 y(tracing)d(collection:)21 b(mark-sw)o(eep,)15 b(mark-compact,)d(cop)o(y-)0 1112 y(ing,)k(and)g(non-cop)o(ying)f(implicit)e(reclamation.)7821097 y Fj(7)824 1112 y Fn(Because)0 1162 y(eac)o(h)j(garbage)f(detection)h(sc)o(heme)g(has)f(a)g(ma)r(jor)f(in\015uence)0 1212 y(on)e(reclamation)e(and)i(on)g(reuse)i(tec)o(hniques,)f(w)o(e)f(will)f(in)o(tro-)01261 y(duce)k(reclamation)d(metho)q(ds)h(as)h(w)o(e)g(go.)01382 y Fi(2.1)56 b(Reference)16 b(Coun)n(ting)0 1461 y Fn(In)k(a)g(reference)i(coun)o(ting)d(system)h([Col60)o(],)g(eac)o(h)g(ob)r(ject)01511 y(has)12 b(an)h(asso)q(ciated)g(coun)o(t)f(of)g(the)h(references)i(\(p)q(oin)o(ters\))e(to)0 1560 y(it.)k(Eac)o(h)c(time)d(a)i(reference)j(to)d(the)h(ob)r(ject)g(is)f(created,)h(e.g.,)0 1610 y(when)19 b(a)f(p)q(oin)o(ter)h(is)g(copied)g(from)e(one)h(place)h(to)g(another)0 1660 y(b)o(y)13b(an)h(assignmen)o(t,)e(the)i(p)q(oin)o(ted-to)g(ob)r(ject's)g(coun)o(t)g(is)g(in-)0 1710 y(cremen)o(ted.)28 b(When)17 b(an)f(existing)h(reference)i(to)e(an)f(ob)r(ject)0 1760 y(is)e(eliminated,)e(the)j(coun)o(t)g(is)f(decremen)o(ted.)21 b(\(See)16 b(Fig.)d(1.\))0 1809 y(The)g(memory)e(o)q(ccupied)i(b)o(y)g(an)f(ob)r(ject)i(ma)o(y)d(b)q(e)i(reclaimed)0 1859 y(when)21b(the)h(ob)r(ject's)f(coun)o(t)g(equals)g(zero,)i(since)e(that)g(in-)01909 y(dicates)e(that)f(no)g(p)q(oin)o(ters)h(to)f(the)h(ob)r(ject)g(exist)g(and)f(the)0 1959 y(running)c(program)e(cannot)i(reac)o(h)h(it.)422010 y(In)9 b(a)h(straigh)o(tforw)o(ard)f(reference)j(coun)o(ting)e(system,)g(eac)o(h)0 2059 y(ob)r(ject)16 b(t)o(ypically)f(has)g(a)h(header)g(\014eld)g(of)f(information)e(de-)0 2109 y(scribing)j(the)h(ob)r(ject,)g(whic)o(h)f(includes)h(a)f(sub\014eld)h(for)f(the)0 2159 y(reference)21b(coun)o(t.)32 b(Lik)o(e)18 b(other)h(header)g(information,)e(the)02209 y(reference)d(coun)o(t)d(is)g(generally)g(not)h(visible)e(at)h(the)h(language)0 2259 y(lev)o(el.)42 2309 y(When)i(the)i(ob)r(ject)f(is)g(reclaimed,)e(its)i(p)q(oin)o(ter)g(\014elds)g(are)0 2359 y(examined,)j(and)h(an)o(y)g(ob)r(jects)h(it)e(holds)h(p)q(oin)o(ters)g(to)g(also)p0 2397 388 2 v 46 2424 a Fh(7)64 2436 y Fg(Some)12 b(authors)g(use)h(the)g(term)g(\\garbage)e(collection")g(in)j(a)f(nar-)0 2475 y(ro)o(w)o(er)c(sense,)g(whic)o(h)g(excludes)e(reference)g(coun)o(ting)g(and/or)h(cop)o(y)g(col-)0 2515 y(lection)f(systems;)g(w)o(e)i(prefer)e(the)h(more)f(inclusiv)o(e)g(sense)g(b)q(ecause)g(of)h(its)0 2554 y(p)q(opular)j(usage)i(and)f(b)q(ecause)g(it's)h(less)g(a)o(wkw)o(ard)g(than)g(\\automatic)02594 y(storage)d(reclamation)o(.")1236 790 ygsave currentpoint currentpoint translate 270 rotate neg exch neg exch translate1236 789 a 15302080 11476556 526254 986726 51507118 39337492 startTexFig1236 789 a%%BeginDocument: refcnt.ps/Win33Dict 290 dict def Win33Dict begin/bd{bind def}bind def/in{72mul}bd/ed{exch def}bd/ld{load def}bd/tr/translate ld/gs/gsave ld/gr/grestoreld/M/moveto ld/L/lineto ld/rmt/rmoveto ld/rlt/rlineto ld/rct/rcurvetold/st/stroke ld/n/newpath ld/sm/setmatrix ld/cm/currentmatrix ld/cp/closepathld/ARC/arcn ld/TR{65536 div}bd/lj/setlinejoin ld/lc/setlinecap ld/ml/setmiterlimitld/sl/setlinewidth ld/scignore false def/sc{scignore{pop pop pop}{0index 2 index eq 2 index 4 index eq and{pop pop 255 div setgray}{3{255div 3 1 roll}repeat setrgbcolor}ifelse}ifelse}bd/FC{bR bG bB sc}bd/fC{/bBed/bG ed/bR ed}bd/HC{hR hG hB sc}bd/hC{/hB ed/hG ed/hR ed}bd/PC{pRpG pB sc}bd/pC{/pB ed/pG ed/pR ed}bd/sM matrix def/PenW 1 def/iPen5 def/mxF matrix def/mxE matrix def/fBE false def/iDevRes 72 0 matrixdefaultmatrix dtransform dup mul exch dup mul add sqrt def/SS{/SV savedef}bd/RS{SV restore}bd/EJ{gsave showpage grestore}bd/#C{userdict begin/#copiesed end}bd/SM{/iRes ed/cyP exch def/cxP exch def/cyM exch def/cxM exchdef 72 iRes div dup neg scale 0 ne{cyP cxP neg tr 90 rotate cxM cyM}{cxMcyM cyP sub}ifelse tr 0 0 transform .25 add round .25 sub exch .25add round .25 sub exch itransform translate}bd/SJ{1 index 0 eq{poppop/fBE false def}{1 index/Break ed div/dxBreak ed/fBE true def}ifelse}bd/ANSIVec[16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde 16#4/macron 16#5/breve16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A/hungarumlaut16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60/grave16#7C/bar 16#91/quoteleft 16#92/quoteright 16#93/quotedblleft 16#94/quotedblright16#95/bullet 16#96/endash 16#97/emdash 16#A0/space 16#A4/currency 16#A6/brokenbar16#A7/section 16#A8/dieresis 16#A9/copyright 16#AA/ordfeminine 16#AB/guillemotleft16#AC/logicalnot 16#AD/hyphen 16#AE/registered 16#AF/macron 16#B0/degree16#B1/plusminus 16#B2/twosuperior 16#B3/threesuperior 16#B4/acute 16#B5/mu16#B6/paragraph 16#B7/periodcentered 16#B8/cedilla 16#B9/onesuperior16#BA/ordmasculine 16#BB/guillemotright 16#BC/onequarter 16#BD/onehalf16#BE/threequarters 16#BF/questiondown 16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex16#C3/Atilde 16#C4/Adieresis 16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave16#C9/Eacute 16#CA/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute16#CE/Icircumflex 16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve16#D3/Oacute 16#D4/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply16#D8/Oslash 16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis16#DD/Yacute 16#DE/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute16#E2/acircumflex 16#E3/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae16#E7/ccedilla 16#E8/egrave 16#E9/eacute 16#EA/ecircumflex 16#EB/edieresis16#EC/igrave 16#ED/iacute 16#EE/icircumflex 16#EF/idieresis 16#F0/eth16#F1/ntilde 16#F2/ograve 16#F3/oacute 16#F4/ocircumflex 16#F5/otilde16#F6/odieresis 16#F7/divide 16#F8/oslash 16#F9/ugrave 16#FA/uacute16#FB/ucircumflex 16#FC/udieresis 16#FD/yacute 16#FE/thorn 16#FF/ydieresis] def/reencdict 12 dict def/IsChar{basefontdict/CharStrings get exchknown}bd/MapCh{dup IsChar not{pop/bullet}if newfont/Encoding get 31 roll put}bd/MapDegree{16#b0/degree IsChar{/degree}{/ring}ifelse MapCh}bd/MapBB{16#a6/brokenbarIsChar{/brokenbar}{/bar}ifelse MapCh}bd/ANSIFont{reencdict begin/newfontnameed/basefontname ed FontDirectory newfontname known not{/basefontdictbasefontname findfont def/newfont basefontdict maxlength dict def basefontdict{exchdup/FID ne{dup/Encoding eq{exch dup length array copy newfont 3 1 rollput}{exch newfont 3 1 roll put}ifelse}{pop pop}ifelse}forall newfont/FontNamenewfontname put 127 1 159{newfont/Encoding get exch/bullet put}forANSIVec aload pop ANSIVec length 2 idiv{MapCh}repeat MapDegree MapBBnewfontname newfont definefont pop}if newfontname end}bd/SB{FC/stred str length fBE not{dup 1 gt{1 sub}if}if/cbStr ed/dxGdi ed/y0 ed/x0ed str stringwidth esc 0 ne{mxE itransform exch neg dxGdi add cbStrdiv exch mxE transform}{exch neg dxGdi add cbStr div exch}ifelse/dyExtraed/dxExtra ed x0 y0 M fBE{dxBreak 0 BCh dxExtra dyExtra str awidthshow}{dxExtradyExtra str ashow}ifelse fUL{x0 y0 M dxUL dyUL rmt dxGdi fBE{Breakadd}if 0 mxE transform rlt cyUL sl st}if fSO{x0 y0 M dxSO dySO rmtdxGdi fBE{Break add}if 0 mxE transform rlt cyUL sl st}if n/fBE falsedef}bd/font{/name ed/Ascent ed 0 ne/fSO ed 0 ne/fUL ed/Sy ed/Sx ed10.0 div/ori ed -10.0 div/esc ed/BCh ed name findfont [Sx 0 0 Sy neg0 Ascent] esc mxE rotate mxF concatmatrix makefont setfont fUL{currentfontdup/FontInfo get/UnderlinePosition known not{pop/Courier findfont}if/FontInfoget/UnderlinePosition get 1000 div 0 exch mxF transform/dyUL ed/dxULed}if fSO{0 .3 mxF transform/dySO ed/dxSO ed}if fUL fSO or{currentfontdup/FontInfo get/UnderlineThickness known not{pop/Courier findfont}if/FontInfoget/UnderlineThickness get 1000 div Sy mul/cyUL ed}if}bd/min{2 copygt{exch}if pop}bd/max{2 copy lt{exch}if pop}bd/CP{/ft ed{{ft 0 eq{clip}{eoclip}ifelse}stopped{currentflat1 add setflat}{exit}ifelse}loop}bd/patfont 10 dict def patfont begin/FontType3 def/FontMatrix [1 0 0 1 0 0] def/FontBBox [0 0 32 32] def/EncodingStandardEncoding def/BuildChar{pop pop 32 0 0 0 32 32 setcachedevice2 2 scale 16 16 false [1 0 0 1 .25 .25]{pat}imagemask}bd end/p{/pat32 string def{}forall 0 1 7{dup 2 mul pat exch 3 index put dup 2 mul1 add pat exch 3 index put dup 2 mul 16 add pat exch 3 index put 2mul 17 add pat exch 2 index put pop}for}bd/pfill{/PatFont patfont definefontsetfont/ch(AAAA)def X0 128 X1{Y0 32 Y1{1 index exch M ch show}for pop}for}bd/vert{X0w X1{dup Y0 M Y1 L st}for}bd/horz{Y0 w Y1{dup X0 exch M X1 exch L st}for}bd/fdiag{X0w X1{Y0 M X1 X0 sub dup rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub duprlt st}for}bd/bdiag{X0 w X1{Y1 M X1 X0 sub dup neg rlt st}for Y0 wY1{X0 exch M Y1 Y0 sub dup neg rlt st}for}bd/AU{1 add cvi 15 or}bd/AD{1sub cvi -16 and}bd/SHR{pathbbox AU/Y1 ed AU/X1 ed AD/Y0 ed AD/X0 ed}bd/hfill{2sl [] 0 setdash n/w iRes 20 div 8 div round 8 mul def dup 0 eq{horz}ifdup 1 eq{vert}if dup 2 eq{fdiag}if dup 3 eq{bdiag}if dup 4 eq{horzvert}if 5 eq{fdiag bdiag}if}bd/F{/ft ed fm 256 and 0 ne{gs FC ft 0eq{fill}{eofill}ifelse gr}if fm 1536 and 0 ne{SHR gs HC ft CP fm 1024and 0 ne{/Tmp save def pfill Tmp restore}{fm 15 and hfill}ifelse gr}if}bd/S{PenWsl PC st}bd/m matrix def/GW{iRes 12 div PenW add cvi}bd/DoW{iRes 50div PenW add cvi}bd/DW{iRes 8 div PenW add cvi}bd/SP{/PenW ed/iPened iPen 0 eq{[] 0 setdash}if iPen 1 eq{[DW GW] 0 setdash}if iPen 2eq{[DoW GW] 0 setdash}if iPen 3 eq{[DW GW DoW GW] 0 setdash}if iPen4 eq{[DW GW DoW GW DoW GW] 0 setdash}if}bd/E{m cm pop tr scale 0 01 0 360 arc cp m sm}bd/AG{/sy ed/sx ed sx div 4 1 roll sy div 4 1 rollsx div 4 1 roll sy div 4 1 roll atan/a2 ed atan/a1 ed sx sy scale a1a2 ARC}def/A{m cm pop tr AG m sm}def/P{m cm pop tr 0 0 M AG cp m sm}def/RRect{n4 copy M 3 1 roll exch L 4 2 roll L L cp}bd/RRCC{/r ed/y1 ed/x1 ed/y0ed/x0 ed x0 r add y0 M x1 y0 x1 y1 r arcto 4{pop}repeat x1 y1 x0 y1r arcto 4{pop}repeat x0 y1 x0 y0 r arcto 4{pop}repeat x0 y0 x1 y0 rarcto 4{pop}repeat cp}bd/RR{2 copy 0 eq exch 0 eq or{pop pop RRect}{2copy eq{pop RRCC}{m cm pop/y2 ed/x2 ed/ys y2 x2 div 1 max def/xs x2y2 div 1 max def/y1 exch ys div def/x1 exch xs div def/y0 exch ys divdef/x0 exch xs div def/r2 x2 y2 min def xs ys scale x0 r2 add y0 Mx1 y0 x1 y1 r2 arcto 4{pop}repeat x1 y1 x0 y1 r2 arcto 4{pop}repeatx0 y1 x0 y0 r2 arcto 4{pop}repeat x0 y0 x1 y0 r2 arcto 4{pop}repeatm sm cp}ifelse}ifelse}bd/PP{{rlt}repeat}bd/OB{gs sc B fill gr}bd/B{M/dyed/dx ed dx 0 rlt 0 dy rlt dx neg 0 rlt cp}bd/CB{B clip n}bdstatusdict begin 0 setjobtimeout endstatusdict begin statusdict /jobname (Windows Draw - REFCNT.DRW) put endSS1 33 60 3300 2550 300 SM255 255 255 fC/fm 256 def3230 2426 0 0 B1 Fn1 lc1 lj10433 ml0 0 0 pC2 8 SP163 159 2216 553 B1 FSn0 4 SP2625 1948 467 65 BSn0 0 0 fC32 0 0 83 83 0 0 80 /Times-Bold /font29 ANSIFont font142 1128 245 (ROOT) SB187 1229 156 (SET) SB0 1 SPgs 12 57 2297 602 CB2297 613 M 0 56 7 -8 4 -3 3 PPSngrgs 1 54 2305 605 CB2305 605 M 0 53 1 PPSngrgs 21 1 2297 658 CB2297 658 M 20 0 1 PPSngr1493 140 524 (HEAP SPACE) SB0 16 SP296 145 2377 562 BSn2525 567 M 0 0 0 135 2 PPSn2384 508 M 0 -50 -59 -113 -98 -131 rct-41 -20 -168 -53 -255 0 rct-73 44 -96 125 -176 244 rctSn0 lc0 lj2414 471 M -31 -62 -30 62 2 PPSn32 0 0 81 83 0 0 74 /Times-Roman /font32 ANSIFont font1982 1775 41 (1) SB1 lc1 lj2 8 SP150 149 1921 1744 BSn0 16 SP149 149 2072 1744 BSn149 149 2222 1744 BSn150 149 2372 1744 BSn32 0 0 83 82 0 0 73 /Times-Roman /font32 ANSIFont font2583 1475 42 (1) SB2 8 SP149 150 2523 1443 BSn0 16 SP149 150 2673 1443 BSn150 150 2823 1443 BSn2741 1523 M -132 -57 -54 -24 -113 -56 rct-43 -25 -61 -61 -85 -113 rct-22 -51 -22 -75 -17 -169 rctSn0 lc0 lj2493 1222 M 27 64 34 -61 2 PPSn32 0 0 81 83 0 0 74 /Times-Roman /font32 ANSIFont font1531 1324 41 (1) SB1 lc1 lj2 8 SP150 149 1470 1293 BSn0 16 SP149 149 1621 1293 BSn149 149 1771 1293 BSn32 0 0 83 83 0 0 74 /Times-Roman /font32 ANSIFont font1371 1775 42 (2) SB2 8 SP150 149 1310 1744 BSn0 16 SP149 149 1461 1744 BSn150 149 1611 1744 BSn32 0 0 81 83 0 0 74 /Times-Roman /font32 ANSIFont font770 1324 41 (1) SB2 8 SP149 149 709 1293 BSn0 16 SP150 149 859 1293 BSn149 149 1010 1293 BSn32 0 0 83 83 0 0 74 /Times-Roman /font32 ANSIFont font638 1775 42 (1) SB2 8 SP150 149 577 1744 BSn0 16 SP149 149 728 1744 BSn150 149 878 1744 BSn935 1373 M 0 63 0 100 -34 131 rct-35 31 -88 41 -121 66 rct-34 25 -60 59 -60 122 rctSn0 lc0 lj751 1655 M -31 -62 -31 62 2 PPSnsM cm[ 0 TR -41057 TR 41057 TR 0 TR 12582912 TR 65011712 TR] concat1 lc1 lj239 239 0 0 BSnsmsM cm[ 0 TR -41057 TR 41057 TR 0 TR 12582912 TR 55181312 TR] concat239 239 0 0 BSnsmsM cm[ 0 TR -41057 TR 41057 TR 0 TR 12582912 TR 45350912 TR] concat239 239 0 0 BSnsmsM cm[ 0 TR -41057 TR 41057 TR 0 TR 12582912 TR 35454976 TR] concat239 239 0 0 BSnsm269 461 M 201 -81 319 -135 501 -160 rct220 -29 326 -40 446 -9 rct99 25 257 34 251 197 rctSn0 lc0 lj1500 453 M -29 -64 -33 61 2 PPSn1 lc1 lj269 611 M 174 -6 318 15 570 66 rct247 50 322 77 479 151 rct66 31 289 109 301 422 rctSn0 lc0 lj1648 1211 M -33 -60 -29 63 2 PPSn1 lc1 lj269 922 M 128 -13 164 -17 285 10 rct123 27 144 25 210 79 rct63 53 92 73 95 229 rctSn0 lc0 lj889 1202 M -33 -61 -29 62 2 PPSn32 0 0 81 82 0 0 73 /Times-Roman /font32 ANSIFont font1381 573 41 (1) SB1 lc1 lj2 8 SP149 150 1320 541 BSn0 16 SP150 150 1470 541 BSn149 150 1621 541 BSn149 150 1771 541 BSn2448 635 M -8 42 3 100 9 113 rct16 32 26 51 38 85 rct10 33 26 65 28 112 rctSn0 lc0 lj2552 906 M -33 -61 -29 63 2 PPSn2433 1025 41 (2) SB1 lc1 lj2 8 SP150 150 2372 992 BSn0 16 SP149 150 2523 992 BSn149 150 2673 992 BSn150 150 2823 992 BSn2598 1067 M -10 47 -10 104 0 132 rct8 26 25 41 37 75 rct13 34 38 65 38 132 rctSn0 lc0 lj2704 1369 M -30 -62 -31 62 2 PPSn1 lc1 lj1094 1363 M 7 68 21 134 76 160 rct56 24 80 18 146 28 rct58 8 139 53 147 141 rctSn0 lc0 lj1490 1652 M -37 -60 -25 65 2 PPSn1 lc1 lj1696 1363 M 0 63 -18 110 -53 141 rct-34 31 -70 50 -103 75 rct-35 25 -78 50 -78 113 rctSn0 lc0 lj1493 1655 M -30 -62 -31 62 2 PPSn1 lc1 lj1845 1363 M 6 68 26 134 65 160 rct39 24 48 17 88 38 rct39 18 69 52 74 140 rctSn0 lc0 lj2100 1661 M -34 -60 -27 64 2 PPSnEJ RSend%%EndDocument 1236 789 a endTexFig1963 790 acurrentpoint grestore moveto1227 784 a Fn(Figure)k(1:)j(Reference)f(coun)o(ting.)1011 927y(ha)o(v)o(e)h(their)g(reference)i(coun)o(ts)f(decremen)o(ted,)g(since)g(refer-)1011 977 y(ences)e(from)c(a)i(garbage)f(ob)r(ject)i(don't)f(coun)o(t)g(in)g(determin-)1011 1027 y(ing)c(liv)o(eness.)17 b(Reclaiming)8b(one)i(ob)r(ject)i(ma)o(y)c(therefore)k(lead)1011 1077 y(to)g(the)h(transitiv)o(e)f(decremen)o(ting)g(of)g(reference)i(coun)o(ts)f(and)10111127 y(reclaiming)j(man)o(y)h(other)i(ob)r(jects.)34 b(F)m(or)18b(example,)g(if)g(the)1011 1176 y(only)e(p)q(oin)o(ter)h(in)o(to)f(some)g(large)h(data)g(structure)i(b)q(ecomes)1011 1226 y(garbage,)d(all)g(of)g(the)h(reference)j(coun)o(ts)d(of)f(the)h(ob)r(jects)h(in)1011 1276y(that)h(structure)i(t)o(ypically)c(b)q(ecome)i(zero,)h(and)f(all)e(of)h(the)1011 1326 y(ob)r(jects)d(are)f(reclaimed.)1052 1381 y(In)j(terms)f(of)g(the)h(abstract)g(t)o(w)o(o-phase)g(garbage)f(collec-)1011 1431 y(tion,)c(the)i(adjustmen)o(t)f(and)h(c)o(hec)o(king)f(of)g(reference)j(coun)o(ts)10111481 y(implemen)o(ts)9 b(the)j(\014rst)h(phase,)f(and)f(the)h(reclamation)e(phase)1011 1531 y(o)q(ccurs)18 b(when)f(reference)i(coun)o(ts)e(hit)g(zero.)27 b(These)18 b(op)q(era-)1011 1581 y(tions)g(are)g(b)q(oth)g(in)o(terlea)o(v)o(ed)h(with)e(the)i(execution)g(of)e(the)1011 1630 y(program,)11b(b)q(ecause)k(they)f(ma)o(y)d(o)q(ccur)k(whenev)o(er)g(a)e(p)q(oin)o(ter)1011 1680 y(is)g(created)j(or)e(destro)o(y)o(ed.)1052 1736y(One)19 b(adv)n(an)o(tage)d(of)h(reference)j(coun)o(ting)d(is)h(this)gFk(incr)n(e-)1011 1786 y(mental)e Fn(nature)g(of)g(most)f(of)g(its)h(op)q(eration|garbage)f(col-)1011 1835 y(lection)c(w)o(ork)f(\(up)q(dating)h(reference)i(coun)o(ts\))f(is)f(in)o(terlea)o(v)o(ed)1011 1885y(closely)j(with)g(the)g(running)g(program's)f(o)o(wn)g(execution.)20b(It)1011 1935 y(can)f(easily)f(b)q(e)h(made)e(completely)h(incremen)o(tal)f(and)i Fk(r)n(e)n(al)1011 1985 y(time)p Fn(;)11 b(that)g(is,)g(p)q(erforming)f(at)h(most)f(a)h(small)d(and)j(b)q(ounded)1011 2035 y(amoun)o(t)h(of)h(w)o(ork)h(p)q(er)g(unit)g(of)f(program)g(execution.)1052 2090y(Clearly)m(,)e(the)h(normal)d(reference)14 b(coun)o(t)e(adjustmen)o(ts)f(are)1011 2140 y(in)o(trinsically)h(incremen)o(tal,)g(nev)o(er)i(in)o(v)o(olving)d(more)h(than)h(a)1011 2190 y(few)j(op)q(erations)h(for)f(an)o(y)g(giv)o(en)g(op)q(eration)g(that)h(the)g(pro-)1011 2239 y(gram)f(executes.)33b(The)19 b(transitiv)o(e)f(reclamation)f(of)g(whole)1011 2289y(data)f(structures)j(can)e(b)q(e)g(deferred,)h(and)f(also)f(done)h(a)f(lit-)1011 2339 y(tle)e(at)g(a)h(time,)d(b)o(y)i(k)o(eeping)h(a)f(list)g(of)g(freed)h(ob)r(jects)g(whose)1011 2389 y(reference)i(coun)o(ts)e(ha)o(v)o(e)f(b)q(ecome)h(zero)g(but)g(whic)o(h)f(ha)o(v)o(en't)1011 2439y(y)o(et)g(b)q(een)h(pro)q(cessed.)1052 2494 y(This)i(incremen)o(tal)e(collection)h(can)h(easily)f(satisfy)g(\\real)1011 2544 y(time")d(requiremen)o(ts,)j(guaran)o(teeing)f(that)g(memory)e(man-)1011 2594 y(agemen)o(t)f(op)q(erations)i(nev)o(er)g(halt)f(the)h(executing)g(program)9802718 y(6)p eop%%Page: 7 7bop 0 55 a Fn(for)16 b(more)f(than)i(a)f(v)o(ery)g(brief)h(p)q(erio)q(d.)26b(This)16 b(can)g(supp)q(ort)0 105 y(applications)10 b(in)g(whic)o(h)g(guaran)o(teed)i(resp)q(onse)g(time)e(is)g(crit-)0 155 y(ical;)15b(incremen)o(tal)g(collection)h(ensures)i(that)d(the)i(program)0205 y(is)10 b(allo)o(w)o(ed)g(to)g(p)q(erform)g(a)g(signi\014can)o(t,)h(though)f(p)q(erhaps)i(ap-)0 255 y(preciably)k(reduced,)h(amoun)o(t)d(of)h(w)o(ork)h(in)f(an)o(y)h(signi\014can)o(t)0 304 y(amoun)o(t)11b(of)i(time.)j(\(Subtleties)f(of)d(real-time)g(requiremen)o(ts)0354 y(will)k(b)q(e)i(discussed)h(in)e(the)h(con)o(text)g(of)e(tracing)i(collection)0 404 y(in)13 b(Sect.)i(3.8.\))42 455 y(One)c(minor)d(problem)i(with)g(reference)j(coun)o(ting)d(systems)0 505 y(is)j(that)g(the)h(reference)i(coun)o(ts)e(themselv)o(es)f(tak)o(e)g(up)h(space.)0554 y(In)19 b(some)e(systems,)j(a)e(whole)h(mac)o(hine)e(w)o(ord)i(is)f(used)i(for)0 604 y(eac)o(h)e(ob)r(ject's)h(reference)i(coun)o(t)d(\014eld,)g(actually)f(allo)o(wing)0 654 y(it)c(to)h(represen)o(t)i(an)o(y)e(n)o(um)o(b)q(er)f(of)g(p)q(oin)o(ters)i(that)e(migh)o(t)f(ac-)0 704 y(tually)i(exist)i(in)e(the)i(whole)f(system.)21 b(In)16 b(other)f(systems,)g(a)0754 y(shorter)h(\014eld)f(is)f(used,)h(with)g(a)f(pro)o(vision)g(for)g(o)o(v)o(er\015o)o(w|if)0 804 y(the)f(reference)j(coun)o(t)d(reac)o(hes)h(the)f(maxim)n(um)c(that)k(can)g(b)q(e)0 853 y(represen)o(ted)k(b)o(y)c(the)h(\014eld)g(size,)g(its)g(coun)o(t)g(is)f(\014xed)i(at)e(that)0903 y(maxim)n(um)d(v)n(alue,)j(and)h(the)h(ob)r(ject)g(cannot)f(b)q(e)h(reclaimed.)0 953 y(Suc)o(h)e(ob)r(jects)g(\(and)g(other)g(ob)r(jects)g(reac)o(hable)g(from)e(them\))0 1003 y(m)o(ust)e(b)q(e)i(reclaimed)e(b)o(y)h(another)h(mec)o(hanism,)d(t)o(ypically)g(b)o(y)0 1053 y(a)14b(tracing)g(collector)g(that)g(is)g(run)g(o)q(ccasionally;)e(as)i(w)o(e)h(will)0 1102 y(explain)c(b)q(elo)o(w,)h(suc)o(h)g(a)g(fall-bac)o(k)e(reclamation)g(strategy)i(is)0 1152 y(usually)h(required)i(an)o(yw)o(a)o(y)m(.)42 1203 y(There)c(are)h(t)o(w)o(o)e(ma)r(jor)f(problems)h(with)g(reference)j(coun)o(t-)0 1253 y(ing)k(garbage)g(collectors;)i(they)e(are)h(not)f(alw)o(a)o(ys)f Fk(e\013e)n(ctive)p Fn(,)0 1303 y(and)e(they)g(are)g(di\016cult)g(to)f(mak)o(e)g Fk(e\016cient)p Fn(.)0 1416 yFm(2.1.1)48 b(The)15 b(Problem)f(with)h(Cycles)0 1495 y Fn(The)k(e\013ectiv)o(eness)i(problem)16 b(is)j(that)f(reference)j(coun)o(ting)01545 y(fails)f(to)h(reclaim)f Fk(cir)n(cular)g Fn(structures.)42b(If)21 b(the)h(p)q(oin)o(ters)0 1594 y(in)e(a)g(group)g(of)f(ob)r(jects)j(create)g(a)e(\(directed\))h(cycle,)i(the)0 1644 y(ob)r(jects')d(reference)i(coun)o(ts)f(are)f(nev)o(er)g(reduced)h(to)f(zero,)0 1694 yFk(even)14 b(if)f(ther)n(e)f(is)h(no)h(p)n(ath)g(to)f(the)h(obje)n(cts)f(fr)n(om)f(the)i(r)n(o)n(ot)e(set)0 1744 y Fn([McB63].)42 1795 y(Figure)i(2)g(illustrates)g(this)h(problem.)j(Consider)d(the)g(iso-)0 1844y(lated)10 b(pair)h(of)f(ob)r(jects)h(on)g(the)g(righ)o(t.)16b(Eac)o(h)11 b(holds)g(a)f(p)q(oin)o(ter)0 1894 y(to)j(the)h(other,)g(and)f(therefore)i(eac)o(h)f(has)f(a)g(reference)j(coun)o(t)0 1944y(of)k(one.)37 b(Since)20 b(no)g(path)g(from)f(a)g(ro)q(ot)i(leads)f(to)g(either,)0 1994 y(ho)o(w)o(ev)o(er,)14 b(the)g(program)f(can)h(nev)o(er)g(reac)o(h)h(them)e(again.)42 2045 y(Conceptually)d(sp)q(eaking,)g(the)h(problem)f(here)h(is)f(that)h(ref-)0 2095 y(erence)16 b(coun)o(ting)e(really)g(only)f(determines)i(a)f Fk(c)n(onservative)0 2144 y(appr)n(oximation)21b Fn(of)f(true)i(liv)o(eness.)39 b(If)21 b(an)f(ob)r(ject)i(is)e(not)02194 y(p)q(oin)o(ted)12 b(to)f(b)o(y)h(an)o(y)f(v)n(ariable)f(or)i(other)g(ob)r(ject,)h(it)e(is)g(clearly)0 2244 y(garbage,)i(but)h(the)h(con)o(v)o(erse)g(is)f(often)g(not)f(true.)42 2295 y(It)h(ma)o(y)e(seem)i(that)g(circular)g(structures)j(w)o(ould)c(b)q(e)i(v)o(ery)0 2345y(un)o(usual,)20 b(but)f(they)h(are)f(not.)34 b(While)18 b(most)g(data)h(struc-)0 2395 y(tures)c(are)g(acyclic,)f(it)f(is)h(not)g(uncommon)e(for)h(normal)f(pro-)0 2444 y(grams)g(to)i(create)h(some)e(cycles,)i(and)e(a)h(few)g(programs)e(cre-)0 2494 y(ate)17 b(v)o(ery)f(man)o(y)f(of)g(them.)25b(F)m(or)16 b(example,)f(no)q(des)i(in)f(trees)0 2544 y(ma)o(y)8b(ha)o(v)o(e)h(\\bac)o(kp)q(oin)o(ters,")h(to)f(their)h(paren)o(ts,)h(to)e(facilitate)0 2594 y(certain)21 b(op)q(erations.)37 b(More)21b(complex)d(cycles)k(are)e(some-)1236 789 ygsave currentpoint currentpoint translate 270 rotate neg exch neg exch translate1236 789 a 15302080 11476556 526254 986726 51507118 39337492 startTexFig1236 789 a%%BeginDocument: cycprob.ps/Win33Dict 290 dict def Win33Dict begin/bd{bind def}bind def/in{72mul}bd/ed{exch def}bd/ld{load def}bd/tr/translate ld/gs/gsave ld/gr/grestoreld/M/moveto ld/L/lineto ld/rmt/rmoveto ld/rlt/rlineto ld/rct/rcurvetold/st/stroke ld/n/newpath ld/sm/setmatrix ld/cm/currentmatrix ld/cp/closepathld/ARC/arcn ld/TR{65536 div}bd/lj/setlinejoin ld/lc/setlinecap ld/ml/setmiterlimitld/sl/setlinewidth ld/scignore false def/sc{scignore{pop pop pop}{0index 2 index eq 2 index 4 index eq and{pop pop 255 div setgray}{3{255div 3 1 roll}repeat setrgbcolor}ifelse}ifelse}bd/FC{bR bG bB sc}bd/fC{/bBed/bG ed/bR ed}bd/HC{hR hG hB sc}bd/hC{/hB ed/hG ed/hR ed}bd/PC{pRpG pB sc}bd/pC{/pB ed/pG ed/pR ed}bd/sM matrix def/PenW 1 def/iPen5 def/mxF matrix def/mxE matrix def/fBE false def/iDevRes 72 0 matrixdefaultmatrix dtransform dup mul exch dup mul add sqrt def/SS{/SV savedef}bd/RS{SV restore}bd/EJ{gsave showpage grestore}bd/#C{userdict begin/#copiesed end}bd/SM{/iRes ed/cyP exch def/cxP exch def/cyM exch def/cxM exchdef 72 iRes div dup neg scale 0 ne{cyP cxP neg tr 90 rotate cxM cyM}{cxMcyM cyP sub}ifelse tr 0 0 transform .25 add round .25 sub exch .25add round .25 sub exch itransform translate}bd/SJ{1 index 0 eq{poppop/fBE false def}{1 index/Break ed div/dxBreak ed/fBE true def}ifelse}bd/ANSIVec[16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde 16#4/macron 16#5/breve16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A/hungarumlaut16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60/grave16#7C/bar 16#91/quoteleft 16#92/quoteright 16#93/quotedblleft 16#94/quotedblright16#95/bullet 16#96/endash 16#97/emdash 16#A0/space 16#A4/currency 16#A6/brokenbar16#A7/section 16#A8/dieresis 16#A9/copyright 16#AA/ordfeminine 16#AB/guillemotleft16#AC/logicalnot 16#AD/hyphen 16#AE/registered 16#AF/macron 16#B0/degree16#B1/plusminus 16#B2/twosuperior 16#B3/threesuperior 16#B4/acute 16#B5/mu16#B6/paragraph 16#B7/periodcentered 16#B8/cedilla 16#B9/onesuperior16#BA/ordmasculine 16#BB/guillemotright 16#BC/onequarter 16#BD/onehalf16#BE/threequarters 16#BF/questiondown 16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex16#C3/Atilde 16#C4/Adieresis 16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave16#C9/Eacute 16#CA/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute16#CE/Icircumflex 16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve16#D3/Oacute 16#D4/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply16#D8/Oslash 16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis16#DD/Yacute 16#DE/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute16#E2/acircumflex 16#E3/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae16#E7/ccedilla 16#E8/egrave 16#E9/eacute 16#EA/ecircumflex 16#EB/edieresis16#EC/igrave 16#ED/iacute 16#EE/icircumflex 16#EF/idieresis 16#F0/eth16#F1/ntilde 16#F2/ograve 16#F3/oacute 16#F4/ocircumflex 16#F5/otilde16#F6/odieresis 16#F7/divide 16#F8/oslash 16#F9/ugrave 16#FA/uacute16#FB/ucircumflex 16#FC/udieresis 16#FD/yacute 16#FE/thorn 16#FF/ydieresis] def/reencdict 12 dict def/IsChar{basefontdict/CharStrings get exchknown}bd/MapCh{dup IsChar not{pop/bullet}if newfont/Encoding get 31 roll put}bd/MapDegree{16#b0/degree IsChar{/degree}{/ring}ifelse MapCh}bd/MapBB{16#a6/brokenbarIsChar{/brokenbar}{/bar}ifelse MapCh}bd/ANSIFont{reencdict begin/newfontnameed/basefontname ed FontDirectory newfontname known not{/basefontdictbasefontname findfont def/newfont basefontdict maxlength dict def basefontdict{exchdup/FID ne{dup/Encoding eq{exch dup length array copy newfont 3 1 rollput}{exch newfont 3 1 roll put}ifelse}{pop pop}ifelse}forall newfont/FontNamenewfontname put 127 1 159{newfont/Encoding get exch/bullet put}forANSIVec aload pop ANSIVec length 2 idiv{MapCh}repeat MapDegree MapBBnewfontname newfont definefont pop}if newfontname end}bd/SB{FC/stred str length fBE not{dup 1 gt{1 sub}if}if/cbStr ed/dxGdi ed/y0 ed/x0ed str stringwidth esc 0 ne{mxE itransform exch neg dxGdi add cbStrdiv exch mxE transform}{exch neg dxGdi add cbStr div exch}ifelse/dyExtraed/dxExtra ed x0 y0 M fBE{dxBreak 0 BCh dxExtra dyExtra str awidthshow}{dxExtradyExtra str ashow}ifelse fUL{x0 y0 M dxUL dyUL rmt dxGdi fBE{Breakadd}if 0 mxE transform rlt cyUL sl st}if fSO{x0 y0 M dxSO dySO rmtdxGdi fBE{Break add}if 0 mxE transform rlt cyUL sl st}if n/fBE falsedef}bd/font{/name ed/Ascent ed 0 ne/fSO ed 0 ne/fUL ed/Sy ed/Sx ed10.0 div/ori ed -10.0 div/esc ed/BCh ed name findfont [Sx 0 0 Sy neg0 Ascent] esc mxE rotate mxF concatmatrix makefont setfont fUL{currentfontdup/FontInfo get/UnderlinePosition known not{pop/Courier findfont}if/FontInfoget/UnderlinePosition get 1000 div 0 exch mxF transform/dyUL ed/dxULed}if fSO{0 .3 mxF transform/dySO ed/dxSO ed}if fUL fSO or{currentfontdup/FontInfo get/UnderlineThickness known not{pop/Courier findfont}if/FontInfoget/UnderlineThickness get 1000 div Sy mul/cyUL ed}if}bd/min{2 copygt{exch}if pop}bd/max{2 copy lt{exch}if pop}bd/CP{/ft ed{{ft 0 eq{clip}{eoclip}ifelse}stopped{currentflat1 add setflat}{exit}ifelse}loop}bd/patfont 10 dict def patfont begin/FontType3 def/FontMatrix [1 0 0 1 0 0] def/FontBBox [0 0 32 32] def/EncodingStandardEncoding def/BuildChar{pop pop 32 0 0 0 32 32 setcachedevice2 2 scale 16 16 false [1 0 0 1 .25 .25]{pat}imagemask}bd end/p{/pat32 string def{}forall 0 1 7{dup 2 mul pat exch 3 index put dup 2 mul1 add pat exch 3 index put dup 2 mul 16 add pat exch 3 index put 2mul 17 add pat exch 2 index put pop}for}bd/pfill{/PatFont patfont definefontsetfont/ch(AAAA)def X0 128 X1{Y0 32 Y1{1 index exch M ch show}for pop}for}bd/vert{X0w X1{dup Y0 M Y1 L st}for}bd/horz{Y0 w Y1{dup X0 exch M X1 exch L st}for}bd/fdiag{X0w X1{Y0 M X1 X0 sub dup rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub duprlt st}for}bd/bdiag{X0 w X1{Y1 M X1 X0 sub dup neg rlt st}for Y0 wY1{X0 exch M Y1 Y0 sub dup neg rlt st}for}bd/AU{1 add cvi 15 or}bd/AD{1sub cvi -16 and}bd/SHR{pathbbox AU/Y1 ed AU/X1 ed AD/Y0 ed AD/X0 ed}bd/hfill{2sl [] 0 setdash n/w iRes 20 div 8 div round 8 mul def dup 0 eq{horz}ifdup 1 eq{vert}if dup 2 eq{fdiag}if dup 3 eq{bdiag}if dup 4 eq{horzvert}if 5 eq{fdiag bdiag}if}bd/F{/ft ed fm 256 and 0 ne{gs FC ft 0eq{fill}{eofill}ifelse gr}if fm 1536 and 0 ne{SHR gs HC ft CP fm 1024and 0 ne{/Tmp save def pfill Tmp restore}{fm 15 and hfill}ifelse gr}if}bd/S{PenWsl PC st}bd/m matrix def/GW{iRes 12 div PenW add cvi}bd/DoW{iRes 50div PenW add cvi}bd/DW{iRes 8 div PenW add cvi}bd/SP{/PenW ed/iPened iPen 0 eq{[] 0 setdash}if iPen 1 eq{[DW GW] 0 setdash}if iPen 2eq{[DoW GW] 0 setdash}if iPen 3 eq{[DW GW DoW GW] 0 setdash}if iPen4 eq{[DW GW DoW GW DoW GW] 0 setdash}if}bd/E{m cm pop tr scale 0 01 0 360 arc cp m sm}bd/AG{/sy ed/sx ed sx div 4 1 roll sy div 4 1 rollsx div 4 1 roll sy div 4 1 roll atan/a2 ed atan/a1 ed sx sy scale a1a2 ARC}def/A{m cm pop tr AG m sm}def/P{m cm pop tr 0 0 M AG cp m sm}def/RRect{n4 copy M 3 1 roll exch L 4 2 roll L L cp}bd/RRCC{/r ed/y1 ed/x1 ed/y0ed/x0 ed x0 r add y0 M x1 y0 x1 y1 r arcto 4{pop}repeat x1 y1 x0 y1r arcto 4{pop}repeat x0 y1 x0 y0 r arcto 4{pop}repeat x0 y0 x1 y0 rarcto 4{pop}repeat cp}bd/RR{2 copy 0 eq exch 0 eq or{pop pop RRect}{2copy eq{pop RRCC}{m cm pop/y2 ed/x2 ed/ys y2 x2 div 1 max def/xs x2y2 div 1 max def/y1 exch ys div def/x1 exch xs div def/y0 exch ys divdef/x0 exch xs div def/r2 x2 y2 min def xs ys scale x0 r2 add y0 Mx1 y0 x1 y1 r2 arcto 4{pop}repeat x1 y1 x0 y1 r2 arcto 4{pop}repeatx0 y1 x0 y0 r2 arcto 4{pop}repeat x0 y0 x1 y0 r2 arcto 4{pop}repeatm sm cp}ifelse}ifelse}bd/PP{{rlt}repeat}bd/OB{gs sc B fill gr}bd/B{M/dyed/dx ed dx 0 rlt 0 dy rlt dx neg 0 rlt cp}bd/CB{B clip n}bdstatusdict begin 0 setjobtimeout endstatusdict begin statusdict /jobname (Windows Draw - CYCPROB.DRW) put endSS1 33 60 3300 2550 300 SM255 255 255 fC/fm 256 def3230 2426 0 0 B1 Fn1 lc1 lj10433 ml0 0 0 pC2 8 SP163 159 2216 553 B1 FSn0 4 SP2625 1948 467 65 BSn0 0 0 fC32 0 0 83 83 0 0 80 /Times-Bold /font29 ANSIFont font142 1128 245 (ROOT) SB187 1229 156 (SET) SB0 1 SPgs 12 57 2297 602 CB2297 613 M 0 56 7 -8 4 -3 3 PPSngrgs 1 54 2305 605 CB2305 605 M 0 53 1 PPSngrgs 21 1 2297 658 CB2297 658 M 20 0 1 PPSngr1493 140 524 (HEAP SPACE) SB0 16 SP296 145 2377 562 BSn2525 567 M 0 0 0 135 2 PPSn32 0 0 81 82 0 0 73 /Times-Roman /font32 ANSIFont font2433 1025 41 (1) SB2 8 SP150 150 2372 992 BSn0 16 SP149 150 2523 992 BSn149 150 2673 992 BSn150 150 2823 992 BSn32 0 0 81 83 0 0 74 /Times-Roman /font32 ANSIFont font1982 1775 41 (1) SB2 8 SP150 149 1921 1744 BSn0 16 SP149 149 2072 1744 BSn149 149 2222 1744 BSn150 149 2372 1744 BSn32 0 0 83 82 0 0 73 /Times-Roman /font32 ANSIFont font2583 1475 42 (1) SB2 8 SP149 150 2523 1443 BSn0 16 SP149 150 2673 1443 BSn150 150 2823 1443 BSn2741 1523 M -132 -57 -54 -24 -113 -56 rct-43 -25 -61 -61 -85 -113 rct-22 -51 -22 -75 -17 -169 rctSn0 lc0 lj2493 1222 M 27 64 34 -61 2 PPSn32 0 0 81 83 0 0 74 /Times-Roman /font32 ANSIFont font1531 1324 41 (1) SB1 lc1 lj2 8 SP150 149 1470 1293 BSn0 16 SP149 149 1621 1293 BSn149 149 1771 1293 BSn32 0 0 83 83 0 0 74 /Times-Roman /font32 ANSIFont font1371 1775 42 (2) SB2 8 SP150 149 1310 1744 BSn0 16 SP149 149 1461 1744 BSn150 149 1611 1744 BSn32 0 0 81 83 0 0 74 /Times-Roman /font32 ANSIFont font770 1324 41 (1) SB2 8 SP149 149 709 1293 BSn0 16 SP150 149 859 1293 BSn149 149 1010 1293 BSn32 0 0 83 83 0 0 74 /Times-Roman /font32 ANSIFont font638 1775 42 (1) SB2 8 SP150 149 577 1744 BSn0 16 SP149 149 728 1744 BSn150 149 878 1744 BSnsM cm[ 0 TR -41057 TR 41057 TR 0 TR 12582912 TR 65011712 TR] concat239 239 0 0 BSnsmsM cm[ 0 TR -41057 TR 41057 TR 0 TR 12582912 TR 55181312 TR] concat239 239 0 0 BSnsmsM cm[ 0 TR -41057 TR 41057 TR 0 TR 12582912 TR 45350912 TR] concat239 239 0 0 BSnsmsM cm[ 0 TR -41057 TR 41057 TR 0 TR 12582912 TR 35454976 TR] concat239 239 0 0 BSnsm269 461 M 201 -81 319 -135 501 -160 rct220 -29 326 -40 446 -9 rct99 25 257 34 251 197 rctSn0 lc0 lj1500 453 M -29 -64 -33 61 2 PPSn1 lc1 lj269 611 M 174 -6 318 15 570 66 rct247 50 322 77 479 151 rct66 31 289 109 301 422 rctSn0 lc0 lj1648 1211 M -33 -60 -29 63 2 PPSn1 lc1 lj269 922 M 128 -13 164 -17 285 10 rct123 27 144 25 210 79 rct63 53 92 73 95 229 rctSn0 lc0 lj889 1202 M -33 -61 -29 62 2 PPSn32 0 0 81 82 0 0 73 /Times-Roman /font32 ANSIFont font1381 573 41 (1) SB1 lc1 lj2 8 SP149 150 1320 541 BSn0 16 SP150 150 1470 541 BSn149 150 1621 541 BSn149 150 1771 541 BSn2384 508 M 0 -51 -57 -113 -94 -132 rct-40 -19 -161 -53 -245 0 rct-70 44 -121 126 -197 245 rctSn0 lc0 lj2414 471 M -31 -62 -30 62 2 PPSn1 lc1 lj2598 1067 M -10 47 -10 104 0 132 rct8 26 25 41 37 75 rct13 34 38 65 38 132 rctSn0 lc0 lj2704 1369 M -30 -62 -31 62 2 PPSn1 lc1 lj946 1363 M 0 63 9 110 -28 141 rct-38 31 -96 41 -132 66 rct-38 25 -66 59 -66 122 rctSn0 lc0 lj751 1655 M -31 -62 -31 62 2 PPSn1 lc1 lj1096 1363 M 7 68 54 134 104 160 rct50 24 71 18 131 28 rct52 8 125 53 132 141 rctSn0 lc0 lj1490 1652 M -36 -60 -25 65 2 PPSn1 lc1 lj1687 1363 M 0 63 0 110 -36 141 rct-36 31 -73 50 -107 75 rct-37 25 -82 50 -82 113 rctSn0 lc0 lj1493 1655 M -30 -62 -31 62 2 PPSn1 lc1 lj1845 1363 M 6 68 26 134 65 160 rct39 24 48 17 88 38 rct39 18 69 52 74 140 rctSn0 lc0 lj2100 1661 M -34 -60 -27 64 2 PPSnEJ RSend%%EndDocument 1236 789 a endTexFig1963 789 acurrentpoint grestore moveto1011 783 a Fn(Figure)c(2:)22 b(Reference)c(coun)o(ting)e(with)f(unreclaimable)g(cy-)1011 833 y(cle.)1011 958 y(times)21 b(formed)f(b)o(y)i(the)g(use)h(of)e(h)o(ybrid)h(data)f(structures)1011 1008 y(whic)o(h)13b(com)o(bine)f(adv)n(an)o(tages)g(of)h(simpler)f(data)h(structures,)10111058 y(as)j(w)o(ell)g(as)h(when)g(the)h(application-dom)o(ain)13b(seman)o(tics)k(of)1011 1108 y(data)c(are)i(most)d(naturally)h(expressed)j(with)e(cycles.)1052 1158 y(Systems)e(using)g(reference)j(coun)o(ting)c(garbage)h(collectors)1011 1208 y(therefore)17 b(usually)f(include)g(some)f(other)i(kind)f(of)f(garbage)1011 1258 y(collector)21 b(as)g(w)o(ell,)h(so)f(that)g(if)f(to)q(o)h(m)o(uc)o(h)f(uncollectable)1011 1307y(cyclic)15 b(garbage)f(accum)o(ulates,)g(the)h(other)g(metho)q(d)f(can)g(b)q(e)1011 1357 y(used)h(to)e(reclaim)g(it.)1052 1407 y(Man)o(y)e(programmers)f(who)h(use)h(reference-coun)o(ting)i(sys-)1011 1457 y(tems)9b(\(suc)o(h)i(as)f(In)o(terlisp)g(and)g(early)g(v)o(ersions)h(of)e(Smalltalk\))1011 1507 y(ha)o(v)o(e)18 b(mo)q(di\014ed)g(their)h(programmi)o(ng)d(st)o(yle)i(to)h(a)o(v)o(oid)e(the)1011 1557 y(creation)h(of)g(cyclic)h(garbage,)g(or)f(to)g(break)h(cycles)g(b)q(efore)1011 1607y(they)d(b)q(ecome)f(a)h(n)o(uisance.)23 b(This)16 b(has)g(a)f(negativ)o(e)g(impact)1011 1656 y(on)h(program)e(structure,)19 b(and)d(man)o(y)e(programs)h(still)g(ha)o(v)o(e)1011 1706 y(storage)f(\\leaks")f(that)h(accum)o(ulate)f(cyclic)h(garbage)g(whic)o(h)1011 1756 y(m)o(ust)9 b(b)q(e)h(reclaimed)f(b)o(y)g(some)g(other)i(means.)1729 1741 y Fj(8)1763 1756 y Fn(These)g(leaks,)1011 1806 y(in)f(turn,)h(can)f(compromise)e(the)j(real-time)e(nature)i(of)f(the)h(al-)1011 1856 y(gorithm,)g(b)q(ecause)k(the)g(system)e(ma)o(y)f(ha)o(v)o(e)h(to)g(fall)g(bac)o(k)g(to)1011 1905 y(the)k(use)h(of)f(a)g(non-real-time)e(collector)i(at)g(a)g(critical)g(mo-)1011 1955y(men)o(t.)1011 2065 y Fm(2.1.2)48 b(The)15 b(E\016ciency)g(Problem)10112142 y Fn(The)d(e\016ciency)h(problem)e(with)h(reference)i(coun)o(ting)e(is)g(that)1011 2192 y(its)21 b(cost)i(is)e(generally)g(prop)q(ortional)g(to)h(the)g(amoun)o(t)e(of)1011 2241 y(w)o(ork)11 b(done)h(b)o(y)g(the)g(running)g(program,)e(with)h(a)h(fairly)e(large)1011 2291 y(constan)o(t)20b(of)g(prop)q(ortionalit)o(y)m(.)34 b(One)21 b(cost)g(is)e(that)h(when)10112341 y(a)15 b(p)q(oin)o(ter)i(is)f(created)h(or)f(destro)o(y)o(ed,)h(its)f(referen)o(t's)i(coun)o(t)1011 2391 y(m)o(ust)9 b(b)q(e)j(adjusted.)17b(If)10 b(a)h(v)n(ariable's)e(v)n(alue)h(is)h(c)o(hanged)g(from)10112441 y(one)17 b(p)q(oin)o(ter)h(to)f(another,)i Fk(two)e Fn(ob)r(jects')h(coun)o(ts)g(m)o(ust)e(b)q(e)p 1011 2476 388 2 v 1057 2503a Fh(8)1074 2515 y Fg([Bob80)o(])10 b(describ)q(es)e(mo)q(di\014cation)o(s)g(to)i(reference)e(coun)o(ting)g(to)i(al-)1011 2554 y(lo)o(w)g(it)g(to)g(handle)f(some)g(sp)q(ecial)g(cases)g(of)i(cyclic)d(structures,)g(but)i(this)1011 2594 y(restricts)f(the)i(programmer)d(to)j(certain)f(stereot)o(yp)q(ed)e(patterns.)980 2718 y Fn(7)p eop%%Page: 8 8bop 0 55 a Fn(adjusted|one)13 b(ob)r(ject's)h(reference)i(coun)o(t)d(m)o(ust)f(b)q(e)i(incre-)0 105 y(men)o(ted,)f(the)h(other's)g(decremen)o(ted)h(and)e(then)h(c)o(hec)o(k)o(ed)h(to)0 155 y(see)g(if)e(it)h(has)g(reac)o(hed)h(zero.)42 221 y(Short-liv)o(ed)k(stac)o(k)h(v)n(ariables)e(can)i(incur)g(a)g(great)f(deal)0 270 y(of)j(o)o(v)o(erhead)h(in)f(a)g(simple)f(reference-coun)o(ting)j(sc)o(heme.)0 320 y(When)f(an)g(argumen)o(t)e(is)i(passed,)j(for)c(example,)h(a)g(new)0 370 y(p)q(oin)o(ter)16 b(app)q(ears)g(on)f(the)h(stac)o(k,)g(and)g(usually)e(disapp)q(ears)0 420 y(almost)k(immedia)o(tely)f(b)q(ecause)22 b(most)c(pro)q(cedure)k(activ)n(a-)0 470 y(tions)c(\(near)g(the)g(lea)o(v)o(es)g(of)g(the)g(call)f(graph\))h(return)h(v)o(ery)0520 y(shortly)14 b(after)g(they)g(are)h(called.)j(In)c(these)h(cases,)g(reference)0 569 y(coun)o(ts)j(are)h(incremen)o(ted,)f(and)g(then)g(decremen)o(ted)h(bac)o(k)0 619 y(to)13 b(their)g(original)e(v)n(alue)h(v)o(ery)h(so)q(on.)18 b(It)13 b(is)g(desirable)g(to)g(op-)0 669 y(timize)f(a)o(w)o(a)o(y)g(most)f(of)i(these)h(incremen)o(ts)f(and)g(decremen)o(ts)0719 y(that)h(cancel)g(eac)o(h)h(other)f(out.)0 911 y Fm(2.1.3)48b(Deferred)13 b(Reference)i(Coun)o(ting.)0 1018 y Fn(Muc)o(h)j(of)f(this)h(cost)g(can)g(b)q(e)g(optimized)e(a)o(w)o(a)o(y)h(b)o(y)g(sp)q(ecial)01067 y(treatmen)o(t)f(of)f(lo)q(cal)g(v)n(ariables)g([DB76)o(,)h(Bak93b)o(].)24 b(Rather)0 1117 y(than)11 b(alw)o(a)o(ys)g(adjusting)g(reference)j(coun)o(ts)e(and)f(reclaiming)0 1167 y(ob)r(jects)h(whose)g(coun)o(ts)f(b)q(ecome)g(zero,)h(references)h(from)d(the)0 1217 y(lo)q(cal)18 b(v)n(ariables)g(are)i(not)f(included)g(in)f(this)h(b)q(o)q(okk)o(eeping)0 1267 y(most)c(of)i(the)g(time.)25 b(Usually)m(,)15 b(reference)20 b(coun)o(ts)d(are)g(only)01317 y(adjusted)h(to)g(re\015ect)h(p)q(oin)o(ters)g(from)d(one)i(heap)g(ob)r(ject)g(to)0 1366 y(another.)f(This)11 b(means)f(that)h(reference)i(coun)o(ts)f(ma)o(y)d(not)i(b)q(e)0 1416 y(accurate,)j(b)q(ecause)g(p)q(oin)o(ters)f(from)e(the)i(stac)o(k)g(ma)o(y)d(b)q(e)j(cre-)0 1466 y(ated)j(or)g(destro)o(y)o(ed)i(without)d(b)q(eing)h(accoun)o(ted)h(for;)g(that,)01516 y(in)12 b(turn,)g(means)f(that)h(ob)r(jects)h(whose)g(coun)o(t)f(drops)h(to)e(zero)0 1566 y(ma)o(y)j(not)i(actually)g(b)q(e)h(reclaimable.)23b(Garbage)16 b(collection)0 1615 y(can)g(only)f(b)q(e)h(done)g(when)g(references)j(from)13 b(the)k(stac)o(k)f(are)0 1665 y(tak)o(en)e(in)o(to)f(accoun)o(t)i(as)f(w)o(ell.)42 1731 y(Ev)o(ery)28 b(no)o(w)g(and)g(then,)k(the)c(reference)j(coun)o(ts)e(are)0 1781 y(brough)o(t)13 b(up)h(to)f(date)h(b)o(y)f(scanning)g(the)h(stac)o(k)g(for)f(p)q(oin)o(ters)01831 y(to)19 b(heap)h(ob)r(jects.)36 b(Then)19 b(an)o(y)g(ob)r(jects)i(whose)f(reference)0 1880 y(coun)o(ts)h(are)g(still)e(zero)i(ma)o(y)e(b)q(e)h(safely)g(reclaimed.)37 b(The)0 1930 y(in)o(terv)n(al)18 b(b)q(et)o(w)o(een)i(these)g(phases)f(is)g(generally)f(c)o(hosen)h(to)0 1980 y(b)q(e)e(short)g(enough)f(that)g(garbage)g(is)g(reclaimed)f(often)h(and)0 2030y(quic)o(kly)m(,)k(y)o(et)g(still)f(long)g(enough)h(that)g(the)h(cost)g(of)e(p)q(eri-)0 2080 y(o)q(dically)14 b(up)q(dating)i(coun)o(ts)g(\(for)g(stac)o(k)g(references\))j(is)c(not)0 2130 y(high.)42 2195 y(This)gFk(deferr)n(e)n(d)h(r)n(efer)n(enc)n(e)f(c)n(ounting)i Fn([DB76)o(])e(a)o(v)o(oids)g(ad-)0 2245 y(justing)g(reference)j(coun)o(ts)f(for)e(most)f(short-liv)o(ed)i(p)q(oin)o(ters)0 2295 y(from)g(the)j(stac)o(k,)g(and)f(greatly)g(reduces)i(the)e(o)o(v)o(erhead)h(of)0 2345 y(reference)d(coun)o(ting.)h(When)d(p)q(oin)o(ters)g(from)e(one)i(heap)g(ob-)02395 y(ject)g(to)f(another)h(are)f(created)i(or)e(destro)o(y)o(ed,)h(ho)o(w)o(ev)o(er,)g(the)0 2444 y(reference)20 b(coun)o(ts)d(m)o(ust)f(still)h(b)q(e)g(adjusted.)29 b(This)17 b(cost)g(is)0 2494 y(still)12 b(roughly)g(prop)q(ortional)g(to)g(the)h(amoun)o(t)e(of)h(w)o(ork)h(done)0 2544y(b)o(y)i(the)h(running)f(program)e(in)i(most)f(systems,)h(but)h(with)e(a)02594 y(lo)o(w)o(er)g(constan)o(t)g(of)f(prop)q(ortionalit)o(y)m(.)101155 y Fm(2.1.4)48 b(V)l(ariations)13 b(on)i(Reference)g(Coun)o(ting)1011133 y Fn(Another)j(optimization)c(of)j(reference)i(coun)o(ting)e(is)g(to)g(use)1011 183 y(a)j(v)o(ery)g(small)f(coun)o(t)h(\014eld,)i(p)q(erhaps)f(only)f(a)g(single)g(bit,)1011 233 y(to)14 b(a)o(v)o(oid)f(the)j(need)f(for)f(a)h(large)f(\014eld)g(p)q(er)i(ob)r(ject)f([WF77)o(].)1011283 y(Giv)o(en)9 b(that)i(deferred)g(reference)i(coun)o(ting)d(a)o(v)o(oids)f(the)i(need)1011 333 y(to)g(con)o(tin)o(ually)e(represen)o(t)14b(the)d(coun)o(t)h(of)e(p)q(oin)o(ters)i(from)d(the)1011 382y(stac)o(k,)19 b(a)f(single)g(bit)h(is)f(su\016cien)o(t)h(for)f(most)f(ob)r(jects;)k(the)1011 432 y(minorit)o(y)7 b(of)i(ob)r(jects)i(whose)g(reference)h(coun)o(ts)e(are)g(not)g(zero)1011 482 y(or)k(one)h(cannot)f(b)q(e)h(reclaimed)e(b)o(y)i(the)g(reference)h(coun)o(ting)1011 532y(system,)10 b(but)h(are)h(caugh)o(t)e(b)o(y)h(a)f(fall-bac)o(k)f(tracing)i(collector.)1011 582 y(A)17 b(one-bit)f(reference)k(coun)o(t)d(can)g(also)f(b)q(e)i(represen)o(ted)h(in)1011 632 y(eac)o(h)11 b(p)q(oin)o(ter)g(to)g(an)f(ob)r(ject,)i(if)e(there)i(is)f(an)f(un)o(used)i(address)1011681 y(bit,)h(rather)i(than)e(requiring)h(a)g(header)h(\014eld)f([SCN84)o(].)1052 732 y(There)19 b(is)f(another)g(cost)h(of)e(reference-coun)o(ting)j(collec-)1011 782 y(tion)c(that)h(is)g(harder)h(to)f(escap)q(e.)29b(When)18 b(ob)r(jects')f(coun)o(ts)1011 832 y(go)d(to)g(zero)h(and)g(they)g(are)f(reclaimed,)g(some)f(b)q(o)q(okk)o(eeping)1011 881 y(m)o(ust)h(b)q(e)i(done)f(to)g(mak)o(e)f(them)g(a)o(v)n(ailable)f(to)i(the)h(running)1011931 y(program.)g(T)o(ypically)c(this)i(in)o(v)o(olv)o(es)e(linking)g(the)i(freed)g(ob-)1011 981 y(jects)h(in)o(to)e(one)i(or)f(more)f(\\free)i(lists")f(of)f(reusable)i(ob)r(jects,)1011 1031 y(from)d(whic)o(h)h(the)i(program's)d(allo)q(cation)g(requests)k(are)e(sat-)1011 1081 y(is\014ed.)22b(\(Other)17 b(strategies)f(will)e(b)q(e)i(discussed)h(in)e(the)h(con-)10111130 y(text)g(of)e(mark-sw)o(eep)h(collection,)g(in)g(Sect.)g(2.2.\))22b(Ob)r(jects')1011 1180 y(p)q(oin)o(ter)13 b(\014elds)g(m)o(ust)f(also)g(b)q(e)h(examined)f(so)h(that)g(their)g(ref-)1011 1230 y(eren)o(ts)i(can)f(b)q(e)h(freed.)1052 1281 y(It)h(is)f(di\016cult)f(to)h(mak)o(e)f(these)i(reclamation)e(op)q(erations)1011 1331 y(tak)o(e)k(less)h(than)f(a)g(few)g(tens)h(of)f(instructions)h(p)q(er)g(ob)r(ject,)1011 1380 y(and)d(the)g(cost)h(is)f(therefore)h(prop)q(ortional)e(to)h(the)h(n)o(um)o(b)q(er)10111430 y(of)c(ob)r(jects)i(allo)q(cated)f(b)o(y)f(the)i(running)e(program.)10521481 y(These)23 b(costs)g(of)f(reference)i(coun)o(ting)e(collection)f(ha)o(v)o(e)1011 1531 y(com)o(bined)9 b(with)h(its)h(failure)e(to)i(reclaim)e(circular)h(structures)1011 1580 y(to)17 b(mak)o(e)e(it)i(unattractiv)o(e)h(to)f(most)f(implemen)o(tors)f(in)h(re-)1011 1630 y(cen)o(t)d(y)o(ears.)k(As)c(w)o(e)f(will)e(explain)i(b)q(elo)o(w,)f(other)i(tec)o(hniques)10111680 y(are)21 b(usually)f(more)g(e\016cien)o(t)h(and)f(reliable.)38b(Still,)21 b(refer-)1011 1730 y(ence)c(coun)o(ting)f(has)g(its)g(adv)n(an)o(tages.)24 b(The)17 b(imm)o(ediacy)d(of)1011 1780 y(reclamation)h(can)h(ha)o(v)o(e)h(adv)n(an)o(tages)f(for)g(o)o(v)o(erall)f(memory)10111830 y(usage)k(and)g(for)f(lo)q(calit)o(y)g(of)g(reference)k([DeT90)o(];)e(a)f(refer-)1011 1879 y(ence)e(coun)o(ting)f(system)g(ma)o(y)e(p)q(erform)i(with)f(little)h(degra-)1011 1929 y(dation)e(when)i(almost)d(all)h(of)h(the)g(heap)h(space)g(is)f(o)q(ccupied)1011 1979 y(b)o(y)g(liv)o(e)f(ob)r(jects,)j(while)d(other)i(collectors)g(rely)f(on)g(trading)1011 2029y(more)c(space)j(for)e(higher)g(e\016ciency)m(.)1583 2014 yFj(9)1620 2029 y Fn(It)g(can)h(also)f(b)q(e)h(useful)1011 2079y(for)e Fk(\014nalization)p Fn(,)i(that)f(is,)g(p)q(erforming)e(\\clean-up")i(actions)1011 2128 y(\(lik)o(e)j(closing)g(\014les\))i(when)f(ob)r(jects)h(die)f([Ro)o(v85)n(];)g(this)f(will)1011 2178 y(b)q(e)f(discussed)i(in)d(Sect.)i(7.)1052 2229 y(The)k(inabilit)o(y)e(to)h(reclaim)f(cyclic)i(structures)i(is)e(not)f(a)1011 2279 y(problem)8 b(in)h(some)g(languages)g(whic)o(h)g(do)g(not)h(allo)o(w)e(the)i(con-)1011 2328 y(struction)16b(of)g(cyclic)g(data)g(structures)i(at)e(all)e(\(e.g.,)i(purely)10112378 y(functional)i(languages\).)33 b(Similarly)l(,)17 b(the)i(relativ)o(ely)g(high)1011 2428 y(cost)14 b(of)f(side-e\013ecting)i(p)q(oin)o(ters)g(b)q(et)o(w)o(een)g(heap)f(ob)r(jects)h(is)1011 2478 y(not)d(a)h(problem)e(in)h(languages)g(with)h(few)g(side-e\013ects.)19 b(Ref-)p 10112516 388 2 v 1057 2543 a Fh(9)1074 2554 y Fg(As)13 b([WLM92)o(])f(sho)o(ws,)g(generational)d(tec)o(hniques)g(can)i(recapture)1011 2594 y(some)f(of)h(this)g(lo)q(calit)o(y)m(,)e(but)i(not)g(all)g(of)g(it.)980 2718y Fn(8)p eop%%Page: 9 9bop 0 55 a Fn(erence)13 b(coun)o(ts)e(themselv)o(es)g(ma)o(y)d(b)q(e)k(v)n(aluable)d(in)h(some)g(sys-)0 105 y(tems.)16 b(F)m(or)10 b(example,)e(they)j(ma)o(y)d(supp)q(ort)i(optimizations)e(in)0 155 y(functional)15b(language)h(implemen)o(tations)d(b)o(y)k(allo)o(wing)d(de-)0205 y(structiv)o(e)j(mo)q(di\014cation)c(of)i(uniquely-referenced)i(ob)r(jects.)0 255 y(Distributed)k(garbage)f(collection)g(can)h(b)q(ene\014t)h(from)d(the)0 304 y(lo)q(cal)12 b(nature)i(of)e(garbage)h(collection,)f(compared)g(to)h(global)0 354 y(tracing.)20 b(\(In)15 b(some)f(con\014gurations)h(the)g(cost)h(of)e(reference)0 404 y(coun)o(ting)19b(is)g(only)g(incurred)h(for)f(p)q(oin)o(ters)h(to)f(ob)r(jects)h(on)0454 y(other)d(no)q(des;)h(tracing)e(collection)g(is)g(used)h(within)f(a)g(no)q(de)0 504 y(and)g(to)f(compute)h(c)o(hanges)g(to)g(reference)i(coun)o(ts)f(b)q(et)o(w)o(een)0 553 y(no)q(des.\))30 b(F)m(uture)18 b(systems)g(ma)o(y)e(\014nd)i(other)g(uses)h(for)e(ref-)0 603 y(erence)g(coun)o(ting,)e(p)q(erhaps)i(in)e(h)o(ybrid)g(collectors)h(also)f(in-)0 653 y(v)o(olving)d(other)j(tec)o(hniques,)g(or)f(when)g(augmen)o(ted)g(b)o(y)f(sp)q(e-)0703 y(cialized)i(hardw)o(are)g([PS89,)f(Wis85,)g(GC93)o(])h(to)g(k)o(eep)h(CPU)0 753 y(costs)f(do)o(wn.)42 802 y(While)h(reference)k(coun)o(ting)c(is)h(out)h(of)e(v)o(ogue)h(for)g(high-)0 852 y(p)q(erformance)c(implemen)o(tations)e(of)i(general-purp)q(ose)h(pro-)0 902 y(grammi)o(ng)e(languages,)h(it)h(is)g(quite)g(common)e(in)i(other)h(ap-)0 952 y(plications,)d(where)i(acyclic)e(data)h(structures)i(are)f(common.)0 1002 y(Most)20b(\014le)f(systems)h(use)g(reference)i(coun)o(ting)d(to)g(manage)01052 y(\014les)12 b(and/or)e(disk)h(blo)q(c)o(ks.)18 b(Because)13b(of)d(its)i(simplicit)o(y)m(,)c(sim-)0 1101 y(ple)j(reference)j(coun)o(ting)c(is)h(often)g(used)h(in)f(v)n(arious)f(soft)o(w)o(are)0 1151y(pac)o(k)n(ages,)j(including)g(simple)f(in)o(terpretiv)o(e)i(languages)f(and)0 1201 y(graphical)f(to)q(olkits.)17 b(Despite)d(its)f(w)o(eakness)h(in)f(the)h(area)f(of)0 1251 y(reclaiming)g(cycles,)i(reference)j(coun)o(ting)c(is)h(common)d(ev)o(en)0 1301 y(in)h(systems)h(where)i(cycles)f(ma)o(y)c(o)q(ccur.)0 1415 y Fi(2.2)56 b(Mark-Sw)n(eep)18 b(Collection)01491 y Fn(Mark-sw)o(eep)12 b(garbage)f(collectors)h([McC60])f(are)g(named)g(for)0 1541 y(the)17 b(t)o(w)o(o)f(phases)i(that)f(implemen)o(t)d(the)j(abstract)g(garbage)0 1591 y(collection)c(algorithm)f(w)o(e)i(describ)q(ed)i(earlier:)30 1669 y(1.)k Fk(Distinguish)28 b(the)f(live)g(obje)n(cts)g(fr)n(om)g(the)h(garb)n(age)p Fn(.)83 1719 y(This)c(is)g(done)h(b)o(y)f(tracing|starting)f(at)h(the)h(ro)q(ot)83 1769 y(set)18 b(and)f(actually)g(tra)o(v)o(ersing)g(the)h(graph)f(of)g(p)q(oin)o(ter)83 1819y(relationships|usually)g(b)o(y)i(either)g(a)f(depth-\014rst)i(or)831869 y(breadth-\014rst)28 b(tra)o(v)o(ersal.)55 b(The)27 b(ob)r(jects)g(that)g(are)83 1918 y(reac)o(hed)16 b(are)f Fk(marke)n(d)f Fn(in)g(some)g(w)o(a)o(y)m(,)f(either)i(b)o(y)f(alter-)83 1968 y(ing)e(bits)h(within)f(the)h(ob)r(jects,)g(or)g(p)q(erhaps)h(b)o(y)e(record-)83 2018 y(ing)24b(them)f(in)h(a)g(bitmap)f(or)h(some)g(other)h(kind)f(of)832068 y(table.)185 2053 y Fj(10)30 2146 y Fn(2.)c Fk(R)n(e)n(claim)c(the)h(garb)n(age)p Fn(.)25 b(Once)17 b(the)f(liv)o(e)f(ob)r(jects)i(ha)o(v)o(e)832195 y(b)q(een)g(made)e(distinguishable)g(from)f(the)i(garbage)g(ob-)832245 y(jects,)h(memory)d(is)i Fk(swept)p Fn(,)g(that)g(is,)g(exhaustiv)o(ely)g(ex-)83 2295 y(amined,)10 b(to)h(\014nd)h(all)e(of)h(the)h(unmark)o(ed)e(\(garbage\))i(ob-)83 2345 y(jects)20 b(and)f(reclaim)f(their)h(space.)35b(T)m(raditionally)m(,)17 b(as)83 2395 y(with)f(reference)k(coun)o(ting,)c(these)i(reclaimed)e(ob)r(jects)83 2445 y(are)d(link)o(ed)e(on)o(to)h(one)h(or)f(more)g(free)h(lists)f(so)g(that)h(they)83 2494 y(are)h(accessible)i(to)d(the)i(allo)q(cation)d(routines.)p 0 2516 388 2 v 31 2543a Fh(10)64 2554 y Fg(More)i(detailed)e(descriptions)f(of)k(tra)o(v)o(ersal)d(and)i(marking)e(algo-)0 2594 y(rithms)e(can)h(b)q(e)g(found)f(in)h([Kn)o(u69)o(])g(and)g([Coh81)o(].)1052 55 y Fn(There)23 b(are)f(three)h(ma)r(jor)d(problems)h(with)g(traditional)1011 105 y(mark-sw)o(eep)14b(garbage)g(collectors.)20 b(First,)14 b(it)g(is)g(di\016cult)g(to)1011155 y(handle)f(ob)r(jects)h(of)e(v)n(arying)g(sizes)j(without)d(fragmen)o(tation)1011 205 y(of)j(the)h(a)o(v)n(ailable)e(memory)m(.)20b(The)c(garbage)g(ob)r(jects)g(whose)1011 255 y(space)h(is)g(reclaimed)e(are)i(in)o(tersp)q(ersed)i(with)d(liv)o(e)g(ob)r(jects,)1011 304y(so)e(allo)q(cation)f(of)h(large)g(ob)r(jects)h(ma)o(y)e(b)q(e)i(di\016cult;)e(sev)o(eral)1011 354 y(small)e(garbage)i(ob)r(jects)i(ma)o(y)d(not)h(add)g(up)h(to)f(a)h(large)f(con-)1011 404 y(tiguous)18b(space.)34 b(This)19 b(can)g(b)q(e)h(mitigated)c(somewhat)i(b)o(y)1011454 y(k)o(eeping)13 b(separate)i(free)f(lists)f(for)h(ob)r(jects)g(of)f(v)n(arying)f(sizes,)1011 504 y(and)19 b(merging)g(adjacen)o(t)h(free)h(spaces)g(together,)h(but)e(dif-)1011 553 y(\014culties)g(remain.)32b(\(The)20 b(system)f(m)o(ust)g(c)o(ho)q(ose)h(whether)1011603 y(to)f(allo)q(cate)g(more)f(memory)f(as)i(needed)i(to)e(create)i(small)1011 653 y(data)10 b(ob)r(jects,)j(or)e(to)f(divide)h(up)g(large)g(con)o(tiguous)f(h)o(unks)i(of)1011 703 y(free)h(memory)d(and)j(risk)g(p)q(ermanen)o(tly)f(fragmen)o(ting)e(them.)1011 753 y(This)19 b(fragmen)o(tation)e(problem)g(is)i(not)h(unique)f(to)g(mark-)1011 802 y(sw)o(eep|it)14b(o)q(ccurs)h(in)e(reference)j(coun)o(ting)e(as)f(w)o(ell,)g(and)g(in)1011852 y(most)f(explicit)i(heap)g(managemen)o(t)d(sc)o(hemes.\))1052918 y(The)17 b(second)g(problem)e(with)h(mark-sw)o(eep)f(collection)h(is)1011968 y(that)d(the)g(cost)g(of)f(a)h(collection)f(is)h(prop)q(ortional)e(to)i(the)g(size)1011 1018 y(of)h(the)i(heap,)f(including)g(b)q(oth)g(liv)o(e)f(and)h(garbage)g(ob)r(jects.)1011 1067 y(All)f(liv)o(e)h(ob)r(jects)h(m)o(ust)f(b)q(e)h(mark)o(ed,)e(and)h(all)f(garbage)h(ob-)10111117 y(jects)f(m)o(ust)f(b)q(e)h(collected,)g(imp)q(osing)d(a)i(fundamen)o(tal)f(limi-)1011 1167 y(tation)h(on)h(an)o(y)f(p)q(ossible)h(impro)o(v)o(emen)o(t)d(in)j(e\016ciency)m(.)1052 1233 y(The)24 b(third)f(problem)f(in)o(v)o(olv)o(es)g(lo)q(calit)o(y)f(of)i(reference.)1011 1283y(Since)e(ob)r(jects)h(are)g(nev)o(er)g(mo)o(v)o(ed,)e(the)i(liv)o(e)e(ob)r(jects)i(re-)1011 1333 y(main)10 b(in)j(place)f(after)h(a)g(collection,)f(in)o(tersp)q(ersed)j(with)d(free)1011 1382 y(space.)18 b(Then)12b(new)f(ob)r(jects)i(are)f(allo)q(cated)e(in)h(these)i(spaces;)10111432 y(the)21 b(result)g(is)f(that)h(ob)r(jects)h(of)d(v)o(ery)i(di\013eren)o(t)h(ages)f(b)q(e-)1011 1482 y(come)c(in)o(terlea)o(v)o(ed)i(in)e(memory)m(.)28 b(This)19 b(has)f(negativ)o(e)g(im-)1011 1532 y(plications)f(for)h(lo)q(calit)o(y)f(of)h(reference,)j(and)d(simple)f(\(non-)1011 1582y(generational\))e(mark-sw)o(eep)g(collectors)h(are)f(often)h(consid-)10111631 y(ered)d(unsuitable)f(for)g(most)f(virtual)g(memory)e(applications.)10111681 y(\(It)16 b(is)f(p)q(ossible)h(for)g(the)g(\\w)o(orking)f(set")h(of)f(activ)o(e)h(ob)r(jects)1011 1731 y(to)c(b)q(e)i(scattered)g(across)g(man)o(y)d(virtual)h(memory)e(pages,)j(so)1011 1781 y(that)18 b(those)h(pages)f(are)h(frequen)o(tly)f(sw)o(app)q(ed)h(in)f(and)g(out)10111831 y(of)e(main)f(memory)m(.\))25 b(This)17 b(problem)e(ma)o(y)g(not)i(b)q(e)h(as)f(bad)1011 1880 y(as)d(man)o(y)f(ha)o(v)o(e)h(though)o(t,)g(b)q(ecause)j(ob)r(jects)e(are)g(often)g(cre-)1011 1930 y(ated)h(in)f(clusters)j(that)d(are)i(t)o(ypically)d(activ)o(e)i(at)f(the)i(same)10111980 y(time.)h(F)m(ragmen)o(tation)12 b(and)i(lo)q(calit)o(y)f(problems)g(are)i(is)f(un-)1011 2030 y(a)o(v)o(oidable)9 b(in)h(the)i(general)e(case,)i(ho)o(w)o(ev)o(er,)g(and)e(a)h(p)q(oten)o(tial)1011 2080 y(problem)h(for)i(some)f(programs.)1052 2145 y(It)h(should)g(b)q(e)g(noted)g(that)g(these)h(problems)e(ma)o(y)f(not)h(b)q(e)1011 2195 y(insurmoun)o(table,)k(with)h(su\016cien)o(tly)g(clev)o(er)h(implemen)o(ta-)1011 2245 y(tion)14b(tec)o(hniques.)23 b(F)m(or)15 b(example,)f(if)g(a)h(bitmap)e(is)i(used)h(for)1011 2295 y(mark)9 b(bits,)i(32)g(bits)g(can)g(b)q(e)g(c)o(hec)o(k)o(ed)h(at)f(once)h(with)e(a)h(32-bit)1011 2345 y(in)o(teger)i(ALU)g(op)q(eration)f(and)g(conditional)g(branc)o(h.)18 b(If)12 b(liv)o(e)1011 2395y(ob)r(jects)i(tend)g(to)f(surviv)o(e)g(in)g(clusters)i(in)d(memory)m(,)e(as)j(they)1011 2444 y(apparen)o(tly)d(often)h(do,)f(this)h(can)g(greatly)f(diminish)f(the)i(con-)1011 2494 y(stan)o(t)16 b(of)g(prop)q(ortionalit)o(y)f(of)h(the)h(sw)o(eep)g(phase)g(cost;)h(the)1011 2544 y(theoretical)12b(linear)g(dep)q(endence)i(on)e(heap)g(size)h(ma)o(y)d(not)h(b)q(e)10112594 y(as)16 b(troublesome)g(as)g(it)g(seems)h(at)f(\014rst)h(glance.)25b(The)17 b(clus-)980 2718 y(9)p eop%%Page: 10 10bop 0 55 a Fn(tered)17 b(surviv)n(al)d(of)h(ob)r(jects)i(ma)o(y)c(also)i(mitigate)e(the)j(lo)q(cal-)0 105 y(it)o(y)f(problems)g(of)g(re-allo)q(cating)f(space)j(amid)d(liv)o(e)g(ob)r(jects;)0 155 y(if)g(ob)r(jects)h(tend)h(to)e(surviv)o(e)h(or)f(die)h(in)f(groups)h(in)f(memory)0205 y([Ha)o(y91)o(],)e(the)j(in)o(tersp)q(ersing)f(of)g(ob)r(jects)g(used)h(b)o(y)e(di\013eren)o(t)0 255 y(program)f(phases)j(ma)o(y)d(not)i(b)q(e)g(a)g(ma)r(jor)e(consideration.)0 382 y Fi(2.3)56 b(Mark-Compact)17b(Collection)0 463 y Fk(Mark-c)n(omp)n(act)26 b Fn(collectors)f(remedy)h(the)f(fragmen)o(tation)0 513 y(and)i(allo)q(cation)f(problems)g(of)g(mark-sw)o(eep)h(collectors.)0 563 y(As)18 b(with)e(mark-sw)o(eep,)h(a)g(marking)e(phase)j(tra)o(v)o(erses)g(and)0 612 y(marks)e(the)h(reac)o(hable)g(ob)r(jects.)28 b(Then)17 b(ob)r(jects)h(are)f Fk(c)n(om-)0 662y(p)n(acte)n(d)p Fn(,)22 b(mo)o(ving)c(most)h(of)g(the)i(liv)o(e)f(ob)r(jects)h(un)o(til)f(all)f(of)0 712 y(the)f(liv)o(e)f(ob)r(jects)h(are)g(con)o(tiguous.)28 b(This)18 b(lea)o(v)o(es)f(the)h(rest)0 762 y(of)d(memory)f(as)i(a)g(single)g(con)o(tiguous)g(free)h(space.)25 b(This)16 b(is)0812 y(often)g(done)g(b)o(y)f(a)h(linear)f(scan)h(through)g(memory)m(,)d(\014nding)0 861 y(liv)o(e)d(ob)r(jects)i(and)e(\\sliding")f(them)h(do)o(wn)h(to)f(b)q(e)h(adjacen)o(t)g(to)0 911 y(the)j(previous)f(ob)r(ject.)19b(Ev)o(en)o(tually)m(,)11 b(all)h(of)g(the)i(liv)o(e)e(ob)r(jects)0961 y(ha)o(v)o(e)g(b)q(een)i(slid)e(do)o(wn)g(to)h(b)q(e)g(adjacen)o(t)f(to)h(a)f(liv)o(e)g(neigh)o(b)q(or.)0 1011 y(This)f(lea)o(v)o(es)g(one)g(con)o(tiguous)f(o)q(ccupied)i(area)f(at)f(one)h(end)h(of)0 1061y(heap)g(memory)m(,)c(and)k(implicitly)c(mo)o(ving)h(all)h(of)h(the)i(\\holes")0 1111 y(to)h(the)g(con)o(tiguous)g(area)g(at)g(the)g(other)h(end.)42 1163 y(This)29 b(sliding)g(compaction)f(has)h(sev)o(eral)i(in)o(teresting)0 1212 y(prop)q(erties.)25 b(The)17 b(con)o(tiguous)e(free)i(area)f(eliminates)e(frag-)0 1262 y(men)o(tation)d(problems)h(so)g(that)h(allo)q(cating)e(ob)r(jects)j(of)e(v)n(ari-)0 1312 y(ous)i(sizes)g(is)g(simple.)i(Allo)q(cation)c(can)i(b)q(e)g(implemen)o(ted)d(as)0 1362 y(the)h(incremen)o(ting)e(of)h(a)g(p)q(oin)o(ter)g(in)o(to)g(a)f(con)o(tiguous)h(area)h(of)01412 y(memory)m(,)f(in)j(m)o(uc)o(h)f(the)h(w)o(a)o(y)g(that)g(di\013eren)o(t-sized)i(ob)r(jects)0 1461 y(can)f(b)q(e)g(allo)q(cated)f(on)g(a)g(stac)o(k.)20 b(In)14 b(addition,)f(the)i(garbage)0 1511 y(spaces)22b(are)f(simply)e(\\squeezed)k(out,")f(without)e(disturb-)01561 y(ing)15 b(the)i(original)e(ordering)h(of)f(ob)r(jects)j(in)d(memory)m(.)22 b(This)0 1611 y(can)16 b(ameliorate)d(lo)q(calit)o(y)i(problems,)f(b)q(ecause)j(the)f(allo)q(ca-)0 1661 y(tion)k(ordering)h(is)f(usually)g(more)f(similar)f(to)i(subsequen)o(t)0 1710 y(access)f(orderings)f(than)g(an)f(arbitrary)h(ordering)f(imp)q(osed)0 1760 y(b)o(y)d(a)f(cop)o(ying)g(garbage)h(collector)g([CG77)o(,)f(Cla79)o(].)42 1812 y(While)20 b(the)h(lo)q(calit)o(y)f(that)h(results)h(from)d(sliding)h(com-)0 1862 y(paction)e(is)f(adv)n(an)o(tageous,)h(the)g(collection)g(pro)q(cess)i(itself)0 1912y(shares)k(the)g(mark-sw)o(eep's)e(unfortunate)h(prop)q(ert)o(y)h(that)01962 y(sev)o(eral)18 b(passes)h(o)o(v)o(er)f(the)g(data)g(are)g(required.)30b(After)19 b(the)0 2012 y(initial)10 b(marking)f(phase,)j(sliding)f(compactors)g(mak)o(e)f(t)o(w)o(o)h(or)0 2061 y(three)18 b(more)d(passes)j(o)o(v)o(er)f(the)g(liv)o(e)e(ob)r(jects)j([CN83)o(].)25 b(One)02111 y(pass)16 b(computes)f(the)g(new)h(lo)q(cations)e(that)i(ob)r(jects)g(will)e(b)q(e)0 2161 y(mo)o(v)o(ed)e(to;)i(subsequen)o(t)h(passes)g(m)o(ust)e(up)q(date)i(p)q(oin)o(ters)f(to)0 2211 y(refer)g(to)f(ob)r(jects')h(new)g(lo)q(cations,)e(and)h(actually)f(mo)o(v)o(e)g(the)0 2261 y(ob)r(jects.)19b(These)c(algorithms)c(ma)o(y)h(b)q(e)i(therefore)h(b)q(e)f(signif-)02310 y(ican)o(tly)h(slo)o(w)o(er)i(than)f(mark-sw)o(eep)g(if)f(a)h(large)g(p)q(ercen)o(tage)0 2360 y(of)d(data)h(surviv)o(es)g(to)g(b)q(e)h(compacted.)422412 y(An)22 b(alternativ)o(e)g(approac)o(h)g(is)g(to)g(use)h(Daniel)e(J.)h(Ed-)0 2462 y(w)o(ards')f Fk(two-p)n(ointer)g(algorithm)p Fn(,)5482447 y Fj(11)605 2462 y Fn(whic)o(h)g(scans)h(in)o(w)o(ard)02512 y(from)13 b(b)q(oth)j(ends)g(of)e(a)h(heap)g(space)i(to)e(\014nd)g(opp)q(ortunities)p 0 2555 388 2 v 31 2582 a Fh(11)64 2594 y Fg(Describ)q(ed)9b(in)i(an)g(exercise)f(on)h(page)f(421)h(of)g([Kn)o(u69)o(].)101155 y Fn(for)e(compaction.)16 b(One)10 b(p)q(oin)o(ter)h(scans)g(do)o(wn)o(w)o(ard)e(from)f(the)1011 105 y(top)k(of)f(the)h(heap,)g(lo)q(oking)f(for)g(liv)o(e)g(ob)r(jects,)i(and)f(the)g(other)1011 155 y(scans)19 b(up)o(w)o(ard)f(from)e(the)j(b)q(ottom,)e(lo)q(oking)g(for)h(holes)g(to)1011205 y(put)e(them)g(in.)26 b(\(Man)o(y)16 b(v)n(ariations)f(of)h(this)h(algorithm)d(are)1011 255 y(p)q(ossible,)e(to)g(deal)g(with)g(m)o(ultiple)e(areas)i(holding)f(di\013eren)o(t-)1011 304 y(sized)i(ob)r(jects,)h(and)e(to)h(a)o(v)o(oid)e(in)o(termingling)f(ob)r(jects)k(from)1011 354y(widely-disp)q(ersed)k(areas.\))30 b(F)m(or)17 b(a)g(more)g(complete)f(treat-)1011 404 y(men)o(t)d(of)g(compacting)f(algorithms,)f(see)16b([CN83)o(].)1011 525 y Fi(2.4)55 b(Cop)n(ying)19 b(Garbage)g(Collection)1011603 y Fn(Lik)o(e)14 b(mark-compact)d(\(but)k(unlik)o(e)f(mark-sw)o(eep\),)fFk(c)n(opying)1011 653 y Fn(garbage)18 b(collection)f(do)q(es)i(not)f(really)g(\\collect")g(garbage.)1011 703 y(Rather,)d(it)f(mo)o(v)o(es)g(all)g(of)g(the)i Fk(live)f Fn(ob)r(jects)h(in)o(to)e(one)h(area,)1011752 y(and)d(the)h(rest)h(of)e(the)i(heap)e(is)h(then)g(kno)o(wn)f(to)h(b)q(e)g(a)o(v)n(ailable)1011 802 y(b)q(ecause)22 b(it)d(con)o(tains)h(only)f(garbage.)37 b(\\Garbage)19 b(collec-)1011 852 y(tion")12 b(in)h(these)i(systems)f(is)f(th)o(us)h(only)e(implicit,)f(and)i(some)1011902 y(researc)o(hers)k(a)o(v)o(oid)12 b(applying)h(that)h(term)f(to)h(the)g(pro)q(cess.)1052 953 y(Cop)o(ying)26 b(collectors,)31 b(lik)o(e)26b(marking-and-com)o(pacting)1011 1002 y(collectors,)18 b(mo)o(v)o(e)e(the)i(ob)r(jects)g(that)g(are)g(reac)o(hed)g(b)o(y)f(the)1011 1052y(tra)o(v)o(ersal)f(to)h(a)f(con)o(tiguous)g(area.)26 b(While)15b(mark-compact)1011 1102 y(collectors)e(use)g(a)f(separate)i(marking)c(phase)j(that)f(tra)o(v)o(erses)1011 1152 y(the)f(liv)o(e)f(data,)h(cop)o(ying)f(collectors)h(in)o(tegrate)g(the)h(tra)o(v)o(ersal)1011 1202y(of)h(the)h(data)f(and)g(the)h(cop)o(ying)e(pro)q(cess,)j(so)f(that)f(most)f(ob-)1011 1252 y(jects)j(need)f(only)f(b)q(e)i(tra)o(v)o(ersed)g(once.)k(Ob)r(jects)c(are)g(mo)o(v)o(ed)1011 1301 y(to)d(the)g(con)o(tiguous)g(destination)g(area)g(as)g(they)g(are)h(reac)o(hed)1011 1351y(b)o(y)i(the)g(tra)o(v)o(ersal.)22 b(The)15 b(w)o(ork)g(needed)h(is)f(prop)q(ortional)f(to)1011 1401 y(the)f(amoun)o(t)e(of)h(liv)o(e)f(data)i(\(all)e(of)h(whic)o(h)g(m)o(ust)g(b)q(e)h(copied\).)1052 1452 y(The)28b(term)e Fk(sc)n(avenging)i Fn(is)e(applied)g(to)h(the)h(cop)o(ying)10111501 y(tra)o(v)o(ersal,)12 b(b)q(ecause)h(it)f(consists)h(of)e(pic)o(king)h(out)g(the)g(w)o(orth-)1011 1551 y(while)d(ob)r(jects)h(amid)d(the)j(garbage,)g(and)f(taking)f(them)h(a)o(w)o(a)o(y)m(.)1011 1664y Fm(2.4.1)48 b(A)29 b(Simple)d(Cop)o(ying)h(Collector:)46b(\\Stop-)1157 1714 y(and-Cop)o(y")14 b(Using)h(Semispaces.)10111792 y Fn(A)i(v)o(ery)g(common)e(kind)h(of)h(cop)o(ying)f(garbage)h(collector)g(is)1011 1842 y(the)c Fk(semisp)n(ac)n(e)g Fn(collector)f([FY69])g(using)g(the)h Fk(Cheney)g Fn(algo-)1011 1891 y(rithm)h(for)i(the)h(cop)o(ying)f(tra)o(v)o(ersal)g([Che70)o(].)25 b(W)m(e)15 b(will)g(use)10111941 y(this)k(collector)h(as)g(a)f(reference)j(mo)q(del)c(for)h(m)o(uc)o(h)f(of)h(this)1011 1991 y(pap)q(er.)1125 1976 y Fj(12)1052 2042y Fn(In)h(this)g(sc)o(heme,)h(the)f(space)h(dev)o(oted)g(to)f(the)g(heap)g(is)1011 2092 y(sub)q(divided)g(in)o(to)f(t)o(w)o(o)g(con)o(tiguous)gFk(semisp)n(ac)n(es)p Fn(.)36 b(During)1011 2141 y(normal)18b(program)h(execution,)k(only)d(one)h(of)f(these)i(semi-)10112191 y(spaces)13 b(is)g(in)e(use,)i(as)g(sho)o(wn)f(in)g(Fig.)f(3.)17b(Memory)11 b(is)h(allo)q(ca-)1011 2241 y(ted)i(linearly)f(up)o(w)o(ard)h(through)f(this)h(\\curren)o(t")h(semispace)p 1011 2279 V 10422306 a Fh(12)1074 2318 y Fg(As)h(a)g(historical)d(note,)i(the)g(\014rst)g(cop)o(ying)e(collector)h(w)o(as)i(Min-)1011 2357 y(sky's)c(collector)e(for)i(Lisp)g(1.5)g([Min63)o(].)19 b(Rather)11 b(than)h(cop)o(ying)e(data)10112397 y(from)i(one)h(area)g(of)g(memory)e(to)i(another,)f(a)i(single)e(heap)h(space)f(w)o(as)1011 2436 y(used.)32 b(The)17 b(liv)o(e)g(data)f(w)o(ere)i(copied)d(out)i(to)g(a)g(\014le)g(on)g(disk,)h(and)1011 2475y(then)f(read)g(bac)o(k)g(in,)j(in)e(a)g(con)o(tiguous)e(area)h(of)h(the)g(heap)f(space.)1011 2515 y(On)d(mo)q(dern)e(mac)o(hines)g(this)h(w)o(ould)g(b)q(e)h(un)o(b)q(earably)d(slo)o(w,)j(b)q(ecause)1011 2554y(\014le)c(op)q(erations|writi)o(ng)d(and)j(reading)e(ev)o(ery)h(liv)o(e)h(ob)r(ject|are)e(no)o(w)1011 2594 y(man)o(y)i(times)g(slo)o(w)o(er)h(than)g(memory)e(op)q(erations.)969 2718 y Fn(10)p eop%%Page: 11 11bop 225 789 agsave currentpoint currentpoint translate 270 rotate neg exch neg exch translate225 789 a 15302080 11476556 526254 986726 51507118 39337492 startTexFig225 789 a%%BeginDocument: semibef.ps/Win33Dict 290 dict def Win33Dict begin/bd{bind def}bind def/in{72mul}bd/ed{exch def}bd/ld{load def}bd/tr/translate ld/gs/gsave ld/gr/grestoreld/M/moveto ld/L/lineto ld/rmt/rmoveto ld/rlt/rlineto ld/rct/rcurvetold/st/stroke ld/n/newpath ld/sm/setmatrix ld/cm/currentmatrix ld/cp/closepathld/ARC/arcn ld/TR{65536 div}bd/lj/setlinejoin ld/lc/setlinecap ld/ml/setmiterlimitld/sl/setlinewidth ld/scignore false def/sc{scignore{pop pop pop}{0index 2 index eq 2 index 4 index eq and{pop pop 255 div setgray}{3{255div 3 1 roll}repeat setrgbcolor}ifelse}ifelse}bd/FC{bR bG bB sc}bd/fC{/bBed/bG ed/bR ed}bd/HC{hR hG hB sc}bd/hC{/hB ed/hG ed/hR ed}bd/PC{pRpG pB sc}bd/pC{/pB ed/pG ed/pR ed}bd/sM matrix def/PenW 1 def/iPen5 def/mxF matrix def/mxE matrix def/fBE false def/iDevRes 72 0 matrixdefaultmatrix dtransform dup mul exch dup mul add sqrt def/SS{/SV savedef}bd/RS{SV restore}bd/EJ{gsave showpage grestore}bd/#C{userdict begin/#copiesed end}bd/SM{/iRes ed/cyP exch def/cxP exch def/cyM exch def/cxM exchdef 72 iRes div dup neg scale 0 ne{cyP cxP neg tr 90 rotate cxM cyM}{cxMcyM cyP sub}ifelse tr 0 0 transform .25 add round .25 sub exch .25add round .25 sub exch itransform translate}bd/SJ{1 index 0 eq{poppop/fBE false def}{1 index/Break ed div/dxBreak ed/fBE true def}ifelse}bd/ANSIVec[16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde 16#4/macron 16#5/breve16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A/hungarumlaut16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60/grave16#7C/bar 16#91/quoteleft 16#92/quoteright 16#93/quotedblleft 16#94/quotedblright16#95/bullet 16#96/endash 16#97/emdash 16#A0/space 16#A4/currency 16#A6/brokenbar16#A7/section 16#A8/dieresis 16#A9/copyright 16#AA/ordfeminine 16#AB/guillemotleft16#AC/logicalnot 16#AD/hyphen 16#AE/registered 16#AF/macron 16#B0/degree16#B1/plusminus 16#B2/twosuperior 16#B3/threesuperior 16#B4/acute 16#B5/mu16#B6/paragraph 16#B7/periodcentered 16#B8/cedilla 16#B9/onesuperior16#BA/ordmasculine 16#BB/guillemotright 16#BC/onequarter 16#BD/onehalf16#BE/threequarters 16#BF/questiondown 16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex16#C3/Atilde 16#C4/Adieresis 16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave16#C9/Eacute 16#CA/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute16#CE/Icircumflex 16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve16#D3/Oacute 16#D4/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply16#D8/Oslash 16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis16#DD/Yacute 16#DE/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute16#E2/acircumflex 16#E3/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae16#E7/ccedilla 16#E8/egrave 16#E9/eacute 16#EA/ecircumflex 16#EB/edieresis16#EC/igrave 16#ED/iacute 16#EE/icircumflex 16#EF/idieresis 16#F0/eth16#F1/ntilde 16#F2/ograve 16#F3/oacute 16#F4/ocircumflex 16#F5/otilde16#F6/odieresis 16#F7/divide 16#F8/oslash 16#F9/ugrave 16#FA/uacute16#FB/ucircumflex 16#FC/udieresis 16#FD/yacute 16#FE/thorn 16#FF/ydieresis] def/reencdict 12 dict def/IsChar{basefontdict/CharStrings get exchknown}bd/MapCh{dup IsChar not{pop/bullet}if newfont/Encoding get 31 roll put}bd/MapDegree{16#b0/degree IsChar{/degree}{/ring}ifelse MapCh}bd/MapBB{16#a6/brokenbarIsChar{/brokenbar}{/bar}ifelse MapCh}bd/ANSIFont{reencdict begin/newfontnameed/basefontname ed FontDirectory newfontname known not{/basefontdictbasefontname findfont def/newfont basefontdict maxlength dict def basefontdict{exchdup/FID ne{dup/Encoding eq{exch dup length array copy newfont 3 1 rollput}{exch newfont 3 1 roll put}ifelse}{pop pop}ifelse}forall newfont/FontNamenewfontname put 127 1 159{newfont/Encoding get exch/bullet put}forANSIVec aload pop ANSIVec length 2 idiv{MapCh}repeat MapDegree MapBBnewfontname newfont definefont pop}if newfontname end}bd/SB{FC/stred str length fBE not{dup 1 gt{1 sub}if}if/cbStr ed/dxGdi ed/y0 ed/x0ed str stringwidth esc 0 ne{mxE itransform exch neg dxGdi add cbStrdiv exch mxE transform}{exch neg dxGdi add cbStr div exch}ifelse/dyExtraed/dxExtra ed x0 y0 M fBE{dxBreak 0 BCh dxExtra dyExtra str awidthshow}{dxExtradyExtra str ashow}ifelse fUL{x0 y0 M dxUL dyUL rmt dxGdi fBE{Breakadd}if 0 mxE transform rlt cyUL sl st}if fSO{x0 y0 M dxSO dySO rmtdxGdi fBE{Break add}if 0 mxE transform rlt cyUL sl st}if n/fBE falsedef}bd/font{/name ed/Ascent ed 0 ne/fSO ed 0 ne/fUL ed/Sy ed/Sx ed10.0 div/ori ed -10.0 div/esc ed/BCh ed name findfont [Sx 0 0 Sy neg0 Ascent] esc mxE rotate mxF concatmatrix makefont setfont fUL{currentfontdup/FontInfo get/UnderlinePosition known not{pop/Courier findfont}if/FontInfoget/UnderlinePosition get 1000 div 0 exch mxF transform/dyUL ed/dxULed}if fSO{0 .3 mxF transform/dySO ed/dxSO ed}if fUL fSO or{currentfontdup/FontInfo get/UnderlineThickness known not{pop/Courier findfont}if/FontInfoget/UnderlineThickness get 1000 div Sy mul/cyUL ed}if}bd/min{2 copygt{exch}if pop}bd/max{2 copy lt{exch}if pop}bd/CP{/ft ed{{ft 0 eq{clip}{eoclip}ifelse}stopped{currentflat1 add setflat}{exit}ifelse}loop}bd/patfont 10 dict def patfont begin/FontType3 def/FontMatrix [1 0 0 1 0 0] def/FontBBox [0 0 32 32] def/EncodingStandardEncoding def/BuildChar{pop pop 32 0 0 0 32 32 setcachedevice2 2 scale 16 16 false [1 0 0 1 .25 .25]{pat}imagemask}bd end/p{/pat32 string def{}forall 0 1 7{dup 2 mul pat exch 3 index put dup 2 mul1 add pat exch 3 index put dup 2 mul 16 add pat exch 3 index put 2mul 17 add pat exch 2 index put pop}for}bd/pfill{/PatFont patfont definefontsetfont/ch(AAAA)def X0 128 X1{Y0 32 Y1{1 index exch M ch show}for pop}for}bd/vert{X0w X1{dup Y0 M Y1 L st}for}bd/horz{Y0 w Y1{dup X0 exch M X1 exch L st}for}bd/fdiag{X0w X1{Y0 M X1 X0 sub dup rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub duprlt st}for}bd/bdiag{X0 w X1{Y1 M X1 X0 sub dup neg rlt st}for Y0 wY1{X0 exch M Y1 Y0 sub dup neg rlt st}for}bd/AU{1 add cvi 15 or}bd/AD{1sub cvi -16 and}bd/SHR{pathbbox AU/Y1 ed AU/X1 ed AD/Y0 ed AD/X0 ed}bd/hfill{2sl [] 0 setdash n/w iRes 20 div 8 div round 8 mul def dup 0 eq{horz}ifdup 1 eq{vert}if dup 2 eq{fdiag}if dup 3 eq{bdiag}if dup 4 eq{horzvert}if 5 eq{fdiag bdiag}if}bd/F{/ft ed fm 256 and 0 ne{gs FC ft 0eq{fill}{eofill}ifelse gr}if fm 1536 and 0 ne{SHR gs HC ft CP fm 1024and 0 ne{/Tmp save def pfill Tmp restore}{fm 15 and hfill}ifelse gr}if}bd/S{PenWsl PC st}bd/m matrix def/GW{iRes 12 div PenW add cvi}bd/DoW{iRes 50div PenW add cvi}bd/DW{iRes 8 div PenW add cvi}bd/SP{/PenW ed/iPened iPen 0 eq{[] 0 setdash}if iPen 1 eq{[DW GW] 0 setdash}if iPen 2eq{[DoW GW] 0 setdash}if iPen 3 eq{[DW GW DoW GW] 0 setdash}if iPen4 eq{[DW GW DoW GW DoW GW] 0 setdash}if}bd/E{m cm pop tr scale 0 01 0 360 arc cp m sm}bd/AG{/sy ed/sx ed sx div 4 1 roll sy div 4 1 rollsx div 4 1 roll sy div 4 1 roll atan/a2 ed atan/a1 ed sx sy scale a1a2 ARC}def/A{m cm pop tr AG m sm}def/P{m cm pop tr 0 0 M AG cp m sm}def/RRect{n4 copy M 3 1 roll exch L 4 2 roll L L cp}bd/RRCC{/r ed/y1 ed/x1 ed/y0ed/x0 ed x0 r add y0 M x1 y0 x1 y1 r arcto 4{pop}repeat x1 y1 x0 y1r arcto 4{pop}repeat x0 y1 x0 y0 r arcto 4{pop}repeat x0 y0 x1 y0 rarcto 4{pop}repeat cp}bd/RR{2 copy 0 eq exch 0 eq or{pop pop RRect}{2copy eq{pop RRCC}{m cm pop/y2 ed/x2 ed/ys y2 x2 div 1 max def/xs x2y2 div 1 max def/y1 exch ys div def/x1 exch xs div def/y0 exch ys divdef/x0 exch xs div def/r2 x2 y2 min def xs ys scale x0 r2 add y0 Mx1 y0 x1 y1 r2 arcto 4{pop}repeat x1 y1 x0 y1 r2 arcto 4{pop}repeatx0 y1 x0 y0 r2 arcto 4{pop}repeat x0 y0 x1 y0 r2 arcto 4{pop}repeatm sm cp}ifelse}ifelse}bd/PP{{rlt}repeat}bd/OB{gs sc B fill gr}bd/B{M/dyed/dx ed dx 0 rlt 0 dy rlt dx neg 0 rlt cp}bd/CB{B clip n}bdstatusdict begin 0 setjobtimeout endstatusdict begin statusdict /jobname (Windows Draw - SEMIBEF.DRW) put endSS1 33 60 3300 2550 300 SM255 255 255 fC/fm 256 def3230 2426 0 0 B1 Fn0 lc0 lj0 0 0 pC0 1 SP1199 1505 1925 388 BSn0 0 0 fC32 0 0 99 100 0 0 90 /Times-Roman /font32 ANSIFont font2306 1995 438 (TOSPACE) SB1 lc1 lj10433 ml0 3 SP1196 1502 120 388 BSn1489 229 268 (ROOT) SB1535 341 175 (SET) SB0 16 SP149 150 1549 541 BSn149 149 1549 692 BSn149 149 1549 842 BSn149 150 1549 992 BSn300 149 421 692 BSn572 692 M 0 0 0 150 2 PPSn300 149 271 1143 BSn421 1143 M 0 0 0 150 2 PPSn149 149 873 1143 BSn450 149 572 1669 BSn722 1669 M 0 0 0 150 2 PPSn873 1669 M 0 0 0 150 2 PPSn425 1995 587 (FROMSPACE) SB1612 624 M -50 50 -137 44 -262 19 rct-126 -27 -330 -157 -486 -188 rct-157 -31 -244 -1 -318 19 rct-75 18 -131 37 -131 169 rctSn0 lc0 lj445 606 M -31 -62 -30 62 2 PPSn1 lc1 lj1612 1075 M -40 169 -88 186 -267 249 rct-182 60 -395 44 -571 83 rct-171 39 -209 66 -209 217 rctSn0 lc0 lj596 1587 M -31 -62 -31 62 2 PPSn1 lc1 lj488 776 M 0 39 0 90 -36 119 rct-36 27 -73 45 -108 67 rct-36 23 -72 80 -72 136 rctSn0 lc0 lj303 1061 M -31 -62 -31 62 2 PPSn1 lc1 lj637 776 M 0 56 39 124 78 135 rct47 14 59 12 98 34 rct39 23 58 80 58 153 rctSn0 lc0 lj902 1061 M -31 -62 -31 62 2 PPSnEJ RSend%%EndDocument 225 789 a endTexFig952 789 acurrentpoint grestore moveto0 783 a Fn(Figure)12 b(3:)17 b(A)c(simple)e(semispace)h(garbage)g(collector)g(b)q(efore)0 833 y(garbage)i(collection.)225 1668 ygsave currentpoint currentpoint translate 270 rotate neg exch neg exch translate225 1668 a 15302080 11476556 526254 986726 51507118 39337492 startTexFig225 1668 a%%BeginDocument: semiaft.ps/Win33Dict 290 dict def Win33Dict begin/bd{bind def}bind def/in{72mul}bd/ed{exch def}bd/ld{load def}bd/tr/translate ld/gs/gsave ld/gr/grestoreld/M/moveto ld/L/lineto ld/rmt/rmoveto ld/rlt/rlineto ld/rct/rcurvetold/st/stroke ld/n/newpath ld/sm/setmatrix ld/cm/currentmatrix ld/cp/closepathld/ARC/arcn ld/TR{65536 div}bd/lj/setlinejoin ld/lc/setlinecap ld/ml/setmiterlimitld/sl/setlinewidth ld/scignore false def/sc{scignore{pop pop pop}{0index 2 index eq 2 index 4 index eq and{pop pop 255 div setgray}{3{255div 3 1 roll}repeat setrgbcolor}ifelse}ifelse}bd/FC{bR bG bB sc}bd/fC{/bBed/bG ed/bR ed}bd/HC{hR hG hB sc}bd/hC{/hB ed/hG ed/hR ed}bd/PC{pRpG pB sc}bd/pC{/pB ed/pG ed/pR ed}bd/sM matrix def/PenW 1 def/iPen5 def/mxF matrix def/mxE matrix def/fBE false def/iDevRes 72 0 matrixdefaultmatrix dtransform dup mul exch dup mul add sqrt def/SS{/SV savedef}bd/RS{SV restore}bd/EJ{gsave showpage grestore}bd/#C{userdict begin/#copiesed end}bd/SM{/iRes ed/cyP exch def/cxP exch def/cyM exch def/cxM exchdef 72 iRes div dup neg scale 0 ne{cyP cxP neg tr 90 rotate cxM cyM}{cxMcyM cyP sub}ifelse tr 0 0 transform .25 add round .25 sub exch .25add round .25 sub exch itransform translate}bd/SJ{1 index 0 eq{poppop/fBE false def}{1 index/Break ed div/dxBreak ed/fBE true def}ifelse}bd/ANSIVec[16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde 16#4/macron 16#5/breve16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A/hungarumlaut16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60/grave16#7C/bar 16#91/quoteleft 16#92/quoteright 16#93/quotedblleft 16#94/quotedblright16#95/bullet 16#96/endash 16#97/emdash 16#A0/space 16#A4/currency 16#A6/brokenbar16#A7/section 16#A8/dieresis 16#A9/copyright 16#AA/ordfeminine 16#AB/guillemotleft16#AC/logicalnot 16#AD/hyphen 16#AE/registered 16#AF/macron 16#B0/degree16#B1/plusminus 16#B2/twosuperior 16#B3/threesuperior 16#B4/acute 16#B5/mu16#B6/paragraph 16#B7/periodcentered 16#B8/cedilla 16#B9/onesuperior16#BA/ordmasculine 16#BB/guillemotright 16#BC/onequarter 16#BD/onehalf16#BE/threequarters 16#BF/questiondown 16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex16#C3/Atilde 16#C4/Adieresis 16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave16#C9/Eacute 16#CA/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute16#CE/Icircumflex 16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve16#D3/Oacute 16#D4/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply16#D8/Oslash 16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis16#DD/Yacute 16#DE/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute16#E2/acircumflex 16#E3/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae16#E7/ccedilla 16#E8/egrave 16#E9/eacute 16#EA/ecircumflex 16#EB/edieresis16#EC/igrave 16#ED/iacute 16#EE/icircumflex 16#EF/idieresis 16#F0/eth16#F1/ntilde 16#F2/ograve 16#F3/oacute 16#F4/ocircumflex 16#F5/otilde16#F6/odieresis 16#F7/divide 16#F8/oslash 16#F9/ugrave 16#FA/uacute16#FB/ucircumflex 16#FC/udieresis 16#FD/yacute 16#FE/thorn 16#FF/ydieresis] def/reencdict 12 dict def/IsChar{basefontdict/CharStrings get exchknown}bd/MapCh{dup IsChar not{pop/bullet}if newfont/Encoding get 31 roll put}bd/MapDegree{16#b0/degree IsChar{/degree}{/ring}ifelse MapCh}bd/MapBB{16#a6/brokenbarIsChar{/brokenbar}{/bar}ifelse MapCh}bd/ANSIFont{reencdict begin/newfontnameed/basefontname ed FontDirectory newfontname known not{/basefontdictbasefontname findfont def/newfont basefontdict maxlength dict def basefontdict{exchdup/FID ne{dup/Encoding eq{exch dup length array copy newfont 3 1 rollput}{exch newfont 3 1 roll put}ifelse}{pop pop}ifelse}forall newfont/FontNamenewfontname put 127 1 159{newfont/Encoding get exch/bullet put}forANSIVec aload pop ANSIVec length 2 idiv{MapCh}repeat MapDegree MapBBnewfontname newfont definefont pop}if newfontname end}bd/SB{FC/stred str length fBE not{dup 1 gt{1 sub}if}if/cbStr ed/dxGdi ed/y0 ed/x0ed str stringwidth esc 0 ne{mxE itransform exch neg dxGdi add cbStrdiv exch mxE transform}{exch neg dxGdi add cbStr div exch}ifelse/dyExtraed/dxExtra ed x0 y0 M fBE{dxBreak 0 BCh dxExtra dyExtra str awidthshow}{dxExtradyExtra str ashow}ifelse fUL{x0 y0 M dxUL dyUL rmt dxGdi fBE{Breakadd}if 0 mxE transform rlt cyUL sl st}if fSO{x0 y0 M dxSO dySO rmtdxGdi fBE{Break add}if 0 mxE transform rlt cyUL sl st}if n/fBE falsedef}bd/font{/name ed/Ascent ed 0 ne/fSO ed 0 ne/fUL ed/Sy ed/Sx ed10.0 div/ori ed -10.0 div/esc ed/BCh ed name findfont [Sx 0 0 Sy neg0 Ascent] esc mxE rotate mxF concatmatrix makefont setfont fUL{currentfontdup/FontInfo get/UnderlinePosition known not{pop/Courier findfont}if/FontInfoget/UnderlinePosition get 1000 div 0 exch mxF transform/dyUL ed/dxULed}if fSO{0 .3 mxF transform/dySO ed/dxSO ed}if fUL fSO or{currentfontdup/FontInfo get/UnderlineThickness known not{pop/Courier findfont}if/FontInfoget/UnderlineThickness get 1000 div Sy mul/cyUL ed}if}bd/min{2 copygt{exch}if pop}bd/max{2 copy lt{exch}if pop}bd/CP{/ft ed{{ft 0 eq{clip}{eoclip}ifelse}stopped{currentflat1 add setflat}{exit}ifelse}loop}bd/patfont 10 dict def patfont begin/FontType3 def/FontMatrix [1 0 0 1 0 0] def/FontBBox [0 0 32 32] def/EncodingStandardEncoding def/BuildChar{pop pop 32 0 0 0 32 32 setcachedevice2 2 scale 16 16 false [1 0 0 1 .25 .25]{pat}imagemask}bd end/p{/pat32 string def{}forall 0 1 7{dup 2 mul pat exch 3 index put dup 2 mul1 add pat exch 3 index put dup 2 mul 16 add pat exch 3 index put 2mul 17 add pat exch 2 index put pop}for}bd/pfill{/PatFont patfont definefontsetfont/ch(AAAA)def X0 128 X1{Y0 32 Y1{1 index exch M ch show}for pop}for}bd/vert{X0w X1{dup Y0 M Y1 L st}for}bd/horz{Y0 w Y1{dup X0 exch M X1 exch L st}for}bd/fdiag{X0w X1{Y0 M X1 X0 sub dup rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub duprlt st}for}bd/bdiag{X0 w X1{Y1 M X1 X0 sub dup neg rlt st}for Y0 wY1{X0 exch M Y1 Y0 sub dup neg rlt st}for}bd/AU{1 add cvi 15 or}bd/AD{1sub cvi -16 and}bd/SHR{pathbbox AU/Y1 ed AU/X1 ed AD/Y0 ed AD/X0 ed}bd/hfill{2sl [] 0 setdash n/w iRes 20 div 8 div round 8 mul def dup 0 eq{horz}ifdup 1 eq{vert}if dup 2 eq{fdiag}if dup 3 eq{bdiag}if dup 4 eq{horzvert}if 5 eq{fdiag bdiag}if}bd/F{/ft ed fm 256 and 0 ne{gs FC ft 0eq{fill}{eofill}ifelse gr}if fm 1536 and 0 ne{SHR gs HC ft CP fm 1024and 0 ne{/Tmp save def pfill Tmp restore}{fm 15 and hfill}ifelse gr}if}bd/S{PenWsl PC st}bd/m matrix def/GW{iRes 12 div PenW add cvi}bd/DoW{iRes 50div PenW add cvi}bd/DW{iRes 8 div PenW add cvi}bd/SP{/PenW ed/iPened iPen 0 eq{[] 0 setdash}if iPen 1 eq{[DW GW] 0 setdash}if iPen 2eq{[DoW GW] 0 setdash}if iPen 3 eq{[DW GW DoW GW] 0 setdash}if iPen4 eq{[DW GW DoW GW DoW GW] 0 setdash}if}bd/E{m cm pop tr scale 0 01 0 360 arc cp m sm}bd/AG{/sy ed/sx ed sx div 4 1 roll sy div 4 1 rollsx div 4 1 roll sy div 4 1 roll atan/a2 ed atan/a1 ed sx sy scale a1a2 ARC}def/A{m cm pop tr AG m sm}def/P{m cm pop tr 0 0 M AG cp m sm}def/RRect{n4 copy M 3 1 roll exch L 4 2 roll L L cp}bd/RRCC{/r ed/y1 ed/x1 ed/y0ed/x0 ed x0 r add y0 M x1 y0 x1 y1 r arcto 4{pop}repeat x1 y1 x0 y1r arcto 4{pop}repeat x0 y1 x0 y0 r arcto 4{pop}repeat x0 y0 x1 y0 rarcto 4{pop}repeat cp}bd/RR{2 copy 0 eq exch 0 eq or{pop pop RRect}{2copy eq{pop RRCC}{m cm pop/y2 ed/x2 ed/ys y2 x2 div 1 max def/xs x2y2 div 1 max def/y1 exch ys div def/x1 exch xs div def/y0 exch ys divdef/x0 exch xs div def/r2 x2 y2 min def xs ys scale x0 r2 add y0 Mx1 y0 x1 y1 r2 arcto 4{pop}repeat x1 y1 x0 y1 r2 arcto 4{pop}repeatx0 y1 x0 y0 r2 arcto 4{pop}repeat x0 y0 x1 y0 r2 arcto 4{pop}repeatm sm cp}ifelse}ifelse}bd/PP{{rlt}repeat}bd/OB{gs sc B fill gr}bd/B{M/dyed/dx ed dx 0 rlt 0 dy rlt dx neg 0 rlt cp}bd/CB{B clip n}bdstatusdict begin 0 setjobtimeout endstatusdict begin statusdict /jobname (Windows Draw - SEMIAFT.DRW) put endSS1 33 60 3300 2550 300 SM255 255 255 fC/fm 256 def3230 2426 0 0 B1 Fn0 lc0 lj0 0 0 pC0 1 SP1199 1505 1925 388 BSn0 0 0 fC32 0 0 99 100 0 0 90 /Times-Roman /font32 ANSIFont font2306 1995 438 (TOSPACE) SB1 lc1 lj10433 ml0 3 SP1196 1502 120 388 BSn1489 229 268 (ROOT) SB1535 341 175 (SET) SB0 16 SP149 150 1549 541 BSn149 149 1549 692 BSn149 149 1549 842 BSn149 150 1549 992 BSn128 128 128 pC2 16 SP300 149 421 692 BSn572 692 M 0 0 0 150 2 PPSn300 149 271 1143 BSn421 1143 M 0 0 0 150 2 PPSn149 149 873 1143 BSn450 149 572 1669 BSn722 1669 M 0 0 0 150 2 PPSn873 1669 M 0 0 0 150 2 PPSn0 0 0 pC0 16 SP149 149 1925 1744 BSn150 149 2075 1744 BSn149 149 2226 1744 BSn149 149 2376 1744 BSn150 149 2526 1744 BSn149 149 2677 1744 BSn150 149 2827 1744 BSn149 149 2978 1744 BSn425 1995 587 (FROMSPACE) SB128 128 128 pC2 16 SP1612 624 M -50 50 -137 44 -262 19 rct-126 -27 -330 -157 -486 -188 rct-157 -31 -244 -1 -318 19 rct-75 18 -131 37 -131 169 rctSn0 lc0 lj0 16 SP445 606 M -31 -62 -30 62 2 PPSn1 lc1 lj0 0 0 pC1629 624 M 236 0 222 152 198 338 rct-29 209 -99 316 -116 508 rct-15 188 26 263 165 263 rctSn0 lc0 lj1839 1702 M -62 31 62 31 2 PPSn1 lc1 lj128 128 128 pC2 16 SP488 776 M 0 39 0 90 -36 119 rct-36 27 -73 45 -108 67 rct-36 23 -72 80 -72 136 rctSn0 lc0 lj0 16 SP303 1061 M -31 -62 -31 62 2 PPSn1 lc1 lj2 16 SP637 776 M 0 56 39 124 78 135 rct47 14 59 12 98 34 rct39 23 58 80 58 153 rctSn0 lc0 lj0 16 SP902 1061 M -31 -62 -31 62 2 PPSn1 lc1 lj2 16 SP1631 1075 M -40 169 -107 186 -286 249 rct-182 60 -395 44 -571 83 rct-171 39 -209 66 -209 217 rctSn0 lc0 lj0 16 SP596 1587 M -31 -62 -31 62 2 PPSn1 lc1 lj0 0 0 pC1629 1075 M 95 -63 245 -82 412 -19 rct169 64 396 185 501 282 rct100 95 154 230 143 357 rctSn0 lc0 lj2719 1660 M -25 -65 -36 60 2 PPSn1 lc1 lj2008 1827 M 0 -133 -18 -219 19 -263 rct36 -44 139 -45 169 -19 rct37 31 37 94 37 150 rctSn0 lc0 lj2263 1658 M -31 -62 -30 62 2 PPSn1 lc1 lj2158 1827 M -6 -152 13 -218 75 -263 rct64 -44 142 -32 207 -19 rct63 12 100 75 94 150 rctSn0 lc0 lj2568 1660 M -25 -65 -36 60 2 PPSnEJ RSend%%EndDocument 225 1668 a endTexFig952 1668 acurrentpoint grestore moveto0 1662 a Fn(Figure)e(4:)k(Semispace)c(collector)g(after)g(garbage)f(collection.)0 1796 y(as)19 b(demanded)f(b)o(y)g(the)h(executing)g(program.)30 b(As)19 b(with)f(a)0 1846 y(mark-compact)e(collector,)k(the)f(abilit)o(y)e(to)h(allo)q(cate)g(from)0 1896 y(a)g(large,)h(con)o(tiguous)f(free)h(space)h(mak)o(es)d(allo)q(cation)g(sim-)0 1946 y(ple)e(and)f(fast,)h(m)o(uc)o(h)e(lik)o(e)h(allo)q(cating)f(on)i(a)f(stac)o(k;)h(there)h(is)01995 y(no)f(fragmen)o(tation)e(problem)h(when)i(allo)q(cating)d(ob)r(jects)k(of)0 2045 y(v)n(arious)c(sizes.)42 2096 y(When)i(the)g(running)g(program)f(demands)g(an)h(allo)q(cation)0 2145 y(that)9 b(will)f(not)i(\014t)f(in)g(the)h(un)o(used)g(area)g(of)e(the)i(curren)o(t)h(semis-)02195 y(pace,)h(the)h(program)d(is)h(stopp)q(ed)i(and)e(the)h(cop)o(ying)f(garbage)0 2245 y(collector)20 b(is)g(called)g(to)f(reclaim)g(space)i(\(hence)g(the)g(term)0 2295 y(\\stop-and-cop)o(y"\).)c(All)11b(of)h(the)h(liv)o(e)e(data)h(are)h(copied)f(from)0 2345 y(the)i(curren)o(t)h(semispace)e(\()p Fk(fr)n(omsp)n(ac)n(e)p Fn(\))h(to)f(the)h(other)g(semis-)02395 y(pace)19 b(\()p Fk(tosp)n(ac)n(e)p Fn(\).)34 b(Once)20b(the)f(cop)o(ying)f(is)h(completed,)g(the)0 2444 y(tospace)h(semispace)f(is)g(made)e(the)j(\\curren)o(t")g(semispace,)0 2494 y(and)g(program)e(execution)j(is)f(resumed.)36 b(Th)o(us)20 b(the)h(roles)0 2544 y(of)15b(the)h(t)o(w)o(o)f(spaces)h(are)g(rev)o(ersed)i(eac)o(h)d(time)f(the)i(garbage)0 2594 y(collector)e(is)g(in)o(v)o(ok)o(ed.)j(\(See)e(Fig.)e(4.\))1052 55 y(P)o(erhaps)21 b(the)f(simplest)f(form)f(of)h(cop)o(ying)f(tra)o(v)o(ersal)i(is)1011 105 y(the)25 b(Cheney)g(algorithm)c([Che70].)48b(The)25 b(imm)o(ediately-)1011 155 y(reac)o(hable)e(ob)r(jects)g(form)e(the)i(initial)e(queue)i(of)f(ob)r(jects)1011 205 y(for)16 b(a)g(breadth-\014rst)h(tra)o(v)o(ersal.)25 b(A)17 b(\\scan")f(p)q(oin)o(ter)g(is)g(ad-)1011255 y(v)n(anced)f(through)h(the)f(\014rst)h(ob)r(ject,)g(lo)q(cation)e(b)o(y)h(lo)q(cation.)1011 304 y(Eac)o(h)20 b(time)f(a)h(p)q(oin)o(ter)g(in)o(to)f(fromspace)h(is)f(encoun)o(tered,)1011 354 y(the)14 b(referred-to-ob)r(ject)h(is)e(transp)q(orted)i(to)e(the)h(end)g(of)e(the)1011 404 y(queue,)h(and)g(the)h(p)q(oin)o(ter)f(to)g(the)h(ob)r(ject)g(is)f(up)q(dated)h(to)e(re-)1011454 y(fer)g(to)f(the)i(new)f(cop)o(y)m(.)k(The)d(free)f(p)q(oin)o(ter)g(is)f(then)i(adv)n(anced)1011 504 y(and)19 b(the)i(scan)f(con)o(tin)o(ues.)36b(This)20 b(e\013ects)i(the)e(\\no)q(de)g(ex-)1011 553 y(pansion")11b(for)h(the)h(breadth-\014rst)h(tra)o(v)o(ersal,)e(reac)o(hing)h(\(and)1011603 y(cop)o(ying\))20 b(all)f(of)g(the)i(descendan)o(ts)i(of)d(that)g(no)q(de.)38 b(\(See)1011 653 y(Fig.)18 b(5.)34 b(Reac)o(hable)19b(data)g(structures)i(in)e(fromspace)g(are)1011 703 y(sho)o(wn)f(at)f(the)i(top)e(of)h(the)g(\014gure,)h(follo)o(w)o(ed)d(b)o(y)i(the)g(\014rst)1011753 y(sev)o(eral)e(states)i(of)d(tospace)i(as)f(the)h(collection)e(pro)q(ceeds|)1011 802 y(tospace)f(is)g(sho)o(wn)f(in)g(linear)h(address)h(order)f(to)f(emphasize)1011 852 y(the)h(linear)g(scanning)g(and)f(cop)o(ying.\))1052904 y(Rather)h(than)f(stopping)g(at)g(the)h(end)g(of)f(the)h(\014rst)g(ob)r(ject,)1011 953 y(the)20 b(scanning)f(pro)q(cess)j(simply)17b(con)o(tin)o(ues)j(through)g(sub-)1011 1003 y(sequen)o(t)h(ob)r(jects,)h(\014nding)e(their)h(o\013spring)f(and)g(cop)o(ying)1011 1053y(them)15 b(as)h(w)o(ell.)23 b(A)16 b(con)o(tin)o(uous)g(scan)h(from)d(the)j(b)q(eginning)1011 1103 y(of)i(the)g(queue)i(has)e(the)h(e\013ect)h(of)e(remo)o(ving)f(consecutiv)o(e)1011 1153 y(no)q(des)d(and)f(\014nding)f(all)g(of)g(their)i(o\013spring.)j(The)d(o\013spring)1011 1202 y(are)k(copied)f(to)h(the)g(end)g(of)f(the)h(queue.)33 b(Ev)o(en)o(tually)17 b(the)10111252 y(scan)f(reac)o(hes)g(the)g(end)g(of)f(the)h(queue,)g(signifying)d(that)i(all)1011 1302 y(of)k(the)h(ob)r(jects)h(that)e(ha)o(v)o(e)h(b)q(een)g(reac)o(hed)h(\(and)f(copied\))1011 1352 y(ha)o(v)o(e)15 b(also)h(b)q(een)h(scanned)g(for)e(descendan)o(ts.)26 b(This)16 b(means)10111402 y(that)c(there)h(are)f(no)g(more)f(reac)o(hable)i(ob)r(jects)g(to)f(b)q(e)g(copied,)1011 1451 y(and)h(the)i(sca)o(v)o(enging)f(pro)q(cess)h(is)f(\014nished.)1052 1503 y(Actually)m(,)d(a)g(sligh)o(tly)e(more)i(complex)f(pro)q(cess)j(is)e(needed,)1011 1552 y(so)h(that)h(ob)r(jects)g(that)g(are)g(reac)o(hed)g(b)o(y)g(m)o(ultiple)d(paths)j(are)1011 1602 y(not)18b(copied)g(to)g(tospace)h(m)o(ultiple)d(times.)29 b(When)19b(an)e(ob-)1011 1652 y(ject)e(is)f(transp)q(orted)h(to)f(tospace,)h(a)fFk(forwar)n(ding)g(p)n(ointer)g Fn(is)1011 1702 y(installed)19b(in)g(the)h(old)f(v)o(ersion)h(of)f(the)h(ob)r(ject.)36 b(The)20b(for-)1011 1752 y(w)o(arding)15 b(p)q(oin)o(ter)i(signi\014es)g(that)f(the)h(old)f(ob)r(ject)h(is)f(obso-)1011 1802 y(lete)h(and)f(indicates)g(where)i(to)e(\014nd)h(the)g(new)f(cop)o(y)h(of)e(the)1011 1851 y(ob)r(ject.)37b(When)21 b(the)f(scanning)g(pro)q(cess)i(\014nds)f(a)f(p)q(oin)o(ter)10111901 y(in)o(to)c(fromspace,)i(the)g(ob)r(ject)g(it)f(refers)i(to)e(is)h(c)o(hec)o(k)o(ed)g(for)1011 1951 y(a)i(forw)o(arding)f(p)q(oin)o(ter.)39b(If)20 b(it)g(has)h(one,)g(it)g(has)f(already)1011 2001 y(b)q(een)13b(mo)o(v)o(ed)d(to)i(tospace,)h(so)f(the)h(p)q(oin)o(ter)f(b)o(y)g(whic)o(h)f(it)h(w)o(as)1011 2051 y(reac)o(hed)20 b(is)e(simply)e(up)q(dated)j(to)g(p)q(oin)o(t)f(to)g(its)h(new)g(lo)q(ca-)1011 2100 y(tion.)e(This)12b(ensures)i(that)f(eac)o(h)g(liv)o(e)e(ob)r(ject)i(is)g(transp)q(orted)10112150 y(exactly)k(once,)h(and)f(that)g(all)f(p)q(oin)o(ters)h(to)g(the)h(ob)r(ject)g(are)1011 2200 y(up)q(dated)c(to)g(refer)h(to)f(the)g(new)h(cop)o(y)m(.)1011 2315 y Fm(2.4.2)48 b(E\016ciency)15 b(of)g(Cop)o(ying)g(Collection.)1011 2395 y Fn(A)9 b(cop)o(ying)g(garbage)g(collector)g(can)h(b)q(e)g(made)e(arbitrarily)g(ef-)1011 2444 y(\014cien)o(t)j(if)f(su\016cien)o(t)h(memory)d(is)j(a)o(v)n(ailable)d([Lar77)o(,)i(App87].)1011 2494 y(The)19b(w)o(ork)f(done)h(at)f(eac)o(h)h(collection)f(is)h(prop)q(ortional)e(to)10112544 y(the)d(amoun)o(t)e(of)h(liv)o(e)g(data)g(at)g(the)h(time)f(of)g(garbage)g(collec-)1011 2594 y(tion.)18 b(Assuming)12 b(that)j(appro)o(ximately)c(the)k(same)e(amoun)o(t)969 2718 y(11)p eop%%Page: 12 12bop 99 127 a 28133378 37136055 920944 592035 39271710 51572899 startTexFig99 127 a%%BeginDocument: cheney.ps/Win33Dict 290 dict def Win33Dict begin/bd{bind def}bind def/in{72mul}bd/ed{exch def}bd/ld{load def}bd/tr/translate ld/gs/gsave ld/gr/grestoreld/M/moveto ld/L/lineto ld/rmt/rmoveto ld/rlt/rlineto ld/rct/rcurvetold/st/stroke ld/n/newpath ld/sm/setmatrix ld/cm/currentmatrix ld/cp/closepathld/ARC/arcn ld/TR{65536 div}bd/lj/setlinejoin ld/lc/setlinecap ld/ml/setmiterlimitld/sl/setlinewidth ld/scignore false def/sc{scignore{pop pop pop}{0index 2 index eq 2 index 4 index eq and{pop pop 255 div setgray}{3{255div 3 1 roll}repeat setrgbcolor}ifelse}ifelse}bd/FC{bR bG bB sc}bd/fC{/bBed/bG ed/bR ed}bd/HC{hR hG hB sc}bd/hC{/hB ed/hG ed/hR ed}bd/PC{pRpG pB sc}bd/pC{/pB ed/pG ed/pR ed}bd/sM matrix def/PenW 1 def/iPen5 def/mxF matrix def/mxE matrix def/fBE false def/iDevRes 72 0 matrixdefaultmatrix dtransform dup mul exch dup mul add sqrt def/SS{/SV savedef}bd/RS{SV restore}bd/EJ{gsave showpage grestore}bd/#C{userdict begin/#copiesed end}bd/SM{/iRes ed/cyP exch def/cxP exch def/cyM exch def/cxM exchdef 72 iRes div dup neg scale 0 ne{cyP cxP neg tr 90 rotate cxM cyM}{cxMcyM cyP sub}ifelse tr 0 0 transform .25 add round .25 sub exch .25add round .25 sub exch itransform translate}bd/SJ{1 index 0 eq{poppop/fBE false def}{1 index/Break ed div/dxBreak ed/fBE true def}ifelse}bd/ANSIVec[16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde 16#4/macron 16#5/breve16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A/hungarumlaut16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60/grave16#7C/bar 16#91/quoteleft 16#92/quoteright 16#93/quotedblleft 16#94/quotedblright16#95/bullet 16#96/endash 16#97/emdash 16#A0/space 16#A4/currency 16#A6/brokenbar16#A7/section 16#A8/dieresis 16#A9/copyright 16#AA/ordfeminine 16#AB/guillemotleft16#AC/logicalnot 16#AD/hyphen 16#AE/registered 16#AF/macron 16#B0/degree16#B1/plusminus 16#B2/twosuperior 16#B3/threesuperior 16#B4/acute 16#B5/mu16#B6/paragraph 16#B7/periodcentered 16#B8/cedilla 16#B9/onesuperior16#BA/ordmasculine 16#BB/guillemotright 16#BC/onequarter 16#BD/onehalf16#BE/threequarters 16#BF/questiondown 16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex16#C3/Atilde 16#C4/Adieresis 16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave16#C9/Eacute 16#CA/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute16#CE/Icircumflex 16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve16#D3/Oacute 16#D4/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply16#D8/Oslash 16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis16#DD/Yacute 16#DE/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute16#E2/acircumflex 16#E3/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae16#E7/ccedilla 16#E8/egrave 16#E9/eacute 16#EA/ecircumflex 16#EB/edieresis16#EC/igrave 16#ED/iacute 16#EE/icircumflex 16#EF/idieresis 16#F0/eth16#F1/ntilde 16#F2/ograve 16#F3/oacute 16#F4/ocircumflex 16#F5/otilde16#F6/odieresis 16#F7/divide 16#F8/oslash 16#F9/ugrave 16#FA/uacute16#FB/ucircumflex 16#FC/udieresis 16#FD/yacute 16#FE/thorn 16#FF/ydieresis] def/reencdict 12 dict def/IsChar{basefontdict/CharStrings get exchknown}bd/MapCh{dup IsChar not{pop/bullet}if newfont/Encoding get 31 roll put}bd/MapDegree{16#b0/degree IsChar{/degree}{/ring}ifelse MapCh}bd/MapBB{16#a6/brokenbarIsChar{/brokenbar}{/bar}ifelse MapCh}bd/ANSIFont{reencdict begin/newfontnameed/basefontname ed FontDirectory newfontname known not{/basefontdictbasefontname findfont def/newfont basefontdict maxlength dict def basefontdict{exchdup/FID ne{dup/Encoding eq{exch dup length array copy newfont 3 1 rollput}{exch newfont 3 1 roll put}ifelse}{pop pop}ifelse}forall newfont/FontNamenewfontname put 127 1 159{newfont/Encoding get exch/bullet put}forANSIVec aload pop ANSIVec length 2 idiv{MapCh}repeat MapDegree MapBBnewfontname newfont definefont pop}if newfontname end}bd/SB{FC/stred str length fBE not{dup 1 gt{1 sub}if}if/cbStr ed/dxGdi ed/y0 ed/x0ed str stringwidth esc 0 ne{mxE itransform exch neg dxGdi add cbStrdiv exch mxE transform}{exch neg dxGdi add cbStr div exch}ifelse/dyExtraed/dxExtra ed x0 y0 M fBE{dxBreak 0 BCh dxExtra dyExtra str awidthshow}{dxExtradyExtra str ashow}ifelse fUL{x0 y0 M dxUL dyUL rmt dxGdi fBE{Breakadd}if 0 mxE transform rlt cyUL sl st}if fSO{x0 y0 M dxSO dySO rmtdxGdi fBE{Break add}if 0 mxE transform rlt cyUL sl st}if n/fBE falsedef}bd/font{/name ed/Ascent ed 0 ne/fSO ed 0 ne/fUL ed/Sy ed/Sx ed10.0 div/ori ed -10.0 div/esc ed/BCh ed name findfont [Sx 0 0 Sy neg0 Ascent] esc mxE rotate mxF concatmatrix makefont setfont fUL{currentfontdup/FontInfo get/UnderlinePosition known not{pop/Courier findfont}if/FontInfoget/UnderlinePosition get 1000 div 0 exch mxF transform/dyUL ed/dxULed}if fSO{0 .3 mxF transform/dySO ed/dxSO ed}if fUL fSO or{currentfontdup/FontInfo get/UnderlineThickness known not{pop/Courier findfont}if/FontInfoget/UnderlineThickness get 1000 div Sy mul/cyUL ed}if}bd/min{2 copygt{exch}if pop}bd/max{2 copy lt{exch}if pop}bd/CP{/ft ed{{ft 0 eq{clip}{eoclip}ifelse}stopped{currentflat1 add setflat}{exit}ifelse}loop}bd/patfont 10 dict def patfont begin/FontType3 def/FontMatrix [1 0 0 1 0 0] def/FontBBox [0 0 32 32] def/EncodingStandardEncoding def/BuildChar{pop pop 32 0 0 0 32 32 setcachedevice2 2 scale 16 16 false [1 0 0 1 .25 .25]{pat}imagemask}bd end/p{/pat32 string def{}forall 0 1 7{dup 2 mul pat exch 3 index put dup 2 mul1 add pat exch 3 index put dup 2 mul 16 add pat exch 3 index put 2mul 17 add pat exch 2 index put pop}for}bd/pfill{/PatFont patfont definefontsetfont/ch(AAAA)def X0 128 X1{Y0 32 Y1{1 index exch M ch show}for pop}for}bd/vert{X0w X1{dup Y0 M Y1 L st}for}bd/horz{Y0 w Y1{dup X0 exch M X1 exch L st}for}bd/fdiag{X0w X1{Y0 M X1 X0 sub dup rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub duprlt st}for}bd/bdiag{X0 w X1{Y1 M X1 X0 sub dup neg rlt st}for Y0 wY1{X0 exch M Y1 Y0 sub dup neg rlt st}for}bd/AU{1 add cvi 15 or}bd/AD{1sub cvi -16 and}bd/SHR{pathbbox AU/Y1 ed AU/X1 ed AD/Y0 ed AD/X0 ed}bd/hfill{2sl [] 0 setdash n/w iRes 20 div 8 div round 8 mul def dup 0 eq{horz}ifdup 1 eq{vert}if dup 2 eq{fdiag}if dup 3 eq{bdiag}if dup 4 eq{horzvert}if 5 eq{fdiag bdiag}if}bd/F{/ft ed fm 256 and 0 ne{gs FC ft 0eq{fill}{eofill}ifelse gr}if fm 1536 and 0 ne{SHR gs HC ft CP fm 1024and 0 ne{/Tmp save def pfill Tmp restore}{fm 15 and hfill}ifelse gr}if}bd/S{PenWsl PC st}bd/m matrix def/GW{iRes 12 div PenW add cvi}bd/DoW{iRes 50div PenW add cvi}bd/DW{iRes 8 div PenW add cvi}bd/SP{/PenW ed/iPened iPen 0 eq{[] 0 setdash}if iPen 1 eq{[DW GW] 0 setdash}if iPen 2eq{[DoW GW] 0 setdash}if iPen 3 eq{[DW GW DoW GW] 0 setdash}if iPen4 eq{[DW GW DoW GW DoW GW] 0 setdash}if}bd/E{m cm pop tr scale 0 01 0 360 arc cp m sm}bd/AG{/sy ed/sx ed sx div 4 1 roll sy div 4 1 rollsx div 4 1 roll sy div 4 1 roll atan/a2 ed atan/a1 ed sx sy scale a1a2 ARC}def/A{m cm pop tr AG m sm}def/P{m cm pop tr 0 0 M AG cp m sm}def/RRect{n4 copy M 3 1 roll exch L 4 2 roll L L cp}bd/RRCC{/r ed/y1 ed/x1 ed/y0ed/x0 ed x0 r add y0 M x1 y0 x1 y1 r arcto 4{pop}repeat x1 y1 x0 y1r arcto 4{pop}repeat x0 y1 x0 y0 r arcto 4{pop}repeat x0 y0 x1 y0 rarcto 4{pop}repeat cp}bd/RR{2 copy 0 eq exch 0 eq or{pop pop RRect}{2copy eq{pop RRCC}{m cm pop/y2 ed/x2 ed/ys y2 x2 div 1 max def/xs x2y2 div 1 max def/y1 exch ys div def/x1 exch xs div def/y0 exch ys divdef/x0 exch xs div def/r2 x2 y2 min def xs ys scale x0 r2 add y0 Mx1 y0 x1 y1 r2 arcto 4{pop}repeat x1 y1 x0 y1 r2 arcto 4{pop}repeatx0 y1 x0 y0 r2 arcto 4{pop}repeat x0 y0 x1 y0 r2 arcto 4{pop}repeatm sm cp}ifelse}ifelse}bd/PP{{rlt}repeat}bd/OB{gs sc B fill gr}bd/B{M/dyed/dx ed dx 0 rlt 0 dy rlt dx neg 0 rlt cp}bd/CB{B clip n}bdstatusdict begin 0 setjobtimeout endstatusdict begin statusdict /jobname (Windows Draw - CHENEY.DRW) put endSS0 60 33 2550 3300 300 SM255 255 255 fC/fm 256 def2426 3230 0 0 B1 Fn0 0 0 fC32 0 0 50 48 0 0 43 /Times-Roman /font32 ANSIFont font442 2163 36 (A) SB652 2161 33 (B) SB1 lc1 lj10433 ml0 0 0 pC0 10 SP562 2176 M 0 0 0 44 2 PPSn0 lc0 lj547 2191 M 15 31 15 -31 2 PPSn562 2230 28 (S) SB589 2230 22 (c) SB611 2230 22 (a) SB632 2230 25 (n) SB1 lc1 lj1181 2176 M 0 0 0 44 2 PPSn0 lc0 lj1166 2191 M 15 31 15 -31 2 PPSn1095 2230 28 (F) SB1122 2230 17 (r) SB1139 2230 22 (e) SB1160 2230 22 (e) SB1 lc1 lj0 7 SP255 255 255 fC0 0 0 hC/fm 1280 def<2211884422118844> p96.5 96.5 459 2054 B1 FSn96.5 96.5 362 2054 B1 FSn0 0 0 fC858 2161 33 (C) SB255 255 255 fC<ddff77ffddff77ff> p96.5 96.5 666 2054 B1 FSn96.5 96.5 569 2054 B1 FSn<fdffdffffdffdfff> p96.5 96.5 872 2054 B1 FSn96.5 96.5 775 2054 B1 FSn0 0 0 fC270 2832 25 (v) SB294 2832 17 (\)) SB947 499 M 0 0 91 225 2 PPSn0 lc0 lj1044 708 M -20 -18 -2 26 2 PPSn1 lc1 lj850 499 M 0 0 -328 231 2 PPSn0 lc0 lj539 732 M 13 -23 -26 4 2 PPSn1 lc1 lj1485 255 M 0 0 361 -47 2 PPSn0 lc0 lj1832 198 M -22 14 25 9 2 PPSn1 lc1 lj1093 791 M 0 0 -134 176 2 PPSn0 lc0 lj976 964 M 5 -26 -23 12 2 PPSn1 lc1 lj1190 791 M 0 0 49 176 2 PPSn0 lc0 lj1247 951 M -18 -20 -5 27 2 PPSn1 lc1 lj559 791 M 0 0 -134 176 2 PPSn0 lc0 lj442 964 M 5 -26 -23 12 2 PPSn1 lc1 lj656 791 M 0 0 42 176 2 PPSn0 lc0 lj707 952 M -17 -21 -6 26 2 PPSn1 lc1 lj316 305 M 0 0 467 140 2 PPSn0 lc0 lj774 430 M -26 5 20 18 2 PPSn1 lc1 lj316 208 M 0 0 996 0 2 PPSn0 lc0 lj1299 196 M -24 12 24 12 2 PPSn1 lc1 lj1384 256 M 0 0 0 219 2 PPSn0 lc0 lj1396 462 M -12 -24 -12 24 2 PPSn1 lc1 lj1919 256 M 0 0 -6 219 2 PPSn0 lc0 lj1925 462 M -11 -24 -12 24 2 PPSn442 1386 36 (A) SB644 648 33 (C) SB1138 635 36 (D) SB1493 436 31 (E) SB1915 151 28 (F) SB652 1384 33 (B) SB1 lc1 lj0 10 SP362 1399 M 0 0 0 43 2 PPSn0 lc0 lj347 1414 M 15 31 15 -31 2 PPSn362 1453 28 (S) SB389 1453 22 (c) SB411 1453 22 (a) SB432 1453 25 (n) SB1 lc1 lj768 1399 M 0 0 0 43 2 PPSn0 lc0 lj753 1414 M 15 31 15 -31 2 PPSn682 1453 28 (F) SB709 1453 17 (r) SB726 1453 22 (e) SB747 1453 22 (e) SB885 392 36 (A) SB1417 151 33 (B) SB238 383 33 (R) SB270 383 36 (O) SB305 383 36 (O) SB340 383 31 (T) SB370 383 13 ( ) SB261 437 28 (S) SB288 437 31 (E) SB317 437 31 (T) SB266 1279 14 (i) SB279 1279 17 (\)) SB266 1664 14 (i) SB279 1664 14 (i) SB292 1664 17 (\)) SB266 2054 14 (i) SB279 2054 14 (i) SB292 2054 14 (i) SB306 2054 17 (\)) SB266 2441 14 (i) SB279 2441 25 (v) SB303 2441 17 (\)) SB1 lc1 lj0 7 SP96 96 267 159 BSn96 96 267 256 BSn96 96 899 451 BSn96 96 802 451 BSn96 96 1336 208 BSn96 96 1433 208 BSn97 96 1384 499 BSn96 96 1482 499 BSn96 96 1579 499 BSn96 96 1870 208 BSn97 96 1967 208 BSn96 96 2065 208 BSn96 96 1919 499 BSn96 96 2016 499 BSn96 96 2113 499 BSn96 96 1142 742 BSn97 96 1044 742 BSn96 96 510 985 BSn96 96 413 985 BSn96 96 802 985 BSn97 96 704 985 BSn96 96 607 742 BSn96 96 510 742 BSn97 96 1044 985 BSn96 96 947 985 BSn96 96 1336 985 BSn96 96 1239 985 BSn255 255 255 fC0 0 0 hC/fm 1280 def<fdffdffffdffdfff> p96.5 97.5 459 1276 B1 FSn96.5 97.5 362 1276 B1 FSn0 0 0 fC387 1774 36 (A) SB652 1773 33 (B) SB0 10 SP459 1787 M 0 0 0 44 2 PPSn0 lc0 lj444 1802 M 15 31 15 -31 2 PPSn459 1842 28 (S) SB486 1842 22 (c) SB508 1842 22 (a) SB529 1842 25 (n) SB1 lc1 lj975 1787 M 0 0 0 44 2 PPSn0 lc0 lj960 1802 M 15 31 15 -31 2 PPSn888 1842 28 (F) SB915 1842 17 (r) SB931 1842 22 (e) SB953 1842 22 (e) SB1 lc1 lj0 7 SP255 255 255 fC96.5 96.5 459 1665 B1 FSn<2211884422118844> p96.5 96.5 362 1665 B1 FSn0 0 0 fC858 1773 33 (C) SB255 255 255 fC<fdffdffffdffdfff> p96.5 97.5 666 1276 B1 FSn96.5 97.5 569 1276 B1 FSn96.5 96.5 666 1665 B1 FSn96.5 96.5 569 1665 B1 FSn96.5 96.5 872 1665 B1 FSn96.5 96.5 775 1665 B1 FSn0 0 0 fC1065 2161 36 (D) SB255 255 255 fC96.5 96.5 1079 2054 B1 FSn97.5 96.5 981 2054 B1 FSn0 0 0 fC442 2551 36 (A) SB603 2550 33 (B) SB0 10 SP666 2564 M 0 0 0 44 2 PPSn0 lc0 lj651 2579 M 15 31 15 -31 2 PPSn666 2619 28 (S) SB693 2619 22 (c) SB714 2619 22 (a) SB736 2619 25 (n) SB1 lc1 lj1485 2564 M 0 0 0 44 2 PPSn0 lc0 lj1470 2579 M 15 31 15 -31 2 PPSn1398 2619 28 (F) SB1425 2619 17 (r) SB1442 2619 22 (e) SB1463 2619 22 (e) SB1 lc1 lj0 7 SP255 255 255 fC<2211884422118844> p96.5 96.5 459 2442 B1 FSn96.5 96.5 362 2442 B1 FSn0 0 0 fC858 2550 33 (C) SB255 255 255 fC<fdffdffffdffdfff> p96.5 96.5 872 2442 B1 FSn96.5 96.5 775 2442 B1 FSn0 0 0 fC1065 2550 36 (D) SB255 255 255 fC96.5 96.5 1079 2442 B1 FSn97.5 96.5 981 2442 B1 FSn96.5 96.5 666 2442 B1 FSn<2211884422118844> p96.5 96.5 569 2442 B1 FSn<fdffdffffdffdfff> p96.5 96.5 1285 2442 B1 FSn96.5 96.5 1188 2442 B1 FSn96.5 96.5 1382 2442 B1 FSn0 0 0 fC1320 2550 31 (E) SB448 2940 36 (A) SB656 2939 33 (B) SB0 10 SP769 2953 M 0 0 0 44 2 PPSn0 lc0 lj754 2968 M 15 31 15 -31 2 PPSn769 3007 28 (S) SB796 3007 22 (c) SB818 3007 22 (a) SB839 3007 25 (n) SB1 lc1 lj1795 2953 M 0 0 0 44 2 PPSn0 lc0 lj1780 2968 M 15 31 15 -31 2 PPSn1708 3007 28 (F) SB1735 3007 17 (r) SB1752 3007 22 (e) SB1773 3007 22 (e) SB1 lc1 lj0 7 SP255 255 255 fC<2211884422118844> p96.5 96.5 465 2831 B1 FSn96.5 96.5 368 2831 B1 FSn0 0 0 fC864 2939 33 (C) SB255 255 255 fC<fdffdffffdffdfff> p96.5 96.5 878 2831 B1 FSn96.5 96.5 781 2831 B1 FSn0 0 0 fC1071 2939 36 (D) SB255 255 255 fC96.5 96.5 1085 2831 B1 FSn96.5 96.5 988 2831 B1 FSn<2211884422118844> p96.5 96.5 672 2831 B1 FSn96.5 96.5 575 2831 B1 FSn<fdffdffffdffdfff> p96.5 96.5 1291 2831 B1 FSn96.5 96.5 1194 2831 B1 FSn96.5 96.5 1388 2831 B1 FSn0 0 0 fC1326 2939 31 (E) SB1630 2939 28 (F) SB255 255 255 fC96.5 96.5 1595 2831 B1 FSn96.5 96.5 1498 2831 B1 FSn96.5 96.5 1692 2831 B1 FSn96.5 96.5 672 2054 B1 FSn96.5 96.5 575 2054 B1 FSn409 1711 M 0 -92 54 -127 90 -142 rct71 -30 171 -24 218 11 rct25 19 38 28 49 65 rctSn0 lc0 lj774 1630 M -18 -20 -5 26 2 PPSn1 lc1 lj415 2100 M 0 -92 54 -127 90 -143 rct71 -29 171 -23 218 12 rct25 18 38 27 50 64 rctSn0 lc0 lj780 2017 M -18 -18 -4 26 2 PPSn1 lc1 lj512 2100 M -1 -92 70 -127 116 -143 rct91 -30 220 -24 280 11 rct33 19 50 28 65 65 rctSn0 lc0 lj979 2017 M -20 -17 -2 26 2 PPSn1 lc1 lj415 2488 M 0 -92 54 -127 90 -142 rct71 -29 171 -24 218 11 rct25 19 38 28 50 65 rctSn0 lc0 lj780 2406 M -18 -18 -4 26 2 PPSn1 lc1 lj512 2488 M -1 -92 70 -127 116 -142 rct91 -30 220 -24 280 11 rct33 19 50 28 65 65 rctSn0 lc0 lj979 2406 M -20 -17 -2 26 2 PPSn1 lc1 lj616 2488 M -1 -92 85 -127 141 -142 rct112 -30 269 -24 343 11 rct40 19 60 28 79 65 rctSn0 lc0 lj1184 2405 M -21 -16 0 27 2 PPSn1 lc1 lj415 2877 M 0 -92 54 -127 90 -142 rct71 -30 171 -24 218 11 rct25 18 38 28 50 64 rctSn0 lc0 lj780 2794 M -18 -18 -4 26 2 PPSn1 lc1 lj512 2877 M -1 -92 70 -127 116 -142 rct91 -30 220 -24 280 11 rct33 19 50 28 65 65 rctSn0 lc0 lj979 2795 M -20 -18 -2 26 2 PPSn1 lc1 lj622 2877 M -1 -92 85 -127 141 -142 rct112 -30 269 -24 343 11 rct40 19 60 28 79 65 rctSn0 lc0 lj1190 2794 M -21 -16 0 27 2 PPSn1 lc1 lj719 2877 M -1 -92 116 -127 192 -142 rct151 -30 365 -24 465 11 rct55 19 81 28 107 65 rctSn0 lc0 lj1485 2793 M -23 -13 4 27 2 PPSnEJ RSend%%EndDocument 99 127 a endTexFig478 2472 a Fn(Figure)14 b(5:)k(The)c(Cheney)h(algorithm's)c(breadth-\014rst)16 b(cop)o(ying.)969 2718 y(12)p eop%%Page: 13 13bop 0 55 a Fn(of)13 b(data)g(is)g(liv)o(e)f(at)h(an)o(y)g(giv)o(en)g(time)f(during)h(the)h(program's)0 105 y(execution,)g(decreasing)g(the)g(frequency)h(of)d(garbage)h(collec-)0 155 y(tions)f(will)f(decrease)k(the)e(total)f(amoun)o(t)e(of)i(garbage)g(collec-)0 205 y(tion)h(e\013ort.)42255 y(A)h(simple)g(w)o(a)o(y)g(to)g(decrease)j(the)e(frequency)h(of)e(garbage)0 305 y(collections)e(is)g(to)f(increase)j(the)e(amoun)o(t)e(of)i(memory)d(in)j(the)0 355 y(heap.)17 b(If)10 b(eac)o(h)h(semispace)f(is)g(bigger,)h(the)f(program)f(will)g(run)0 404 y(longer)j(b)q(efore)i(\014lling)d(it.)17 b(Another)d(w)o(a)o(y)e(of)g(lo)q(oking)f(at)h(this)0454 y(is)i(that)h(b)o(y)f(decreasing)i(the)f(frequency)g(of)f(garbage)g(collec-)0 504 y(tions,)h(w)o(e)g(are)h(increasing)f(the)h(a)o(v)o(erage)f(age)g(of)f(ob)r(jects)i(at)0 554 y(garbage)11 b(collection)g(time.)16b(Ob)r(jects)d(that)e(b)q(ecome)g(garbage)0 604 y(b)q(efore)17b(a)e(garbage)h(collection)g(needn't)h(b)q(e)f(copied,)h(so)f(the)0653 y(c)o(hance)g(that)f(an)g(ob)r(ject)g(will)f Fk(never)hFn(ha)o(v)o(e)g(to)g(b)q(e)g(copied)g(is)0 703 y(increased.)42754 y(Supp)q(ose,)k(for)f(example,)f(that)h(during)g(a)f(program)g(run)0803 y(t)o(w)o(en)o(t)o(y)f(megab)o(ytes)f(of)g(memory)e(are)j(allo)q(cated,)f(but)h(only)0 853 y(one)j(megab)o(yte)e(is)i(liv)o(e)e(at)i(an)o(y)f(giv)o(en)g(time.)30 b(If)19 b(w)o(e)f(ha)o(v)o(e)0 903 y(t)o(w)o(o)f(three-megab)o(yte)h(semispaces,)h(garbage)e(will)f(b)q(e)j(col-)0 953 y(lected)d(ab)q(out)g(ten)g(times.)21 b(\(Since)16 b(the)g(curren)o(t)h(semispace)01003 y(is)22 b(one)g(third)f(full)g(after)h(a)f(collection,)i(that)f(lea)o(v)o(es)g(t)o(w)o(o)0 1052 y(megab)o(ytes)15 b(that)g(can)h(b)q(e)g(allo)q(cated)f(b)q(efore)i(the)f(next)g(col-)0 1102 y(lection.\))j(This)14b(means)f(that)h(the)h(system)f(will)e(cop)o(y)i(ab)q(out)01152 y(half)f(as)h(m)o(uc)o(h)f(data)g(as)h(it)g(allo)q(cates,)f(as)h(sho)o(wn)g(in)g(the)g(top)0 1202 y(part)i(of)g(Fig.)f(6.)24 b(\(Arro)o(ws)17b(represen)o(t)h(cop)o(ying)e(of)f(liv)o(e)h(ob-)0 1252 y(jects)f(b)q(et)o(w)o(een)g(semispaces)f(at)g(garbage)g(collections.\))42 1302y(On)i(the)g(other)h(hand,)e(if)g(the)i(size)f(of)g(the)g(semispaces)g(is)01352 y(doubled,)11 b(5)f(megab)o(ytes)g(of)g(free)i(space)g(will)d(b)q(e)i(a)o(v)n(ailable)e(af-)0 1402 y(ter)14 b(eac)o(h)g(collection.)j(This)c(will)f(force)h(garbage)g(collections)0 1451 y(a)f(third)h(as)g(often,)f(or)h(ab)q(out)g(3)f(or)h(4)f(times)g(during)g(the)h(run.)0 1501 y(This)e(straigh)o(tforw)o(ardly)e(reduces)k(the)e(cost)g(of)f(garbage)h(col-)01551 y(lection)f(b)o(y)g(more)f(than)i(half,)e(as)h(sho)o(wn)h(in)e(the)i(b)q(ottom)e(part)0 1601 y(of)i(Fig.)g(6.)18 b(\(F)m(or)11 b(the)i(momen)o(t,)c(w)o(e)k(ignore)e(virtual)h(memory)0 1651 y(paging)i(costs,)i(assuming)e(that)h(the)h(larger)f(heap)h(area)f(can)0 1700 y(b)q(e)h(cac)o(hed)f(in)g(RAM)f(rather)i(than)f(paged)g(to)g(disk.)21 b(As)15 b(w)o(e)01750 y(will)g(explain)h(in)h(Sect.)g(2.7,)f(paging)g(costs)h(ma)o(y)e(mak)o(e)h(the)0 1800 y(use)g(of)e(a)h(larger)f(heap)i(area)f(impractical)e(if)h(there)i(is)f(not)f(a)0 1850 y(corresp)q(ondingly)g(large)g(amoun)o(t)e(of)h(RAM.\))0 1968 y Fi(2.5)56 b(Non-Cop)n(ying)18 b(Implicit)e(Collection)02046 y Fn(Recen)o(tly)m(,)11 b(W)m(ang)e([W)m(an89)n(])h(and)g(Bak)o(er)h([Bak91b)o(])f(ha)o(v)o(e)h(\(in-)0 2096 y(dep)q(enden)o(tly\))i(prop)q(osed)f(a)g(new)g(kind)f(of)g(non-cop)o(ying)g(col-)0 2145 y(lector)g(with)f(some)f(of)g(the)i(e\016ciency)g(adv)n(an)o(tages)f(of)g(a)f(cop)o(y-)02195 y(ing)g(sc)o(heme.)16 b(Their)10 b(insigh)o(t)f(is)g(that)h(in)f(a)g(cop)o(ying)f(collector,)0 2245 y(the)j(\\spaces")g(of)e(the)i(collector)f(are)h(really)e(just)i(a)e(particular)0 2295 y(implemen)o(tatio)o(n)k(of)i(sets.)24 b(The)16 b(tracing)f(pro)q(cess)j(remo)o(v)o(es)02345 y(ob)r(jects)13 b(from)c(the)j(set)g(sub)r(ject)h(to)e(garbage)g(collection,)g(and)0 2395 y(when)17 b(tracing)f(is)h(complete,)f(an)o(ything)f(remaining)g(in)h(the)0 2444 y(set)c(is)e(kno)o(wn)g(to)h(b)q(e)g(garbage,)g(so)f(the)i(set)f(can)g(b)q(e)g(reclaimed)0 2494 y(in)k(its)g(en)o(tiret)o(y)m(.)22 b(Another)16 b(implemen)o(tation)c(of)j(sets)h(could)02544 y(do)j(just)g(as)g(w)o(ell,)g(pro)o(vided)g(that)g(it)g(has)g(similar)e(p)q(erfor-)0 2594 y(mance)f(c)o(haracteristics.)29 b(In)17b(particular,)g(giv)o(en)f(a)h(p)q(oin)o(ter)1011 55 y(to)11b(an)h(ob)r(ject,)g(it)f(m)o(ust)g(b)q(e)h(easy)g(to)g(determine)f(whic)o(h)h(set)g(it)1011 105 y(is)h(a)g(mem)o(b)q(er)f(of;)g(in)h(addition,)f(it)h(m)o(ust)f(b)q(e)i(easy)f(to)h(switc)o(h)1011 155 y(the)19 b(roles)g(of)g(the)g(sets,)i(just)e(as)g(fromspace)f(and)h(tospace)1011 205 y(roles)14b(are)g(exc)o(hanged)h(in)e(a)g(cop)o(y)h(collector.)k(\(In)c(a)g(cop)o(ying)1011 255 y(collector,)h(the)g(set)h(is)e(an)h(area)g(of)f(memory)m(,)d(but)k(in)g(a)f(non-)1011 304 y(cop)o(ying)h(collector)i(it)e(can)i(b)q(e)f(an)o(y)g(kind)f(of)h(set)h(of)e(c)o(h)o(unks)1011 354 y(of)e(memory)e(that)j(formerly)f(held)h(liv)o(e)f(ob)r(jects.\))1052 412 y(The)f(non-cop)o(ying)e(system)h(adds)g(t)o(w)o(o)f(p)q(oin)o(ter)i(\014elds)f(and)1011462 y(a)f(\\color")g(\014eld)g(to)h(eac)o(h)g(ob)r(ject.)17b(These)12 b(\014elds)f(are)g(in)o(visible)1011 512 y(to)h(the)h(application)e(programmer,)f(and)i(serv)o(e)i(to)e(link)f(eac)o(h)1011 561y(h)o(unk)17 b(of)g(storage)i(in)o(to)e(a)g(doubly-link)o(ed)f(list)i(that)f(serv)o(es)1011 611 y(as)d(a)f(set.)19 b(The)14 b(color)g(\014eld)g(indicates)g(whic)o(h)g(set)h(an)e(ob)r(ject)1011 661 y(b)q(elongs)h(to.)1052719 y(The)19 b(op)q(eration)f(of)g(this)g(collector)h(is)f(simple,)f(and)i(iso-)1011 769 y(morphic)i(to)i(the)h(cop)o(y)f(collector's)g(op)q(eration.)45 b(\(W)m(ang)1011 818 y(therefore)16 b(refers)g(to)e(this)h(as)f(a)h(\\fak)o(e)e(cop)o(ying")h(collector.\))1011 868 y(Ch)o(unks)21 b(of)g(free)h(space)g(are)g(initially)d(link)o(ed)i(to)g(form)e(a)1011 918 y(doubly-link)o(ed)12b(list,)i(while)f(c)o(h)o(unks)i(holding)e(allo)q(cated)g(ob-)1011968 y(jects)i(are)f(link)o(ed)f(together)i(in)o(to)e(another)i(list.)10521026 y(When)j(the)h(free)g(list)e(is)h(exhausted,)h(the)g(collector)f(tra-)1011 1075 y(v)o(erses)11 b(the)f(liv)o(e)e(ob)r(jects)j(and)e(\\mo)o(v)o(es")f(them)g(from)g(the)i(allo-)1011 1125 y(cated)j(set)g(\(whic)o(h)f(w)o(e)h(could)f(call)f(the)i(fromset\))e(to)i(another)1011 1175 y(set)i(\(the)g(toset\).)k(This)14 b(is)g(implemen)o(ted)e(b)o(y)i(unlinking)e(the)10111225 y(ob)r(ject)g(from)d(the)j(doubly-link)o(ed)d(fromset)i(list,)g(toggling)e(its)1011 1275 y(color)h(\014eld,)h(and)g(linking)e(it)h(in)o(to)g(the)i(toset's)f(doubly-link)o(ed)1011 1325 y(list.)1052 1382y(Just)j(as)f(in)f(a)g(cop)o(y)h(collector,)g(space)h(reclamation)c(is)j(im-)1011 1432 y(plicit.)30 b(When)19 b(all)e(of)g(the)i(reac)o(hable)g(ob)r(jects)h(ha)o(v)o(e)e(b)q(een)1011 1482 y(tra)o(v)o(ersed)i(and)e(mo)o(v)o(ed)f(from)g(the)j(fromset)e(to)g(the)i(toset,)1011 1532 y(the)e(fromset)f(is)h(kno)o(wn)f(to)h(con)o(tain)f(only)h(garbage.)29 b(It)18b(is)1011 1582 y(therefore)g(a)f(list)f(of)g(free)i(space,)g(whic)o(h)e(can)h(immediately)1011 1631 y(b)q(e)c(put)g(to)g(use)h(as)e(a)h(free)h(list.)j(\(As)c(w)o(e)g(will)e(explain)i(in)f(sec-)1011 1681 y(tion)h(3.4.2,)f(Bak)o(er's)i(sc)o(heme)g(is)g(actually)f(somewhat)g(more)1011 1731y(complex,)18 b(b)q(ecause)i(his)f(collector)g(is)g(incremen)o(tal.\))32b(The)1011 1781 y(cost)14 b(of)e(the)i(collection)e(is)h(prop)q(ortional)g(to)f(the)i(n)o(um)o(b)q(er)f(of)1011 1831 y(liv)o(e)f(ob)r(jects,)h(and)g(the)g(garbage)g(ob)r(jects)g(are)g(all)f(reclaimed)1011 1880y(in)h(small)f(constan)o(t)i(time.)1052 1938 y(This)d(sc)o(heme)f(can)h(b)q(e)g(optimized)e(in)h(w)o(a)o(ys)g(that)g(are)h(anal-)10111988 y(ogous)h(to)h(those)h(used)g(in)f(a)f(cop)o(ying)h(collector|allo)q(cation)1011 2038 y(can)19 b(b)q(e)h(fast)f(b)q(ecause)i(the)e(allo)q(cated)g(and)g(free)h(lists)f(can)1011 2088 y(b)q(e)h(con)o(tiguous,)h(and)f(separated)h(only)e(b)o(y)h(an)g(allo)q(cation)1011 2137 y(p)q(oin)o(ter.)g(Rather)15 b(than)g(actually)f(unlinking)f(ob)r(jects)j(from)10112187 y(one)h(list)f(and)g(linking)f(them)h(in)o(to)g(another,)h(the)g(allo)q(cator)1011 2237 y(can)11 b(simply)d(adv)n(ance)j(a)f(p)q(oin)o(ter)h(whic)o(h)f(p)q(oin)o(ts)g(in)o(to)g(the)h(list)1011 2287 y(and)16b(divides)h(the)g(allo)q(cated)f(segmen)o(t)g(from)f(the)i(free)h(seg-)10112337 y(men)o(t.)e(Similarly)l(,)8 b(a)i(Cheney-st)o(yle)i(breadth-\014rst)g(tra)o(v)o(ersal)1011 2387 y(can)i(b)q(e)g(implemen)o(ted)e(with)i(only)f(a)g(pair)h(of)f(p)q(oin)o(ters,)h(and)1011 2436 y(the)i(scanned)h(and)e(free)i(lists)e(can)h(b)q(e)h(con)o(tiguous,)e(so)h(that)1011 2486y(adv)n(ancing)j(the)i(scan)g(p)q(oin)o(ter)g(only)e(requires)j(adv)n(ancing)1011 2536 y(the)14 b(p)q(oin)o(ter)g(that)g(separates)i(them.)10522594 y(This)10 b(sc)o(heme)g(has)g(b)q(oth)g(adv)n(an)o(tages)g(and)f(disadv)n(an)o(tages)969 2718 y(13)p eop%%Page: 14 14bop 99 126 a 28133378 37136055 920944 592035 39271710 51572899 startTexFig99 126 a%%BeginDocument: musecomp.ps/Win33Dict 290 dict def Win33Dict begin/bd{bind def}bind def/in{72mul}bd/ed{exch def}bd/ld{load def}bd/tr/translate ld/gs/gsave ld/gr/grestoreld/M/moveto ld/L/lineto ld/rmt/rmoveto ld/rlt/rlineto ld/rct/rcurvetold/st/stroke ld/n/newpath ld/sm/setmatrix ld/cm/currentmatrix ld/cp/closepathld/ARC/arcn ld/TR{65536 div}bd/lj/setlinejoin ld/lc/setlinecap ld/ml/setmiterlimitld/sl/setlinewidth ld/scignore false def/sc{scignore{pop pop pop}{0index 2 index eq 2 index 4 index eq and{pop pop 255 div setgray}{3{255div 3 1 roll}repeat setrgbcolor}ifelse}ifelse}bd/FC{bR bG bB sc}bd/fC{/bBed/bG ed/bR ed}bd/HC{hR hG hB sc}bd/hC{/hB ed/hG ed/hR ed}bd/PC{pRpG pB sc}bd/pC{/pB ed/pG ed/pR ed}bd/sM matrix def/PenW 1 def/iPen5 def/mxF matrix def/mxE matrix def/fBE false def/iDevRes 72 0 matrixdefaultmatrix dtransform dup mul exch dup mul add sqrt def/SS{/SV savedef}bd/RS{SV restore}bd/EJ{gsave showpage grestore}bd/#C{userdict begin/#copiesed end}bd/SM{/iRes ed/cyP exch def/cxP exch def/cyM exch def/cxM exchdef 72 iRes div dup neg scale 0 ne{cyP cxP neg tr 90 rotate cxM cyM}{cxMcyM cyP sub}ifelse tr 0 0 transform .25 add round .25 sub exch .25add round .25 sub exch itransform translate}bd/SJ{1 index 0 eq{poppop/fBE false def}{1 index/Break ed div/dxBreak ed/fBE true def}ifelse}bd/ANSIVec[16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde 16#4/macron 16#5/breve16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A/hungarumlaut16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60/grave16#7C/bar 16#91/quoteleft 16#92/quoteright 16#93/quotedblleft 16#94/quotedblright16#95/bullet 16#96/endash 16#97/emdash 16#A0/space 16#A4/currency 16#A6/brokenbar16#A7/section 16#A8/dieresis 16#A9/copyright 16#AA/ordfeminine 16#AB/guillemotleft16#AC/logicalnot 16#AD/hyphen 16#AE/registered 16#AF/macron 16#B0/degree16#B1/plusminus 16#B2/twosuperior 16#B3/threesuperior 16#B4/acute 16#B5/mu16#B6/paragraph 16#B7/periodcentered 16#B8/cedilla 16#B9/onesuperior16#BA/ordmasculine 16#BB/guillemotright 16#BC/onequarter 16#BD/onehalf16#BE/threequarters 16#BF/questiondown 16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex16#C3/Atilde 16#C4/Adieresis 16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave16#C9/Eacute 16#CA/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute16#CE/Icircumflex 16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve16#D3/Oacute 16#D4/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply16#D8/Oslash 16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis16#DD/Yacute 16#DE/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute16#E2/acircumflex 16#E3/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae16#E7/ccedilla 16#E8/egrave 16#E9/eacute 16#EA/ecircumflex 16#EB/edieresis16#EC/igrave 16#ED/iacute 16#EE/icircumflex 16#EF/idieresis 16#F0/eth16#F1/ntilde 16#F2/ograve 16#F3/oacute 16#F4/ocircumflex 16#F5/otilde16#F6/odieresis 16#F7/divide 16#F8/oslash 16#F9/ugrave 16#FA/uacute16#FB/ucircumflex 16#FC/udieresis 16#FD/yacute 16#FE/thorn 16#FF/ydieresis] def/reencdict 12 dict def/IsChar{basefontdict/CharStrings get exchknown}bd/MapCh{dup IsChar not{pop/bullet}if newfont/Encoding get 31 roll put}bd/MapDegree{16#b0/degree IsChar{/degree}{/ring}ifelse MapCh}bd/MapBB{16#a6/brokenbarIsChar{/brokenbar}{/bar}ifelse MapCh}bd/ANSIFont{reencdict begin/newfontnameed/basefontname ed FontDirectory newfontname known not{/basefontdictbasefontname findfont def/newfont basefontdict maxlength dict def basefontdict{exchdup/FID ne{dup/Encoding eq{exch dup length array copy newfont 3 1 rollput}{exch newfont 3 1 roll put}ifelse}{pop pop}ifelse}forall newfont/FontNamenewfontname put 127 1 159{newfont/Encoding get exch/bullet put}forANSIVec aload pop ANSIVec length 2 idiv{MapCh}repeat MapDegree MapBBnewfontname newfont definefont pop}if newfontname end}bd/SB{FC/stred str length fBE not{dup 1 gt{1 sub}if}if/cbStr ed/dxGdi ed/y0 ed/x0ed str stringwidth esc 0 ne{mxE itransform exch neg dxGdi add cbStrdiv exch mxE transform}{exch neg dxGdi add cbStr div exch}ifelse/dyExtraed/dxExtra ed x0 y0 M fBE{dxBreak 0 BCh dxExtra dyExtra str awidthshow}{dxExtradyExtra str ashow}ifelse fUL{x0 y0 M dxUL dyUL rmt dxGdi fBE{Breakadd}if 0 mxE transform rlt cyUL sl st}if fSO{x0 y0 M dxSO dySO rmtdxGdi fBE{Break add}if 0 mxE transform rlt cyUL sl st}if n/fBE falsedef}bd/font{/name ed/Ascent ed 0 ne/fSO ed 0 ne/fUL ed/Sy ed/Sx ed10.0 div/ori ed -10.0 div/esc ed/BCh ed name findfont [Sx 0 0 Sy neg0 Ascent] esc mxE rotate mxF concatmatrix makefont setfont fUL{currentfontdup/FontInfo get/UnderlinePosition known not{pop/Courier findfont}if/FontInfoget/UnderlinePosition get 1000 div 0 exch mxF transform/dyUL ed/dxULed}if fSO{0 .3 mxF transform/dySO ed/dxSO ed}if fUL fSO or{currentfontdup/FontInfo get/UnderlineThickness known not{pop/Courier findfont}if/FontInfoget/UnderlineThickness get 1000 div Sy mul/cyUL ed}if}bd/min{2 copygt{exch}if pop}bd/max{2 copy lt{exch}if pop}bd/CP{/ft ed{{ft 0 eq{clip}{eoclip}ifelse}stopped{currentflat1 add setflat}{exit}ifelse}loop}bd/patfont 10 dict def patfont begin/FontType3 def/FontMatrix [1 0 0 1 0 0] def/FontBBox [0 0 32 32] def/EncodingStandardEncoding def/BuildChar{pop pop 32 0 0 0 32 32 setcachedevice2 2 scale 16 16 false [1 0 0 1 .25 .25]{pat}imagemask}bd end/p{/pat32 string def{}forall 0 1 7{dup 2 mul pat exch 3 index put dup 2 mul1 add pat exch 3 index put dup 2 mul 16 add pat exch 3 index put 2mul 17 add pat exch 2 index put pop}for}bd/pfill{/PatFont patfont definefontsetfont/ch(AAAA)def X0 128 X1{Y0 32 Y1{1 index exch M ch show}for pop}for}bd/vert{X0w X1{dup Y0 M Y1 L st}for}bd/horz{Y0 w Y1{dup X0 exch M X1 exch L st}for}bd/fdiag{X0w X1{Y0 M X1 X0 sub dup rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub duprlt st}for}bd/bdiag{X0 w X1{Y1 M X1 X0 sub dup neg rlt st}for Y0 wY1{X0 exch M Y1 Y0 sub dup neg rlt st}for}bd/AU{1 add cvi 15 or}bd/AD{1sub cvi -16 and}bd/SHR{pathbbox AU/Y1 ed AU/X1 ed AD/Y0 ed AD/X0 ed}bd/hfill{2sl [] 0 setdash n/w iRes 20 div 8 div round 8 mul def dup 0 eq{horz}ifdup 1 eq{vert}if dup 2 eq{fdiag}if dup 3 eq{bdiag}if dup 4 eq{horzvert}if 5 eq{fdiag bdiag}if}bd/F{/ft ed fm 256 and 0 ne{gs FC ft 0eq{fill}{eofill}ifelse gr}if fm 1536 and 0 ne{SHR gs HC ft CP fm 1024and 0 ne{/Tmp save def pfill Tmp restore}{fm 15 and hfill}ifelse gr}if}bd/S{PenWsl PC st}bd/m matrix def/GW{iRes 12 div PenW add cvi}bd/DoW{iRes 50div PenW add cvi}bd/DW{iRes 8 div PenW add cvi}bd/SP{/PenW ed/iPened iPen 0 eq{[] 0 setdash}if iPen 1 eq{[DW GW] 0 setdash}if iPen 2eq{[DoW GW] 0 setdash}if iPen 3 eq{[DW GW DoW GW] 0 setdash}if iPen4 eq{[DW GW DoW GW DoW GW] 0 setdash}if}bd/E{m cm pop tr scale 0 01 0 360 arc cp m sm}bd/AG{/sy ed/sx ed sx div 4 1 roll sy div 4 1 rollsx div 4 1 roll sy div 4 1 roll atan/a2 ed atan/a1 ed sx sy scale a1a2 ARC}def/A{m cm pop tr AG m sm}def/P{m cm pop tr 0 0 M AG cp m sm}def/RRect{n4 copy M 3 1 roll exch L 4 2 roll L L cp}bd/RRCC{/r ed/y1 ed/x1 ed/y0ed/x0 ed x0 r add y0 M x1 y0 x1 y1 r arcto 4{pop}repeat x1 y1 x0 y1r arcto 4{pop}repeat x0 y1 x0 y0 r arcto 4{pop}repeat x0 y0 x1 y0 rarcto 4{pop}repeat cp}bd/RR{2 copy 0 eq exch 0 eq or{pop pop RRect}{2copy eq{pop RRCC}{m cm pop/y2 ed/x2 ed/ys y2 x2 div 1 max def/xs x2y2 div 1 max def/y1 exch ys div def/x1 exch xs div def/y0 exch ys divdef/x0 exch xs div def/r2 x2 y2 min def xs ys scale x0 r2 add y0 Mx1 y0 x1 y1 r2 arcto 4{pop}repeat x1 y1 x0 y1 r2 arcto 4{pop}repeatx0 y1 x0 y0 r2 arcto 4{pop}repeat x0 y0 x1 y0 r2 arcto 4{pop}repeatm sm cp}ifelse}ifelse}bd/PP{{rlt}repeat}bd/OB{gs sc B fill gr}bd/B{M/dyed/dx ed dx 0 rlt 0 dy rlt dx neg 0 rlt cp}bd/CB{B clip n}bdstatusdict begin 0 setjobtimeout endstatusdict begin statusdict /jobname (Windows Draw - MUSECOMP.DRW) put endSS0 60 33 2550 3300 300 SM255 255 255 fC/fm 256 def2426 3230 0 0 B1 Fn1 lc1 lj10433 ml0 0 0 pC0 2 SP0 0 0 hC/fm 1280 def<fdffdffffdffdfff> p1003 3076 M 36 -9 28 -55 45 -37 19 -45 45 -37 19 -45 54 -37 19 -27 36 -9 28 -55 45 -37 19 -45 45 -37 19 -46 54 -18 9 -36 28 -28 36 -18 46 -46 0 -146 20 PP9 0 -712 0 0 877 55 -37 18 -27 5 PP1 FSn1761 591 M 0 0 -265 0 0 438 55 -37 18 -27 37 -9 27 -55 46 -36 18 -46 46 -37 18 -45 0 -146 12 PP1 FSn263 591 M 0 0 -265 0 0 438 27 -46 37 -9 9 -36 55 -28 27 -45 37 -19 27 -55 46 -54 0 -146 12 PP1 FSn638 1030 M 0 0 -264 0 0 439 54 -19 9 -36 28 -28 36 -18 46 -46 9 -54 46 -28 36 -64 0 -146 12 PP1 FSn1012 591 M 0 0 -265 0 0 438 46 -46 27 -9 18 -27 55 -28 18 -64 37 -18 27 -64 37 -36 0 -146 12 PP1 FSn1387 1030 M 0 0 -264 0 0 439 54 -37 19 -27 36 -10 28 -54 45 -37 19 -46 45 -36 18 -46 0 -146 12 PP1 FSn2136 1030 M 0 0 -264 0 0 439 54 -46 37 -9 9 -46 55 -18 9 -37 37 -55 18 -54 45 -28 0 -146 12 PP1 FSn263 2199 M 0 877 9 -55 45 -27 37 -64 64 -19 9 -36 28 -28 36 -18 46 -46 9 -54 46 -28 63 -109 37 -9 9 -37 55 -27 27 -46 37 -18 27 -55 46 -55 0 -146 20 PP0 0 -630 0 2 PP1 FSn1816 2199 M 0 0 -599 0 -4 776 80 -44 66 -65 37 -9 27 -64 55 -37 9 -36 28 -46 36 -37 55 -45 37 -9 9 -46 55 -18 9 -37 36 -55 18 -55 46 -27 0 -146 20 PP1 FSn2 3 SP26 591 M 0 0 2393 0 2 PPSn0 3 SP117 1030 M 0 0 0 -877 2 PPSn0 2 SP82 445 M 0 0 71 0 2 PPSn82 299 M 0 0 71 0 2 PPSn2 3 SP26 1030 M 0 0 2393 0 2 PPSn0 2 SP82 884 M 0 0 71 0 2 PPSn82 738 M 0 0 71 0 2 PPSn2 3 SP26 153 M 0 0 2393 0 2 PPSn0 6 SP263 445 M 27 -46 37 -9 9 -36 55 -28 27 -45 37 -19 27 -55 46 -54 8 PPSn1012 445 M 46 -46 27 -9 18 -27 55 -28 18 -64 37 -18 27 -64 37 -36 8 PPSn1441 2491 M 55 -37 18 -27 36 -9 28 -55 45 -37 19 -45 45 -37 19 -45 8 PPSn2400 591 M 0 0 -45 28 -18 54 -37 55 -9 37 -55 18 -9 46 -37 9 -54 46 9 PPSn1387 884 M 54 -37 19 -27 36 -10 28 -54 45 -37 19 -46 45 -36 18 -46 8 PPSn528 1761 M 55 -19 9 -36 28 -28 36 -18 46 -46 9 -54 46 -28 36 -64 8 PPSn2 3 SP26 1322 M 0 0 2393 0 2 PPSn16 3076 M 0 0 2394 0 2 PPSn0 3 SP117 3076 M 0 0 0 -1754 2 PPSn0 2 SP82 1615 M 0 0 71 0 2 PPSn82 1468 M 0 0 71 0 2 PPSn82 1907 M 0 0 71 0 2 PPSn82 1761 M 0 0 71 0 2 PPSn82 2053 M 0 0 71 0 2 PPSn82 2491 M 0 0 71 0 2 PPSn82 2345 M 0 0 71 0 2 PPSn82 2784 M 0 0 71 0 2 PPSn82 2638 M 0 0 71 0 2 PPSn82 2930 M 0 0 71 0 2 PPSn2 3 SP26 2199 M 0 0 2393 0 2 PPSn0 6 SP263 2053 M 27 -45 37 -9 9 -37 55 -27 27 -46 37 -18 27 -55 46 -55 8 PPSn638 884 M 54 -19 9 -36 28 -28 36 -18 46 -46 9 -54 46 -28 36 -64 8 PPSn1176 2784 M 54 -37 19 -27 36 -9 28 -55 45 -37 19 -45 45 -37 19 -46 8 PPSn1003 2930 M 54 -18 9 -36 28 -28 36 -18 46 -46 5 PPSn893 1322 M -64 19 -37 64 -45 27 -9 55 4 PPSn2081 1761 M 0 0 -46 27 -18 55 -36 55 -9 37 -55 18 -9 46 -37 9 -55 45 9 PPSn1761 445 M 55 -37 18 -27 37 -9 27 -55 46 -36 18 -46 46 -37 18 -45 8 PPSn2419 1423 M 0 0 -36 37 -28 46 -9 36 -55 37 -27 64 -37 9 -63 64 -83 45 9 PPSn97 97 97 pC0 8 SP1707 2632 M 64 -35 81 -78 91 -115 rct8 -28 3 -83 -9 -115 rct-13 -30 -10 -24 -32 -69 rct-17 -34 -34 -58 -32 -99 rct5 -30 25 -68 66 -92 rctSn0 lc0 lj1768 2138 M -19 28 34 -2 2 PPSn1 lc1 lj895 1761 M 64 86 80 195 91 288 rct7 69 3 208 -9 288 rct-13 77 -11 60 -32 173 rct-18 86 -34 146 -32 250 rct4 75 33 179 74 240 rctSn0 lc0 lj990 2977 M -29 -17 4 33 2 PPSn1 lc1 lj529 372 M 64 41 81 93 92 137 rct7 33 2 99 -10 137 rct-12 37 -10 29 -32 82 rct-17 42 -33 70 -32 119 rct5 36 34 90 75 119 rctSn0 lc0 lj616 943 M -33 -5 16 30 2 PPSn1 lc1 lj904 804 M 55 -37 66 -61 73 -83 rct7 -25 -1 -42 -14 -68 rct-12 -23 -25 -42 -23 -65 rct5 -17 15 -39 57 -71 rctSn0 lc0 lj974 516 M -15 30 33 -6 2 PPSn1 lc1 lj1278 372 M 64 41 81 93 91 137 rct8 33 3 99 -9 137 rct-12 37 -10 29 -32 82 rct-17 42 -33 70 -32 119 rct5 36 34 90 75 119 rctSn0 lc0 lj1365 943 M -33 -5 16 30 2 PPSn1 lc1 lj1653 804 M 55 -37 66 -61 73 -83 rct7 -25 -1 -42 -14 -68 rct-12 -23 -25 -42 -23 -65 rct5 -17 15 -39 57 -71 rctSn0 lc0 lj1723 516 M -15 30 33 -6 2 PPSn1 lc1 lj2027 372 M 64 41 81 93 91 137 rct8 33 3 99 -9 137 rct-12 37 -10 29 -32 82 rct-17 42 -33 70 -32 119 rct5 36 34 90 75 119 rctSn0 lc0 lj2114 943 M -33 -5 16 30 2 PPSnEJ RSend%%EndDocument 99 126 a endTexFig136 2471 a Fn(Figure)14 b(6:)k(Memory)13 b(usage)h(in)f(a)h(semispace)g(GC,)f(with)g(3)h(MB)g(\(top\))g(and)g(6)g(MB)g(\(b)q(ottom\))f(semispaces)9692718 y(14)p eop%%Page: 15 15bop 0 55 a Fn(compared)13 b(to)h(a)g(cop)o(y)g(collector.)k(On)d(the)f(min)o(us)f(side,)h(the)0 105 y(p)q(er-ob)r(ject)k(constan)o(ts)g(are)f(probably)f(a)h(little)f(bit)h(higher,)0 155 y(and)c(fragmen)o(tation)d(problems)i(are)i(still)d(p)q(ossible.)18 b(On)c(the)0 205 y(plus)j(side,)g(the)g(tracing)g(cost)g(for)g(large)f(ob)r(jects)i(is)e(not)h(as)0 255 y(high.)23b(As)16 b(with)g(a)f(mark-sw)o(eep)h(collector,)g(the)g(whole)g(ob-)0304 y(ject)21 b(needn't)h(b)q(e)f(copied;)j(if)c(it)g(can't)h(con)o(tain)f(p)q(oin)o(ters,)0 354 y(it)f(needn't)h(b)q(e)g(scanned)g(either.)35b(P)o(erhaps)21 b(more)d(imp)q(or-)0 404 y(tan)o(tly)i(for)h(man)o(y)e(applications,)i(this)g(sc)o(heme)h(do)q(es)f(not)0 454 y(require)13b(the)f(actual)g(language-lev)o(el)f(p)q(oin)o(ters)h(b)q(et)o(w)o(een)i(ob-)0 504 y(jects)d(to)f(b)q(e)h(c)o(hanged,)f(and)g(this)g(imp)q(oses)g(few)o(er)g(constrain)o(ts)0 553 y(on)17 b(compilers.)27 b(As)18b(w)o(e'll)e(explain)h(later,)h(this)f(is)g(particu-)0 603y(larly)c(imp)q(ortan)o(t)f(for)h(parallel)f(and)i(real-time)e(incremen)o(tal)0 653 y(collectors.)42 707 y(The)e(space)g(costs)h(of)e(this)h(tec)o(hnique)g(are)g(usually)f(roughly)0 757 y(comparable)23 b(to)h(those)h(of)e(a)h(cop)o(ying)g(collector.)49 b(Tw)o(o)0 807 y(p)q(oin)o(ter)14b(\014elds)g(are)g(required)g(p)q(er)h(ob)r(ject,)f(but)f(liv)o(e)g(ob)r(jects)0 857 y(b)q(eing)i(traced)g(do)f(not)h(require)g(space)h(for)e(b)q(oth)h(fromspace)0 907 y(and)h(tospace)i(v)o(ersions.)26 b(In)16b(most)g(cases,)i(this)e(app)q(ears)h(to)0 956 y(mak)o(e)g(the)i(space)h(cost)f(smaller)e(than)i(that)g(of)f(a)g(cop)o(ying)0 1006y(collector,)d(but)g(in)g(some)f(cases)j(fragmen)o(tation)12b(costs)17 b(\(due)0 1056 y(to)c(the)h(inabilit)o(y)d(to)j(compact)e(data\))h(ma)o(y)f(out)o(w)o(eigh)g(those)0 1106 y(sa)o(vings.)0 1246y Fi(2.6)56 b(Cho)r(osing)42 b(Among)f(Basic)g(T)-5 b(racing)1281304 y(T)g(ec)n(hniques)0 1389 y Fn(T)m(reatmen)o(ts)17 b(of)g(garbage)h(collection)f(algorithms)f(in)h(text-)0 1439 y(b)q(o)q(oks)10b(often)h(stress)h(asymptotic)d(complexit)o(y)m(,)f(but)i(all)f(basic)01489 y(algorithms)g(ha)o(v)o(e)i(roughly)g(similar)e(costs,)j(esp)q(ecially)g(when)0 1539 y(w)o(e)k(view)f(garbage)g(collection)h(as)f(part)h(of)f(the)h(o)o(v)o(erall)e(free)0 1588 y(storage)h(managemen)o(t)c(sc)o(heme.)19b(Allo)q(cation)13 b(and)h(garbage)0 1638 y(collection)9 b(are)h(t)o(w)o(o)g(sides)g(of)f(the)i(basic)e(memory)f(reuse)j(coin,)0 1688 y(and)17b(an)o(y)f(algorithm)e(incurs)k(costs)g(at)f(allo)q(cation)e(time,)h(if)01738 y(only)c(to)h(initialize)f(the)h(\014elds)h(of)e(new)i(ob)r(jects.)19b(A)13 b(common)0 1788 y(criterion)h(for)g(\\high)f(p)q(erformance")h(garbage)g(collection)f(is)0 1838 y(that)i(the)g(cost)g(of)f(garbage)h(collecting)f(ob)r(jects)i(b)q(e)f(compa-)0 1887 y(rable,)e(on)h(a)o(v)o(erage,)f(to)h(the)h(cost)f(of)g(allo)q(cating)e(ob)r(jects.)421942 y(An)o(y)f(e\016cien)o(t)g(tracing)g(collection)g(sc)o(heme)g(therefore)i(has)0 1991 y(three)i(basic)f(cost)h(comp)q(onen)o(ts,)e(whic)o(h)h(are)h(\(1\))f(the)g(initial)0 2041 y(w)o(ork)d(required)g(at)g(eac)o(h)h(collection,)e(suc)o(h)i(as)f(ro)q(ot)g(set)h(scan-)0 2091y(ning,)g(\(2\))h(the)h(w)o(ork)f(done)g(at)g(allo)q(cation)e(\(prop)q(ortional)h(to)0 2141 y(the)20 b(amoun)o(t)e(of)i(allo)q(cation,)f(or)g(the)i(n)o(um)o(b)q(er)e(of)g(ob)r(jects)0 2191 y(allo)q(cated\))c(and)h(\(3\))g(the)g(w)o(ork)g(done)g(during)f(garbage)h(de-)0 2241 y(tection)e(\(e.g.,)f(tracing\).)42 2295 y(The)f(initial)e(w)o(ork)i(is)g(usually)f(relativ)o(ely)g(\014xed)i(for)f(a)f(par-)0 2345 y(ticular)22 b(program,)g(b)o(y)g(the)g(size)h(of)f(the)g(ro)q(ot)g(set.)44 b(The)0 2395 y(w)o(ork)18b(done)h(at)g(allo)q(cation)e(is)h(generally)h(prop)q(ortional)e(to)02444 y(the)d(n)o(um)o(b)q(er)e(of)h(ob)r(jects)h(allo)q(cated,)f(plus)g(an)g(initialization)0 2494 y(cost)18 b(prop)q(ortional)f(to)h(their)g(sizes.)31b(The)18 b(garbage)g(detec-)0 2544 y(tion)g(cost)h(is)f(prop)q(ortional)f(to)i(the)g(amoun)o(t)d(of)i(liv)o(e)g(data)0 2594 y(that)c(m)o(ust)f(b)q(e)h(traced.)1052 55 y(The)g(latter)f(t)o(w)o(o)g(costs)h(are)g(usually)e(similar,)e(in)j(that)g(the)1011 105 y(amoun)o(t)f(of)i(liv)o(e)f(data)h(traced)h(is)f(usually)f(some)g(signi\014can)o(t)1011 155 y(p)q(ercen)o(tage)j(of)e(the)g(amoun)o(t)f(of)h(allo)q(cated)f(memory)m(.)k(Th)o(us)1011205 y(algorithms)d(whose)i(cost)h(is)f(prop)q(ortional)f(to)h(the)h(amoun)o(t)1011 255 y(of)h(allo)q(cation)e(\(e.g.,)j(mark-sw)o(eep\))f(ma)o(y)e(b)q(e)j(comp)q(etitiv)o(e)1011 304 y(with)d(those)g(whose)h(cost)g(is)f(prop)q(ortional)f(to)h(the)h(amoun)o(t)1011 354 y(of)c(liv)o(e)g(data)h(traced)h(\(e.g.,)d(cop)o(ying\).)1052 416 y(F)m(or)19 b(example,)h(supp)q(ose)g(that)g(10)f(p)q(ercen)o(t)i(of)e(all)g(allo-)1011 466 y(cated)d(data)f(surviv)o(e)g(a)g(collection,)f(and)h(90)g(p)q(ercen)o(t)i(nev)o(er)1011516 y(need)11 b(to)e(b)q(e)i(traced.)18 b(In)9 b(deciding)h(whic)o(h)g(algorithm)d(is)j(more)1011 565 y(e\016cien)o(t,)15 b(the)h(asymptotic)e(complexit)o(y)f(is)i(less)h(imp)q(ortan)o(t)1011 615 y(than)d(the)h(asso)q(ciated)h(constan)o(ts.)j(If)13 b(the)h(cost)h(of)d(sw)o(eeping)1011665 y(an)h(ob)r(ject)h(is)f(ten)h(times)e(less)i(than)f(the)h(cost)g(of)e(cop)o(ying)h(it,)1011 715 y(the)k(mark-sw)o(eep)f(collector)h(costs)g(ab)q(out)g(the)g(same)e(as)i(as)1011 765 y(cop)o(y)f(collector.)24b(\(If)16 b(a)g(mark-sw)o(eep)f(collector's)h(sw)o(eeping)1011814 y(cost)g(is)f(billed)g(to)g(the)h(allo)q(cator,)f(and)g(it)g(is)h(small)d(relativ)o(e)1011 864 y(to)g(the)h(cost)g(of)f(initializing)e(the)j(ob)r(jects,)g(then)h(it)e(b)q(ecomes)1011 914 y(ob)o(vious)i(that)i(the)g(sw)o(eep)g(phase)g(is)f(just)h(not)f(terribly)h(ex-)1011 964 y(p)q(ensiv)o(e.\))25 b(While)15 b(curren)o(t)i(cop)o(ying)e(collectors)i(app)q(ear)f(to)10111014 y(b)q(e)g(more)e(e\016cien)o(t)h(than)g(curren)o(t)i(mark-sw)o(eep)e(collectors,)1011 1064 y(the)j(di\013erence)i(is)d(not)h(large)f(for)h(state-of-the)g(art)g(imple-)1011 1113 y(men)o(tations.)10521175 y(In)e(systems)g(where)h(memory)c(is)i(not)h(m)o(uc)o(h)e(larger)i(than)1011 1225 y(the)h(exp)q(ected)h(amoun)o(t)d(of)h(liv)o(e)g(data,)g(nonmo)o(ving)e(collec-)1011 1275 y(tors)j(ha)o(v)o(e)f(an)g(an)g(adv)n(an)o(tage)g(o)o(v)o(er)h(cop)o(ying)e(collectors)i(in)1011 1325 y(that)10b(they)i(don't)e(need)h(space)h(for)e(t)o(w)o(o)g(v)o(ersions)i(of)e(eac)o(h)h(liv)o(e)1011 1374 y(ob)r(ject)18 b(\(the)h(\\from")d(and)h(\\to")g(v)o(ersions\).)31 b(When)18 b(space)1011 1424 y(is)d(v)o(ery)g(tigh)o(t,)f(reference)k(coun)o(ting)d(collectors)g(are)h(partic-)10111474 y(ularly)g(attractiv)o(e)i(b)q(ecause)i(their)e(p)q(erformance)f(is)g(essen-)1011 1524 y(tially)h(indep)q(enden)o(t)j(of)f(the)g(ratio)g(of)f(liv)o(e)g(data)h(to)g(total)1011 1574 y(storage.)1052 1635 y(F)m(urther,)k(real)d(high-p)q(erformance)f(systems)h(often)g(use)1011 1685 y(h)o(ybrid)9b(tec)o(hniques)j(to)e(adjust)g(tradeo\013s)h(for)e(di\013eren)o(t)i(cate-)1011 1735 y(gories)h(of)f(ob)r(jects.)19 b(Man)o(y)11 b(high-p)q(erformance)g(cop)o(y)h(collec-)1011 1785 y(tors)k(use)g(a)f(separate)hFk(lar)n(ge)g(obje)n(ct)g(ar)n(e)n(a)f Fn([CWB86)o(,)g(UJ88],)10111835 y(to)k(a)o(v)o(oid)f(cop)o(ying)h(large)g(ob)r(jects)i(from)d(space)i(to)f(space.)1011 1884 y(The)10 b(large)g(ob)r(jects)i(are)f(k)o(ept)f(\\o\013)g(to)g(the)h(side")g(and)f(usually)1011 1934 y(managed)e(in-place)i(b)o(y)g(some)g(v)n(ariet)o(y)f(of)h(marking)e(tra)o(v)o(ersal)10111984 y(and)16 b(free)h(list)f(tec)o(hnique.)27 b(Other)18 b(h)o(ybrids)e(ma)o(y)f(use)i(non-)1011 2034 y(cop)o(ying)12 b(tec)o(hniques)i(most)e(of)h(the)g(time,)f(but)h(o)q(ccasionally)1011 2084 y(compact)e(some)g(of)g(the)i(data)f(using)f(cop)o(ying)h(tec)o(hniques)h(to)1011 2134 y(a)o(v)o(oid)f(p)q(ermanen)o(t)i(fragmen)o(tation)e(\(e.g.,)g([LD87)o(]\).)10522195 y(A)k(ma)r(jor)e(p)q(oin)o(t)i(in)f(fa)o(v)o(or)g(of)g(in-place)g(collectors)i(is)e(the)1011 2245 y(abilit)o(y)8 b(to)j(mak)o(e)e(them)gFk(c)n(onservative)i Fn(with)f(resp)q(ect)j(to)d(data)10112295 y(v)n(alues)15 b(that)g(ma)o(y)e(or)i(ma)o(y)f(not)h(b)q(e)h(p)q(oin)o(ters.)22 b(This)15 b(allo)o(ws)1011 2345 y(them)f(to)i(b)q(e)g(used)g(for)f(languages)g(lik)o(e)f(C,)h(or)h(o\013-the-shelf)1011 2395y(optimizing)g(compilers)i([BW88,)g(Bar88,)h(BDS91],)g(whic)o(h)10112444 y(can)d(mak)o(e)e(it)i(di\016cult)f(or)h(imp)q(ossible)f(to)h(unam)o(biguously)1011 2494 y(iden)o(tify)g(all)f(p)q(oin)o(ters)i(at)g(run)g(time.)25 b(A)17 b(non-mo)o(ving)c(col-)1011 2544 y(lector)e(can)g(b)q(e)g(conserv)n(ativ)o(e)h(b)q(ecause)g(an)o(ything)e(that)h(lo)q(oks)10112594 y(lik)o(e)16 b(a)g(p)q(oin)o(ter)h(ob)r(ject)g(can)g(b)q(e)h(left)e(where)i(it)e(is,)h(and)f(the)969 2718 y(15)p eop%%Page: 16 16bop 0 55 a Fn(\(p)q(ossible\))19 b(p)q(oin)o(ter)g(to)g(it)f(do)q(esn't)i(need)f(to)g(b)q(e)g(c)o(hanged.)0 105 y(In)g(con)o(trast,)h(a)f(cop)o(ying)f(collector)h(m)o(ust)f(kno)o(w)g(whether)0 155 y(a)i(v)n(alue)f(is)g(a)h(p)q(oin)o(ter|and)f(whether)i(to)f(mo)o(v)o(e)e(the)j(ob-)0 205y(ject)e(and)f(up)q(date)g(the)h(p)q(oin)o(ter.)31 b(\(Conserv)n(ativ)o(e)18b(p)q(oin)o(ter-)0 255 y(\014nding)d(tec)o(hniques)h(will)e(b)q(e)h(discussed)i(in)e(more)f(detail)h(in)0 304 y(Sect.)f(6.2.\))42358 y(Similarl)o(y)m(,)e(the)k(c)o(hoice)g(of)f(a)h(non-mo)o(ving)c(collector)k(can)0 408 y(greatly)f(simplify)c(the)16 b(in)o(terfaces)g(b)q(et)o(w)o(een)g(mo)q(dules)d(writ-)0 458 y(ten)f(in)f(di\013eren)o(t)h(languages)f(and)g(compiled)e(using)i(di\013eren)o(t)0 508y(compilers.)23 b(It)16 b(is)f(p)q(ossible)h(to)g(pass)h(p)q(oin)o(ters)f(to)g(garbage-)0 558 y(collectible)21 b(ob)r(jects)i(as)f(argumen)o(ts)f(to)h(foreign)f(routines)0 607 y(that)c(w)o(ere)h(not)f(written)g(or)g(compiled)e(with)i(garbage)g(col-)0 657 y(lection)e(in)g(mind.)21 b(This)15b(is)g(not)h(practical)f(with)g(a)g(cop)o(ying)0 707 y(collector,)e(b)q(ecause)j(the)e(p)q(oin)o(ters)g(that)f(\\escap)q(e")i(in)o(to)e(for-)0757 y(eign)20 b(routines)h(w)o(ould)f(ha)o(v)o(e)g(to)g(b)q(e)h(found)f(and)g(up)q(dated)0 807 y(when)14 b(their)h(referen)o(ts)g(mo)o(v)o(ed.)0945 y Fi(2.7)56 b(Problems)10 b(with)j(Simple)d(T)-5 b(racing)13b(Col-)128 1003 y(lectors)0 1087 y Fn(It)h(is)g(widely)g(kno)o(wn)f(that)h(the)h(asymptotic)e(complexit)o(y)f(of)0 1137 y(cop)o(ying)19b(garbage)g(collection)g(is)g(excellen)o(t|the)i(cop)o(ying)01187 y(cost)c(approac)o(hes)g(zero)g(as)f(memory)d(b)q(ecomes)k(v)o(ery)f(large.)0 1236 y(T)m(readmill)i(collection)i(shares)i(this)f(prop)q(ert)o(y)m(,)h(but)f(other)0 1286 y(collectors)h(can)f(b)q(e)h(similarly)c(e\016cien)o(t)k(if)e(the)i(constan)o(ts)0 1336 y(asso)q(ciated)14 b(with)g(memory)d(reclamation)h(and)h(reallo)q(cation)0 1386 y(are)k(small)d(enough.)27b(In)17 b(that)f(case,)i(garbage)f(detection)g(is)0 1436 y(the)d(ma)r(jor)f(cost.)42 1490 y(Unfortunately)m(,)k(it)h(is)g(di\016cult)f(in)g(practice)i(to)f(ac)o(hiev)o(e)0 1539 y(high)d(e\016ciency)i(in)e(a)h(simple)e(garbage)h(collector,)h(b)q(ecause)0 1589 y(large)c(amoun)o(ts)e(of)h(memory)e(are)k(to)q(o)e(exp)q(ensiv)o(e.)19 b(If)11 b(virtual)0 1639 y(memory)18b(is)h(used,)j(the)f(p)q(o)q(or)f(lo)q(calit)o(y)f(of)g(the)i(allo)q(cation)01689 y(and)e(reclamation)f(cycle)i(will)e(generally)h(cause)i(excessiv)o(e)01739 y(paging.)35 b(\(Ev)o(ery)20 b(lo)q(cation)f(in)h(the)g(heap)g(is)g(used)g(b)q(efore)0 1789 y(an)o(y)13 b(lo)q(cation's)f(space)j(is)e(reclaimed)g(and)g(reused.\))20 b(Simply)0 1838 y(paging)10b(out)i(the)g(recen)o(tly-allo)q(cated)g(data)f(is)h(exp)q(ensiv)o(e)h(for)01888 y(a)d(high-sp)q(eed)h(pro)q(cessor)h([Ung84)o(],)e(and)g(the)h(paging)e(caused)0 1938 y(b)o(y)19 b(the)g(cop)o(ying)f(collection)h(itself)f(ma)o(y)f(b)q(e)j(tremendous,)0 1988 y(since)15 b(all)d(liv)o(e)h(data)h(m)o(ust)f(b)q(e)h(touc)o(hed)h(in)e(the)i(pro)q(cess.\))42 2042 y(It)e(therefore)h(do)q(esn't)g(generally)e(pa)o(y)h(to)g(mak)o(e)e(the)j(heap)0 2092y(area)j(larger)h(than)f(the)h(a)o(v)n(ailable)d(main)g(memory)m(.)25b(\(F)m(or)17 b(a)0 2141 y(mathematical)11 b(treatmen)o(t)i(of)h(this)g(tradeo\013,)g(see)h([Lar77)o(].\))0 2191 y(Ev)o(en)i(as)g(main)e(memory)f(b)q(ecomes)j(steadily)g(c)o(heap)q(er,)h(lo-)0 2241 y(calit)o(y)13b(within)h(cac)o(he)h(memory)d(b)q(ecomes)i(increasingly)g(im-)02291 y(p)q(ortan)o(t,)e(so)h(the)g(problem)e(is)i(partly)f(shifted)h(to)f(a)g(di\013eren)o(t)0 2341 y(lev)o(el)i(of)f(the)h(memory)e(hierarc)o(h)o(y)i([WLM92)o(].)42 2395 y(In)f(general,)h(w)o(e)g(can't)g(ac)o(hiev)o(e)g(the)h(p)q(oten)o(tial)e(e\016ciency)0 2444 y(of)22 b(simple)f(garbage)h(collection;)k(increasing)d(the)g(size)g(of)0 2494 y(memory)13b(to)h(p)q(ostp)q(one)i(or)f(a)o(v)o(oid)f(collections)h(can)g(only)g(b)q(e)02544 y(tak)o(en)f(so)f(far)g(b)q(efore)h(increased)h(paging)d(time)g(negates)j(an)o(y)0 2594 y(adv)n(an)o(tage.)1052 55 y(It)27 b(is)g(imp)q(ortan)o(t)e(to)i(realize)g(that)g(this)g(problem)f(is)1011 105 y(not)21b(unique)g(to)h(cop)o(ying)e(collectors.)41 b Fk(A)o(l)r(l)21b Fn(e\016cien)o(t)g(gar-)1011 155 y(bage)g(collection)f(strategies)i(in)o(v)o(olv)o(e)e(similar)e(space-time)1011 205 y(tradeo\013s|garbage)g(collections)f(are)h(p)q(ostp)q(oned)h(so)f(that)1011 255 y(garbage)h(detection)h(w)o(ork)e(is)h(done)g(less)h(often,)g(and)f(that)1011304 y(means)14 b(that)g(space)i(is)e(not)h(reclaimed)e(as)i(quic)o(kly)m(.)k(On)c(a)o(v-)1011 354 y(erage,)k(that)g(increases)h(the)e(amoun)o(t)f(of)h(memory)d(w)o(asted)1011 404 y(due)f(to)g(unreclaimed)f(garbage.)1052458 y(\(Deferred)g(reference)h(coun)o(ting,)d(lik)o(e)g(tracing)g(collection,)1011 508 y(also)j(trades)h(space)g(for)g(time|in)d(giving)h(up)h(con)o(tin)o(ual)g(in-)1011 558 y(cremen)o(tal)h(reclamation)f(to)h(a)o(v)o(oid)f(sp)q(ending)i(CPU)g(cycles)1011 608 y(in)g(adjusting)g(reference)k(coun)o(ts,)e(one)f(giv)o(es)f(up)h(space)h(for)1011 658 y(ob)r(jects)24b(that)f(b)q(ecome)f(garbage)h(and)f(are)i(not)e(immedi-)1011707 y(ately)15 b(reclaimed.)22 b(A)o(t)15 b(the)h(time)e(scale)i(on)f(whic)o(h)g(memory)1011 757 y(is)k(reused,)k(the)d(resulting)g(lo)q(calit)o(y)e(c)o(haracteristics)k(m)o(ust)1011 807 y(share)17 b(basic)g(p)q(erformance)f(tradeo\013)h(c)o(haracteristics)h(with)1011 857 y(generational)e(collectors)h(of)f(the)i(cop)o(ying)e(or)g(mark-sw)o(eep)1011 907 y(v)n(arieties,)d(whic)o(h)h(will)e(b)q(e)j(discussed)g(later.\))1052 961 y(While)c(cop)o(ying)g(collectors)i(w)o(ere)f(originally)e(designed)i(to)1011 1011y(impro)o(v)o(e)d(lo)q(calit)o(y)m(,)h(in)h(their)h(simple)e(v)o(ersions)h(this)h(impro)o(v)o(e-)1011 1061 y(men)o(t)19 b(is)g(not)h(large,)g(and)g(their)g(lo)q(calit)o(y)e(can)i(in)g(fact)f(b)q(e)1011 1111y Fk(worse)14 b Fn(than)i(that)f(of)g(non-compacting)f(collectors.)23b(These)1011 1160 y(systems)12 b(ma)o(y)e(impro)o(v)o(e)h(the)i(lo)q(calit)o(y)e(of)g(reference)k(to)d(long-)1011 1210 y(liv)o(ed)17 b(data)h(ob)r(jects,)i(whic)o(h)e(ha)o(v)o(e)g(b)q(een)i(compacted)e(in)o(to)10111260 y(a)h(con)o(tiguous)h(area.)36 b(Ho)o(w)o(ev)o(er,)21b(this)f(e\013ect)i(is)d(t)o(ypically)1011 1310 y(sw)o(amp)q(ed)g(b)o(y)h(the)g(e\013ects)i(of)d(references)k(due)d(to)g(allo)q(ca-)10111360 y(tion.)i(Large)16 b(amoun)o(ts)e(of)h(memory)e(are)j(touc)o(hed)gFk(b)n(etwe)n(en)1011 1409 y Fn(collections,)e(and)h(this)f(alone)g(mak)o(es)g(them)g(unsuitable)g(for)1011 1459 y(a)f(virtual)g(memory)f(en)o(vironmen)o(t.)1052 1514 y(The)i(ma)r(jor)f(lo)q(calit)o(y)f(problem)g(is)i(not)g(with)f(the)h(lo)q(calit)o(y)1011 1564 y(of)d(compacted)h(data,)g(or)g(with)g(the)h(lo)q(calit)o(y)e(of)g(the)i(garbage)1011 1613 y(collection)18b(pro)q(cess)i(itself.)32 b(The)19 b(problem)e(is)h(an)h Fk(indir)n(e)n(ct)1011 1663 y Fn(result)g(of)f(the)i(use)f(of)g(garbage)f(collection|b)o(y)g(the)h(time)1011 1713 y(space)14 b(is)g(reclaimed)f(and)g(reused,)i(it's)e(lik)o(ely)g(to)g(ha)o(v)o(e)h(b)q(een)1011 1763 y(paged)e(out,)g(simply)f(b)q(ecause)j(to)q(o)e(man)o(y)e(other)j(pages)g(ha)o(v)o(e)10111813 y(b)q(een)f(allo)q(cated)f(in)g(b)q(et)o(w)o(een.)18 b(Compaction)10b(is)h(helpful,)g(but)1011 1862 y(the)i(help)g(is)g(generally)gFk(to)n(o)h(little,)e(to)n(o)i(late)p Fn(.)k(With)12 b(a)g(simple)10111912 y(semispace)h(cop)o(y)h(collector,)f(lo)q(calit)o(y)f(is)i(lik)o(ely)e(to)h(b)q(e)h(w)o(orse)1011 1962 y(than)e(that)h(of)e(a)h(mark-sw)o(eep)g(collector,)h(b)q(ecause)h(the)f(cop)o(y)1011 2012 y(collector)e(uses)h(more)d(total)h(memory|only)d(half)j(the)i(mem-)1011 2062 y(ory)17b(can)g(b)q(e)h(used)g(b)q(et)o(w)o(een)h(collections.)28 b(F)m(ragmen)o(tation)1011 2111 y(of)14 b(liv)o(e)f(data)i(is)f(not)g(as)h(detrimen)o(tal)e(as)i(the)g(regular)f(reuse)1011 2161 y(of)f(t)o(w)o(o)g(spaces.)12602146 y Fj(13)1052 2216 y Fn(The)f(only)f(w)o(a)o(y)f(to)h(ha)o(v)o(e)h(go)q(o)q(d)f(lo)q(calit)o(y)f(is)h(to)g(ensure)i(that)1011 2266y(memory)h(is)i(large)g(enough)h(to)f(hold)g(the)h(regularly-reused)p1011 2319 388 2 v 1042 2345 a Fh(13)1074 2357 y Fg(Sligh)o(tly)8b(more)g(complicated)e(cop)o(ying)i(sc)o(hemes)g(app)q(ear)f(to)j(a)o(v)o(oid)1011 2397 y(this)g(problem)e([Ung84)o(,)j(WM89],)g(but)f([WLM92)o(])h(demonstrate)o(s)d(that)1011 2436 y Ff(cyclic)18 b Fg(memory)d(reuse)g(patterns)g(can)h(fare)f(p)q(o)q(orly)g(in)i(hierarc)o(hica)o(l)10112475 y(memories)f(b)q(ecause)h(of)h(recency-bas)o(ed)e(\(e.g.,)j(LR)o(U\))g(replacemen)n(t)1011 2515 y(p)q(olicies.)29 b(This)17 b(suggests)f(that)g(freed)f(memory)g(should)g(b)q(e)i(reused)1011 2554 y(in)e(a)h(LIF)o(O)g(fashion)f(\(i.e.,)g(in)h(the)f(opp)q(osite)f(order)g(of)i(its)f(previous)1011 2594 y(allo)q(cation\))o(,)8 b(if)i(the)g(en)o(tire)f(reuse)g(pattern)f(can't)h(b)q(e)h(k)o(ept)g(in)g(memory)m(.)969 2718 y Fn(16)peop%%Page: 17 17bop 0 55 a Fn(area.)34 b(\(Another)20 b(approac)o(h)f(w)o(ould)f(b)q(e)i(to)f(rely)g(on)g(opti-)0 105 y(mizations)f(suc)o(h)i(as)f(prefetc)o(hing,)i(but)f(this)f(is)g(not)h(feasi-)0 155 y(ble)13 b(at)f(the)h(lev)o(el)f(of)g(virtual)g(memory|disks)e(simply)g(can't)0 205 y(k)o(eep)h(up)f(with)f(the)i(rate)f(of)g(allo)q(cation)e(b)q(ecause)k(of)d(the)i(enor-)0255 y(mous)e(sp)q(eed)i(di\013eren)o(tial)f(b)q(et)o(w)o(een)i(RAM)d(and)h(disk.\))17 b Fk(Gen-)0 304 y(er)n(ational)j Fn(collectors)g(address)h(this)f(problem)f(b)o(y)h(reusing)0 354 y(a)g(smaller)f(amoun)o(t)f(of)i(memory)e(more)h(often;)k(they)e(will)0 404 y(b)q(e)h(discussed)h(in)e(Sect.)g(4.)40b(\(F)m(or)21 b(historical)g(reasons,)i(is)0 454 y(widely)d(b)q(eliev)o(ed)g(that)g(only)g(cop)o(ying)f(collectors)i(can)g(b)q(e)0 504y(made)c(generational,)h(but)g(this)g(is)f(not)h(the)h(case.)31b(Gener-)0 553 y(ational)18 b(non-cop)o(ying)g(collectors)i(are)f(sligh)o(tly)f(harder)i(to)0 603 y(construct,)h(but)e(they)f(do)h(exist)g(and)f(are)h(quite)f(practical)0 653 y([D)o(WH)117 638 y Fj(+)143 653 yFn(90,)13 b(WJ93].\))42 708 y(Finally)m(,)f(the)k(temp)q(oral)d(distribution)i(of)f(a)g(simple)g(trac-)0 758 y(ing)k(collector's)i(w)o(ork)f(is)g(also)f(troublesome)h(in)f(an)h(in)o(ter-)0 807 y(activ)o(e)d(programmi)o(ng)d(en)o(vironmen)o(t;)h(it)i(can)f(b)q(e)i(v)o(ery)e(dis-)0 857 y(ruptiv)o(e)g(to)f(a)h(user's)h(w)o(ork)e(to)g(suddenly)i(ha)o(v)o(e)e(the)h(system)0907 y(b)q(ecome)h(unresp)q(onsiv)o(e)i(and)f(sp)q(end)g(sev)o(eral)h(seconds)g(gar-)0 957 y(bage)g(collecting,)h(as)f(is)g(common)e(in)h(suc)o(h)i(systems.)32 b(F)m(or)0 1007 y(large)17 b(heaps,)i(the)f(pauses)h(ma)o(y)d(b)q(e)i(on)f(the)i(order)f(of)f(sec-)0 1057 y(onds,)k(or)g(ev)o(en)f(min)o(utes)g(if)f(a)h(large)g(amoun)o(t)e(of)i(data)f(is)0 1106y(disp)q(ersed)e(through)f(virtual)e(memory)m(.)20 b(Generational)15b(col-)0 1156 y(lectors)j(alleviate)f(this)g(problem,)g(b)q(ecause)i(most)d(garbage)0 1206 y(collections)c(only)f(op)q(erate)h(on)g(a)f(subset)i(of)f(memory)m(.)i(Ev)o(en-)0 1256 y(tually)9 b(they)j(m)o(ust)d(garbage)i(collect)f(larger)h(areas,)g(ho)o(w)o(ev)o(er,)0 1306 y(and)k(the)i(pauses)f(ma)o(y)e(b)q(e)i(considerably)g(longer.)23 b(F)m(or)15 b(real)01355 y(time)e(applications,)f(this)i(ma)o(y)e(not)i(b)q(e)g(acceptable.)01498 y Fi(2.8)56 b(Conserv)m(atism)28 b(in)h(Garbage)h(Collec-)1281556 y(tion)0 1642 y Fn(An)18 b(ideal)g(garbage)f(collector)i(w)o(ould)e(b)q(e)i(able)f(to)g(reclaim)0 1692 y(ev)o(ery)e(ob)r(ject's)h(space)f(just)g(after)g(the)g(last)f(use)i(of)d(the)j(ob-)0 1742 y(ject.)h(Suc)o(h)c(an)f(ob)r(ject)g(is)g(not)g(implemen)o(table)d(in)j(practice,)01792 y(of)g(course,)i(b)q(ecause)h(it)e(cannot)g(in)f(general)i(b)q(e)f(determined)0 1842 y(when)g(the)h(last)f(use)g(o)q(ccurs.)20b(Real)13 b(garbage)g(collectors)i(can)0 1891 y(only)j(pro)o(vide)g(a)g(reasonable)g(appro)o(ximation)e(of)h(this)i(b)q(e-)0 1941y(ha)o(vior,)12 b(using)h(conserv)n(ativ)o(e)h(appro)o(ximations)d(of)i(this)g(om-)0 1991 y(niscience.)19 b(The)13 b(art)g(of)f(e\016cien)o(t)h(garbage)g(collector)g(design)0 2041 y(is)j(largely)f(one)i(of)f(in)o(tro)q(ducing)f(small)f(degrees)k(of)e(conser-)0 2091 y(v)n(atism)j(whic)o(h)h(signi\014can)o(tly)g(reduce)j(the)e(w)o(ork)g(done)g(in)0 2140 y(detecting)h(garbage.)39b(\(This)21 b(notion)g(of)f(conserv)n(atism)g(is)0 2190 y(v)o(ery)h(general,)i(and)e(should)g(not)f(b)q(e)i(confused)g(with)f(the)0 2240y(sp)q(eci\014c)f(p)q(oin)o(ter-iden)o(ti\014cation)f(tec)o(hniques)h(used)g(b)o(y)e(so-)0 2290 y(called)e(\\conserv)n(ativ)o(e")f(garbage)h(collectors.)24 b(All)15 b(garbage)0 2340 y(collectors)g(are)f(conserv)n(ativ)o(e)g(in)g(one)g(or)g(more)f(w)o(a)o(ys.\))42 2395 y(The)20 b(\014rst)h(conserv)n(ativ)o(e)g(assumption)e(most)h(collectors)0 2444 y(mak)o(e)11 b(is)h(that)h(an)o(y)f(v)n(ariable)f(in)i(the)g(stac)o(k,)f(globals,)f(or)i(reg-)02494 y(isters)19 b(is)f(liv)o(e,)g(ev)o(en)h(though)e(the)i(v)n(ariable)e(ma)o(y)f(actually)0 2544 y(nev)o(er)c(b)q(e)g(referenced)i(again.)i(\(There)d(ma)o(y)c(b)q(e)j(in)o(teractions)0 2594 y(b)q(et)o(w)o(een)i(the)e(compiler's)f(optimizations)f(and)i(the)g(garbage)1011 55 y(collector's)e(view)f(of)h(the)g(reac)o(habilit)o(y)f(graph.)17 b(A)9 b(compiler's)1011105 y(data)j(and)g(con)o(trol)g(\015o)o(w)g(analysis)g(ma)o(y)e(detect)15b(dead)d(v)n(alues)1011 155 y(and)h(optimize)f(them)g(a)o(w)o(a)o(y)g(en)o(tirely)m(.)18 b(Compiler)11 b(optimiza-)1011 205 y(tions)20b(ma)o(y)e(also)h(extend)i(the)g(e\013ectiv)o(e)h(lifetime)c(of)h(v)n(ari-)1011 255 y(ables,)d(causing)h(extra)f(garbage)g(to)g(b)q(e)h(retained,)g(but)g(this)1011 304 y(is)c(not)h(t)o(ypically)f(a)g(problem)g(in)g(practice.\))1052 358 y(T)m(racing)h(collectors)g(in)o(tro)q(duce)h(a)f(ma)r(jor)eFk(temp)n(or)n(al)i Fn(form)1011 408 y(of)e(conserv)n(atism,)g(simply)e(b)o(y)j(allo)o(wing)d(garbage)i(to)h(go)f(un-)1011 457 y(collected)17b(b)q(et)o(w)o(een)g(collection)f(cycles.)26 b(Reference)18b(coun)o(t-)1011 507 y(ing)13 b(collectors)h(are)g(conserv)n(ativ)o(e)g(top)q(ologically)m(,)d(failing)g(to)1011 557 y(distinguish)g(b)q(et)o(w)o(een)i(di\013eren)o(t)g(paths)f(that)f(share)i(an)e(edge)1011 607y(in)i(the)i(graph)e(of)h(p)q(oin)o(ter)g(relationships.)1052660 y(As)f(the)g(remainder)e(of)h(this)g(surv)o(ey)h(will)e(sho)o(w,)h(there)i(are)1011 710 y(man)o(y)c(p)q(ossible)j(kinds)f(and)h(degrees)h(of)e(conserv)n(atism)f(with)1011 760 y(di\013eren)o(t)k(p)q(erformance)e(tradeo\013s.)1011 916 y Fo(3)69 b(Increme)o(n)n(tal)34 b(T)-6b(racing)37 b(Collec-)1114 991 y(tors)1011 1089 y Fn(F)m(or)22b(truly)h(real-time)e(applications,)i(\014ne-grained)g(incre-)10111138 y(men)o(tal)e(garbage)i(collection)f(app)q(ears)i(to)e(b)q(e)i(necessary)m(.)1011 1188 y(Garbage)9 b(collection)g(cannot)g(b)q(e)h(carried)g(out)g(as)f(one)h(atomic)1011 1238 y(action)22 b(while)f(the)i(program)e(is)h(halted,)i(so)e(small)e(units)1011 1288 y(of)c(garbage)i(collection)f(m)o(ust)f(b)q(e)i(in)o(terlea)o(v)o(ed)f(with)g(small)1011 1338y(units)g(of)f(program)f(execution.)28 b(As)18 b(w)o(e)f(said)f(earlier,)i(it)e(is)1011 1387 y(relativ)o(ely)h(easy)i(to)f(mak)o(e)e(reference)21b(coun)o(ting)c(collectors)1011 1437 y(incremen)o(tal.)27 b(Reference)20b(coun)o(ting's)d(problems)f(with)h(ef-)1011 1487 y(\014ciency)e(and)f(e\013ectiv)o(eness)k(discourage)d(its)f(use,)h(ho)o(w)o(ev)o(er,)10111537 y(and)f(it)g(is)g(therefore)i(desirable)e(to)h(mak)o(e)d(tracing)i(\(cop)o(ying)1011 1587 y(or)g(marking\))d(collectors)k(incremen)o(tal.)10521640 y(In)i(m)o(uc)o(h)f(of)g(the)i(follo)o(wing)c(discussion,)k(the)f(di\013erence)1011 1690 y(b)q(et)o(w)o(een)12 b(cop)o(ying)e(and)g(mark-sw)o(eep)h(collectors)g(is)f(not)h(par-)1011 1740 y(ticularly)i(imp)q(ortan)o(t.)19 b(The)c(incremen)o(tal)f(tracing)g(for)g(gar-)1011 1790y(bage)i(detection)i(is)f(more)e(in)o(teresting)i(than)g(the)g(reclama-)10111839 y(tion)c(of)g(detected)j(garbage.)1052 1893 y(The)c(di\016cult)o(y)f(with)g(incremen)o(tal)f(tracing)i(is)f(that)g(while)1011 1943y(the)g(collector)h(is)f(tracing)g(out)g(the)g(graph)g(of)g(reac)o(hable)g(data)1011 1992 y(structures,)20 b(the)d(graph)g(ma)o(y)e(c)o(hange|the)i(running)g(pro-)1011 2042 y(gram)12 b(ma)o(y)g Fk(mutate)iFn(the)h(graph)e(while)h(the)g(collector)h(\\isn't)1011 2092y(lo)q(oking.")36 b(F)m(or)20 b(this)h(reason,)h(discussions)f(of)f(incremen-)1011 2142 y(tal)d(collectors)i(t)o(ypically)e(refer)i(to)f(the)h(running)f(program)1011 2192 y(as)d(the)g Fk(mutator)f Fn([DLM)14012177 y Fj(+)1428 2192 y Fn(78)o(].)20 b(\(F)m(rom)13 b(the)j(garbage)e(collec-)1011 2241 y(tor's)g(p)q(oin)o(t)g(of)f(view,)h(the)h(actual)f(application)f(is)h(merely)f(a)1011 2291 y(coroutine)k(or)g(concurren)o(t)i(pro)q(cess)g(with)e(an)g(unfortunate)1011 2341 y(tendency)k(to)e(mo)q(dify)e(data)i(structures)j(that)e(the)g(collec-)1011 2391 y(tor)11b(is)h(attempting)e(to)i(tra)o(v)o(erse.\))18 b(An)12 b(incremen)o(tal)f(sc)o(heme)1011 2441 y(m)o(ust)f(ha)o(v)o(e)g(some)g(w)o(a)o(y)g(of)h(k)o(eeping)g(trac)o(k)g(of)f(the)i(c)o(hanges)f(to)1011 2491 y(the)j(graph)g(of)f(reac)o(hable)i(ob)r(jects,)f(p)q(erhaps)h(re-computing)1011 2540y(parts)f(of)f(its)h(tra)o(v)o(ersal)g(in)g(the)g(face)g(of)g(those)g(c)o(hanges.)1052 2594 y(An)24 b(imp)q(ortan)o(t)d(c)o(haracteristic)k(of)e(incremen)o(tal)f(tec)o(h-)969 2718 y(17)p eop%%Page: 18 18bop 0 55 a Fn(niques)15 b(is)f(their)h(degree)g(of)f(conserv)n(atism)g(with)g(resp)q(ect)i(to)0 105 y(c)o(hanges)h(made)e(b)o(y)h(the)h(m)o(utator)d(during)i(garbage)g(collec-)0 155 y(tion.)28 b(If)17 b(the)h(m)o(utator)e(c)o(hanges)i(the)g(graph)f(of)g(reac)o(hable)0 205 y(ob)r(jects,)j(freed)f(ob)r(jects)h(ma)o(y)c(or)j(ma)o(y)d(not)i(b)q(e)h(reclaimed)0 255y(b)o(y)d(the)h(garbage)e(collector.)25 b(Some)15 b Fk(\015o)n(ating)j(garb)n(age)e Fn(ma)o(y)0 304 y(go)d(unreclaimed)g(b)q(ecause)j(the)e(collector)h(has)f(already)f(cat-)0 354 y(egorized)20 b(the)g(ob)r(ject)g(as)g(liv)o(e)f(b)q(efore)h(the)g(m)o(utator)e(frees)0 404 y(it.)23 b(This)15b(garbage)h Fk(is)f Fn(guaran)o(teed)h(to)g(b)q(e)g(collected)g(at)g(the)0454 y(next)e(cycle,)g(ho)o(w)o(ev)o(er,)g(b)q(ecause)h(it)e(will)f(b)q(e)j(garbage)e(at)h(the)0 504 y Fk(b)n(e)n(ginning)g Fn(of)g(the)g(next)h(collection.)0 622 y Fi(3.1)56 b(Coherence)18 b(and)h(Conserv)m(atism)0699 y Fn(Incremen)o(tal)24 b(marking)e(tra)o(v)o(ersals)i(m)o(ust)f(tak)o(e)i(in)o(to)e(ac-)0 749 y(coun)o(t)14 b(c)o(hanges)h(to)e(the)h(reac)o(habilit)o(y)f(graph,)g(made)g(b)o(y)h(the)0 799 y(m)o(utator)19 b(during)h(the)h(collector's)f(tra)o(v)o(ersal.)37 b(Incremen-)0 848 y(tal)17b(cop)o(ying)h(collectors)g(p)q(ose)h(more)e(sev)o(ere)j(co)q(ordination)0898 y(problems|the)d Fk(mutator)g Fn(m)o(ust)g(also)g(b)q(e)i(protected)g(from)0 948 y(c)o(hanges)c(made)d(b)o(y)i(the)g(garbage)g(collector.)42998 y(It)c(ma)o(y)f(b)q(e)i(enligh)o(tening)e(to)i(view)f(these)i(issues)g(as)e(a)g(v)n(ari-)0 1048 y(et)o(y)k(of)f Fk(c)n(oher)n(enc)n(e)hFn(problems|ha)o(ving)d(m)o(ultiple)h(pro)q(cesses)0 1098 y(attempt)21b(to)g(share)h(c)o(hanging)e(data,)j(while)e(main)o(taini)o(ng)01148 y(some)11 b(kind)g(of)f(consisten)o(t)j(view)e([NOPH92].)17b(\(Readers)12 b(un-)0 1198 y(familia)o(r)i(with)j(coherence)i(problems)d(in)g(parallel)g(systems)0 1247 y(should)j(not)g(w)o(orry)g(to)q(o)f(m)o(uc)o(h)g(ab)q(out)h(this)g(terminology;)0 1297 y(the)14 b(issues)h(should)f(b)q(ecome)g(apparen)o(t)g(as)g(w)o(e)g(go)g(along.\))42 1347 y(An)d(incremen)o(tal)g(mark-sw)o(eep)g(tra)o(v)o(ersal)g(p)q(oses)i(a)e Fk(multi-)01397 y(ple)j(r)n(e)n(aders,)f(single)h(writer)d Fn(coherence)k(problem|the)d(col-)0 1447 y(lector's)18 b(tra)o(v)o(ersal)g(m)o(ust)f(resp)q(ond)i(to)e(c)o(hanges,)i(but)f(only)0 1497 y(the)e(m)o(utator)f(can)h(c)o(hange)g(the)g(graph)g(of)f(ob)r(jects.)25 b(\(Simi-)0 1547 y(larly)m(,)9b(only)g(the)i(tra)o(v)o(ersal)f(can)h(c)o(hange)f(the)h(mark)e(bits;)i(eac)o(h)0 1596 y(pro)q(cess)j(can)e(up)q(date)g(v)n(alues,)g(but)g(an)o(y)f(\014eld)h(is)g(writable)f(b)o(y)0 1646 y(only)j(one)g(pro)q(cess.)21b(Only)14 b(the)h(m)o(utator)e(writes)i(to)f(p)q(oin)o(ter)01696 y(\014elds,)g(and)g(only)f(the)h(collector)g(writes)h(to)f(mark)e(\014elds.\))42 1746 y(Cop)o(ying)e(collectors)j(p)q(ose)f(a)f(more)g(di\016cult)g(problem|a)0 1796 y Fk(multiple)16 b(r)n(e)n(aders,)h(multiple)f(writers)e Fn(problem.)23 b(Both)17 b(the)0 1846 y(m)o(utator)d(and)i(the)h(collector)f(ma)o(y)e(mo)q(dify)f(p)q(oin)o(ter)j(\014elds,)01896 y(and)i(eac)o(h)g(m)o(ust)f(b)q(e)h(protected)h(from)e(inconsistencies)i(in-)0 1945 y(tro)q(duced)c(b)o(y)f(the)g(other.)42 1996 y(Garbage)h(collectors)h(can)g(e\016cien)o(tly)g(solv)o(e)f(these)i(prob-)02045 y(lems)12 b(b)o(y)i(taking)f(adv)n(an)o(tage)f(of)h(the)h(seman)o(tics)f(of)g(garbage)0 2095 y(collection,)21 b(and)f(using)g(forms)e(of)iFk(r)n(elaxe)n(d)g(c)n(onsistency)p Fn(|)0 2145 y(that)12 b(is,)g(the)g(pro)q(cesses)j(needn't)e(alw)o(a)o(ys)e(ha)o(v)o(e)g(a)h(consisten)o(t)02195 y(view)i(of)g(the)g(data)g(structures,)i(as)f(long)e(as)h(the)h(di\013erences)0 2245 y(b)q(et)o(w)o(een)f(their)f(views)f(\\don't)g(matter")g(to)g(the)h(correctness)0 2295 y(of)g(the)i(algorithm.)422345 y(In)21 b(particular,)h(the)f(garbage)g(collector's)g(view)g(of)g(the)02395 y(reac)o(habilit)o(y)13 b(graph)h(is)g(t)o(ypically)eFk(not)j Fn(iden)o(tical)e(to)h(the)g(ac-)0 2444 y(tual)j(reac)o(habilit)o(y)h(graph)f(visible)h(to)g(the)g(m)o(utator.)29 b(It)18 b(is)02494 y(only)h(a)h(safe,)i Fk(c)n(onservative)e Fn(appro)o(ximation)e(of)h(the)i(true)0 2544 y(reac)o(habilit)o(y)f(graph|the)h(garbage)f(collector)h(ma)o(y)e(view)0 2594 y(some)d(unreac)o(hable)i(ob)r(jects)h(as)e(reac)o(hable,)h(as)g(long)e(as)i(it)1011 55 y(do)q(esn't)j(view)g(reac)o(hable)h(ob)r(jects)g(as)f(unreac)o(hable,)i(and)1011 105 y(erroneously)16b(reclaim)d(their)j(space.)22 b(T)o(ypically)m(,)13 b(some)h(gar-)1011155 y(bage)d(ob)r(jects)i(go)e(unreclaimed)f(for)h(a)g(while;)g(usually)m(,)g(these)1011 205 y(are)17 b(ob)r(jects)g(that)f(b)q(ecome)h(garbage)f(after)g(b)q(eing)h(reac)o(hed)1011 255 y(b)o(y)f(the)i(collector's)f(tra)o(v)o(ersal.)27 b(Suc)o(h)18 b(\015oating)d(garbage)i(is)1011 304y(usually)g(reclaimed)h(at)g(the)h(next)g(garbage)f(collection)g(cy-)1011354 y(cle;)25 b(since)e(they)f(will)e(b)q(e)i(garbage)g(at)f(the)hFk(b)n(e)n(ginning)h Fn(of)1011 404 y(that)d(collection,)h(the)g(tracing)f(pro)q(cess)j(will)c(not)h(conser-)1011 454 y(v)n(ativ)o(ely)c(view)i(them)f(as)g(liv)o(e.)29 b(The)18 b(inabilit)o(y)e(to)h(reclaim)1011504 y(\015oating)12 b(garbage)h(imm)o(ediately)d(is)j(unfortunate,)h(but)f(ma)o(y)1011 553 y(b)q(e)19 b(essen)o(tial)f(to)g(a)o(v)o(oiding)f(v)o(ery)h(exp)q(ensiv)o(e)i(co)q(ordination)1011 603 y(b)q(et)o(w)o(een)15b(the)g(m)o(utator)d(and)i(collector.)1052 653 y(The)28 b(kind)e(of)g(relaxed)i(consistency)g(used|and)f(the)1011 703 y(corresp)q(onding)h(coherence)i(features)e(of)f(the)h(collection)1011 753 y(sc)o(heme|are)22b(closely)g(in)o(tert)o(wined)h(with)e(the)i(notion)f(of)1011803 y(conserv)n(atism.)16 b(In)9 b(general,)h(the)h(more)d(w)o(e)i(relax)f(the)i(consis-)1011 853 y(tency)j(b)q(et)o(w)o(een)g(the)f(m)o(utator's)f(and)g(the)i(collector's)f(views)1011 903 y(of)k(the)h(reac)o(habilit)o(y)e(graph,)i(the)g(more)f(conserv)n(ativ)o(e)h(our)1011 952 y(collection)13b(b)q(ecomes,)h(and)g(the)g(more)f(\015oating)g(garbage)h(w)o(e)10111002 y(m)o(ust)h(accept.)27 b(On)17 b(the)g(p)q(ositiv)o(e)f(side,)h(the)g(more)f(relaxed)1011 1052 y(our)c(notion)g(of)h(consistency)m(,)g(the)g(more)f(\015exibilit)o(y)f(w)o(e)i(ha)o(v)o(e)1011 1102 y(in)i(the)i(details)f(of)f(the)i(tra)o(v)o(ersal)f(algorithm.)22 b(\(In)16 b(parallel)10111152 y(and)i(distributed)g(garbage)g(collection,)g(a)g(relaxed)h(consis-)10111201 y(tency)d(mo)q(del)e(also)h(allo)o(ws)g(more)f(parallelism)f(and/or)i(less)1011 1251 y(sync)o(hronization,)g(but)g(that)g(is)g(b)q(ey)o(ond)g(the)h(scop)q(e)g(of)f(this)1011 1301 y(surv)o(ey)m(.\))1011 1420y Fi(3.2)55 b(T)-5 b(ricolor)18 b(Marking)1011 1497 y Fn(The)10b(abstraction)g(of)f Fk(tric)n(olor)h(marking)f Fn(is)h(helpful)f(in)g(under-)1011 1547 y(standing)23 b(incremen)o(tal)f(garbage)h(collection)g([DLM)1889 1532 y Fj(+)1915 1547 y Fn(78].)1011 1597 y(Garbage)17b(collection)g(algorithms)e(can)j(b)q(e)g(describ)q(ed)h(as)e(a)10111646 y(pro)q(cess)k(of)d(tra)o(v)o(ersing)h(the)h(graph)f(of)f(reac)o(hable)i(ob)r(jects)1011 1696 y(and)f(coloring)f(them.)32 b(The)20b(ob)r(jects)g(sub)r(ject)g(to)f(garbage)1011 1746 y(collection)c(are)h(conceptually)f(colored)h(white,)f(and)g(b)o(y)g(the)1011 1796y(end)g(of)f(collection,)g(those)h(that)g(will)e(b)q(e)i(retained)h(m)o(ust)d(b)q(e)1011 1846 y(colored)f(blac)o(k.)17 b(When)c(there)g(are)g(no)f(reac)o(hable)h(no)q(des)g(left)1011 1896 y(to)h(blac)o(k)o(en,)f(the)i(tra)o(v)o(ersal)f(of)g(liv)o(e)f(data)h(structures)j(is)d(\014n-)10111945 y(ished.)1052 1996 y(In)20 b(a)f(simple)g(mark-sw)o(eep)g(collector,)i(this)e(coloring)g(is)1011 2045 y(directly)i(implemen)o(ted)d(b)o(y)j(setting)g(mark)e(bits|ob)r(jects)1011 2095 y(whose)g(bit)f(is)g(set)h(are)g(blac)o(k.)30 b(In)19 b(a)e(cop)o(y)i(collector,)g(this)10112145 y(is)g(the)i(pro)q(cess)g(of)e(mo)o(ving)e(ob)r(jects)k(from)d(fromspace)h(to)1011 2195 y(tospace|unreac)o(hed)f(ob)r(jects)g(in)f(fromspace)f(are)h(consid-)1011 2245 y(ered)f(white,)e(and)h(ob)r(jects)h(mo)o(v)o(ed)d(to)h(tospace)i(are)f(consid-)1011 2294 y(ered)h(blac)o(k.)22b(The)16 b(abstraction)f(of)g(coloring)f(is)h(orthogonal)10112344 y(to)i(the)g(distinction)f(b)q(et)o(w)o(een)j(marking)14b(and)j(cop)o(ying)f(col-)1011 2394 y(lectors,)g(and)f(is)g(imp)q(ortan)o(t)e(for)i(understanding)h(the)g(basic)1011 2444 y(di\013erences)g(b)q(et)o(w)o(een)f(incremen)o(tal)e(collectors.)1052 2494 y(In)g(incremen)o(tal)f(collectors,)h(the)g(in)o(termediate)f(states)i(of)1011 2544y(the)19 b(coloring)f(tra)o(v)o(ersal)h(are)g(imp)q(ortan)o(t,)f(b)q(ecause)i(of)e(on-)1011 2594 y(going)11 b(m)o(utator)h(activit)o(y|the)g(m)o(utator)f(can't)i(b)q(e)g(allo)o(w)o(ed)969 2718 y(18)p eop%%Page: 19 19bop 0 55 a Fn(to)12 b(c)o(hange)h(things)f(\\b)q(ehind)g(the)h(collector's)g(bac)o(k")f(in)f(suc)o(h)0 105 y(a)k(w)o(a)o(y)f(that)i(the)f(collector)h(will)e(fail)f(to)i(\014nd)h(all)e(reac)o(hable)0 155 y(ob)r(jects.)42214 y(T)m(o)20 b(understand)j(and)e(prev)o(en)o(t)h(suc)o(h)g(in)o(teractions)g(b)q(e-)0 264 y(t)o(w)o(een)e(the)g(m)o(utator)e(and)h(the)h(collector,)h(it)e(is)g(useful)g(to)0 314 y(in)o(tro)q(duce)14b(a)e(third)h(color,)f(gra)o(y)m(,)g(to)g(signify)g(that)h(an)f(ob)r(ject)0364 y(has)g(b)q(een)g(reac)o(hed)h(b)o(y)e(the)i(tra)o(v)o(ersal,)e(but)h(that)g Fk(its)g(desc)n(en-)0 414 y(dants)20 b(may)g(not)g(have)g(b)n(e)n(en)p Fn(.)34 b(That)19 b(is,)h(as)f(the)h(tra)o(v)o(ersal)0 463y(pro)q(ceeds)c(out)o(w)o(ard)e(from)e(the)i(ro)q(ots,)g(ob)r(jects)h(are)g(initially)0 513 y(colored)f(gra)o(y)m(.)k(When)d(they)g(are)f(scanned)i(and)e(p)q(oin)o(ters)g(to)0 563 y(their)j(o\013spring)g(are)g(tra)o(v)o(ersed,)h(they)f(are)g(blac)o(k)o(ened)g(and)0 613 y(the)d(o\013spring)g(are)h(colored)f(gra)o(y)m(.)42 672 y(In)g(a)h(cop)o(ying)e(collector,)i(the)g(gra)o(y)f(ob)r(jects)i(are)f(the)h(ob-)0 722 y(jects)j(in)e(the)h(unscanned)h(area)f(of)f(tospace|if)g(a)g(Cheney)0 772 y(breadth-\014rst)h(tra)o(v)o(ersal)g(is)f(used,)h(that's)f(the)h(ob)r(jects)g(b)q(e-)0822 y(t)o(w)o(een)i(the)g(scan)f(and)g(free)h(p)q(oin)o(ters.)35b(In)19 b(a)g(mark-sw)o(eep)0 871 y(collector,)c(the)h(gra)o(y)e(ob)r(jects)i(corresp)q(ond)h(to)d(the)i(stac)o(k)f(or)0 921 y(queue)i(of)f(ob)r(jects)i(used)f(to)f(con)o(trol)h(the)g(marking)d(tra)o(v)o(er-)0 971y(sal,)e(and)h(the)g(blac)o(k)g(ob)r(jects)h(are)f(the)g(ones)h(that)e(ha)o(v)o(e)h(b)q(een)0 1021 y(remo)o(v)o(ed)i(from)e(the)j(queue.)24b(In)15 b(b)q(oth)h(cases,)h(ob)r(jects)f(that)0 1071 y(ha)o(v)o(e)e(not)g(b)q(een)h(reac)o(hed)g(y)o(et)f(are)g(white.)42 1130 y(In)o(tuitiv)o(ely)m(,)e(the)i(tra)o(v)o(ersal)g(pro)q(ceeds)i(in)e(a)f(w)o(a)o(v)o(efron)o(t)h(of)01180 y(gra)o(y)j(ob)r(jects,)j(whic)o(h)d(separates)i(the)g(white)f(\(unreac)o(hed\))0 1230 y(ob)r(jects)e(from)d(the)i(blac)o(k)f(ob)r(jects)h(that)g(ha)o(v)o(e)f(b)q(een)i(passed)0 1280 y(b)o(y)i(the)h(w)o(a)o(v)o(e|that)f(is,)h(there)h(are)f(no)f(p)q(oin)o(ters)h(directly)0 1329 y(from)10b(blac)o(k)i(ob)r(jects)h(to)e(white)h(ones.)18 b(This)12 b(abstracts)h(a)o(w)o(a)o(y)0 1379 y(from)8 b(the)i(particulars)f(of)g(the)h(tra)o(v)o(ersal)f(algorithm|it)d(ma)o(y)0 1429 y(b)q(e)19 b(depth-\014rst,)i(breadth-\014rst,)g(or)e(just)g(ab)q(out)f(an)o(y)h(kind)0 1479 y(of)f(exhaustiv)o(e)h(tra)o(v)o(ersal.)32 b(It)19 b(is)f(only)g(imp)q(ortan)o(t)f(that)h(a)01529 y(w)o(ell-de\014ned)f(gra)o(y)g(fringe)g(b)q(e)h(iden)o(ti\014able,)e(and)h(that)h(the)0 1578 y(m)o(utator)f(preserv)o(e)k(the)e(in)o(v)n(arian)o(t)e(that)i(no)f(blac)o(k)g(ob)r(ject)0 1628 y(hold)13 b(a)h(p)q(oin)o(ter)g(directly)g(to)g(a)f(white)h(ob)r(ject.)42 1688 y(The)c(imp)q(ortance)e(of)i(this)f(in)o(v)n(arian)o(t)f(is)i(that)g(the)g(collector)01737 y(m)o(ust)g(b)q(e)i(able)f(to)f(assume)h(that)g(it)g(is)g(\\\014nished)g(with")g(blac)o(k)0 1787 y(ob)r(jects,)i(and)f(can)g(con)o(tin)o(ue)g(to)g(tra)o(v)o(erse)h(gra)o(y)e(ob)r(jects)i(and)0 1837 y(mo)o(v)o(e)j(the)i(w)o(a)o(v)o(efron)o(t)f(forw)o(ard.)29 b(If)18 b(the)g(m)o(utator)e(creates)01887 y(a)e(p)q(oin)o(ter)h(from)e(a)h(blac)o(k)g(ob)r(ject)i(to)e(a)h(white)f(one,)h(it)f(m)o(ust)0 1937 y(someho)o(w)g(notify)g(the)h(collector)g(that)g(its)g(assumption)f(has)0 1986 y(b)q(een)h(violated.)i(This)c(ensures)j(that)e(the)g(collector's)g(b)q(o)q(ok-)0 2036 y(k)o(eeping)g(is)g(brough)o(t)f(up)h(to)g(date.)42 2096 y(Figure)k(7)g(demonstrates)h(this)g(need)g(for)f(co)q(ordination.)0 2145 y(Supp)q(ose)j(the)f(ob)r(ject)g(A)g(has)g(b)q(een)h(completely)d(scanned)0 2195 y(\(and)e(therefore)h(blac)o(k)o(ened\);)g(its)f(descendan)o(ts)h(ha)o(v)o(e)f(b)q(een)0 2245 y(reac)o(hed)i(and)g(gra)o(y)o(ed.)27 b(No)o(w)17 b(supp)q(ose)i(that)e(the)h(m)o(utator)02295 y(sw)o(aps)11 b(the)g(p)q(oin)o(ter)f(from)f(A)h(to)g(C)h(with)f(the)h(p)q(oin)o(ter)f(from)f(B)0 2345 y(to)g(D.)g(The)g(only)g(p)q(oin)o(ter)g(to)h(D)e(is)i(no)o(w)f(in)f(a)h(\014eld)h(of)e(A,)h(whic)o(h)02395 y(the)j(collector)f(has)g(already)g(scanned.)18 b(If)10b(the)i(tra)o(v)o(ersal)f(con-)0 2444 y(tin)o(ues)j(without)f(an)o(y)g(co)q(ordination,)f(B)h(will)f(b)q(e)i(blac)o(k)o(ened,)0 2494 y(C)e(will)g(b)q(e)h(reac)o(hed)h(again)d(\(from)g(B\),)h(and)h(D)f(will)f(nev)o(er)j(b)q(e)02544 y(reac)o(hed)i(at)f(all,)f(and)h(hence)i(will)c(b)q(e)j(erroneously)g(deemed)0 2594 y(garbage)e(and)f(reclaimed.)1236 789 ygsave currentpoint currentpoint translate 270 rotate neg exch neg exch translate1236 789 a 15302080 11476556 526254 986726 51507118 39337492 startTexFig1236 789 a%%BeginDocument: tricolor.ps/Win33Dict 290 dict def Win33Dict begin/bd{bind def}bind def/in{72mul}bd/ed{exch def}bd/ld{load def}bd/tr/translate ld/gs/gsave ld/gr/grestoreld/M/moveto ld/L/lineto ld/rmt/rmoveto ld/rlt/rlineto ld/rct/rcurvetold/st/stroke ld/n/newpath ld/sm/setmatrix ld/cm/currentmatrix ld/cp/closepathld/ARC/arcn ld/TR{65536 div}bd/lj/setlinejoin ld/lc/setlinecap ld/ml/setmiterlimitld/sl/setlinewidth ld/scignore false def/sc{scignore{pop pop pop}{0index 2 index eq 2 index 4 index eq and{pop pop 255 div setgray}{3{255div 3 1 roll}repeat setrgbcolor}ifelse}ifelse}bd/FC{bR bG bB sc}bd/fC{/bBed/bG ed/bR ed}bd/HC{hR hG hB sc}bd/hC{/hB ed/hG ed/hR ed}bd/PC{pRpG pB sc}bd/pC{/pB ed/pG ed/pR ed}bd/sM matrix def/PenW 1 def/iPen5 def/mxF matrix def/mxE matrix def/fBE false def/iDevRes 72 0 matrixdefaultmatrix dtransform dup mul exch dup mul add sqrt def/SS{/SV savedef}bd/RS{SV restore}bd/EJ{gsave showpage grestore}bd/#C{userdict begin/#copiesed end}bd/SM{/iRes ed/cyP exch def/cxP exch def/cyM exch def/cxM exchdef 72 iRes div dup neg scale 0 ne{cyP cxP neg tr 90 rotate cxM cyM}{cxMcyM cyP sub}ifelse tr 0 0 transform .25 add round .25 sub exch .25add round .25 sub exch itransform translate}bd/SJ{1 index 0 eq{poppop/fBE false def}{1 index/Break ed div/dxBreak ed/fBE true def}ifelse}bd/ANSIVec[16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde 16#4/macron 16#5/breve16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A/hungarumlaut16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60/grave16#7C/bar 16#91/quoteleft 16#92/quoteright 16#93/quotedblleft 16#94/quotedblright16#95/bullet 16#96/endash 16#97/emdash 16#A0/space 16#A4/currency 16#A6/brokenbar16#A7/section 16#A8/dieresis 16#A9/copyright 16#AA/ordfeminine 16#AB/guillemotleft16#AC/logicalnot 16#AD/hyphen 16#AE/registered 16#AF/macron 16#B0/degree16#B1/plusminus 16#B2/twosuperior 16#B3/threesuperior 16#B4/acute 16#B5/mu16#B6/paragraph 16#B7/periodcentered 16#B8/cedilla 16#B9/onesuperior16#BA/ordmasculine 16#BB/guillemotright 16#BC/onequarter 16#BD/onehalf16#BE/threequarters 16#BF/questiondown 16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex16#C3/Atilde 16#C4/Adieresis 16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave16#C9/Eacute 16#CA/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute16#CE/Icircumflex 16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve16#D3/Oacute 16#D4/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply16#D8/Oslash 16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis16#DD/Yacute 16#DE/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute16#E2/acircumflex 16#E3/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae16#E7/ccedilla 16#E8/egrave 16#E9/eacute 16#EA/ecircumflex 16#EB/edieresis16#EC/igrave 16#ED/iacute 16#EE/icircumflex 16#EF/idieresis 16#F0/eth16#F1/ntilde 16#F2/ograve 16#F3/oacute 16#F4/ocircumflex 16#F5/otilde16#F6/odieresis 16#F7/divide 16#F8/oslash 16#F9/ugrave 16#FA/uacute16#FB/ucircumflex 16#FC/udieresis 16#FD/yacute 16#FE/thorn 16#FF/ydieresis] def/reencdict 12 dict def/IsChar{basefontdict/CharStrings get exchknown}bd/MapCh{dup IsChar not{pop/bullet}if newfont/Encoding get 31 roll put}bd/MapDegree{16#b0/degree IsChar{/degree}{/ring}ifelse MapCh}bd/MapBB{16#a6/brokenbarIsChar{/brokenbar}{/bar}ifelse MapCh}bd/ANSIFont{reencdict begin/newfontnameed/basefontname ed FontDirectory newfontname known not{/basefontdictbasefontname findfont def/newfont basefontdict maxlength dict def basefontdict{exchdup/FID ne{dup/Encoding eq{exch dup length array copy newfont 3 1 rollput}{exch newfont 3 1 roll put}ifelse}{pop pop}ifelse}forall newfont/FontNamenewfontname put 127 1 159{newfont/Encoding get exch/bullet put}forANSIVec aload pop ANSIVec length 2 idiv{MapCh}repeat MapDegree MapBBnewfontname newfont definefont pop}if newfontname end}bd/SB{FC/stred str length fBE not{dup 1 gt{1 sub}if}if/cbStr ed/dxGdi ed/y0 ed/x0ed str stringwidth esc 0 ne{mxE itransform exch neg dxGdi add cbStrdiv exch mxE transform}{exch neg dxGdi add cbStr div exch}ifelse/dyExtraed/dxExtra ed x0 y0 M fBE{dxBreak 0 BCh dxExtra dyExtra str awidthshow}{dxExtradyExtra str ashow}ifelse fUL{x0 y0 M dxUL dyUL rmt dxGdi fBE{Breakadd}if 0 mxE transform rlt cyUL sl st}if fSO{x0 y0 M dxSO dySO rmtdxGdi fBE{Break add}if 0 mxE transform rlt cyUL sl st}if n/fBE falsedef}bd/font{/name ed/Ascent ed 0 ne/fSO ed 0 ne/fUL ed/Sy ed/Sx ed10.0 div/ori ed -10.0 div/esc ed/BCh ed name findfont [Sx 0 0 Sy neg0 Ascent] esc mxE rotate mxF concatmatrix makefont setfont fUL{currentfontdup/FontInfo get/UnderlinePosition known not{pop/Courier findfont}if/FontInfoget/UnderlinePosition get 1000 div 0 exch mxF transform/dyUL ed/dxULed}if fSO{0 .3 mxF transform/dySO ed/dxSO ed}if fUL fSO or{currentfontdup/FontInfo get/UnderlineThickness known not{pop/Courier findfont}if/FontInfoget/UnderlineThickness get 1000 div Sy mul/cyUL ed}if}bd/min{2 copygt{exch}if pop}bd/max{2 copy lt{exch}if pop}bd/CP{/ft ed{{ft 0 eq{clip}{eoclip}ifelse}stopped{currentflat1 add setflat}{exit}ifelse}loop}bd/patfont 10 dict def patfont begin/FontType3 def/FontMatrix [1 0 0 1 0 0] def/FontBBox [0 0 32 32] def/EncodingStandardEncoding def/BuildChar{pop pop 32 0 0 0 32 32 setcachedevice2 2 scale 16 16 false [1 0 0 1 .25 .25]{pat}imagemask}bd end/p{/pat32 string def{}forall 0 1 7{dup 2 mul pat exch 3 index put dup 2 mul1 add pat exch 3 index put dup 2 mul 16 add pat exch 3 index put 2mul 17 add pat exch 2 index put pop}for}bd/pfill{/PatFont patfont definefontsetfont/ch(AAAA)def X0 128 X1{Y0 32 Y1{1 index exch M ch show}for pop}for}bd/vert{X0w X1{dup Y0 M Y1 L st}for}bd/horz{Y0 w Y1{dup X0 exch M X1 exch L st}for}bd/fdiag{X0w X1{Y0 M X1 X0 sub dup rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub duprlt st}for}bd/bdiag{X0 w X1{Y1 M X1 X0 sub dup neg rlt st}for Y0 wY1{X0 exch M Y1 Y0 sub dup neg rlt st}for}bd/AU{1 add cvi 15 or}bd/AD{1sub cvi -16 and}bd/SHR{pathbbox AU/Y1 ed AU/X1 ed AD/Y0 ed AD/X0 ed}bd/hfill{2sl [] 0 setdash n/w iRes 20 div 8 div round 8 mul def dup 0 eq{horz}ifdup 1 eq{vert}if dup 2 eq{fdiag}if dup 3 eq{bdiag}if dup 4 eq{horzvert}if 5 eq{fdiag bdiag}if}bd/F{/ft ed fm 256 and 0 ne{gs FC ft 0eq{fill}{eofill}ifelse gr}if fm 1536 and 0 ne{SHR gs HC ft CP fm 1024and 0 ne{/Tmp save def pfill Tmp restore}{fm 15 and hfill}ifelse gr}if}bd/S{PenWsl PC st}bd/m matrix def/GW{iRes 12 div PenW add cvi}bd/DoW{iRes 50div PenW add cvi}bd/DW{iRes 8 div PenW add cvi}bd/SP{/PenW ed/iPened iPen 0 eq{[] 0 setdash}if iPen 1 eq{[DW GW] 0 setdash}if iPen 2eq{[DoW GW] 0 setdash}if iPen 3 eq{[DW GW DoW GW] 0 setdash}if iPen4 eq{[DW GW DoW GW DoW GW] 0 setdash}if}bd/E{m cm pop tr scale 0 01 0 360 arc cp m sm}bd/AG{/sy ed/sx ed sx div 4 1 roll sy div 4 1 rollsx div 4 1 roll sy div 4 1 roll atan/a2 ed atan/a1 ed sx sy scale a1a2 ARC}def/A{m cm pop tr AG m sm}def/P{m cm pop tr 0 0 M AG cp m sm}def/RRect{n4 copy M 3 1 roll exch L 4 2 roll L L cp}bd/RRCC{/r ed/y1 ed/x1 ed/y0ed/x0 ed x0 r add y0 M x1 y0 x1 y1 r arcto 4{pop}repeat x1 y1 x0 y1r arcto 4{pop}repeat x0 y1 x0 y0 r arcto 4{pop}repeat x0 y0 x1 y0 rarcto 4{pop}repeat cp}bd/RR{2 copy 0 eq exch 0 eq or{pop pop RRect}{2copy eq{pop RRCC}{m cm pop/y2 ed/x2 ed/ys y2 x2 div 1 max def/xs x2y2 div 1 max def/y1 exch ys div def/x1 exch xs div def/y0 exch ys divdef/x0 exch xs div def/r2 x2 y2 min def xs ys scale x0 r2 add y0 Mx1 y0 x1 y1 r2 arcto 4{pop}repeat x1 y1 x0 y1 r2 arcto 4{pop}repeatx0 y1 x0 y0 r2 arcto 4{pop}repeat x0 y0 x1 y0 r2 arcto 4{pop}repeatm sm cp}ifelse}ifelse}bd/PP{{rlt}repeat}bd/OB{gs sc B fill gr}bd/B{M/dyed/dx ed dx 0 rlt 0 dy rlt dx neg 0 rlt cp}bd/CB{B clip n}bdstatusdict begin 0 setjobtimeout endstatusdict begin statusdict /jobname (Windows Draw - TRICOLOR.DRW) put endSS1 33 60 3300 2550 300 SM255 255 255 fC/fm 256 def3230 2426 0 0 B1 Fn1 lc1 lj10433 ml0 0 0 pC0 19 SP0 0 0 hC/fm 1280 def<2211884422118844> p235.5 236.5 2267 1033 B1 FSn235.5 236.5 2031 1033 B1 FSn235.5 235.5 2267 325 B1 FSn235.5 235.5 2503 325 B1 FSn235.5 235.5 2739 325 B1 FSn235.5 235.5 555 325 B1 FSn235.5 235.5 791 325 B1 FSn235.5 235.5 1027 325 B1 FSn<fdffdffffdffdfff> p235.5 236.5 555 1033 B1 FSn235.5 236.5 319 1033 B1 FSn0 0 0 fC32 0 0 157 157 0 0 141 /Times-Roman /font32 ANSIFont font629 2083 105 (B) SB734 2083 70 (e) SB804 2083 52 (f) SB856 2083 79 (o) SB935 2083 52 (r) SB987 2083 70 (e) SB2377 2083 113 (A) SB2490 2083 52 (f) SB2543 2083 44 (t) SB2587 2083 70 (e) SB2657 2083 52 (r) SB235 235 319 1742 BSn235 235 83 1742 BSn670 445 M 10 93 -44 192 -88 235 rct-48 43 -138 44 -192 96 rct-55 50 -68 61 -74 194 rctSn0 lc0 lj348 939 M -28 -63 -33 60 2 PPSn1 lc1 lj909 445 M -10 93 44 192 89 235 rct47 43 137 44 191 96 rct56 50 68 61 74 194 rctSn0 lc0 lj1291 936 M -34 -60 -27 63 2 PPSn853 126 113 (A) SB1 lc1 lj434 1153 M 10 93 -44 192 -88 235 rct-48 43 -138 44 -192 96 rct-56 51 -68 61 -74 194 rctSn0 lc0 lj113 1647 M -27 -63 -34 60 2 PPSn1 lc1 lj670 1153 M -4 77 15 146 30 207 rct14 61 27 96 44 148 rct18 52 42 85 45 177 rctSn0 lc0 lj818 1651 M -33 -61 -28 63 2 PPSn503 828 105 (B) SB1 lc1 lj255 255 255 fC0 0 0 hC/fm 1280 def<fdffdffffdffdfff> p235.5 236.5 1263 1033 B1 FSn0 0 0 fC1329 828 105 (C) SB235 235 791 1742 BSn235 235 1027 1742 BSn235 235 1263 1742 BSn1089 1537 113 (D) SB255 255 255 fC0 0 0 hC/fm 1280 def<fdffdffffdffdfff> p235.5 235.5 2031 1742 B1 FSn235.5 235.5 1795 1742 B1 FSn2382 445 M 10 93 -44 192 -88 235 rct-48 43 -138 44 -192 96 rct-56 50 -68 61 -74 194 rctSn0 lc0 lj2061 939 M -27 -63 -34 60 2 PPSn1 lc1 lj2608 445 M 3 93 2 782 -12 825 rct-14 43 -57 162 -73 214 rct-17 51 -21 61 -23 194 rctSn0 lc0 lj2531 1646 M -29 -62 -32 61 2 PPSn1 lc1 lj2146 1153 M 10 93 -44 192 -88 235 rct-48 43 -138 44 -192 96 rct-56 51 -68 61 -74 194 rctSn0 lc0 lj1825 1647 M -27 -63 -34 60 2 PPSn1 lc1 lj2391 1143 M 76 5 145 -15 206 -29 rct61 -15 96 -27 148 -45 rct53 -17 85 -41 177 -44 rctSn0 lc0 lj2889 996 M -60 33 62 28 2 PPSn0 0 0 fC2215 828 105 (B) SB1 lc1 lj255 255 255 fC235.5 236.5 2975 1033 B1 FSn0 0 0 fC3041 828 105 (C) SB235 235 2503 1742 BSn235 235 2739 1742 BSn235 235 2975 1742 BSn2801 1537 113 (D) SB2564 126 113 (A) SBEJ RSend%%EndDocument 1236 789 a endTexFig1963 789 acurrentpoint grestore moveto1072 832 a Fn(Figure)h(7:)k(A)c(violation)e(of)h(the)i(coloring)e(in)o(v)n(arian)o(t.)1011 967 y Fm(3.2.1)48 b(Incremen)o(tal)13 b(approac)o(hes)10111046 y Fn(There)20 b(are)f(t)o(w)o(o)f(basic)h(approac)o(hes)h(to)e(co)q(ordinating)g(the)1011 1096 y(collector)d(with)g(the)g(m)o(utator.)20b(One)c(is)f(to)g(use)h(a)f Fk(r)n(e)n(ad)g(b)n(ar-)1011 1146y(rier)p Fn(,)d(whic)o(h)h(detects)j(when)e(the)g(m)o(utator)e(attempts)i(to)f(ac-)1011 1195 y(cess)h(a)f(p)q(oin)o(ter)g(to)g(a)f(white)h(ob)r(ject,)g(and)g(immediately)c(col-)1011 1245 y(ors)i(the)h(ob)r(ject)g(gra)o(y;)g(since)g(the)g(m)o(utator)e(can't)h(read)h(p)q(oin-)1011 1295y(ters)20 b(to)g(white)f(ob)r(jects,)j(it)d(can't)g(install)g(them)f(in)h(blac)o(k)1011 1345 y(ob)r(jects.)29 b(The)18 b(other)g(approac)o(h)f(is)g(more)f(direct,)j(and)e(in-)1011 1395 y(v)o(olv)o(es)11 b(a)gFk(write)h(b)n(arrier)p Fn(|when)e(the)i(program)e(attempts)h(to)10111444 y(write)i(a)g(p)q(oin)o(ter)h(in)o(to)e(an)h(ob)r(ject,)h(the)g(write)g(is)f(trapp)q(ed)h(or)1011 1494 y(recorded.)1052 1545 y(W)m(rite)g(barrier)h(approac)o(hes,)g(in)f(turn,)g(fall)f(in)o(to)h(t)o(w)o(o)g(dif-)10111595 y(feren)o(t)20 b(categories,)h(dep)q(ending)f(on)f(whic)o(h)g(asp)q(ect)i(of)d(the)1011 1645 y(problem)c(they)h(address.)24 b(T)m(o)14b(foil)g(the)i(garbage)f(collector's)1011 1695 y(marking)g(tra)o(v)o(ersal,)i(it)g(is)f(necessary)j(for)e(the)h(m)o(utator)d(to)1011 1745y(1\))c(write)h(a)f(p)q(oin)o(ter)g(to)g(a)g(white)h(ob)r(ject)g(in)o(to)e(a)h(blac)o(k)g(ob)r(ject)1011 1794 y Fk(and)h Fn(2\))f(destro)o(y)h(the)g(original)e(p)q(oin)o(ter)h(b)q(efore)i(the)f(collector)10111844 y(sees)j(it.)1052 1895 y(If)9 b(the)h(\014rst)h(condition)d(\(writing)h(the)h(p)q(oin)o(ter)g(in)o(to)e(a)h(blac)o(k)1011 1945 y(ob)r(ject\))15b(do)q(es)h(not)e(hold,)g(no)g(sp)q(ecial)h(action)f(is)g(needed|)pFk(if)1011 1995 y(ther)n(e)h(ar)n(e)h(other)f(p)n(ointers)h(to)g(the)g(white)f(obje)n(ct)h(fr)n(om)f(gr)n(ay)1011 2045 y(obje)n(cts,)d(it)g(wil)r(l)f(b)n(e)h(r)n(etaine)n(d,)g(and)h(if)f(not,)g(it)g(is)g(garb)n(age)g(and)10112094 y(ne)n(e)n(dn)l('t)19 b(b)n(e)g(r)n(etaine)n(d)g(anyway)pFn(.)33 b(If)19 b(the)g(second)h(condition)1011 2144 y(\(obliterating)12b(the)i(original)d(path)i(to)g(the)g(ob)r(ject\))h(do)q(es)g(not)10112194 y(hold,)9 b(the)i(ob)r(ject)f(will)e(b)q(e)j(reac)o(hed)g(via)e(the)h(original)e(p)q(oin)o(ter)1011 2244 y(and)13 b(retained.)19b(The)14 b(t)o(w)o(o)f(write-barrier)h(approac)o(hes)h(fo)q(cus)10112294 y(on)e(these)j(t)o(w)o(o)d(asp)q(ects)j(of)d(the)h(problem.)10522345 y Fk(Snapshot-at-b)n(e)n(ginning)d Fn(collectors)g(ensure)g(that)f(the)g(sec-)1011 2395 y(ond)19 b(condition)f(cannot)h(happ)q(en|rather)h(than)f(allo)o(wing)1011 2444 y(p)q(oin)o(ters)13 b(to)g(b)q(e)g(simply)e(o)o(v)o(erwritten,)i(they)g(are)g(\014rst)h(sa)o(v)o(ed)1011 2494y(in)i(a)g(data)h(structure)i(\\o\013)d(to)h(the)g(side")g(so)f(that)h(the)g(col-)1011 2544 y(lector)d(can)h(\014nd)f(them.)k(Th)o(us)c(no)g(path)g(to)g(a)g(white)g(ob)r(ject)1011 2594 y(can)g(b)q(e)h(brok)o(en)g(without)f(pro)o(viding)f(another)i(path)f(to)g(the)969 2718 y(19)p eop%%Page: 20 20bop 0 55 a Fn(ob)r(ject)15 b(for)e(the)i(garbage)e(collector.)42106 y Fk(Incr)n(emental)24 b(up)n(date)g Fn(collectors)h(are)f(more)f(direct)i(in)0 156 y(dealing)12 b(with)g(these)j(troublesome)d(p)q(oin)o(ters.)18b(Rather)13 b(than)0 206 y(sa)o(ving)g(copies)i(of)f(all)f(p)q(oin)o(ters)i(that)f(are)h(o)o(v)o(erwritten)g(\(b)q(e-)0 256 y(cause)g(they)gFk(might)f Fn(ha)o(v)o(e)g(already)g(b)q(een)h(copied)f(in)o(to)g(blac)o(k)0306 y(ob)r(jects\))d(they)f(actually)f(record)h(p)q(oin)o(ters)g(stored)h(in)o(to)e(blac)o(k)0 355 y(ob)r(jects,)14 b(and)g(catc)o(h)g(the)h(troublesome)e(copies)h(where)h(they)0 405 y(are)i(stored,)h(rather)g(than)e(noticing)g(if)g(the)h(original)e(is)i(de-)0 455 y(stro)o(y)o(ed.)g(That)9b(is,)h(if)f(a)g(p)q(oin)o(ter)h(to)f(a)g(white)g(ob)r(ject)i(is)e(copied)0505 y(in)o(to)14 b(a)g(blac)o(k)g(ob)r(ject,)h(that)g(new)f(cop)o(y)h(of)f(the)h(p)q(oin)o(ter)g(will)0 555 y(b)q(e)10 b(found.)17 b(Conceptually)m(,)9b(the)h(blac)o(k)f(ob)r(ject)i(\(or)e(part)h(of)f(it\))0 604y(is)h(rev)o(erted)i(to)e(gra)o(y)f(when)i(the)f(m)o(utator)f(\\undo)q(es")h(the)h(col-)0 654 y(lector's)k(tra)o(v)o(ersal)g([Ste75].)20b(\(Alternativ)o(ely)m(,)14 b(the)h(p)q(oin)o(ted-)0 704 y(to)24b(ob)r(ject)h(ma)o(y)d(b)q(e)j(gra)o(y)o(ed)f(immediately)d([DLM)862689 y Fj(+)889 704 y Fn(78)o(].\))0 754 y(This)14 b(ensures)i(that)e(the)h(tra)o(v)o(ersal)f(is)h(up)q(dated)f(in)g(the)h(face)0 804y(of)e(m)o(utator)g(c)o(hanges.)42 855 y(Read)19 b(barriers)h(and)f(write)g(barriers)h(are)g(conceptually)0 904 y(sync)o(hronization)g(op)q(erations|b)q(efore)g(the)g(m)o(utator)e(can)0 954 y(p)q(erform)d(certain)i(op)q(erations,)g(it)f(m)o(ust)f(activ)n(ate)h(the)h(gar-)0 1004y(bage)i(collector)h(to)f(p)q(erform)f(some)g(action.)33 b(In)20b(practice,)0 1054 y(this)c(in)o(v)o(o)q(cation)f(of)g(the)i(garbage)e(collector)i(only)e(requires)0 1104 y(a)10 b(relativ)o(ely)g(simple)e(action,)j(and)f(the)h(compiler)e(can)h(simply)0 1154 y(emit)16b(the)h(necessary)i(additional)d(instructions)h(as)h(part)f(of)01203 y(the)g(m)o(utator's)e(o)o(wn)h(mac)o(hine)f(co)q(de.)27b(Eac)o(h)17 b(p)q(oin)o(ter)g(read)0 1253 y(or)i(write)h(\(dep)q(ending)g(on)f(the)h(incremen)o(tal)e(strategy\))i(is)0 1303 y(accompanied)11b(b)o(y)h(a)g(few)g(extra)h(instructions)g(that)f(p)q(erform)01353 y(the)g(collector's)f(op)q(erations.)18 b(Dep)q(ending)11b(on)g(the)h(complex-)0 1403 y(it)o(y)d(of)f(the)i(read)g(or)g(write)f(barrier,)i(the)f(en)o(tire)g(barrier)g(action)0 1452 y(ma)o(y)g(b)q(e)j(compiled)e(inline;)g(alternativ)o(ely)m(,)g(the)i(barrier)g(ma)o(y)01502 y(simply)f(b)q(e)j(a)f(hidden,)g(out-of-line)f(pro)q(cedure)j(call)d(accom-)0 1552 y(pan)o(ying)g(eac)o(h)i(p)q(oin)o(ter)f(read)h(or)f(write.)20b(\(Other)15 b(strategies)0 1602 y(are)g(p)q(ossible,)f(relying)g(less)h(on)f(additional)f(instructions)i(in)0 1652 y(compiled)g(co)q(de,)i(and)g(more)e(on)i(assistance)g(from)e(sp)q(ecial-)0 1701 y(ized)f(hardw)o(are)h(or)e(virtual)g(memory)f(features.\))0 1824 y Fi(3.3)56 b(W)-5 b(rite)17b(Barrier)h(Algorithms)0 1903 y Fn(If)g(a)f(non-cop)o(ying)g(collector)i(is)f(used,)h(the)g(use)g(of)e(a)h(read)0 1953 y(barrier)c(is)g(an)f(unnecessary)j(exp)q(ense;)f(there)g(is)e(no)h(need)g(to)0 2002 y(protect)e(the)g(m)o(utator)d(from)g(seeing)j(an)e(in)o(v)n(alid)f(v)o(ersion)i(of)f(a)02052 y(p)q(oin)o(ter.)17 b Fk(Write)10 b(b)n(arrier)e Fn(tec)o(hniques)j(are)f(c)o(heap)q(er,)h(b)q(ecause)0 2102 y(heap)k(writes)g(are)g(sev)o(eral)g(times)f(less)h(common)d(than)j(heap)0 2152 y(reads.)0 2266y Fm(3.3.1)48 b(Snapshot-at-b)q(egi)o(n)o(ni)o(ng)12 b(Algorithms)02345 y Fk(Snapshot-at-b)n(e)n(ginning)19 b Fn(algorithms)d(use)j(a)e(write)i(barrier)0 2395 y(to)14 b(ensure)i(that)e Fk(no)h Fn(ob)r(jects)h(ev)o(er)f(b)q(ecome)f(inaccessible)h(to)0 2444 y(the)k(garbage)g(collector)g(while)f(collection)h(is)f(in)g(progress.)0 2494 y(Conceptually)m(,)d(at)h(the)g(b)q(eginning)f(of)g(garbage)h(collection,)0 2544 y(a)c Fk(c)n(opy-on-write)hFn(virtual)f(cop)o(y)g(of)g(the)i(graph)e(of)h(reac)o(hable)02594 y(data)h(structures)j(is)e(made.)k(That)c(is,)f(the)h(graph)g(of)f(reac)o(h-)1011 55 y(able)e(ob)r(jects)i(is)e(\014xed)h(at)g(the)g(momen)o(t)d(garbage)i(collection)1011 105 y(starts,)18 b(ev)o(en)g(though)e(the)i(actual)f(tra)o(v)o(ersal)g(pro)q(ceeds)i(in-)1011 155 y(cremen)o(tally)m(.)1052 213 y(The)f(\014rst)g(snapshot-at-b)q(eginning)e(algorithm)e(w)o(as)j(ap-)1011 263 y(paren)o(tly)g(that)g(of)g(Abrahamson)f(and)h(P)o(atel,)h(whic)o(h)f(used)1011 312 y(virtual)12 b(memory)f(cop)o(y-on-write)j(tec)o(hniques)h([AP87)o(],)e(but)1011 362 y(the)20 b(same)e(general)i(e\013ect)h(can)e(b)q(e)h(ac)o(hiev)o(ed)g(straigh)o(tfor-)1011 412 y(w)o(ardly)15b(\(and)i(fairly)e(e\016cien)o(tly\))h(with)g(a)g(simple)f(soft)o(w)o(are)1011 462 y(write)f(barrier.)1052 520 y(P)o(erhaps)h(the)e(simplest)g(and)g(b)q(est-kno)o(wn)h(snapshot)f(col-)1011 569 y(lection)18 b(algorithm)f(is)h(Y)m(uasa's)h([Y)m(ua90b)n(].)33 b(If)18 b(a)h(lo)q(cation)1011619 y(is)c(written)h(to,)f(the)h(o)o(v)o(erwritten)g(v)n(alue)f(is)g(\014rst)i(sa)o(v)o(ed)e(and)1011 669 y(pushed)c(on)f(a)g(marking)e(stac)o(k)j(for)e(later)i(examination.)j(This)1011 719 y(guaran)o(tees)19 b(that)g(no)g(ob)r(jects)h(will)e(b)q(ecome)g(unreac)o(hable)1011 769 y(to)f(the)i(garbage)f(collector)g(tra)o(v)o(ersal|all)e(ob)r(jects)j(whic)o(h)1011818 y(are)14 b(liv)o(e)g(at)g(the)h(b)q(eginning)f(of)g(garbage)g(collection)f(will)g(b)q(e)1011 868 y(reac)o(hed,)h(ev)o(en)h(if)e(the)h(p)q(oin)o(ters)g(to)g(them)f(are)h(o)o(v)o(erwritten.)1011 918 y(In)e(the)h(example)f(sho)o(wn)g(in)g(Fig.)g(7,)g(the)h(p)q(oin)o(ter)f(from)f(B)i(to)1011968 y(D)h(is)g(sa)o(v)o(ed)h(on)f(a)h(stac)o(k)g(when)g(it)f(is)g(o)o(v)o(erwritten)h(with)f(the)1011 1018 y(p)q(oin)o(ter)g(to)g(C.)10521075 y(Snapshot-at-b)q(eginning)k(sc)o(hemes)i(are)f(v)o(ery)g(conserv)n(a-)1011 1125 y(tiv)o(e,)c(b)q(ecause)i(they)f(actually)f(allo)o(w)f(the)i(tricolor)f(\\in)o(v)n(ari-)1011 1175 y(an)o(t")20 b(to)g(b)q(e)i(brok)o(en,)g(temp)q(orarily)m(,)e(during)g(incremen)o(tal)1011 1225 y(tracing.)e(Rather)c(than)g(prev)o(en)o(ting)g(the)h(creation)f(of)g(p)q(oin-)10111275 y(ters)k(from)c(blac)o(k)i(ob)r(jects)i(to)f(white)f(ones,)i(a)e(more)g(global)1011 1325 y(and)21 b(conserv)n(ativ)o(e)g(strategy)h(prev)o(en)o(ts)h(the)f(loss)f(of)f(suc)o(h)1011 1374 y(white)12 b(ob)r(jects:)18b(the)13 b(original)d(path)j(to)f(the)g(ob)r(ject)h(can't)f(b)q(e)10111424 y(lost,)j(b)q(ecause)i Fk(al)r(l)e Fn(o)o(v)o(erwritten)i(p)q(oin)o(ter)e(v)n(alues)h(are)g(sa)o(v)o(ed)1011 1474 y(and)d(tra)o(v)o(ersed.)10521532 y(This)e(implies)d(that)j Fk(no)g Fn(ob)r(jects)h(can)f(b)q(e)g(freed)g(during)f(col-)1011 1582 y(lection,)16 b(b)q(ecause)i(a)e(p)q(oin)o(ter)h(to)f(an)o(y)g(white)g(ob)r(ject)h(migh)o(t)1011 1631 y(ha)o(v)o(e)j(b)q(een)h(stored)g(in)o(to)f(a)g(reac)o(hable)h(ob)r(ject.)37 b(This)21b(in-)1011 1681 y(cludes)15 b(ob)r(jects)h(that)f(are)g(created)h(while)e(the)h(collection)f(is)1011 1731 y(in)9 b(progress.)18 b(Newly-allo)q(cated)9b(ob)r(jects)i(are)f(therefore)h(con-)1011 1781 y(sidered)k(to)g(b)q(e)f(blac)o(k,)g(as)g(though)h(they)g(had)f(already)g(b)q(een)10111831 y(tra)o(v)o(ersed.)19 b(This)13 b(short-circuits)h(the)g(tra)o(v)o(ersal)f(of)g(new)g(ob-)1011 1880 y(jects,)h(whic)o(h)g(w)o(ould)f(fail)f(to)i(free)h(an)o(y)e(of)h(them)f(an)o(yw)o(a)o(y)m(.)1052 1938y(The)e(collector's)g(view)f(of)g(the)h(reac)o(habilit)o(y)e(graph)h(is)h(th)o(us)1011 1988 y(the)h(set)h(union)f(of)f(the)h(graph)g(at)g(the)h(b)q(eginning)e(of)g(garbage)1011 2038 y(collection,)16 b(plus)g(all)f(of)g(those)i(that)f(are)h(allo)q(cated)e(during)1011 2088 y(tracing.)10522145 y(An)h(imp)q(ortan)o(t)d(feature)j(to)f(notice)h(ab)q(out)f(snapshot-at-)1011 2195 y(b)q(eginning)e(algorithms)f(is)i(that)g(since)h(don't)f(actually)f(pre-)1011 2245 y(serv)o(e)h(Dijkstra's)f(tricolor)f(in)o(v)n(arian)o(t,)f(grey)j(ob)r(jects)g(ha)o(v)o(e)f(a)1011 2295y(subtle)i(role.)j(Rather)d(than)f(guaran)o(teeing)g(that)gFk(e)n(ach)h Fn(path)1011 2345 y(from)10 b(a)h(blac)o(k)g(ob)r(ject)h(to)g(a)f(white)h(ob)r(ject)g(m)o(ust)f(go)g(through)1011 2395 y(a)i(grey)g(ob)r(ject,)g(it)g(is)g(only)f(guaran)o(teed)i(that)f(for)g(eac)o(h)g(suc)o(h)10112444 y(reac)o(hable)h(white)g(ob)r(ject)h(there)h(will)c(b)q(e)jFk(at)g(le)n(ast)f(one)h Fn(path)1011 2494 y(to)d(the)h(ob)r(ject)h(from)c(a)j(grey)g(ob)r(ject.)18 b(A)13 b(grey)f(ob)r(ject)i(there-)10112544 y(fore)c(do)q(es)i(not)e(just)h(represen)o(t)i(the)e(lo)q(cal)f(part)h(of)f(the)h(collec-)1011 2594 y(tor's)j(tra)o(v)o(ersal)g(w)o(a)o(v)o(efron)o(t|it)e(ma)o(y)g(also)h(represen)o(t)k(p)q(oin-)969 2718 y(20)peop%%Page: 21 21bop 0 55 a Fn(ters)18 b(elsewhere)h(in)e(the)g(reac)o(habilit)o(y)f(graph,)h(whic)o(h)g(cross)0 105 y(the)d(w)o(a)o(v)o(efron)o(t)g(unnoticed.)45090 y Fj(14)0 227 y Fm(3.3.2)48 b(Incremen)o(tal)20 b(Up)q(date)h(W)l(rite-Barrier)f(Al-)146 277 y(gorithms)0 358 y Fn(While)i(b)q(oth)h(are)h(write-barrier)f(algorithms,)g(snapshot-)0 408 y(at-b)q(eginning)c(and)hFk(incr)n(emental)g(up)n(date)g Fn(algorithms)e(are)0 458 y(quite)13b(di\013eren)o(t.)19 b(Unfortunately)m(,)12 b(incremen)o(tal)g(up)q(date)i(al-)0 508 y(gorithms)e(ha)o(v)o(e)h(generally)g(b)q(een)h(cast)g(in)f(terms)g(of)f(parallel)0 558 y(systems,)g(rather)h(than)g(as)f(incremen)o(tal)g(sc)o(hemes)g(for)g(serial)0 607 y(pro)q(cessing;)g(p)q(erhaps)f(due)g(to)f(this,)g(they)h(ha)o(v)o(e)f(b)q(een)h(largely)0 657 y(o)o(v)o(erlo)q(ok)o(ed)e(b)o(y)g(implemen)o(tors)e(targeting)j(unipro)q(cessors.)933 642y Fj(15)42 710 y Fn(P)o(erhaps)16 b(the)g(b)q(est)g(kno)o(wn)f(of)g(these)h(algorithms)e(is)h(due)0 760 y(to)h(Dijkstra)g Fk(et)h(al.)25b Fn([DLM)445 744 y Fj(+)472 760 y Fn(78)o(].)g(\(This)16 b(is)h(similar)c(to)k(the)0 809 y(sc)o(heme)h(dev)o(elop)q(ed)h(b)o(y)f(Steele)h([Ste75],)f(but)h(simpler)e(b)q(e-)0 859 y(cause)d(it)e(do)q(es)i(not)e(deal)h(with)f(compaction.\))k(Rather)d(than)0 909 y(retaining)f(ev)o(erything)i(that's)f(in)f(a)h(snapshot)g(of)g(the)g(graph)0 959 y(at)i(the)g Fk(b)n(e)n(ginning)gFn(of)f(garbage)g(collection,)g(it)h(heuristically)0 1009 y(\(and)d(somewhat)g(conserv)n(ativ)o(ely\))g(attempts)g(to)g(retain)h(the)0 1058y(ob)r(jects)j(that)f(are)g(liv)o(e)f(at)h(the)g Fk(end)g Fn(of)g(garbage)f(collection.)0 1108 y(Ob)r(jects)19 b(that)f(die)g(during)f(garbage)h(collection|and)f(b)q(e-)0 1158 y(fore)e(b)q(eing)f(reac)o(hed)i(b)o(y)f(the)g(marking)e(tra)o(v)o(ersal|are)h(not)0 1208 y(tra)o(v)o(ersed)j(and)e(mark)o(ed.)20 b(More)c(precisely)m(,)g(an)f(ob)r(ject)h(will)0 1258y(not)h(b)q(e)h(reac)o(hed)g(b)o(y)f(the)h(collector)f(if)g(all)f(paths)h(to)g(it)g(are)0 1308 y(brok)o(en)g(at)f(a)g(p)q(oin)o(t)g(that)h(the)g(garbage)f(collector)h(has)f(not)0 1357 y(y)o(et)21 b(reac)o(hed.)39b(If)20 b(a)g(p)q(oin)o(ter)h(is)f(obliterated)g Fk(after)gFn(b)q(eing)0 1407 y(reac)o(hed)f(b)o(y)f(the)g(collector,)h(it)e(is)h(to)q(o)f(late.)30 b(\(E.g.,)18 b(if)f(the)0 1457 y(head)h(of)g(a)g(list)f(has)i(already)e(b)q(een)j(reac)o(hed)f(and)f(gra)o(y)o(ed,)0 1507y(and)i(then)h(b)q(ecomes)f(garbage,)h(the)g(rest)g(of)e(the)i(list)f(will)01557 y(still)13 b(b)q(e)h(tra)o(v)o(ersed.\))42 1609 y(T)m(o)j(a)o(v)o(oid)g(the)i(problem)e(of)g(p)q(oin)o(ters)i(b)q(eing)f(hidden)h(in)01659 y(reac)o(hable)24 b(ob)r(jects)h(that)f(ha)o(v)o(e)f(already)h(b)q(een)h(scanned,)0 1709 y(suc)o(h)15 b(copied)f(p)q(oin)o(ters)g(are)h(caugh)o(t)f(when)g(they)h(are)f(stored)0 1758 y(in)o(to)g(the)i(scanned)g(ob)r(jects.)22b(Rather)15 b(than)g(noticing)f(when)0 1808 y(a)d(p)q(oin)o(ter)g(escap)q(es)i Fk(fr)n(om)e Fn(a)g(lo)q(cation)f(that)h(hasn't)g(b)q(een)h(tra-)01858 y(v)o(ersed,)j(it)f(notices)g(when)h(the)g(p)q(oin)o(ter)f(hides)gFk(in)h Fn(an)e(ob)r(ject)0 1908 y(that)i Fk(has)h Fn(already)f(b)q(een)i(tra)o(v)o(ersed.)23 b(If)15 b(a)h(p)q(oin)o(ter)f(is)g(o)o(v)o(er-)01958 y(written)h(without)f(b)q(eing)h(copied)g(elsewhere,)h(so)f(m)o(uc)o(h)f(the)p 0 2003 388 2 v 31 2030 a Fh(14)64 2042 y Fg(This)d(nonlo)q(cal)d(constrain)o(t)h(p)q(oses)h(signi\014can)o(t)e(problems)h(for)h(op-)02081 y(timization)f(of)i(the)g(garbage)e(collection)g(pro)q(cess,)h(particularl)o(y)f(when)0 2120 y(trying)d(to)i(mak)o(e)e(a)iFf(hier)n(ar)n(chic)n(al)j Fg(generation)o(al)6 b(or)i(distributed)e(v)o(ersion)0 2160 y(of)13 b(a)f(snapshot)f(algorithm,)f(where)j(m)o(ultiple)d(garbage)h(collections)f(of)0 2199 y(di\013eren)o(t)f(scop)q(es)h(pro)q(ceed)g(concurren)o(tl)o(y)f([WJ93)o(].)31 2227 y Fh(15)64 2239 yFg(Another)e(probable)g(reason)g(is)i(that)f(the)g(early)g(pap)q(ers)f(on)i(concur-)0 2278 y(ren)o(t)i(garbage)e(collection)g(addressed)g(di\013eren)o(t)h(concerns)f(than)i(those)0 2318 y(facing)k(most)h(language)e(implemen)o(tor)o(s.)29 b([DLM)692 2306 y Fh(+)717 2318 y Fg(78)o(])17b(stressed)e(ele-)0 2357 y(gance)h(of)h(correctness)d(pro)q(ofs)i(at)h(the)f(exp)q(ense)g(of)g(e\016ciency)m(,)h(and)0 2397 y(readers)9b(ma)o(y)g(ha)o(v)o(e)h(missed)f(the)h(fact)g(that)f(trivial)g(c)o(hanges)g(to)h(the)g(al-)0 2436 y(gorithm)f(w)o(ould)h(mak)o(e)f(it)i(v)n(astly)e(more)h(practical.)i([Ste75)n(])f(presen)o(ted)0 2475 y(a)h(complex)f(algorithm)e(with)k(an)f(optional)e(incremen)o(ta)o(l)g(compaction)02515 y(phase;)j(man)o(y)f(readers)g(doubtless)f(failed)h(to)h(recognize)e(that)h(the)h(in-)0 2554 y(cremen)o(tal)c(up)q(date)h(strategy)g(w)o(as)i(itself)f(simple,)f(and)h(orthogonal)e(to)0 2594 y(the)i(other)f(features.)1011 55 y Fn(b)q(etter|the)16 b(ob)r(ject)g(is)e(garbage,)g(so)h(it)f(migh)o(t)e(as)j(w)o(ell)f(not)1011 105 y(get)g(mark)o(ed.)1052 159y(If)f(the)h(p)q(oin)o(ter)f(is)h(installed)e(in)o(to)h(an)g(ob)r(ject)h(already)f(de-)1011 208 y(termined)j(to)g(b)q(e)h(liv)o(e,)f(that)g(p)q(oin)o(ter)h(m)o(ust)e(b)q(e)i(tak)o(en)g(in)o(to)1011 258 y(accoun)o(t|it)11b(has)h(no)o(w)f(b)q(een)i(incorp)q(orated)g(in)o(to)e(the)h(graph)1011308 y(of)d(reac)o(hable)h(data)g(structures.)19 b(Those)11b(formerly-blac)o(k)c(ob-)1011 358 y(jects)16 b(will)d(b)q(e)i(scanned)h(again)e(b)q(efore)h(the)h(garbage)e(collec-)1011 408 y(tion)i(is)h(complete,)f(to)h(\014nd)g(an)o(y)g(liv)o(e)f(ob)r(jects)i(that)f(w)o(ould)1011 457 y(otherwise)h(escap)q(e.)29 b(This)16 b(pro)q(cess)j(ma)o(y)c(iterate,)j(b)q(ecause)1011 507 y(more)c(blac)o(k)i(ob)r(jects)g(ma)o(y)e(b)q(e)i(rev)o(erted)i(while)d(the)h(collec-)1011 557 y(tor)d(is)g(in)f(the)i(pro)q(cess)g(of)f(tra)o(v)o(ersing)g(them.)k(The)c(tra)o(v)o(ersal)1011607 y(is)h(guaran)o(teed)g(to)g(complete,)f(ho)o(w)o(ev)o(er,)h(and)g(the)h(collector)1011 657 y(ev)o(en)o(tually)e(catc)o(hes)i(up)f(with)g(the)g(m)o(utator.)1739 642 y Fj(16)1052 710 y Fn(Sev)o(eral)j(v)n(ariations)e(of)g(this)h(incremen)o(tal)g(up)q(date)g(algo-)1011 760 y(rithm)e(are)i(p)q(ossible,)h(with)e(di\013eren)o(t)i(implemen)o(tatio)o(ns)d(of)1011810 y(the)k(write)g(barrier)g(and)f(di\013eren)o(t)i(treatmen)o(ts)f(of)f(ob)r(jects)1011 860 y(allo)q(cated)c(during)h(collection.)1052913 y(In)g(the)g(incremen)o(tal)f(up)q(date)h(sc)o(heme)f(of)g(Dijkstra)g(et)h(al.)1011 963 y([DLM)1119 948 y Fj(+)1146 963 y Fn(78)o(],)k(ob)r(jects)h(are)f(optimistically)d(assumed)j(to)f(b)q(e)1011 1013 y(unreac)o(hable)g(when)h(they're)f(allo)q(cated.)27 b(In)16 b(terms)h(of)f(tri-)10111062 y(color)10 b(marking,)f(ob)r(jects)i(are)g(allo)q(cated)fFk(white)p Fn(,)h(rather)g(than)1011 1112 y(blac)o(k.)34 b(A)o(t)20b(some)f(p)q(oin)o(t,)h(the)g(stac)o(k)g(m)o(ust)e(b)q(e)j(tra)o(v)o(ersed)1011 1162 y(and)e(the)h(ob)r(jects)h(that)e(are)h(reac)o(hable)gFk(at)g(that)g(time)f Fn(are)1011 1212 y(mark)o(ed)f(and)h(therefore)i(preserv)o(ed.)36 b(In)19 b(con)o(trast,)i(snap-)1011 1262y(shot)g(sc)o(hemes)g(m)o(ust)e(assume)i(that)f(suc)o(h)i(newly-created)10111311 y(ob)r(jects)c(are)f(liv)o(e,)g(b)q(ecause)i(p)q(oin)o(ters)f(to)e(them)h(migh)o(t)e(get)1011 1361 y(installed)f(in)o(to)h(ob)r(jects)h(that)f(ha)o(v)o(e)g(already)g(b)q(een)i(reac)o(hed)1011 1411 y(b)o(y)c(the)i(collector's)f(tra)o(v)o(ersal)g(without)f(b)q(eing)h(detected.)10521465 y(Dijkstra)e(also)h(c)o(ho)q(oses)h(to)f(allo)q(cate)f(new)h(ob)r(jects)h(white,)1011 1514 y(on)j(the)h(assumption)e(that)h(new)h(ob)r(jects)g(are)g(lik)o(ely)e(to)h(b)q(e)1011 1564 y(short-liv)o(ed)c(and)h(quic)o(kly)f(reclaimed.)1052 1618 y(W)m(e)21 b(b)q(eliev)o(e)f(that)h(this)g(has)g(a)f(p)q(oten)o(tially)f(signi\014can)o(t)1011 1667 y(adv)n(an)o(tage)i(o)o(v)o(er)h(sc)o(hemes)h(that)f(allo)q(cate)g(blac)o(k.)43 b(Most)10111717 y(ob)r(jects)26 b(are)g(short-liv)o(ed,)i(so)d(if)g(the)h(collector)f(do)q(esn't)1011 1767 y(reac)o(h)12 b(those)h(ob)r(jects)g(early)e(in)g(its)h(tra)o(v)o(ersal,)g(they're)g(lik)o(ely)1011 1817 y(nev)o(er)25b(to)f(b)q(e)g(reac)o(hed,)k(and)c(instead)g(to)g(b)q(e)h(reclaimed)10111867 y(v)o(ery)13 b(promptly)m(.)i(Compared)d(to)g(the)i(snapshot)f(sc)o(heme)g(\(or)1011 1916 y(Bak)o(er's,)18 b(describ)q(ed)i(b)q(elo)o(w\))d(there's)i(an)e(extra)h(computa-)1011 1966 y(tional)g(cost|the)i(newly-created)h(ob)r(jects)g(that)f Fk(ar)n(e)f Fn(still)10112016 y(liv)o(e)9 b(at)h(the)g(end)g(of)g(collection)f(m)o(ust)g(b)q(e)h(tra)o(v)o(ersed,)i(and)e(also)1011 2066 y(an)o(y)h(that)h(b)q(ecame)g(garbage)f(to)q(o)h(late)g(to)f(b)q(e)i(reclaimed,)e(b)q(e-)1011 2116y(cause)g(the)g(tra)o(v)o(ersal)g(had)f(already)g(started)i(along)d(a)i(path)f(to)1011 2166 y(them.)17 b(As)c(w)o(e)g(will)f(explain)g(later,)h(whether)h(this)f(is)g(w)o(orth-)1011 2215 y(while)h(ma)o(y)f(dep)q(end)j(on)f(sev)o(eral)h(factors,)f(suc)o(h)g(as)g(the)h(rel-)1011 2265 y(ativ)o(e)h(imp)q(ortance)f(of)g(a)o(v)o(erage)i(case)g(e\016ciency)g(and)f(hard)10112315 y(real-time)g(resp)q(onse.)35 b(Steele)20 b(prop)q(oses)g(a)f(heuristic)h(that)1011 2365 y(allo)q(cates)14 b(some)f(ob)r(jects)j(white)e(and)g(other)h(ob)r(jects)h(blac)o(k,)1011 2415 y(attempting)i(to)h(reclaim)f(the)i(short-liv)o(e)f(ob)r(jects)i(quic)o(kly)1011 2464 y(while)12b(a)o(v)o(oiding)f(tra)o(v)o(ersal)i(of)f(most)g(other)h(ob)r(jects)h([Ste75].)p 1011 2516 V 1042 2543 a Fh(16)1074 2554 y Fg(The)9b(algorithm)d(of)j([DLM)1431 2543 y Fh(+)1456 2554 y Fg(78])g(actually)d(uses)i(a)h(somewhat)f(more)1011 2594 y(conserv)n(ativ)n(e)h(tec)o(hnique,)g(as)i(w)o(e)h(will)f(explain)f(shortly)m(.)969 2718 y Fn(21)peop%%Page: 22 22bop 0 55 a Fn(The)15 b(e\013ectiv)o(eness)j(of)d(this)g(heuristic)h(is)f(unpro)o(v)o(en,)g(and)g(it)0 105 y(app)q(ears)c(to)e(b)q(e)h(di\016cult)f(to)h(implemen)o(t)d(e\016cien)o(tly)j(on)f(stan-)0 155 y(dard)14b(hardw)o(are.)42 206 y(Dijkstra's)e(incremen)o(tal)g(up)q(date)i(algorithm)c([DLM)889 191 y Fj(+)916 206 y Fn(78])0 256 y(\(whic)o(h)26b(apparen)o(tly)f(predates)i(Steele's)g(sligh)o(tly\))d(actu-)0306 y(ally)13 b(preserv)o(es)j(the)f(tricolor)e(in)o(v)n(arian)o(t)g(b)o(y)g(blac)o(k)o(ening)h(the)0 355 y(p)q(oin)o(ted-to)24 b(white)g(ob)r(ject,)j(rather)e(than)f(rev)o(erting)h(the)0 405 y(stored-in)o(to)g(blac)o(k)g(ob)r(ject)h(to)f(gra)o(y)m(.)51 b(In)o(tuitiv)o(ely)m(,)26 b(this)0455 y(pushes)13 b(the)e(gra)o(y)g(w)o(a)o(v)o(efron)o(t)g(out)o(w)o(ard)f(to)h(preserv)o(e)j(the)d(tri-)0 505 y(color)16 b(in)o(v)n(arian)o(t,)g(rather)h(than)g(pushing)f(it)h(bac)o(k.)26 b(This)16 b(is)0 555 y(more)e(conserv)n(ativ)o(e)h(than)g(Steele's)h(strategy)m(,)f(b)q(ecause)i(the)0604 y(p)q(oin)o(ter)c(migh)o(t)e(later)h(b)q(e)i(o)o(v)o(erwritten,)f(freeing)g(the)g(ob)r(ject.)0 654 y(On)f(the)g(other)g(hand,)f(it)g(app)q(ears)h(to)f(b)q(e)h(simpler)e(and)i(faster)0 704 y(in)h(practice;)h(it)f(also)g(mak)o(es)f(it)i(sligh)o(tly)e(easier)i(to)f(pro)o(v)o(e)h(he)0754 y(correctness)h(of)d(the)h(algorithm,)c(b)q(ecause)14 b(there)g(is)e(an)g(ob)o(vi-)0 804 y(ous)i(guaran)o(tee)g(of)g(forw)o(ard)f(progress.)0926 y Fi(3.4)56 b(Bak)n(er's)18 b(Read)g(Barrier)g(Algorithms)01005 y Fn(The)13 b(b)q(est-kno)o(wn)g(real-time)e(garbage)h(collector)h(is)g(Bak)o(er's)0 1055 y(incremen)o(tal)k(cop)o(ying)h(sc)o(heme)g([Bak78)o(].)30b(It)18 b(is)g(an)g(adap-)0 1105 y(tation)c(of)g(the)h(simple)f(cop)o(y)g(collection)h(sc)o(heme)f(describ)q(ed)0 1154 y(in)i(Sect.)g(2.4,)g(and)g(uses)h(a)f Fk(r)n(e)n(ad)h(b)n(arrier)d Fn(for)i(co)q(ordination)01204 y(with)d(the)h(m)o(utator.)j(More)d(recen)o(tly)m(,)g(Bak)o(er)g(has)f(prop)q(osed)0 1254 y(a)h(non-cop)o(ying)f(v)o(ersion)h(of)g(this)g(algorithm,)d(whic)o(h)j(shares)0 1304 y(man)o(y)e(prop)q(erties)j(with)f(the)g(cop)o(ying)g(v)o(ersion)g([Bak91b)o(].)0 1418 y Fm(3.4.1)48b(Incremen)o(tal)13 b(Cop)o(ying)0 1497 y Fn(Bak)o(er's)h(original)d(cop)o(ying)i(algorithm)e(w)o(as)i(an)g(adaptation)0 1547 y(of)e(the)h(Cheney)g(algorithm.)i(F)m(or)d(the)h(most)e(part,)i(the)f(cop)o(y-)01596 y(ing)22 b(of)g(data)g(pro)q(ceeds)j(in)d(the)h(Cheney)g(\(breadth-\014rst\))0 1646 y(fashion,)d(b)o(y)f(adv)n(ancing)g(the)h(scan)g(p)q(oin)o(ter)g(through)g(the)0 1696 y(unscanned)13 b(area)f(of)f(tospace)i(and)f(mo)o(ving)d(an)o(y)j(referred-to)0 1746 y(ob)r(jects)18b(from)c(fromspace.)26 b(This)16 b Fk(b)n(ackgr)n(ound)i(sc)n(avenging)01796 y Fn(is)g(in)o(terlea)o(v)o(ed)g(with)g(m)o(utator)f(op)q(eration,)h(ho)o(w)o(ev)o(er,)h(and)0 1845 y(m)o(utator)14 b(activit)o(y)h(can)h(also)f(trigger)h(cop)o(ying,)f(as)h(needed,)0 1895 y(to)g(ensure)j(that)d(the)h(m)o(utator's)e(view)i(of)e(data)i(structures)0 1945 y(is)d(alw)o(a)o(ys)f(consisten)o(t.)42 1996 y(In)f(Bak)o(er's)g(system,)g(a)g(garbage)g(collection)g(cycle)h(b)q(egins)0 2046 y(with)f(an)g(atomic)eFk(\015ip)p Fn(,)i(whic)o(h)g(conceptually)h(in)o(v)n(alidates)d(all)02096 y(ob)r(jects)22 b(in)e(fromspace,)h(and)f(copies)h(to)g(tospace)g(all)f(ob-)0 2145 y(jects)e(directly)g(reac)o(hable)g(from)d(the)j(ro)q(ot)f(set.)29 b(Then)18 b(the)0 2195 y(m)o(utator)c(is)i(allo)o(w)o(ed)e(to)h(resume.)24b(An)o(y)15 b(fromspace)g(ob)r(ject)0 2245 y(that)i(is)f(accessed)j(b)o(y)d(the)h(m)o(utator)e(m)o(ust)h(\014rst)h(b)q(e)g(copied)0 2295y(to)11 b(tospace,)h(and)f(this)g(cop)o(ying-on-demand)d(is)j(enforced)h(b)o(y)0 2345 y(the)i(read)g(barrier.)19 b(\(The)14 b(read)g(barrier)g(is)g(t)o(ypically)e(imple-)0 2395 y(men)o(ted)g(as)g(a)h(few)f(instructions)h(emitted)f(b)o(y)g(the)h(compiler,)0 2444 y(forming)f(a)i(wrapp)q(er)i(around)e(p)q(oin)o(ter-dereferencing)j(read)0 2494 y(instructions.\))28b(The)18 b(bac)o(kground)f(sca)o(v)o(enging)f(pro)q(cess)j(is)02544 y(also)h(in)o(terlea)o(v)o(ed)g(with)g(normal)e(program)h(execution,)j(to)0 2594 y(ensure)d(that)f(all)f(reac)o(hable)h(data)f(are)i(copied)f(to)f(tospace)1011 55 y(and)g(the)h(collection)f(cycle)i(completes)e(b)q(efore)h(memory)d(is)1011 105 y(exhausted.)1052 158 y(An)e(imp)q(ortan)o(t)d(feature)j(of)e(Bak)o(er's)i(sc)o(heme)f(is)g(its)g(treat-)1011 208y(men)o(t)k(of)h(ob)r(jects)i(allo)q(cated)e(b)o(y)g(the)h(m)o(utator)e(during)i(in-)1011 258 y(cremen)o(tal)g(collection.)31 b(These)19b(ob)r(jects)h(are)f(allo)q(cated)e(in)1011 308 y(tospace)h(and)g(are)g(treated)h(as)e(though)h(they)g(had)f(already)1011 357 y(b)q(een)i(scanned|i.e.,)f(they)g(are)h(assumed)e(to)h(b)q(e)h(liv)o(e.)29b(In)1011 407 y(terms)12 b(of)h(tricolor)f(marking,)f(new)i(ob)r(jects)h(are)f Fk(black)g Fn(when)1011 457 y(allo)q(cated,)18 b(and)g(none)g(of)g(them)f(can)i(b)q(e)g(reclaimed;)f(they)1011 507 y(are)e(nev)o(er)h(reclaimed)e(un)o(til)g(the)h(next)h(garbage)e(collection)1011 557 y(cycle.)1111542 y Fj(17)1052 610 y Fn(In)f(order)g(to)g(ensure)h(that)f(the)g(collector)g(\014nds)g(all)e(of)h(the)1011 659 y(liv)o(e)c(data)g(and)h(copies)g(it)g(to)f(tospace)i(b)q(efore)f(the)h(free)f(area)g(in)1011 709 y(newspace)h(is)e(exhausted,)i(the)f(rate)g(of)f(cop)o(y)g(collection)g(w)o(ork)1011759 y(is)15 b(tied)g(to)g(the)h(rate)g(of)e(allo)q(cation.)21b(Eac)o(h)15 b(time)f(an)h(ob)r(ject)1011 809 y(is)g(allo)q(cated,)f(an)h(incremen)o(t)g(of)g(scanning)g(and)g(cop)o(ying)f(is)1011859 y(done.)1052 912 y(In)19 b(terms)g(of)f(tricolor)h(marking,)e(the)i(scanned)i(area)e(of)1011 961 y(tospace)12 b(con)o(tains)f(blac)o(k)g(ob)r(jects,)h(and)f(the)h(copied)g(but)f(un-)1011 1011 y(scanned)18b(ob)r(jects)h(\(b)q(et)o(w)o(een)g(the)e(scan)h(and)f(free)i(p)q(oin)o(ter\))1011 1061 y(are)e(gra)o(y)m(.)26 b(As-y)o(et)17 b(unreac)o(hed)h(ob)r(jects)g(in)e(fromspace)h(are)1011 1111 y(white.)22 b(The)15b(scanning)g(of)g(ob)r(jects)h(\(and)g(cop)o(ying)e(of)h(their)10111161 y(o\013spring\))f(mo)o(v)o(es)e(the)j(w)o(a)o(v)o(efron)o(t)e(forw)o(ard.)1052 1214 y(In)21 b(addition)e(to)h(the)h(bac)o(kground)g(tracing,)g(other)g(ob-)1011 1263 y(jects)f(ma)o(y)c(b)q(e)k(copied)f(to)f(tospace)i(as)f(needed)h(to)e(ensure)1011 1313 y(that)13 b(the)i(basic)f(in)o(v)n(arian)o(t)e(is)h(not)h(violated|p)q(oin)o(ters)f(in)o(to)1011 1363y(fromspace)i(m)o(ust)g(not)h(b)q(e)h(stored)g(in)o(to)f(ob)r(jects)h(that)f(ha)o(v)o(e)1011 1413 y(already)d(b)q(een)i(scanned,)g(undoing)e(the)i(collector's)f(w)o(ork.)1052 1466 y(Bak)o(er's)d(approac)o(h)g(is)f(to)g(couple)h(the)g(collector's)g(cop)o(ying)1011 1516 y(tra)o(v)o(ersal)18b(with)g(the)g(m)o(utator's)f(tra)o(v)o(ersal)h(of)f(data)h(struc-)10111565 y(tures.)31 b(The)18 b(m)o(utator)f(is)g(nev)o(er)i(allo)o(w)o(ed)e(to)g(see)i(p)q(oin)o(ters)1011 1615 y(in)o(to)12 b(fromspace,)h(i.e.,)f(p)q(oin)o(ters)i(to)f(white)h(ob)r(jects.)19 b(When-)1011 1665 y(ev)o(er)14b(the)h(m)o(utator)d(reads)j(a)f(\(p)q(oten)o(tial\))f(p)q(oin)o(ter)h(from)e(the)1011 1715 y(heap,)f(it)f(immediately)d(c)o(hec)o(ks)12b(to)f(see)h(if)e(it)g(is)g(a)h(p)q(oin)o(ter)g(in)o(to)10111765 y(fromspace;)h(if)g(so,)h(the)g(referen)o(t)i(is)e(copied)g(to)g(tospace,)g(i.e.,)1011 1815 y(its)h(color)f(is)h(c)o(hanged)g(from)f(white)h(to)g(gra)o(y)m(.)j(In)d(e\013ect,)h(this)1011 1864 y(adv)n(ances)j(the)h(w)o(a)o(v)o(efron)o(t)e(of)g(gra)o(ying)g(just)h(ahead)g(of)f(the)10111914 y(actual)11 b(references)k(b)o(y)c(the)h(m)o(utator,)e(k)o(eeping)i(the)g(m)o(utator)1011 1964 y(inside)18 b(the)i(w)o(a)o(v)o(efron)o(t.)13981949 y Fj(18)1465 1964 y Fn(The)f(preserv)n(ation)g(of)f(the)h(tri-)10112014 y(color)11 b(in)o(v)n(arian)o(t)e(is)i(therefore)i(indirect|rather)f(than)f(actu-)1011 2064 y(ally)h(c)o(hec)o(king)h(to)g(see)h(whether)h(p)q(oin)o(ters)f(to)f(white)g(ob)r(jects)1011 2113 y(are)20 b(stored)g(in)o(to)f(blac)o(k)g(ones,)i(the)f(read)g(barrier)g(ensures)p 1011 2161388 2 v 1042 2188 a Fh(17)1074 2199 y Fg(Bak)o(er)e(suggests)e(cop)o(ying)g(old)i(liv)o(e)g(ob)r(jects)e(in)o(to)i(one)f(end)h(of)10112239 y(tospace,)10 b(and)h(allo)q(cating)f(new)i(ob)r(jects)e(in)i(the)g(other)f(end.)16 b(The)c(t)o(w)o(o)1011 2278 y(o)q(ccupied)i(areas)i(of)g(tospace)f(th)o(us)h(gro)o(w)g(to)o(w)o(ard)g(eac)o(h)g(other,)g(and)10112318 y(older)10 b(ob)r(jects)g(aren't)g(in)o(tersp)q(ersed)e(with)k(new)f(ones.)1042 2345 y Fh(18)1074 2357 y Fg(Nilsen's)i(v)n(arian)o(t)e(of)i(Bak)o(er's)f(algorithm)e(up)q(dates)i(the)g(p)q(oin)o(ters)10112397 y(without)f(actually)f(cop)o(ying)g(the)i(ob)r(jects|the)d(cop)o(ying)i(is)h(lazy)m(,)f(and)1011 2436 y(space)k(in)g(tospace)g(is)h(simply)e(reserv)o(ed)g(for)i(the)f(ob)r(ject)g(b)q(efore)f(the)1011 2475 y(p)q(oin)o(ter)i(is)i(up)q(dated)d([Nil88)o(].)35 b(This)18 b(mak)o(es)e(it)i(easier)f(to)g(pro)o(vide)1011 2515 y(smaller)7 b(b)q(ounds)g(on)i(the)f(time)g(tak)o(en)f(b)o(y)i(list)f(op)q(erations,)f(and)h(to)g(gear)1011 2554y(collector)j(w)o(ork)i(to)g(the)g(amoun)o(t)e(of)i(allo)q(cation|incl)o(udi)o(ng)d(guaran-)1011 2594 y(teeing)g(shorter)f(pauses)i(when)g(smaller)f(ob)r(jects)f(are)i(allo)q(cated.)969 2718 y Fn(22)p eop%%Page: 23 23bop 0 55 a Fn(that)17 b(the)h(m)o(utator)e(can't)i(see)g(suc)o(h)g(p)q(oin)o(ters)g(in)f(the)h(\014rst)0 105 y(place.)42 217 y(It)26 b(should)h(b)q(e)g(noted)g(that)g(Bak)o(er's)g(collector)g(itself)0 266 y(c)o(hanges)13b(the)h(graph)e(of)h(reac)o(hable)g(ob)r(jects,)h(in)e(the)h(pro)q(cess)0316 y(of)g(cop)o(ying.)18 b(The)c(read)g(barrier)h(do)q(es)f(not)g(just)g(inform)e(the)0 366 y(collector)20 b(of)e(c)o(hanges)i(b)o(y)f(the)h(m)o(utator,)f(to)g(ensure)i(that)0 416 y(ob)r(jects)f(aren't)g(lost;)h(it)d(also)h(shields)g(the)h Fk(mutator)f Fn(from)0 466 y(viewing)13b(temp)q(orary)g(inconsistencies)i(created)g(b)o(y)e(the)i(col-)0516 y(lector.)26 b(If)16 b(this)h(w)o(ere)g(not)g(done,)g(the)g(m)o(utator)e(migh)o(t)f(en-)0 565 y(coun)o(ter)h(t)o(w)o(o)f(di\013eren)o(t)h(p)q(oin)o(ters)f(to)g(v)o(ersions)h(of)e(the)i(same)0 615 y(ob)r(ject,)f(one)g(of)g(them)f(obsolete.)42 727 y(The)j(read)g(barrier)g(ma)o(y)e(b)q(e)i(implemen)o(ted)d(in)j(soft)o(w)o(are,)0 777 y(b)o(y)i(preceding)i(eac)o(h)f(read)g(\(of)g(a)f(p)q(oten)o(tial)g(p)q(oin)o(ter)h(from)0 826 y(the)e(heap\))g(with)g(a)f(c)o(hec)o(k)h(and)g(a)f(conditional)f(call)h(to)h(the)0876 y(cop)o(ying-and-up)q(dating)f(routine.)31 b(\(Compiled)16b(co)q(de)j(th)o(us)0 926 y(con)o(tains)11 b(extra)g(instructions)h(to)f(implemen)o(t)d(the)k(read)f(bar-)0 976 y(rier.\))19 b(Alternativ)o(ely)m(,)12 b(it)i(ma)o(y)e(b)q(e)i(implemen)o(ted)e(with)h(sp)q(e-)01026 y(cialized)g(hardw)o(are)g(c)o(hec)o(ks)h(and/or)f(micro)q(co)q(ded)f(routines.)42 1137 y(The)20 b(read)g(barrier)g(is)g(exp)q(ensiv)o(e)h(on)e(sto)q(c)o(k)h(hardw)o(are,)0 1187 y(b)q(ecause)k(in)d(the)h(general)h(case,)h(an)o(y)d(load)g(of)g(a)h(p)q(oin)o(ter)0 1237 y(m)o(ust)12b(c)o(hec)o(k)i(to)f(see)i(if)d(the)i(p)q(oin)o(ter)f(p)q(oin)o(ts)g(to)g(a)g(fromspace)0 1287 y(\(white\))j(ob)r(ject;)g(if)f(so,)g(extra)h(co)q(de)h(m)o(ust)d(b)q(e)i(executed)h(to)0 1336 y(mo)o(v)o(e)f(the)j(ob)r(ject)g(to)f(tospace)h(and)f(up)q(date)h(the)f(p)q(oin)o(ter.)0 1386 y(The)13b(cost)g(of)f(these)i(c)o(hec)o(ks)g(is)e(high)g(on)h(con)o(v)o(en)o(tional)e(hard-)0 1436 y(w)o(are,)19 b(b)q(ecause)g(they)g(o)q(ccur)g(v)o(ery)f(frequen)o(tly)m(.)30 b(Lisp)18 b(Ma-)0 1486 y(c)o(hines)e(ha)o(v)o(e)f(sp)q(ecial)g(purp)q(ose)i(hardw)o(are)e(to)g(detect)i(p)q(oin-)01536 y(ters)24 b(in)o(to)e(fromspace)g(and)h(trap)f(to)h(a)g(handler)f([Gre84,)0 1586 y(Mo)q(o84)o(,)i(Joh91],)j(but)e(on)f(con)o(v)o(en)o(tional)g(mac)o(hines)g(the)0 1635 y(c)o(hec)o(king)13 b(o)o(v)o(erhead)h(is)f(in)g(the)h(tens)g(of)e(p)q(ercen)o(t)j(for)e(a)g(high-)0 1685 y(p)q(erformance)h(system)f([Zor89].)42 1797 y(Bro)q(oks)f(has)f(prop)q(osed)h(a)g(v)n(ariation)d(on)j(Bak)o(er's)f(sc)o(heme,)0 1847 y(where)i(ob)r(jects)g(are)fFk(always)f Fn(referred)j(to)d(via)g(an)g(indirection)0 1896y(\014eld)16 b(em)o(b)q(edded)f(in)h(the)g(ob)r(ject)g(itself)g([Bro84)o(].)23 b(If)15 b(an)h(ob-)0 1946 y(ject)k(is)f(v)n(alid,)g(its)g(indirection)g(\014eld)g(p)q(oin)o(ts)h(to)f(itself.)34 b(If)0 1996 y(it's)18b(an)h(obsolete)g(v)o(ersion)g(in)f(fromspace,)h(its)f(indirection)02046 y(p)q(oin)o(ter)i(p)q(oin)o(ts)g(to)g(the)g(new)h(v)o(ersion.)36b(Unconditionally)0 2096 y(indirecting)17 b(is)f(c)o(heap)q(er)j(than)e(c)o(hec)o(king)g(for)g(indirections,)0 2145 y(but)f(could)f(still)g(incur)h(o)o(v)o(erheads)g(in)f(the)i(tens)f(of)f(p)q(ercen)o(t)0 2195y(for)e(a)h(high-p)q(erformance)e(system)i([Ung84)o(].)j(\(A)d(v)n(arian)o(t)f(of)0 2245 y(this)f(approac)o(h)h(has)f(b)q(een)h(used)h(b)o(y)e(North)g(and)h(Repp)o(y)f(in)f(a)0 2295 y(concurren)o(t)18 b(garbage)d(collector)h([NR87)o(];)g(another)g(v)n(arian)o(t)0 2345 y(exploits)g(imm)o(utabl)o(e)e(v)n(alues)i(in)g(ML)h(to)f(allo)o(w)f(reading)h(of)0 2395y(some)f(data)h(from)f(fromspace)h([HL93)o(].)25 b(Zorn)16b(tak)o(es)h(a)f(dif-)0 2444 y(feren)o(t)c(approac)o(h)f(to)g(reducing)h(the)g(read)g(barrier)f(o)o(v)o(erhead,)0 2494 y(using)17 b(kno)o(wledge)g(of)g(imp)q(ortan)o(t)e(sp)q(ecial)j(cases)g(and)f(sp)q(e-)0 2544y(cial)12 b(compiler)g(tec)o(hniques.)19 b(Still,)11 b(the)j(time)d(o)o(v)o(erheads)j(are)0 2594 y(on)g(the)g(order)h(of)e(t)o(w)o(en)o(t)o(y)h(p)q(ercen)o(t)i([Zor89)o(].)1236 789 ygsave currentpoint currentpoint translate 270 rotate neg exch neg exch translate1236 789 a 15302080 11476556 526254 986726 51507118 39337492 startTexFig1236 789 a%%BeginDocument: treadmil.ps/Win33Dict 290 dict def Win33Dict begin/bd{bind def}bind def/in{72mul}bd/ed{exch def}bd/ld{load def}bd/tr/translate ld/gs/gsave ld/gr/grestoreld/M/moveto ld/L/lineto ld/rmt/rmoveto ld/rlt/rlineto ld/rct/rcurvetold/st/stroke ld/n/newpath ld/sm/setmatrix ld/cm/currentmatrix ld/cp/closepathld/ARC/arcn ld/TR{65536 div}bd/lj/setlinejoin ld/lc/setlinecap ld/ml/setmiterlimitld/sl/setlinewidth ld/scignore false def/sc{scignore{pop pop pop}{0index 2 index eq 2 index 4 index eq and{pop pop 255 div setgray}{3{255div 3 1 roll}repeat setrgbcolor}ifelse}ifelse}bd/FC{bR bG bB sc}bd/fC{/bBed/bG ed/bR ed}bd/HC{hR hG hB sc}bd/hC{/hB ed/hG ed/hR ed}bd/PC{pRpG pB sc}bd/pC{/pB ed/pG ed/pR ed}bd/sM matrix def/PenW 1 def/iPen5 def/mxF matrix def/mxE matrix def/fBE false def/iDevRes 72 0 matrixdefaultmatrix dtransform dup mul exch dup mul add sqrt def/SS{/SV savedef}bd/RS{SV restore}bd/EJ{gsave showpage grestore}bd/#C{userdict begin/#copiesed end}bd/SM{/iRes ed/cyP exch def/cxP exch def/cyM exch def/cxM exchdef 72 iRes div dup neg scale 0 ne{cyP cxP neg tr 90 rotate cxM cyM}{cxMcyM cyP sub}ifelse tr 0 0 transform .25 add round .25 sub exch .25add round .25 sub exch itransform translate}bd/SJ{1 index 0 eq{poppop/fBE false def}{1 index/Break ed div/dxBreak ed/fBE true def}ifelse}bd/ANSIVec[16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde 16#4/macron 16#5/breve16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A/hungarumlaut16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60/grave16#7C/bar 16#91/quoteleft 16#92/quoteright 16#93/quotedblleft 16#94/quotedblright16#95/bullet 16#96/endash 16#97/emdash 16#A0/space 16#A4/currency 16#A6/brokenbar16#A7/section 16#A8/dieresis 16#A9/copyright 16#AA/ordfeminine 16#AB/guillemotleft16#AC/logicalnot 16#AD/hyphen 16#AE/registered 16#AF/macron 16#B0/degree16#B1/plusminus 16#B2/twosuperior 16#B3/threesuperior 16#B4/acute 16#B5/mu16#B6/paragraph 16#B7/periodcentered 16#B8/cedilla 16#B9/onesuperior16#BA/ordmasculine 16#BB/guillemotright 16#BC/onequarter 16#BD/onehalf16#BE/threequarters 16#BF/questiondown 16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex16#C3/Atilde 16#C4/Adieresis 16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave16#C9/Eacute 16#CA/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute16#CE/Icircumflex 16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve16#D3/Oacute 16#D4/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply16#D8/Oslash 16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis16#DD/Yacute 16#DE/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute16#E2/acircumflex 16#E3/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae16#E7/ccedilla 16#E8/egrave 16#E9/eacute 16#EA/ecircumflex 16#EB/edieresis16#EC/igrave 16#ED/iacute 16#EE/icircumflex 16#EF/idieresis 16#F0/eth16#F1/ntilde 16#F2/ograve 16#F3/oacute 16#F4/ocircumflex 16#F5/otilde16#F6/odieresis 16#F7/divide 16#F8/oslash 16#F9/ugrave 16#FA/uacute16#FB/ucircumflex 16#FC/udieresis 16#FD/yacute 16#FE/thorn 16#FF/ydieresis] def/reencdict 12 dict def/IsChar{basefontdict/CharStrings get exchknown}bd/MapCh{dup IsChar not{pop/bullet}if newfont/Encoding get 31 roll put}bd/MapDegree{16#b0/degree IsChar{/degree}{/ring}ifelse MapCh}bd/MapBB{16#a6/brokenbarIsChar{/brokenbar}{/bar}ifelse MapCh}bd/ANSIFont{reencdict begin/newfontnameed/basefontname ed FontDirectory newfontname known not{/basefontdictbasefontname findfont def/newfont basefontdict maxlength dict def basefontdict{exchdup/FID ne{dup/Encoding eq{exch dup length array copy newfont 3 1 rollput}{exch newfont 3 1 roll put}ifelse}{pop pop}ifelse}forall newfont/FontNamenewfontname put 127 1 159{newfont/Encoding get exch/bullet put}forANSIVec aload pop ANSIVec length 2 idiv{MapCh}repeat MapDegree MapBBnewfontname newfont definefont pop}if newfontname end}bd/SB{FC/stred str length fBE not{dup 1 gt{1 sub}if}if/cbStr ed/dxGdi ed/y0 ed/x0ed str stringwidth esc 0 ne{mxE itransform exch neg dxGdi add cbStrdiv exch mxE transform}{exch neg dxGdi add cbStr div exch}ifelse/dyExtraed/dxExtra ed x0 y0 M fBE{dxBreak 0 BCh dxExtra dyExtra str awidthshow}{dxExtradyExtra str ashow}ifelse fUL{x0 y0 M dxUL dyUL rmt dxGdi fBE{Breakadd}if 0 mxE transform rlt cyUL sl st}if fSO{x0 y0 M dxSO dySO rmtdxGdi fBE{Break add}if 0 mxE transform rlt cyUL sl st}if n/fBE falsedef}bd/font{/name ed/Ascent ed 0 ne/fSO ed 0 ne/fUL ed/Sy ed/Sx ed10.0 div/ori ed -10.0 div/esc ed/BCh ed name findfont [Sx 0 0 Sy neg0 Ascent] esc mxE rotate mxF concatmatrix makefont setfont fUL{currentfontdup/FontInfo get/UnderlinePosition known not{pop/Courier findfont}if/FontInfoget/UnderlinePosition get 1000 div 0 exch mxF transform/dyUL ed/dxULed}if fSO{0 .3 mxF transform/dySO ed/dxSO ed}if fUL fSO or{currentfontdup/FontInfo get/UnderlineThickness known not{pop/Courier findfont}if/FontInfoget/UnderlineThickness get 1000 div Sy mul/cyUL ed}if}bd/min{2 copygt{exch}if pop}bd/max{2 copy lt{exch}if pop}bd/CP{/ft ed{{ft 0 eq{clip}{eoclip}ifelse}stopped{currentflat1 add setflat}{exit}ifelse}loop}bd/patfont 10 dict def patfont begin/FontType3 def/FontMatrix [1 0 0 1 0 0] def/FontBBox [0 0 32 32] def/EncodingStandardEncoding def/BuildChar{pop pop 32 0 0 0 32 32 setcachedevice2 2 scale 16 16 false [1 0 0 1 .25 .25]{pat}imagemask}bd end/p{/pat32 string def{}forall 0 1 7{dup 2 mul pat exch 3 index put dup 2 mul1 add pat exch 3 index put dup 2 mul 16 add pat exch 3 index put 2mul 17 add pat exch 2 index put pop}for}bd/pfill{/PatFont patfont definefontsetfont/ch(AAAA)def X0 128 X1{Y0 32 Y1{1 index exch M ch show}for pop}for}bd/vert{X0w X1{dup Y0 M Y1 L st}for}bd/horz{Y0 w Y1{dup X0 exch M X1 exch L st}for}bd/fdiag{X0w X1{Y0 M X1 X0 sub dup rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub duprlt st}for}bd/bdiag{X0 w X1{Y1 M X1 X0 sub dup neg rlt st}for Y0 wY1{X0 exch M Y1 Y0 sub dup neg rlt st}for}bd/AU{1 add cvi 15 or}bd/AD{1sub cvi -16 and}bd/SHR{pathbbox AU/Y1 ed AU/X1 ed AD/Y0 ed AD/X0 ed}bd/hfill{2sl [] 0 setdash n/w iRes 20 div 8 div round 8 mul def dup 0 eq{horz}ifdup 1 eq{vert}if dup 2 eq{fdiag}if dup 3 eq{bdiag}if dup 4 eq{horzvert}if 5 eq{fdiag bdiag}if}bd/F{/ft ed fm 256 and 0 ne{gs FC ft 0eq{fill}{eofill}ifelse gr}if fm 1536 and 0 ne{SHR gs HC ft CP fm 1024and 0 ne{/Tmp save def pfill Tmp restore}{fm 15 and hfill}ifelse gr}if}bd/S{PenWsl PC st}bd/m matrix def/GW{iRes 12 div PenW add cvi}bd/DoW{iRes 50div PenW add cvi}bd/DW{iRes 8 div PenW add cvi}bd/SP{/PenW ed/iPened iPen 0 eq{[] 0 setdash}if iPen 1 eq{[DW GW] 0 setdash}if iPen 2eq{[DoW GW] 0 setdash}if iPen 3 eq{[DW GW DoW GW] 0 setdash}if iPen4 eq{[DW GW DoW GW DoW GW] 0 setdash}if}bd/E{m cm pop tr scale 0 01 0 360 arc cp m sm}bd/AG{/sy ed/sx ed sx div 4 1 roll sy div 4 1 rollsx div 4 1 roll sy div 4 1 roll atan/a2 ed atan/a1 ed sx sy scale a1a2 ARC}def/A{m cm pop tr AG m sm}def/P{m cm pop tr 0 0 M AG cp m sm}def/RRect{n4 copy M 3 1 roll exch L 4 2 roll L L cp}bd/RRCC{/r ed/y1 ed/x1 ed/y0ed/x0 ed x0 r add y0 M x1 y0 x1 y1 r arcto 4{pop}repeat x1 y1 x0 y1r arcto 4{pop}repeat x0 y1 x0 y0 r arcto 4{pop}repeat x0 y0 x1 y0 rarcto 4{pop}repeat cp}bd/RR{2 copy 0 eq exch 0 eq or{pop pop RRect}{2copy eq{pop RRCC}{m cm pop/y2 ed/x2 ed/ys y2 x2 div 1 max def/xs x2y2 div 1 max def/y1 exch ys div def/x1 exch xs div def/y0 exch ys divdef/x0 exch xs div def/r2 x2 y2 min def xs ys scale x0 r2 add y0 Mx1 y0 x1 y1 r2 arcto 4{pop}repeat x1 y1 x0 y1 r2 arcto 4{pop}repeatx0 y1 x0 y0 r2 arcto 4{pop}repeat x0 y0 x1 y0 r2 arcto 4{pop}repeatm sm cp}ifelse}ifelse}bd/PP{{rlt}repeat}bd/OB{gs sc B fill gr}bd/B{M/dyed/dx ed dx 0 rlt 0 dy rlt dx neg 0 rlt cp}bd/CB{B clip n}bdstatusdict begin 0 setjobtimeout endstatusdict begin statusdict /jobname (Windows Draw - TREADSTR.DRW) put endSS1 33 60 3300 2550 300 SM255 255 255 fC/fm 256 def3230 2426 0 0 B1 Fn1042 1044 1702 1196 EnsM cm[ -58023 TR 0 TR 0 TR -58283 TR 188416000 TR 85393408 TR] concat1 lc1 lj10433 ml0 0 0 pC0 20 SP252 252 0 0 BSnsm0 8 SP2820 1057 M 0 0 -32 -172 2 PPSn0 lc0 lj2835 1020 M -30 -40 -13 48 2 PPSn1 lc1 lj1 8 SP2907 965 M 0 0 -2434 479 2 PPSn1 4 SP1684 1204 M 0 0 -692 -1079 2 PPSn0 19 SP33 33 33 fC/fm 256 def224 223 526 1098 B1 FSnsM cm[ 41032 TR -41162 TR 41032 TR 41162 TR 52232192 TR 30081024 TR] concat0 20 SP252 252 0 0 B1 FSnsmsM cm[ 53604 TR -22754 TR 22754 TR 53604 TR 75628544 TR 10485760 TR] concat255 255 255 fC252 252 0 0 B1 FSnsmsM cm[ 22676 TR -53604 TR 53422 TR 22754 TR 37289984 TR 56688640 TR] concat33 33 33 fC252 252 0 0 B1 FSnsm0 8 SP1138 205 M 0 0 -160 107 2 PPSn0 lc0 lj1098 205 M -25 43 49 -6 2 PPSn1 lc1 lj1442 212 M 0 0 135 -33 2 PPSn0 lc0 lj1480 226 M 38 -32 -49 -12 2 PPSn1 lc1 lj606 911 M 0 0 -27 173 2 PPSn0 lc0 lj578 940 M 15 47 29 -40 2 PPSn1 lc1 lj803 504 M 0 0 -130 154 2 PPSn0 lc0 lj765 515 M -13 48 46 -20 2 PPSn1 lc1 lj568 1344 M 0 0 38 180 2 PPSn0 lc0 lj553 1381 M 30 39 13 -48 2 PPSn1 lc1 lj1076 391 M 0 0 142 -92 2 PPSn0 lc0 lj1116 392 M 26 -42 -50 5 2 PPSn1 lc1 lj832 698 M 0 0 77 -109 2 PPSn0 lc0 lj869 683 M 8 -49 -44 24 2 PPSn1 lc1 lj690 1067 M 0 0 36 -129 2 PPSn0 lc0 lj720 1041 M -9 -49 -33 37 2 PPSn0 0 0 fC32 0 0 141 142 0 0 137 /Times-Bold /font29 ANSIFont font1045 925 102 (N) SB1145 925 63 (e) SB1206 925 102 (w) SB32 0 0 141 142 0 0 137 /Times-Bold /font29 ANSIFont font1311 1617 94 (T) SB1404 1617 71 (o) SB32 0 0 141 142 0 0 137 /Times-Bold /font29 ANSIFont font2056 1444 86 (F) SB2141 1444 63 (r) SB2204 1444 71 (o) SB2275 1444 117 (m) SB1 lc1 lj1 4 SP1684 1204 M 0 0 252 1212 2 PPSn32 0 0 141 142 0 0 137 /Times-Bold /font29 ANSIFont font1777 618 86 (F) SB1862 618 63 (r) SB1925 618 63 (e) SB1987 618 63 (e) SB32 0 0 118 117 0 0 105 /Times-Roman /font32 ANSIFont font327 191 85 (A) SB412 191 33 (l) SB445 191 33 (l) SB478 191 59 (o) SB537 191 52 (c) SB590 191 52 (a) SB643 191 33 (t) SB675 191 33 (i) SB708 191 59 (o) SB768 191 59 (n) SB0 8 SP859 232 M 0 0 106 -67 2 PPSn0 lc0 lj925 164 M -27 42 50 -5 2 PPSn1 lc1 lj2 8 SP1218 1963 M 0 0 -293 373 2 PPSn32 0 0 118 117 0 0 105 /Times-Roman /font32 ANSIFont font393 2069 66 (S) SB459 2069 52 (c) SB511 2069 52 (a) SB563 2069 59 (n) SB623 2069 59 (n) SB681 2069 33 (i) SB714 2069 59 (n) SB773 2069 59 (g) SB0 8 SP846 2150 M 0 0 119 80 2 PPSn0 lc0 lj949 2193 M -49 -7 25 44 2 PPSnsM cm[ 0 TR -58283 TR 58023 TR 0 TR 105119744 TR 155713536 TR] concat1 lc1 lj0 20 SP224 224 224 fC252 252 0 0 B1 FSnsmsM cm[ -41162 TR -41162 TR 41162 TR -41162 TR 63307776 TR 137953280 TR] concat33 33 33 fC252 252 0 0 B1 FSnsmsM cm[ -22754 TR -53624 TR 53604 TR -22762 TR 43712512 TR 114491392 TR] concat253 252 0 0 B1 FSnsmsM cm[ -53604 TR -22762 TR 22754 TR -53624 TR 89915392 TR 152895488 TR] concat224 224 224 fC252 253 0 0 B1 FSnsm0 8 SP728 1744 M 0 0 91 179 2 PPSn0 lc0 lj724 1784 M 40 31 -1 -51 2 PPSn1 lc1 lj726 1443 M 0 0 -27 -107 2 PPSn0 lc0 lj739 1405 M -32 -38 -10 49 2 PPSn1 lc1 lj1414 2299 M 0 0 176 23 2 PPSn0 lc0 lj1444 2326 M 47 -16 -41 -28 2 PPSn1 lc1 lj1019 2096 M 0 0 146 120 2 PPSn0 lc0 lj1031 2134 M 48 12 -20 -45 2 PPSn1 lc1 lj1846 2336 M 0 0 184 -26 2 PPSn0 lc0 lj1883 2353 M 41 -28 -48 -16 2 PPSn1 lc1 lj897 1810 M 0 0 -78 -114 2 PPSn0 lc0 lj896 1770 M -44 -24 8 49 2 PPSn1 lc1 lj1198 2092 M 0 0 -116 -86 2 PPSn0 lc0 lj1184 2054 M -49 -10 23 45 2 PPSn1 lc1 lj1574 2214 M 0 0 -130 -25 2 PPSn0 lc0 lj1545 2186 M -48 13 40 31 2 PPSnsM cm[ 0 TR 58283 TR -58283 TR 0 TR 118292480 TR 1638400 TR] concat1 lc1 lj0 20 SP252 252 0 0 BSnsmsM cm[ 41162 TR 41162 TR -41162 TR 41162 TR 160104448 TR 19398656 TR] concat252 252 0 0 BSnsmsM cm[ 22676 TR 53443 TR -53422 TR 22685 TR 179634176 TR 42860544 TR] concat253 252 0 0 BSnsmsM cm[ 53604 TR 22685 TR -22754 TR 53443 TR 133496832 TR 4456448 TR] concat252 253 0 0 BSnsm0 8 SP2682 645 M 0 0 -92 -154 2 PPSn0 lc0 lj2684 606 M -42 -27 4 49 2 PPSn1 lc1 lj2683 957 M 0 0 25 127 2 PPSn0 lc0 lj2668 994 M 30 39 13 -48 2 PPSn1 lc1 lj1987 109 M 0 0 -168 -31 2 PPSn0 lc0 lj1958 81 M -48 13 40 31 2 PPSn1 lc1 lj2391 316 M 0 0 -162 -124 2 PPSn0 lc0 lj2378 278 M -50 -10 23 45 2 PPSn1 lc1 lj1546 67 M 0 0 -169 32 2 PPSn0 lc0 lj1509 51 M -40 30 48 14 2 PPSn1 lc1 lj2504 588 M 0 0 95 122 2 PPSn0 lc0 lj2507 628 M 45 22 -10 -49 2 PPSn1 lc1 lj2204 318 M 0 0 131 87 2 PPSn0 lc0 lj2220 355 M 49 6 -25 -43 2 PPSn1 lc1 lj1832 198 M 0 0 131 21 2 PPSn0 lc0 lj1861 226 M 47 -15 -40 -29 2 PPSnsM cm[ -41032 TR 41162 TR -41032 TR -41162 TR 170655744 TR 127205376 TR] concat1 lc1 lj0 20 SP252 252 0 0 BSnsmsM cm[ -53443 TR 22754 TR -22685 TR -53604 TR 147193856 TR 146866176 TR] concat253 252 0 0 BSnsmsM cm[ -22762 TR 53422 TR -53624 TR -22676 TR 185597952 TR 100663296 TR] concat252 253 0 0 BSnsm0 8 SP2250 2195 M 0 0 165 -125 2 PPSn0 lc0 lj2290 2193 M 23 -44 -50 9 2 PPSn1 lc1 lj1959 2205 M 0 0 -122 30 2 PPSn0 lc0 lj1921 2192 M -38 32 49 11 2 PPSn1 lc1 lj2795 1490 M 0 0 27 -174 2 PPSn0 lc0 lj2822 1460 M -15 -48 -29 41 2 PPSn1 lc1 lj2588 1885 M 0 0 120 -162 2 PPSn0 lc0 lj2626 1871 M 10 -49 -45 23 2 PPSn1 lc1 lj2316 2007 M 0 0 -120 95 2 PPSn0 lc0 lj2277 2011 M -21 45 48 -11 2 PPSn1 lc1 lj2579 1707 M 0 0 -86 118 2 PPSn0 lc0 lj2542 1721 M -9 49 44 -23 2 PPSn1 lc1 lj2720 1331 M 0 0 -32 132 2 PPSn0 lc0 lj2691 1358 M 11 49 32 -38 2 PPSnEJ RSend%%EndDocument 1236 789 a endTexFig1963 789 acurrentpoint grestore moveto1071 881 a Fn(Figure)e(8:)j(T)m(readmill)11 b(collector)j(during)g(collection.)1011 1014 y Fm(3.4.2)48 b(Bak)o(er's)14 b(Incremen)o(tal)e(Non-cop)o(ying)g(Algo-)1157 1064 y(rithm|The)h(T)l(readmill)10111142 y Fn(Recen)o(tly)m(,)18 b(Bak)o(er)h(has)f(prop)q(osed)g(a)g(non-cop)o(ying)f(v)o(ersion)1011 1192 y(of)22 b(his)i(sc)o(heme,)h(whic)o(h)e(uses)i(doubly-link)o(ed)d(lists)h(\(and)1011 1242 y(p)q(er-ob)r(ject)c(color)f(\014elds\))h(to)f(implemen)o(t)e(the)i(sets)i(of)d(ob-)10111291 y(jects)g(of)f(eac)o(h)i(color,)e(rather)i(than)e(separate)i(memory)c(ar-)1011 1341 y(eas.)35 b(By)20 b(a)o(v)o(oiding)d(the)k(actual)e(mo)o(ving)e(of)h(ob)r(jects)j(and)1011 1391 y(up)q(dating)d(of)f(p)q(oin)o(ters,)j(the)f(sc)o(heme)g(puts)g(few)o(er)g(restric-)1011 1441 y(tions)j(on)h(other)h(asp)q(ects)g(of)f(language)e(implemen)o(tation)1011 1491 y([Bak91b)o(,)13b(WJ93].)1314 1476 y Fj(19)1052 1541 y Fn(This)h(non-cop)o(ying)e(sc)o(heme)i(preserv)o(es)i(the)e(essen)o(tial)g(ef-)1011 1591 y(\014ciency)21b(adv)n(an)o(tage)e(of)h(cop)o(y)g(collection,)h(b)o(y)f(reclaiming)10111641 y(space)13 b(implicitl)o(y)m(.)h(\(As)f(describ)q(ed)g(in)e(Sect.)i(2.5,)e(unreac)o(hed)1011 1691 y(ob)r(jects)16 b(in)e(the)h(white)g(set)h(can)f(b)q(e)g(reclaimed)f(in)g(constan)o(t)1011 1740 y(time)i(b)o(y)h(app)q(ending)h(the)g(remainder)f(of)f(that)i(list)f(to)g(the)10111790 y(free)h(list.\))27 b(The)17 b(real-time)f(v)o(ersion)h(of)f(this)h(sc)o(heme)h(links)1011 1840 y(the)g(v)n(arious)f(lists)h(in)o(to)f(a)g(cyclic)h(structure,)j(as)d(sho)o(wn)f(in)1011 1890 y(Fig.)d(8.)24 b(This)15b(cyclic)h(structure)i(is)e(divided)f(in)o(to)g(four)h(sec-)10111940 y(tions.)1052 1990 y(The)g Fk(new)e Fn(list)h(is)f(where)i(allo)q(cation)d(of)i(new)g(ob)r(jects)h(o)q(c-)1011 2040 y(curs)h(during)e(garbage)h(collection|it)f(is)h(con)o(tiguous)f(with)1011 2090 y(the)j(free-list,)g(and)g(allo)q(cation)e(o)q(ccurs)j(b)o(y)f(adv)n(ancing)e(the)10112140 y(p)q(oin)o(ter)d(that)g(separates)h(them.)j(A)o(t)c(the)h(b)q(eginning)e(of)g(gar-)1011 2189 y(bage)i(collection,)f(the)h(new)g(segmen)o(t)g(is)g(empt)o(y)m(.)1052 2240 y(The)h Fk(fr)n(om)f Fn(list)h(holds)f(ob)r(jects)i(that)f(w)o(ere)g(allo)q(cated)g(b)q(e-)1011 2290 y(fore)h(garbage)g(collection)g(b)q(egan,)g(and)g(whic)o(h)g(are)g(sub)r(ject)10112339 y(to)i(garbage)f(collection.)30 b(As)19 b(the)f(collector)h(and)e(m)o(utator)1011 2389 y(tra)o(v)o(erse)g(data)f(structures,)i(ob)r(jects)f(are)g(mo)o(v)o(ed)d(from)g(the)1011 2439 y(from-list)f(to)j(the)h(to-list.)24b(The)16 b(to-list)g(is)f(initially)f(empt)o(y)m(,)p 1011 2476388 2 v 1042 2503 a Fh(19)1074 2515 y Fg(In)f(particular,)e(it)i(is)g(p)q(ossible)e(to)i(deal)f(with)h(compilers)e(that)h(do)1011 2554y(not)d(unam)o(biguo)o(usly)e(iden)o(tify)g(p)q(oin)o(ter)h(v)n(ariables)g(in)i(the)f(stac)o(k,)g(mak-)1011 2594 y(ing)i(it)g(imp)q(ossible)e(to)i(use)g(simple)f(cop)o(y)g(collection.)969 2718 y Fn(23)p eop%%Page: 24 24bop 0 55 a Fn(but)11 b(gro)o(ws)g(as)g(ob)r(jects)h(are)f(\\unsnapp)q(ed")g(\(unlink)o(ed\))g(from)0 105 y(the)h(from-list)e(\(and)h(snapp)q(ed)i(in)o(to)e(the)h(to-list\))f(during)h(col-)0 155 y(lection.)42 206y(The)17 b(new-list)f(con)o(tains)g(new)h(ob)r(jects,)h(whic)o(h)f(are)g(allo-)0 255 y(cated)h(blac)o(k.)28 b(The)18 b(to-list)e(con)o(tains)i(b)q(oth)f(blac)o(k)g(ob)r(jects)0 305 y(\(whic)o(h)e(ha)o(v)o(e)g(b)q(een)h(completely)d(scanned\))k(and)d(gra)o(y)h(ones)0 355 y(\(whic)o(h)21b(ha)o(v)o(e)g(b)q(een)h(reac)o(hed)g(but)f(not)g(scanned\).)41b(Note)0 405 y(the)11 b(isomorphism)d(with)j(the)g(cop)o(ying)f(algorithm|ev)o(en)e(an)0 455 y(analogue)15 b(of)g(the)i(Cheney)g(algorithm)c(can)j(b)q(e)h(used.)25 b(It)16 b(is)0 504 y(only)f(necessary)i(to)f(ha)o(v)o(e)f(a)h(scan)g(p)q(oin)o(ter)g(in)o(to)f(the)h(to-list)0 554 y(and)e(adv)n(ance)g(it)f(through)h(the)h(gra)o(y)e(ob)r(jects.)740 539 y Fj(20)42 605y Fn(Ev)o(en)o(tually)m(,)e(all)g(of)i(the)g(reac)o(hable)g(ob)r(jects)h(in)f(the)g(from-)0 655 y(list)k(ha)o(v)o(e)g(b)q(een)h(mo)o(v)o(ed)e(to)h(the)h(to)f(list,)g(and)g(scanned)i(for)0 704 y(o\013spring.)25 b(When)17b(no)f(more)f(o\013spring)i(are)f(reac)o(hable,)h(all)0 754y(of)12 b(the)h(ob)r(jects)h(in)f(the)g(to-list)f(are)h(blac)o(k,)f(and)g(the)i(remain-)0 804 y(ing)g(ob)r(jects)i(in)f(the)g(from)e(list)i(are)g(kno)o(wn)g(to)f(b)q(e)i(garbage.)0 854 y(A)o(t)d(this)g(p)q(oin)o(t,)f(the)i(garbage)e(collection)h(is)g(complete.)k(The)0 904 y(from-list)c(is)j(no)o(w)f(a)o(v)n(ailable,)e(and)i(can)h(simply)e(b)q(e)i(merged)0954 y(with)i(the)g(free-list.)31 b(The)18 b(to-list)g(and)g(the)g(new-list)g(b)q(oth)0 1003 y(hold)i(ob)r(jects)j(that)e(w)o(ere)h(preserv)o(ed,)j(and)c(they)g(can)h(b)q(e)0 1053 y(merged)10 b(to)f(form)g(the)h(new)h(to-list)e(at)h(the)g(next)h(collection.)935 1038 y Fj(21)42 1104 y Fn(The)g(state)g(is)g(v)o(ery)g(similar)d(to)j(the)g(b)q(eginning)f(of)g(the)i(pre-)01154 y(vious)17 b(cycle,)h(except)h(that)f(the)g(segmen)o(ts)f(ha)o(v)o(e)g(\\mo)o(v)o(ed")0 1203 y(part)h(w)o(a)o(y)f(around)g(the)h(cycle|hence)h(the)g(name)d(\\tread-)0 1253 y(mill.")42 1304 y(Bak)o(er)e(describ)q(es)j(this)d(algorithm)d(as)k(b)q(eing)f(isomorphic)0 1354 y(to)c(his)h(original)d(incremen)o(tal)i(cop)o(ying)g(algorithm,)e(presum-)0 1403y(ably)j(including)f(the)i(close)g(coupling)f(b)q(et)o(w)o(een)i(the)f(m)o(utator)0 1453 y(and)i(the)g(collector,)g(i.e.,)e(the)j(read)f(barrier.)01565 y Fm(3.4.3)48 b(Conserv)m(atism)14 b(of)i(Bak)o(er's)f(Read)g(Barrier)01643 y Fn(Bak)o(er's)i(garbage)g(collectors)g(use)h(a)e(somewhat)g(conserv)n(a-)0 1693 y(tiv)o(e)f(appro)o(ximation)d(of)i(true)i(liv)o(eness)g(in)e(t)o(w)o(o)h(w)o(a)o(ys.)21 b(The)0 1743 y(most)12 b(ob)o(vious)h(one)g(is)g(that)g(ob)r(jects)i(allo)q(cated)e(during)g(col-)0 1793 y(lection)19b(are)h(assumed)f(to)g(b)q(e)h(liv)o(e,)f(ev)o(en)h(if)f(they)g(die)h(b)q(e-)0 1843 y(fore)i(the)h(collection)f(is)g(\014nished.)44 b(The)23b(second)g(is)f(that)0 1892 y(pre-existing)13 b(ob)r(jects)g(ma)o(y)e(b)q(ecome)h(garbage)g(after)g(ha)o(ving)0 1942 y(b)q(een)g(reac)o(hed)g(b)o(y)f(the)g(collector's)g(tra)o(v)o(ersal,)h(and)e(they)i(will)01992 y(not)i(b)q(e)h(reclaimed|once)e(an)h(ob)r(ject)h(has)g(b)q(een)g(gra)o(y)o(ed,)f(it)0 2042 y(will)h(b)q(e)j(considered)g(liv)o(e)f(un)o(til)f(the)h(next)h(garbage)e(collec-)0 2092 y(tion)d(cycle.)19 b(On)14b(the)h(other)f(hand,)g(if)f(ob)r(jects)i(b)q(ecome)f(gar-)02142 y(bage)h(during)f(collection,)g(and)g(all)f(paths)i(to)g(those)g(ob)r(jects)0 2191 y(are)20 b(destro)o(y)o(ed)h Fk(b)n(efor)n(e)eFn(b)q(eing)g(tra)o(v)o(ersed,)j(then)e(they)h Fk(wil)r(l)02241 y Fn(b)q(e)c(reclaimed.)26 b(That)16 b(is,)h(the)g(m)o(utator)f(ma)o(y)e(o)o(v)o(erwrite)j(a)p 0 2279 388 2 v 31 2306 a Fh(20)64 2318y Fg(Because)7 b(the)i(list)g(structure)e(is)i(more)f(\015exible)f(than)h(a)h(con)o(tiguous)0 2357 y(area)j(of)h(memory)m(,)f(it)h(is)g(ev)o(en)f(p)q(ossible)g(to)h(implemen)o(t)d(a)j(depth-\014rst)0 2396 y(tra)o(v)o(ersal)f(with)i(no)g(auxiliary)e(stac)o(k,)h(in)h(m)o(uc)o(h)f(the)g(same)g(w)o(a)o(y)i(that)0 2436 y(the)c(Cheney)f(algorithm)f(implemen)o(ts)f(breadth-\014rst)h([WJ93)o(].)31 2464 y Fh(21)64 2475 y Fg(This)i(discussion)f(is)i(a)f(bit)h(o)o(v)o(ersimpli\014)o(ed;)d(Bak)o(er)h(uses)i(four)e(col-)02515 y(ors,)19 b(and)e(whole)g(lists)g(can)g(ha)o(v)o(e)f(their)h(colors)f(c)o(hanged)g(instan)o(ta-)0 2554 y(neously)11 b(b)o(y)h(c)o(hanging)e(the)i(sense)g(of)h(the)f(bit)g(patterns,)f(rather)g(than)0 2594y(the)g(patterns)e(themselv)o(es.)1011 55 y Fn(p)q(oin)o(ter)h(from)e(a)i(gra)o(y)g(ob)r(ject,)h(destro)o(ying)f(the)h(only)e(path)h(to)1011105 y(one)15 b(or)g(more)f(white)h(ob)r(jects)h(and)f(ensuring)h(that)f(the)g(col-)1011 155 y(lector)j(will)e(not)h(\014nd)h(them.)28 b(Th)o(us)18b(Bak)o(er's)g(incremen)o(tal)1011 205 y(sc)o(heme)e(incremen)o(tally)f(up)q(dates)j(the)f(reac)o(habilit)o(y)e(graph)1011 255 y(of)20b(pre-existing)g(ob)r(jects,)j(but)d(only)g(when)h(gra)o(y)f(ob)r(jects)1011304 y(ha)o(v)o(e)14 b(p)q(oin)o(ters)h(o)o(v)o(erwritten.)20b(Ov)o(erwriting)14 b(p)q(oin)o(ters)h(from)1011 354 y(blac)o(k)h(ob)r(jects)i(has)g(no)e(e\013ect)j(on)e(conserv)n(atism,)f(b)q(ecause)1011404 y(their)i(referen)o(ts)i(are)f(already)f(gra)o(y)m(.)29b(The)19 b(degree)g(of)f(con-)1011 454 y(serv)n(atism)13 b(\(and)h(\015oating)f(garbage\))h(th)o(us)g(dep)q(ends)i(on)d(the)1011504 y(details)d(of)g(the)i(collector's)f(tra)o(v)o(ersal)g(and)f(of)g(the)i(program's)1011 553 y(actions.)1011 668 y Fm(3.4.4)48 b(V)l(ariations)13b(on)i(the)g(Read)h(Barrier)1011 747 y Fn(Sev)o(eral)f(garbage)h(collectors)g(ha)o(v)o(e)f(used)i(sligh)o(t)d(v)n(ariations)1011 797 y(of)f(Bak)o(er's)i(read)g(barrier,)f(where)i(the)f(m)o(utator)d(is)i(only)g(al-)1011847 y(lo)o(w)o(ed)h(to)h(see)i Fk(black)e Fn(\(i.e.,)g(completely)f(scanned\))i(ob)r(jects.)1011 896 y(Recall)g(that)i(Bak)o(er's)f(read)h(barrier)g(copies)g(an)f(ob)r(ject)h(to)1011 946 y(tospace)e(as)g(so)q(on)f(as)h(the)g(m)o(utator)e(encoun)o(ters)k(a)d(p)q(oin)o(ter)1011996 y(to)j(the)g(ob)r(ject.)35 b(This)19 b(ma)o(y)e(b)q(e)j(ine\016cien)o(t,)g(b)q(ecause)g(the)1011 1046 y(c)o(hec)o(king)f(costs)h(are)g(incurred)g(at)f(eac)o(h)h(reference)i(in)c(the)1011 1096 y(general)f(case,)h(and)e(b)q(ecause)j(it)d(costs)i(something)d(to)i(trap)1011 1145 y(to)c(the)g(scanning-and-cop)o(ying)g(routine)g(\(t)o(ypically)m(,)e(a)i(con-)10111195 y(ditional)f(branc)o(h)i(and)g(a)g(subroutine)g(call\).)10521246 y(It)g(ma)o(y)d(therefore)k(b)q(e)e(preferable)i(to)e(scan)g(an)g(en)o(tire)h(ob-)1011 1296 y(ject)i(when)g(it)f(is)g(\014rst)h(touc)o(hed)g(b)o(y)f(the)h(m)o(utator,)e(and)h(up-)1011 1346 y(date)k(all)e(of)i(the)g(ob)r(ject's)h(p)q(oin)o(ter)f(\014elds.)33 b(This)18 b(ma)o(y)f(b)q(e)10111396 y(c)o(heap)q(er)12 b(than)f(calling)e(the)i(scanning-and-cop)o(ying)f(routine)1011 1446 y(eac)o(h)15 b(time)e(a)h(\014eld)g(is)g(\014rst)h(referenced;)i(the)e(compiler)e(ma)o(y)1011 1495 y(also)18b(b)q(e)i(able)f(to)g(optimize)e(a)o(w)o(a)o(y)h(redundan)o(t)i(c)o(hec)o(ks)g(for)1011 1545 y(m)o(ultiple)11 b(references)17 b(to)c(\014elds)i(of)e(the)h(same)f(ob)r(ject.)19 b(\(Juul)1011 1595 y(and)9 b(Jul's)g(distributed)h(garbage)f(collector)h([JJ92])f(uses)h(suc)o(h)1011 1645 y(an)i(ob)r(ject)o(wise)h(scanning)g(tec)o(hnique,)g(and)f(com)o(bines)g(some)10111695 y(of)19 b(the)i(garbage)f(collector's)g(c)o(hec)o(king)g(costs)h(with)f(those)1011 1744 y(incurred)15 b(for)e(\014ne-grained)h(ob)r(ject)h(migration.\))1052 1796 y(Suc)o(h)j(a)f(read)h(barrier)g(is)g(coarser)h(and)e(more)f(conserv)n(a-)1011 1845 y(tiv)o(e)g(than)g(Bak)o(er's)h(original)e(read)i(barrier.)26 b(It)16 b(enforces)i(a)1011 1895 y(stronger)g(constrain)o(t|not)g(only)f(is)g(the)h(m)o(utator)e(not)i(al-)1011 1945y(lo)o(w)o(ed)g(to)g(see)i Fk(white)e Fn(ob)r(jects,)i(it)f(is)f(only)g(allo)o(w)o(ed)f(to)i(see)1011 1995 y Fk(black)14 b Fn(ob)r(jects.)21b(Since)16 b(an)e(en)o(tire)h(ob)r(ject)g(is)g(scanned)g(when)10112045 y(it)c(is)h(\014rst)h(touc)o(hed,)g(and)f(its)g(referen)o(ts)i(are)f(gra)o(y)o(ed,)f(the)g(ob-)1011 2094 y(ject)18 b(b)q(ecomes)h(blac)o(k)e(b)q(efore)i(the)g(m)o(utator)d(is)i(allo)o(w)o(ed)f(to)1011 2144y(see)f(it.)23 b(This)15 b(adv)n(ances)h(the)g(w)o(a)o(v)o(efron)o(t)f(of)g(the)h(collector's)1011 2194 y(tra)o(v)o(ersal)c(an)g(extra)g(step)h(ahead)f(of)g(the)h(m)o(utator's)d(pattern)1011 2244 y(of)j(references.)10522295 y(Suc)o(h)h(a)g(\\blac)o(k)f(only")g(read)h(barrier)g(prev)o(en)o(ts)h(an)o(y)e(data)1011 2345 y(from)h(b)q(ecoming)h(garbage,)h(from)f(the)i(garbage)f(collector's)1011 2395 y(p)q(oin)o(t)11 b(of)g(view,)g(during)g(a)h(garbage)f(collection|b)q(efore)g(an)o(y)1011 2444 y(p)q(oin)o(ter)19b(can)g(b)q(e)g(o)o(v)o(erwritten,)h(the)f(ob)r(ject)h(con)o(taining)d(it)1011 2494 y(will)k(b)q(e)h(scanned,)j(and)e(the)f(p)q(oin)o(ter's)h(referen)o(t)h(will)c(b)q(e)1011 2544 y(gra)o(y)o(ed.)42 b(In)22 b(e\013ect,)j(this)d(implemen)o(ts)d(a)j(\\snapshot-at-)1011 2594 y(b)q(eginning")10b(collection,)h(using)g(a)g(read)h(barrier)g(rather)g(than)9692718 y(24)p eop%%Page: 25 25bop 0 55 a Fn(a)14 b(write)g(barrier.)42 105 y(App)q(el,)20b(Ellis,)f(and)f(Li's)h(concurren)o(t)i(incremen)o(tal)d(col-)0155 y(lector)d([AEL88)o(])f(uses)h(virtual)e(memory)f(primitiv)o(es)g(to)i(im-)0 205 y(plemen)o(t)j(a)h(pagewise)g(blac)o(k-only)f(read)i(barrier.)31b(Rather)0 255 y(than)17 b(detecting)i(the)f(\014rst)g(reference)i(to)e(an)o(y)f(grey)g(ob)r(ject)0 304 y(\(in)10 b(tospace\),)i(en)o(tire)f(pages)f(of)g(unscanned)h(data)f(in)g(tospace)0 354 y(are)15 b(access-protected,)j(so)c(that)h(the)g(virtual)f(memory)e(sys-)0 404 y(tem)f(will)f(implicitly)e(p)q(erform)j(read)h(barrier)g(c)o(hec)o(ks)g(as)g(part)0 454 y(of)f(the)h(normal)d(functioning)i(of)g(the)h(virtual)e(memory)f(hard-)0504 y(w)o(are.)29 b(When)17 b(the)h(m)o(utator)e(accesses)k(a)d(protected)i(page,)0 553 y(a)g(sp)q(ecial)h(trap)f(handler)h(immediately)c(scans)k(the)g(whole)0 603 y(page,)14 b(\014xing)h(up)f(all)g(the)h(p)q(oin)o(ters)h(\(i.e.,)d(blac)o(k)o(ening)h(all)g(of)0 653 y(the)e(ob)r(jects)h(in)e(the)i(page\);)f(referen)o(ts)h(in)f(fromspace)f(are)h(re-)0 703y(lo)q(cated)i(to)f(tospace)h(\(i.e.,)f(gra)o(y)o(ed\))g(and)g(access-protecte)q(d.)0 753 y(This)i(a)o(v)o(oids)f(the)h(need)h(for)f(con)o(tin)o(ual)f(soft)o(w)o(are)h(c)o(hec)o(ks)h(to)0 802 y(implemen)o(t)e(the)k(read)f(barrier,)h(and)f(in)f(the)i(usual)e(case)i(is)0 852y(more)g(e\016cien)o(t.)33 b(\(If)19 b(the)g(op)q(erating)g(system's)g(trap)g(han-)0 902 y(dling)8 b(is)i(slo)o(w,)f(ho)o(w)o(ev)o(er,)h(it)f(ma)o(y)e(not)j(b)q(e)g(w)o(orth)f(it.\))17 b(Despite)0 952 y(reliance)g(on)f(op)q(erating)h(system)f(supp)q(ort,)i(this)e(tec)o(hnique)0 1002y(is)e(relativ)o(ely)g(p)q(ortable)g(b)q(ecause)i(most)e(mo)q(dern)f(op)q(erating)0 1052 y(systems)h(pro)o(vide)g(the)g(necessary)i(supp)q(ort.)421101 y(Unfortunately)11 b(this)g(sc)o(heme)h(fails)e(to)h(pro)o(vide)g(meaning-)0 1151 y(ful)17 b(real-time)g(guaran)o(tees)i(in)f(the)g(general)h(case)g([WM89)o(,)0 1201 y(NS90,)14 b(WJ93)o(].)19 b(\(It)c(do)q(es)g(supp)q(ort)g(concurren)o(t)h(collection,)0 1251 y(ho)o(w)o(ev)o(er,)e(and)f(can)i(greatly)e(reduces)j(the)e(cost)h(of)e(the)i(read)0 1301 y(barrier.\))j(In)11b(the)i(w)o(orst)e(case,)i(eac)o(h)f(p)q(oin)o(ter)g(tra)o(v)o(ersal)f(ma)o(y)0 1350 y(cause)h(the)f(scanning)g(of)f(a)h(page)f(of)g(tospace)i(un)o(til)e(the)h(whole)0 1400 y(garbage)j(collection)f(is)h(complete.)5551385 y Fj(22)0 1514 y Fi(3.5)56 b(Replication)17 b(Cop)n(ying)i(Collection)01591 y Fn(Recen)o(tly)m(,)27 b(Nettles)f(et)g(al.)50 b([NOPH92,)24b(ONG93])g(ha)o(v)o(e)0 1641 y(devised)h(a)f(new)g(kind)g(of)g(incremen)o(tal)f(cop)o(ying)g(collec-)0 1691 y(tion,)12 b Fk(r)n(eplic)n(ation)i(c)n(opying)p Fn(,)f(whic)o(h)g(is)h(quite)f(di\013eren)o(t)h(from)01741 y(Bak)o(er's)19 b(incremen)o(tal)f(cop)o(ying)f(sc)o(heme.)32b(Recall)18 b(that)h(in)0 1790 y(Bak)o(er's)26 b(collector,)j(garbage)c(collection)g(starts)i(with)e(a)0 1840 y(\\\015ip,")20 b(whic)o(h)g(copies)g(the)h(imm)o(ediately-reac)o(hable)d(data)0 1890 y(to)d(tospace,)h(and)f(in)o(v)n(alidates)e(fromspace;)i(from)e(that)i(mo-)0 1940 y(men)o(t)g(on,)h(the)h(m)o(utator)d(is)i(only)f(allo)o(w)o(ed)g(to)h(see)h(the)g(new)01990 y(v)o(ersions)d(of)g(ob)r(jects,)g(nev)o(er)h(the)g(v)o(ersions)f(in)f(fromspace.)42 2039 y(Replication)18 b(cop)o(ying)i(is)g(almost)e(the)j(rev)o(erse)h(of)e(this.)0 2089 y(While)c(cop)o(ying)g(is)g(going)g(on,)h(the)g(m)o(utator)e(con)o(tin)o(ues)i(to)0 2139 y(see)e(the)g Fk(fr)n(omsp)n(ac)n(e)fFn(v)o(ersions)h(of)e(ob)r(jects,)i(rather)g(than)g(the)0 2189y(\\replicas")k(in)g(tospace.)35 b(When)19 b(the)h(cop)o(ying)e(pro)q(cess)j(is)0 2239 y(complete,)c(a)h(\015ip)f(is)g(p)q(erformed,)h(and)f(the)h(m)o(utator)f(then)0 2288 y(sees)e(the)g(replicas.)p 0 2319 3882 v 31 2345 a Fh(22)64 2357 y Fg(Johnson)i(has)i(impro)o(v)o(ed)e(on)j(this)e(sc)o(heme)g(b)o(y)h(incorp)q(orating)0 2397 y(lazier)13 b(cop)o(ying)e(of)j(ob)r(jects)e(to)i(tospace)e([Joh92)n(];)j(this)e(is)h(essen)o(tially)02436 y(an)d(application)d(of)k(Nilsen's)e(lazy)h(cop)o(ying)e(tec)o(hnique)g([Nil88)o(])j(to)f(the)0 2475 y(App)q(el-Ellis-Li)g(collector.)17b(This)c(decreases)d(the)j(maxim)o(um)d(latency)m(,)0 2515y(but)e(in)h(the)f(\(v)o(ery)f(unlik)o(ely\))g(w)o(orst)h(case)h(a)f(page)g(ma)o(y)g(still)g(b)q(e)h(scanned)0 2554 y(at)14 b(eac)o(h)g(p)q(oin)o(ter)f(tra)o(v)o(ersal)f(un)o(til)i(a)g(whole)g(garbage)f(collection)f(has)02594 y(b)q(een)e(done)h(\\the)f(hard)g(w)o(a)o(y".)1052 55y Fn(The)22 b(consistency)i(issues)e(in)f(replication)h(cop)o(ying)f(are)1011105 y(v)o(ery)14 b(di\013eren)o(t)h(from)e(those)i(in)e(Bak)o(er-st)o(yle)i(cop)o(ying.)k(The)1011 155 y(m)o(utator)14 b(con)o(tin)o(ues)i(to)g(access)i(the)e(same)f(v)o(ersions)h(of)f(ob-)1011 205 y(jects)f(during)g(the)g(cop)o(ying)f(tra)o(v)o(ersal,)h(so)f(it)h(needn't)g(c)o(hec)o(k)1011255 y(for)23 b(forw)o(arding)f(p)q(oin)o(ters.)48 b(This)23b(eliminates)f(the)i(need)1011 304 y(for)15 b(a)g(read)h(barrier|conceptually)m(,)g(all)e(ob)r(jects)j(are)f(\\for-)1011354 y(w)o(arded")g(to)f(their)h(new)h(v)o(ersions)f(at)f(once,)i(when)f(the)g(\015ip)1011 404 y(o)q(ccurs.)1052 454 y(On)j(the)g(other)g(hand,)h(this)e(strategy)i(requires)f(a)g(write)1011 504 y(barrier,)i(and)f(the)h(write)g(barrier)f(m)o(ust)f(deal)h(with)g(more)1011 554 y(than)e(just)g(p)q(oin)o(ter)h(up)q(dates.)32 b(In)18 b(Bak)o(er's)h(collector,)g(the)1011604 y(m)o(utator)13 b(only)g(sees)j(the)f(new)g(v)o(ersions)f(of)g(ob)r(jects,)h(so)f(an)o(y)1011 654 y(writes)23 b(to)f(ob)r(jects)h(automatically)d(up)q(date)j(the)f(curren)o(t)1011 703 y(\(tospace\))g(v)o(ersion.)41b(In)21 b(replication)g(cop)o(ying,)h(ho)o(w)o(ev)o(er,)1011753 y(the)c(m)o(utator)e(sees)j(the)f(old)f(v)o(ersion)h(in)f(fromspace;)h(if)f(an)1011 803 y(ob)r(ject)j(has)g(already)f(b)q(een)i(copied)f(to)f(tospace,)j(and)d(the)1011 853 y(fromspace)g(v)o(ersion)g(is)h(then)g(mo)q(di\014ed)e(b)o(y)i(the)g(m)o(utator,)1011 903 y(the)g(new)g(replica)f(can)h(ha)o(v)o(e)g(the)g(wrong)f(\(old\))g(v)n(alues)g(in)1011 953y(it|it)11 b(gets)h(\\out)g(of)g(sync)o(h")g(with)g(the)h(v)o(ersion)f(seen)h(b)o(y)f(the)1011 1002 y(m)o(utator.)1052 1053 y(T)m(o)k(a)o(v)o(oid)e(this,)i(the)h(write)f(barrier)h(m)o(ust)e(catc)o(h)i Fk(al)r(l)eFn(up-)1011 1103 y(dates,)g(and)g(the)h(collector)f(m)o(ust)f(ensure)i(that)f(all)f(up)q(dates)1011 1152 y(ha)o(v)o(e)h(b)q(een)i(propagated)f(when)h(the)f(\015ip)f(o)q(ccurs.)26 b(That)16 b(is,)1011 1202 y(all)10b(of)i(the)g(mo)q(di\014cations)e(to)i(old)f(v)o(ersions)i(of)e(ob)r(jects)i(m)o(ust)1011 1252 y(b)q(e)18 b(made)f(to)g(the)i(corresp)q(onding)f(new)g(v)o(ersions,)h(so)f(that)1011 1302 y(the)c(program)f(sees)i(the)f(correct)i(v)n(alues)e(after)g(the)g(\015ip.)1052 1352 y(This)f(write)g(barrier)g(app)q(ears)h(to)e(b)q(e)i(exp)q(ensiv)o(e)g(for)e(most)1011 1402y(general-purp)q(ose)17 b(programming)c(languages,)j(but)h(not)f(for)10111452 y(functional)9 b(languages,)g(or)h(\\nearly-functional")f(languages)10111502 y(\(suc)o(h)14 b(as)g(ML\))f(where)i(side)f(e\013ects)h(are)f(allo)o(w)o(ed)e(but)i(infre-)1011 1552 y(quen)o(tly)g(used.)1011 1671y Fi(3.6)55 b(Coherence)27 b(and)g(Conserv)m(atism)e(Re-)11381729 y(visited)1011 1807 y Fn(As)17 b(w)o(e)h(men)o(tioned)e(in)g(Sect.)i(3.1,)e(incremen)o(tal)g(collectors)1011 1857 y(ma)o(y)9 b(tak)o(e)h(di\013eren)o(t)i(approac)o(hes)g(to)e(co)q(ordinating)g(the)i(m)o(u-)10111907 y(tator)19 b(with)f(the)h(collector's)g(tracing)g(tra)o(v)o(ersal.)33b(If)19 b(these)1011 1956 y(quasi-parallel)10 b(pro)q(cesses)15b(co)q(ordinate)e(closely)m(,)e(their)i(views)1011 2006 y(of)f(data)g(structures)j(can)e(b)q(e)g(v)o(ery)g(precise,)g(but)g(the)g(co)q(ordi-)10112056 y(nation)h(costs)h(ma)o(y)e(b)q(e)i(unacceptable.)21 b(If)14b(they)h(do)g(not)f(co-)1011 2106 y(ordinate)e(closely)m(,)f(they)i(ma)o(y)d(su\013er)j(from)d(using)i(out-dated)1011 2156 y(information,)18b(and)j(retain)f(ob)r(jects)i(whic)o(h)e(ha)o(v)o(e)g(b)q(ecome)10112206 y(garbage)13 b(during)h(collection.)1011 2317 y Fm(3.6.1)48b(Coherence)25 b(and)g(Conserv)m(atism)f(in)h(Non-)1157 2367y(cop)o(ying)14 b(collection)1011 2444 y Fn(The)f(non-cop)o(ying)e(write-barrier)i(algorithms)d(w)o(e)j(ha)o(v)o(e)f(de-)10112494 y(scrib)q(ed)k(lie)f(at)h(di\013eren)o(t)g(p)q(oin)o(ts)f(along)f(a)h(sp)q(ectrum)h(of)f(ef-)1011 2544 y(fectiv)o(eness)j(and)f(conserv)n(atism.)26 b(Snapshot-at-b)q(eginning)1011 2594 y(algorithms)18 b(treat)j(ev)o(erything)f(conserv)n(ativ)o(ely)m(,)h(reducing)969 2718 y(25)peop%%Page: 26 26bop 0 55 a Fn(their)19 b(e\013ectiv)o(eness.)36 b(Dijkstra)18b(et)h(al.'s)e(incremen)o(tal)h(up-)0 105 y(date)11 b(algorithm)d(is)i(less)i(conserv)n(ativ)o(e)f(than)f(snapshot)i(algo-)0 155 y(rithms,)e(but)g(more)g(conserv)n(ativ)o(e)h(than)f(Steele's)h(algorithm.)42 224 y(In)19b(Steele's)i(algorithm,)d(if)i(a)f(p)q(oin)o(ter)h(to)g(a)g(white)g(ob-)0274 y(ject)f(is)g(stored)g(in)o(to)f(a)h(blac)o(k)f(ob)r(ject,)i(that)f(white)f(ob)r(ject)0 324 y(is)j Fk(not)g Fn(immediately)d(gra)o(y)o(ed|instead,)j(the)h(stored-in)o(to)0 374 y(blac)o(k)13 b(ob)r(ject)i(is)f(rev)o(erted)i(to)d(gra)o(y)m(,)g(\\undoing")f(the)j(blac)o(k-)0424 y(ening)i(done)h(b)o(y)g(the)g(collector.)29 b(This)18b(means)e(that)i(if)f(the)0 473 y(stored-in)o(to)c(\014eld)f(is)g(again)f(o)o(v)o(erwritten,)i(the)g(white)f(ob)r(ject)0 523 y(ma)o(y)d(b)q(ecome)i(unreac)o(hable)h(and)f(ma)o(y)e(b)q(e)j(reclaimed)f(at)g(the)0573 y(end)17 b(of)g(the)g(curren)o(t)i(collection.)26 b(In)17b(con)o(trast,)h(Dijkstra's)0 623 y(algorithm)9 b(will)i(ha)o(v)o(e)h(gra)o(y)o(ed)g(that)g(ob)r(ject,)g(and)g(hence)i(will)0 673 y(not)g(reclaim)e(it.)42 742 y(\(It)i(ma)o(y)e(seem)i(that)g(this)h(is)f(a)g(trivial)e(di\013erence,)k(but)f(it)0 792 y(is)c(easy)g(to)g(imagine)d(a)j(scenario)g(in)g(whic)o(h)f(it)h(matters.)17 b(Con-)0 842 y(sider)d(a)e(program)g(that)h(stores)h(most)e(of)g(its)h(data)f(in)h(stac)o(ks,)0 891 y(implemen)o(ted)e(as)j(link)o(ed)e(lists)i(hanging)e(o\013)h(of)g(\\stac)o(k")h(ob-)0941 y(jects.)30 b(If)18 b(a)f(stac)o(k)h(ob)r(ject)h(is)e(reac)o(hed)i(and)e(blac)o(k)o(ened)h(b)o(y)0 991 y(the)i(collector's)f(tra)o(v)o(ersal,)g(and)g(then)h(man)o(y)d(ob)r(jects)j(are)0 1041 y(pushed)12 b(on)o(to)f(and)g(p)q(opp)q(ed)h(o\013)f(of)f(the)i(stac)o(k,)g(Dijkstra's)e(al-)01091 y(gorithm)h(will)h(not)h(reclaim)f Fk(any)h Fn(of)g(the)h(p)q(opp)q(ed)g(items|as)0 1140 y(the)i(stac)o(k)h(ob)r(ject's)f(list)g(p)q(oin)o(ter)g(progresses)i(through)e(the)0 1190 y(list,)e(rep)q(eatedly)i(b)q(eing)f(o)o(v)o(erwritten)g(with)g(the)g(p)q(oin)o(ter)g(to)0 1240 y(the)f(next)f(item,)e(eac)o(h)j(item)e(will)f(b)q(e)j(gra)o(y)o(ed)f(when)g(the)h(pre-)01290 y(vious)g(one)h(is)g(p)q(opp)q(ed.)21 b(Steele's)15 b(algorithm,)d(on)i(the)i(other)0 1340 y(hand,)c(ma)o(y)d(reclaim)i(almost)f(all)g(of)h(the)i(p)q(opp)q(ed)f(items,)f(b)q(e-)0 1389 y(cause)h(the)g(p)q(oin)o(ter)f(\014eld)g(ma)o(y)e(b)q(e)i(o)o(v)o(erwritten)h(man)o(y)d(times)0 1439y(b)q(efore)15 b(the)f(collector's)g(tra)o(v)o(ersal)g(examines)f(at)h(it)f(again.\))42 1509 y(Note)i(that)g(this)g(sp)q(ectrum)g(of)f(conserv)n(atism)h(\(snapshot)0 1558 y(algorithms,)c(Dijkstra's,)h(Steele's\))i(is)f(only)g(a)g(linear)g(order-)0 1608 y(ing)e(if)f(the)j(algorithms)c(use)j(the)g(same)f(tra)o(v)o(ersal)g(algorithm,)0 1658 y(sc)o(heduled)18 b(in)e(the)i(same)d(w)o(a)o(y)h(relativ)o(e)h(to)g(the)g(program's)0 1708 y(actual)d(b)q(eha)o(vior|and)f(this)h(is)g(unlik)o(ely)f(in)h(practice.)20 b(De-)01758 y(tails)15 b(of)g(the)h(ordering)g(of)f(collector)h(and)g(m)o(utator)e(actions)0 1808 y(determine)d(ho)o(w)f(m)o(uc)o(h)g(\015oating)g(garbage)h(will)e(b)q(e)j(retained.)0 1857 y(\(An)o(y)g(of)g(these)i(collectors)f(will)d(retain)j(an)o(y)f(data)g(reac)o(hable)0 1907 y(via)18 b(paths)i(that)f(are)h(tra)o(v)o(ersed)h(b)o(y)e(the)h(collector)f(b)q(efore)0 1957y(b)q(eing)14 b(brok)o(en)g(b)o(y)g(the)g(m)o(utator.\))422026 y(This)24 b(suggests)h(that)f(the)h(reac)o(habilit)o(y)e(graph)h(migh)o(t)0 2076 y(pro\014tably)g(b)q(e)g(tra)o(v)o(ersed)i Fk(opp)n(ortunistic)n(al)r(ly)p Fn(,)g(i.e.,)f(total)0 2126 y(costs)13 b(migh)o(t)d(b)q(e)i(reduced)i(b)o(y)d(carefully)g(ordering)h(the)h(scan-)0 2176y(ning)i(of)f(gra)o(y)h(ob)r(jects.)23 b(F)m(or)14 b(example,)g(it)h(migh)o(t)e(b)q(e)j(desir-)0 2226 y(able)h(to)g(a)o(v)o(oid)f(scanning)h(rapidly-c)o(hanging)e(parts)j(of)f(the)0 2275 y(graph)11 b(for)g(as)g(long)f(as)h(p)q(ossible,)g(to)g(a)o(v)o(oid)f(reac)o(hing)h(ob)r(jects)0 2325y(that)j(will)e(shortly)i(b)q(ecome)g(garbage.)42 2395 y(All)21b(other)i(things)f(b)q(eing)h(equal)f(\(i.e.,)h(in)f(lieu)g(of)g(op-)02444 y(p)q(ortunism)c(and)g(random)f(luc)o(k\),)j(snapshot-at-b)q(eginning)02494 y(is)15 b(more)e(conserv)n(ativ)o(e)j(\(hence)g(less)g(e\013ectiv)o(e\))g(than)f(incre-)0 2544 y(men)o(tal)g(up)q(date,)j(and)f(Dijkstra's)f(incremen)o(tal)g(up)q(date)h(is)0 2594 y(more)c(conserv)n(ativ)o(e)h(than)g(Steele's.)1011 55 y Fm(3.6.2)48 b(Coherence)19 b(and)h(Conserv)m(atism)g(in)f(Cop)o(y-)1157 105 y(ing)14 b(Collection)1011 184 y Fn(Bak)o(er's)22b(read)g(barrier)g(algorithm)d(do)q(es)k(not)e(fall)f(neatly)1011234 y(in)o(to)15 b(the)h(ab)q(o)o(v)o(e)f(sp)q(ectrum.)24 b(It)16b(is)f(less)i(conserv)n(ativ)o(e)f(than)1011 283 y(snapshot-at-b)q(eginning,)c(in)h(that)g(a)g(p)q(oin)o(ter)g(in)g(a)g(gra)o(y)f(ob-)1011333 y(ject)f(ma)o(y)d(b)q(e)i(o)o(v)o(erwritten)h(and)f(nev)o(er)h(tra)o(v)o(ersed;)h(it)e(is)g(more)1011 383 y(conserv)n(ativ)o(e)k(than)g(the)g(incremen)o(tal)e(up)q(date)j(algorithms,)1011 433 y(ho)o(w)o(ev)o(er,)f(b)q(ecause)i(an)o(ything)e(reac)o(hed)h(b)o(y)f(the)h(m)o(utator)e(is)1011483 y(gra)o(y)o(ed|ob)r(jects)e(cannot)g(b)q(ecome)g(garbage,)f(from)f(the)i(col-)1011 532 y(lector's)16 b(viewp)q(oin)o(t,)e(after)i(simply)d(b)q(eing)i(touc)o(hed)h(b)o(y)f(the)1011 582 y(m)o(utator)d(during)i(a)f(collection.)1052 633 y(Nettles,)18 b(et)f(al.'s)e(replication)g(cop)o(ying)h(algorithm)e(\(lik)o(e)1011 683 y(an)i(incremen)o(tal)f(up)q(date)i(algorithm\),)dFk(is)h Fn(able)h(to)g(reclaim)1011 733 y(ob)r(jects)22 b(that)f(b)q(ecome)f(unreac)o(hable)i(b)q(ecause)g(a)f(p)q(oin)o(ter)1011 783 y(can)12b(b)q(e)h(o)o(v)o(erwritten)g(b)q(efore)g(b)q(eing)f(reac)o(hed)h(b)o(y)f(the)h(collec-)1011 832 y(tor.)22 b(Their)15 b(collector)h(is)f(less)h(conserv)n(ativ)o(e)g(than)f(Bak)o(er's,)1011 882 y(in)g(part)h(b)q(ecause)i(it)d(can)h(use)h(a)e(w)o(eak)o(er)h(notion)f(of)h(consis-)1011932 y(tency)m(.)h(Because)c(the)e(m)o(utator)e(do)q(esn't)i(op)q(erate)g(in)f(tospace)1011 982 y(un)o(til)g(after)i(the)g(cop)o(ying)f(phase)h(is)f(complete,)g(the)h(copies)g(of)1011 1032 y(data)j(in)h(tospace)g(needn't)h(b)q(e)f(en)o(tirely)g(consisten)o(t)h(during)1011 1082 y(incremen)o(tal)9b(cop)o(ying.)16 b(\(The)10 b(c)o(hanges)g(made)f(to)h(fromspace)10111131 y(data)h(structures)i(b)o(y)e(the)h(m)o(utator)d(m)o(ust)h(b)q(e)i(propagated)f(to)1011 1181 y(tospace)16 b(ev)o(en)o(tually)m(,)d(but)i(the)h(en)o(tire)f(state)h(only)e(needs)i(to)1011 1231 y(b)q(e)11b(consisten)o(t)h(at)f(the)h(end)f(of)f(collection,)h(when)g(the)h(atomic)1011 1281 y(\\\015ip")e(is)h(p)q(erformed.\))17 b(Lik)o(e)11b(the)h(other)f(write-barrier)h(algo-)1011 1331 y(rithms,)f(replication)i(cop)o(ying)f(migh)o(t)f(b)q(ene\014t)j(signi\014can)o(tly)10111380 y(from)e(opp)q(ortunistic)i(tra)o(v)o(ersal)g(ordering.)10111494 y Fm(3.6.3)48 b(\\Radical")11 b(Collection)g(and)i(Opp)q(ortuni)o(sti)o(c)1157 1544 y(T)l(racing)1011 1623 y Fn(The)20 b(tracing)f(algorithms)f(w)o(e'v)o(e)h(describ)q(ed)j(fall)c(roughly)1011 1673 y(in)o(to)13b(a)h(sp)q(ectrum)g(of)f(decreasing)i(conserv)n(atism,)e(th)o(us:)10521759 y Fe(\017)21 b Fn(Snapshot-at-b)q(eginning)13 b(write)h(barrier)10521846 y Fe(\017)21 b Fn(Blac)o(k-only)13 b(read)h(barrier)10521934 y Fe(\017)21 b Fn(Bak)o(er's)14 b(read)h(barrier)10522021 y Fe(\017)21 b Fn(Dijkstra's)13 b(write)h(barrier)10522109 y Fe(\017)21 b Fn(Steele's)15 b(write)f(barrier)1052 2195y(In)h(considering)f(this)h(quasi-sp)q(ectrum,)f(it)g(is)g(in)o(teresting)1011 2245 y(to)c(ask,)h Fk(is)g(ther)n(e)h(anything)h(less)e(c)n(onservative)h(than)g(Ste)n(ele's)1011 2295 y(algorithm?)34 b Fn(That)19b(is,)h(can)g(w)o(e)f(ha)o(v)o(e)g(a)g(b)q(etter-informed)10112345 y(collector)e(than)f(Steele's,)i(one)f(whic)o(h)g(resp)q(onds)h(more)e(ag-)1011 2395 y(gressiv)o(ely)g(to)g(c)o(hanges)h(in)f(the)h(reac)o(habilit)o(y)e(graph?)25 b(The)1011 2444 y(answ)o(er)13 b(is)g(y)o(es.)19b(Suc)o(h)13 b(a)g(garbage)f(collector)i(w)o(ould)e(b)q(e)i(will-)10112494 y(ing)j(to)h(re-do)g(some)g(of)f(the)i(tra)o(v)o(ersal)f(it's)f(already)h(done,)1011 2544 y(un-marking)d(ob)r(jects)j(that)f(w)o(ere)h(previously)f(reac)o(hed,)i(to)1011 2594 y(a)o(v)o(oid)e(conserv)n(atism.)32b(W)m(e)19 b(refer)g(to)g(this)g(as)g(a)f(\\radical")969 2718y(26)p eop%%Page: 27 27bop 0 55 a Fn(garbage)15 b(collection)g(strategy)m(.)23 b(A)o(t)16b(\014rst)g(glance,)f(suc)o(h)i(col-)0 105 y(lectors)12 b(ma)o(y)e(seem)h(impractical,)f(but)h(under)i(some)d(circum-)0 155 y(stances,)15b(appro)o(ximations)c(of)i(them)h(ma)o(y)e(mak)o(e)g(sense.)42209 y(The)18 b(limiting)c(case)19 b(of)e(decreasing)i(conserv)n(atism)e(is)g(to)0 258 y(resp)q(ond)d(fully)e(to)g(an)o(y)h(c)o(hange)g(in)f(the)i(reac)o(habilit)o(y)e(graph,)0 308 y(un-marking)k(ob)r(jects)j(that)f(ha)o(v)o(e)g(already)g(b)q(een)h(reac)o(hed,)0 358 y(so)e(that)g(all)e(garbage)i(can)g(b)q(e)h(detected.)29 b(\(W)m(e)16 b(migh)o(t)f(call)0 408 y(this)f(a)gFk(ful)r(ly)g(r)n(adic)n(al)f Fn(collector.\))42 461 y(One)i(w)o(a)o(y)f(of)h(doing)f(that)h(is)g(to)f(p)q(erform)h(a)f(full)g(trace)i(of)0511 y(the)j(actual)g(reac)o(habilit)o(y)f(graph)h(at)f(ev)o(ery)i(p)q(oin)o(ter)f(write)0 561 y(on)d(the)g(part)g(of)g(the)g(application.)23b(Naturally)m(,)15 b(this)g(is)h(im-)0 611 y(practical)d(b)q(ecause)j(of)d(its)g(extreme)h(cost.)k(\(A)c(normal)e(non-)0 661 y(incremen)o(tal)g(collector)i(can)f(b)q(e)h(view)o(ed)g(as)f(an)g(appro)o(xima-)0710 y(tion)i(of)f(this;)i(the)g(graph)f(is)g(tra)o(v)o(ersed)i(\\instan)o(taneously")0 760 y(b)o(y)e(stopping)h(the)g(m)o(utator)e(for)i(the)g(whole)f(tra)o(v)o(ersal,)h(but)0 810 y(that's)e(only)f(done)h(o)q(ccasionally)m(.\))42 864 y(Another)23 b(w)o(a)o(y)e(of)h(ac)o(hieving)f(fully)g(radical)h(collection)0 913 y(w)o(ould)g(b)q(e)h(to)g(record)h(all)e(of)g(the)i(dep)q(endencies)h(within)0 963 y(the)c(reac)o(habilit)o(y)e(graph,)i(and)f(up)q(date)h(the)g(dep)q(endency)0 1013 y(database)26 b(at)g(ev)o(ery)h(p)q(oin)o(ter)g(up)q(date.)55 b(Whenev)o(er)27 b(all)0 1063 y(paths)15b(k)o(eeping)h(an)e(ob)r(ject)i(aliv)o(e)e(is)h(brok)o(en,)h(the)f(ob)r(ject)h(is)0 1113 y(kno)o(wn)c(to)g(b)q(e)i(garbage.)j(Again,)11b(a)i(full)e(implemen)o(tatio)o(n)f(of)0 1163 y(this)h(strategy)h(w)o(ould)f(b)q(e)h(impractical)d(for)i(general-purp)q(ose)0 1212 y(garbage)k(collection,)g(b)q(ecause)i(the)f(dep)q(endency)i(database)01262 y(could)9 b(b)q(e)i(v)o(ery)f(large,)g(and)f(p)q(oin)o(ter)h(up)q(dates)h(w)o(ould)e(b)q(e)h(v)o(ery)0 1312 y(exp)q(ensiv)o(e.)42 1366y(Note,)16 b(ho)o(w)o(ev)o(er,)g(that)g(appro)o(ximations)d(of)i(this)h(dep)q(en-)0 1415 y(dency)j(information)d(could)i(b)q(e)i(relativ)o(ely)d(c)o(heap,)j(and)f(in)0 1465 y(fact,)c(that's)g(exactly)h(what)f(reference)j(coun)o(ts)e(are.)23 b(A)15 b(ref-)0 1515 y(erence)21 b(coun)o(t)e(is)g(a)g(conserv)n(ativ)o(e)g(appro)o(ximation)d(of)j(the)0 1565 y(n)o(um)o(b)q(er)c(of)g(paths)g(to)h(an)f(ob)r(ject,)h(and)g(when)g(those)g(paths)01615 y(are)d(eliminated,)d(the)j(reference)h(coun)o(ts)f(usually)f(go)f(to)h(zero)0 1664 y(and)22 b(allo)o(w)f(the)i(ob)r(ject)g(to)f(b)q(e)h(reclaimed)f(imm)o(ediately)m(.)0 1714 y(Some)d(distributed)i(garbage)f(collection)g(algorithms)e(also)0 1764 y(p)q(erform)10 b(somewhat)g(radical)h(collection,)g(b)o(y)f(frequen)o(tly)i(re-)0 1814 y(computing)d(some)g(lo)q(cal)h(parts)g(of)g(the)h(collector's)g(tra)o(v)o(ersal.)0 1950 y Fi(3.7)56b(Comparing)277 b(Incremen)n(tal)128 2008 y(T)-5 b(ec)n(hniques)02092 y Fn(In)10 b(comparing)f(collector)i(designs,)g(it)f(is)g(instructiv)o(e)h(to)g(k)o(eep)0 2142 y(in)17 b(mind)f(the)j(abstraction)f(of)f(tricolor)g(marking|as)e(dis-)0 2191 y(tinct)d(from)e(concrete)k(tracing)e(mec)o(hanisms)d(suc)o(h)k(as)f(mark-)0 2241 y(sw)o(eep)21 b(or)f(cop)o(y)g(collection.)36 b(The)21 b(c)o(hoice)g(of)e(a)h(read-)g(or)02291 y(write-barrier)f(\(and)g(strategy)h(for)e(ensuring)h(correctness\))02341 y(is)e(mostly)e(indep)q(enden)o(t)j(of)e(the)h(c)o(hoice)g(of)f(a)h(tracing)f(and)0 2391 y(reclamation)c(mec)o(hanism.)42 2444y(F)m(or)28 b(example,)i(Bro)q(oks')f(cop)o(ying)f(collector)h([Bro84])02494 y(\(whic)o(h)15 b(w)o(e)h(men)o(tioned)e(in)h(Sect)h(3.4.1\))d(is)j(actually)e(an)h(in-)0 2544 y(cremen)o(tal)9 b(up)q(date)h(write)g(barrier)g(algorithm,)d(ev)o(en)j(though)0 2594 y(Bro)q(oks)26 b(describ)q(es)h(it)e(as)g(an)g(optimization)d(of)j(Bak)o(er's)1011 55 y(sc)o(heme.)115140 y Fj(23)1214 55 y Fn(Similarly)l(,)15 b(Da)o(wson's)h(cop)o(ying)h(sc)o(heme)g(\(pro-)1011 105 y(p)q(osed)11 b(in)f([Da)o(w82)o(]\))g(is)g(cast)i(as)e(a)h(v)n(arian)o(t)e(of)h(Bak)o(er's,)h(but)g(it)1011155 y(is)g(actually)g(an)g(incremen)o(tal)g(up)q(date)h(sc)o(heme,)g(and)g(ob)r(jects)1011 205 y(are)h(allo)q(cated)f(in)g(fromspace,)g(i.e.,)f(white,)i(as)g(in)f(Dijkstra's)1011 255 y(collector.)1052 310 y(The)23b(c)o(hoice)g(of)f(a)g(read-)g(or)h(write-barrier)g(sc)o(heme)f(is)1011360 y(lik)o(ely)15 b(to)h(b)q(e)h(made)e(on)h(the)h(basis)f(of)g(the)h(a)o(v)n(ailable)d(hard-)1011 410 y(w)o(are.)21 b(Without)14 b(sp)q(ecialized)i(hardw)o(are)f(supp)q(ort,)g(a)g(write)1011 459 y(barrier)i(app)q(ears)h(to)e(b)q(e)i(easier)f(to)g(implemen)o(t)d(e\016cien)o(tly)m(,)1011509 y(b)q(ecause)21 b(heap)g(p)q(oin)o(ter)f(writes)g(are)h(m)o(uc)o(h)d(less)j(common)1011 559 y(than)c(p)q(oin)o(ter)g(tra)o(v)o(ersals.)28b(If)16 b(appropriate)h(virtual)g(mem-)1011 609 y(ory)e(supp)q(ort)h(is)g(a)o(v)n(ailable,)d(and)i(hard)h(real-time)e(resp)q(onse)1011 659y(is)f(not)h(required,)g(a)f(pagewise)h(read)g(barrier)g(ma)o(y)d(b)q(e)j(desir-)1011 708 y(able.)1052 764 y(Of)f(write)h(barrier)f(sc)o(hemes,)g(snapshot-at-b)q(eginning)g(al-)1011 814 y(gorithms)h(are)i(signi\014can)o(tly)f(more)g(conserv)n(ativ)o(e)i(than)f(in-)1011 864 y(cremen)o(tal)9b(up)q(date)h(algorithms.)15 b(This)9 b(adv)n(an)o(tage)g(of)g(incre-)1011913 y(men)o(tal)j(up)q(date)i(migh)o(t)d(b)q(e)j(increased)h(b)o(y)f(carefully)f(c)o(ho)q(os-)1011 963 y(ing)f(the)i(ordering)f(of)g(ro)q(ot)g(tra)o(v)o(ersal,)g(tra)o(v)o(ersing)g(the)h(most)1011 1013y(stable)j(structures)j(\014rst)e(to)f(a)o(v)o(oid)f(ha)o(ving)g(the)i(collector's)1011 1063 y(w)o(ork)13 b(undone)i(b)o(y)e(m)o(utator)g(c)o(hanges.)1052 1118 y(While)20 b(incremen)o(tal)g(up)q(date)h(sc)o(hemes)g(increase)h(e\013ec-)1011 1168 y(tiv)o(eness,)d(they)f(ma)o(y)e(also)h(increase)i(costs.)31 b(In)17 b(the)i(w)o(orst)1011 1218 y(case,)f(ev)o(erything)g(that)g(b)q(ecomes)f(garbage)g(during)g(a)g(col-)10111268 y(lection)d(\\\015oats,")g(i.e.,)g(it)g(b)q(ecomes)h(unreac)o(hable)g(to)q(o)g(late,)1011 1317 y(and)f(is)h(tra)o(v)o(ersed)h(and)f(retained)g(an)o(yw)o(a)o(y)m(.)k(If)c(new)g(ob)r(jects)1011 1367 y(are)21b(allo)q(cated)g(white)g(\(sub)r(ject)h(to)f(reclamation\),)f(incre-)10111417 y(men)o(tal)14 b(up)q(date)i(algorithms)e(ma)o(y)g(b)q(e)i(considerably)g Fk(mor)n(e)1011 1467 y Fn(exp)q(ensiv)o(e)22 b(than)g(snapshot-at-b)q(eginning)f(algorithms)e(in)1011 1517 y(the)g(w)o(orst)h(case|it)f(is)f(p)q(ossible)i(that)f(all)e(of)i(the)g(newly-)1011 1567 y(allo)q(cated)12b(ob)r(jects)j(will)c(\015oat)i(and)g(require)h(tra)o(v)o(ersal,)f(with)10111616 y(no)i(increase)i(in)e(the)h(amoun)o(t)d(of)i(memory)e(reclaimed.)21b(W)m(e)1011 1666 y(will)12 b(discuss)j(this)f(in)g(more)e(detail)i(in)f(Sect.)i(3.8.2.)1052 1722 y(Careful)27 b(atten)o(tion)g(should)f(b)q(e)i(paid)e(to)h(write)g(bar-)1011 1771 y(rier)18 b(implem)o(en)o(tation.)26b(Bo)q(ehm,)17 b(Demers)h(and)f(Shenk)o(er's)1011 1821 y([BDS91)o(,)22b(Bo)q(e91])g(incremen)o(tal)f(up)q(date)i(algorithm)d(uses)10111871 y(virtual)15 b(memory)e(dirt)o(y)j(bits)f(as)h(a)g(coarse)h(pagewise)f(write)1011 1921 y(barrier.)h(All)9 b(blac)o(k)h(ob)r(jects)h(in)e(a)h(page)g(m)o(ust)f(b)q(e)h(re-scanned)1011 1971 y(if)j(the)j(page)e(is)g(dirtied)h(again)e(b)q(efore)j(the)f(end)g(of)f(a)g(collec-)1011 2020y(tion.)31 b(\(As)20 b(with)e(App)q(el,)h(Ellis)f(and)h(Li's)f(cop)o(y)g(collector,)1011 2070 y(this)h(coarseness)i(sacri\014ces)g(real-time)d(guaran)o(tees,)i(while)1011 2120 y(supp)q(orting)d(parallelism.)25b(It)17 b(also)g(allo)o(ws)f(the)i(use)g(of)e(o\013-)1011 2170y(the-shelf)j(compilers)e(that)i(don't)f(emit)g(write)g(barrier)i(in-)10112220 y(structions)15 b(along)d(with)i(heap)g(writes.\))p 10112279 388 2 v 1042 2306 a Fh(23)1074 2318 y Fg(The)d(use)g(of)g(uniform)e(indirection)o(s)g(ma)o(y)h(b)q(e)g(view)o(ed)h(as)g Ff(avoiding)10112357 y Fg(the)e(need)h(for)g(a)g(Bak)o(er-st)o(yle)e(read)h(barrier|the)f(indirections)g(isolate)1011 2397 y(the)h(collector)f(from)h(c)o(hanges)f(made)g(b)o(y)i(the)f(m)o(utator,)f(allo)o(wing)h(them)10112436 y(to)j(b)q(e)h(decoupled.)j(The)d(actual)e(co)q(ordination)o(,)g(in)h(terms)g(of)g(tricolor)1011 2475 y(marking,)j(is)h(through)f(a)h(write)g(barrier.)28 b(Bro)q(oks')15 b(algorithm)f(uses)1011 2515 y(a)f(simple)g(write)g(barrier)f(to)h(protect)f(the)h(m)o(utator)e(from)i(the)g(collec-)1011 2554 y(tor,)e(and)f(a)i(simple)e(read)h(barrier)e(to)j(protect)d(the)i(collector)f(from)g(the)1011 2594 y(m)o(utator.)969 2718 yFn(27)p eop%%Page: 28 28bop 42 55 a Fn(In)14 b(a)g(system)g(with)g(compiler)f(supp)q(ort)i(for)g(garbage)f(col-)0 105 y(lection,)h(a)h(list)f(of)g(stored-in)o(to)g(lo)q(cations)g(can)h(b)q(e)g(k)o(ept,)g(or)0 155 y(dirt)o(y)c(bits)g(can)h(main)o(tained)d(\(in)h(soft)o(w)o(are\))i(for)f(small)e(areas)0 205y(of)17 b(memory)m(,)e(to)j(reduce)i(scanning)d(costs)i(and)f(b)q(ound)g(the)0 255 y(time)c(sp)q(en)o(t)i(up)q(dating)f(the)h(marking)d(tra)o(v)o(ersal.)22 b(This)15 b(has)0 304 y(b)q(een)k(done)g(for)e(other)i(reasons)g(in)f(generational)f(garbage)0 354 y(collectors,)d(as)g(w)o(e)g(will)f(discuss)i(in)e(Sect.)i(4.)0 479 y Fi(3.8)56 b(Real-time)15 b(T)-5 b(racing)19b(Collection)0 558 y Fn(Incremen)o(tal)f(collectors)g(are)h(often)f(designed)h(to)f(b)q(e)g Fk(r)n(e)n(al-)0 608 y(time)p Fn(,)j(i.e.,)g(to)f(imp)q(ose)g(strictly)g(limited)f(dela)o(ys)h(on)g(pro-)0 658 y(gram)i(execution,)j(so)f(that)f(programmers)e(can)j(guaran-)0 708 y(tee)d(that)g(their)g(garbage-collected)f(programs)g(will)f(meet)0 758 y(real-time)14b(deadlines.)22 b(Real-time)12 b(applications)j(are)g(man)o(y)0807 y(and)22 b(v)n(aried,)h(including)e(industrial)g(pro)q(cess)i(con)o(trollers,)0 857 y(testing)e(and)f(monitoring)e(equipmen)o(t,)j(audio)o(visual)d(pro-)0 907 y(cessing,)24 b(\015y-b)o(y-wire)e(aircraft)g(con)o(trols,)h(and)f(telephone)0 957 y(switc)o(hing)12 b(equipmen)o(t.)17b(Real-time)10 b(applications)h(can)i(usu-)0 1007 y(ally)8b(b)q(e)i(classi\014ed)g(as)f Fk(har)n(d)g Fn(real)h(time,)e(where)j(computations)0 1057 y(m)o(ust)h(complete)h(with)g(strictly-limited)e(time)h(b)q(ounds,)h(and)0 1106 y Fk(soft)f Fn(real-time,)f(where)j(it)e(is)g(acceptable)i(for)e(some)f(tasks)i(to)0 1156 y(miss)k(their)i(sc)o(hedules)h(some)e(of)g(the)h(time,)f(as)g(long)g(as)h(it)0 1206 y(do)q(esn't)14b(happ)q(en)h(\\to)q(o)e(often".)508 1191 y Fj(24)42 1257 yFn(The)i(criterion)g(for)g(real)g(time)f(garbage)g(collection)h(is)g(of-)01307 y(ten)f(stated)h(as)f Fk(imp)n(osing)h(only)g(smal)r(l)f(and)i(b)n(ounde)n(d)g(delays)0 1357 y(on)21 b(any)h(p)n(articular)d(pr)n(o)n(gr)n(am)h(op)n(er)n(ation)p Fn(.)37 b(F)m(or)20 b(example,)0 1407 y(tra)o(v)o(ersing)12 b(a)g(p)q(oin)o(ter)g(migh)o(t)e(nev)o(er)j(tak)o(e)f(more)f(than)i(a)e(mi-)0 1457 y(crosecond,)j(heap-allo)q(cating)e(a)g(small)f(ob)r(ject)j(migh)o(t)c(nev)o(er)0 1506 y(tak)o(e)k(more)f(than)h(a)f(few)h(microseconds,)g(and)f(so)h(on.)42 1558 y(There)23 b(are)h(t)o(w)o(o)e(problems)g(with)g(this)h(kind)f(of)h(crite-)0 1608 y(rion.)j(One)18 b(problem)d(is)i(that)g(the)g(appropriate)g(notion)f(of)0 1657 y(a)d(\\small")d(dela)o(y)j(is)f(inevitably)g(dep)q(enden)o(t)j(on)e(the)h(nature)0 1707 y(of)f(an)h(application.)j(F)m(or)c(some)g(applications,)g(it)g(is)h(accept-)01757 y(able)c(to)g(ha)o(v)o(e)g(resp)q(onses)j(that)d(are)h(dela)o(y)o(ed)f(b)o(y)g(a)g(signi\014can)o(t)0 1807 y(fraction)j(of)f(a)h(second,)h(or)f(ev)o(en)h(man)o(y)e(seconds.)19 b(F)m(or)13 b(other)0 1857 y(applications,)i(a)h(dela)o(y)f(of)h(a)f(millisecond)f(or)i(t)o(w)o(o)g(is)g(not)f(a)01907 y(problem,)h(while)h(for)g(others)h(dela)o(ys)f(of)g(more)f(than)h(a)g(few)0 1956 y(microseconds)11 b(could)g(b)q(e)g(fatal.)16 b(\(On)c(one)f(hand,)g(consider)g(a)0 2006 y(m)o(usic)j(syn)o(thesizer)k(con)o(troller,)d(where)i(h)o(umans')d(o)o(wn)h(im-)0 2056 y(precision)h(will)f(sw)o(amp)f(a)h(dela)o(y)h(of)f(a)g(millisecond)f(and)i(b)q(e)0 2106 y(unnoticeable;)i(on)e(the)h(other,)h(consider)f(a)g(high-precision)0 2156 y(guidance)d(system)g(for)f(an)o(ti-missile)f(missiles.\))42 2207 y(Another)e(problem)e(with)i(this)f(kind)g(of)g(criterion)h(is)g(that)g(it)0 2257 y(unrealistically)i(emphasizes)h(the)h(smallest)e(program)g(op)q(er-)0 2307 y(ations.)18b(When)13 b(y)o(ou)h(press)h(a)e(k)o(ey)h(on)f(a)h(m)o(usical)e(k)o(eyb)q(oard,)0 2356 y(the)17 b(con)o(troller)g(ma)o(y)e(b)q(e)j(required)f(to)g(execute)i(thousands)p 0 2397 388 2 v 31 2424 a Fh(24)64 2436y Fg(F)m(or)12 b(example,)e(in)i(a)h(digital)e(telephone)e(system,)j(making)e(a)j(con-)0 2475 y(nection)f(migh)o(t)h(b)q(e)g(a)h(soft)f(real-time)f(task,)i(but)f(once)g(a)h(connection)0 2515 y(is)e(established,)d(deliv)o(ering)h(con)o(tin)o(uou)o(s)g(audio)g(ma)o(y)h(b)q(e)h(a)g(hard)f(real-)02554 y(time)k(task.)30 b(In)16 b(this)g(section,)f(w)o(e)i(will)g(deal)e(primarily)f(with)j(hard)0 2594 y(real-time)9 b(issues.)101155 y Fn(of)16 b(program)g(statemen)o(ts)h(\(e.g.,)g(to)g(decide)h(whic)o(h)f(note)g(is)1011 105 y(b)q(eing)h(pla)o(y)o(ed,)g(what)h(the)g(corresp)q(onding)g(pitc)o(h)f(is)g(giv)o(en)1011 155 y(the)c(curren)o(t)h(tunings,)e(ho)o(w)g(loud)g(to)g(pla)o(y)g(it,)f(whic)o(h)i(sound)1011205 y(comp)q(onen)o(ts)d(to)g(mix)f(in)h(what)g(prop)q(ortions)g(to)h(ac)o(hiev)o(e)f(the)1011 255 y(righ)o(t)i(tim)o(bre)g(for)g(the)i(giv)o(en)e(pitc)o(h,)h(and)g(so)f(on\).)1052 314 y(F)m(or)20 b(most)g(applications,)h(therefore,)i(a)d(more)g(realistic)1011 364 y(requiremen)o(t)14b(for)f(real)h(time)f(p)q(erformance)h(is)g(that)g(the)g(ap-)1011414 y(plication)i(alw)o(a)o(ys)g(b)q(e)h(able)g(to)g(use)h(the)g(CPU)f(for)g(a)f(giv)o(en)1011 463 y(fraction)e(of)f(the)i(time)f Fk(at)h(a)g(timesc)n(ale)g(r)n(elevant)g(to)g(the)h(ap-)1011 513 y(plic)n(ation)pFn(.)g(\(Naturally)m(,)10 b(the)h(relev)n(an)o(t)g(fraction)f(will)g(dep)q(end)1011 563 y(on)15 b(b)q(oth)h(the)g(application)e(and)h(the)h(sp)q(eed)h(of)e(the)h(pro)q(ces-)1011 613 y(sor.\))1052 672 y(F)m(or)g(a)g(c)o(hemical)f(factory's)h(pro)q(cess)i(con)o(trol)e(computer,)1011 722y(it)11 b(migh)o(t)f(b)q(e)j(su\016cien)o(t)f(for)g(the)h(con)o(trolling)d(application)h(to)1011 772 y(execute)18 b(for)d(at)h(least)g(one)h(second)g(out)f(of)f(ev)o(ery)i(t)o(w)o(o,)f(b)q(e-)1011 822 y(cause)f(the)f(con)o(troller)g(m)o(ust)f(resp)q(ond)i(to)e(c)o(hanges)i(\(e.g.,)d(in)1011871 y(v)n(at)f(temp)q(eratures\))h(within)f(t)o(w)o(o)g(seconds,)i(and)e(one)h(second)1011 921 y(is)17 b(enough)g(to)g(compute)g(the)h(appropriate)f(resp)q(onse.)31 b(On)1011 971 y(the)15 b(other)h(hand,)e(a)g(con)o(troller)h(for)g(a)f(m)o(usical)f(syn)o(thesizer)1011 1021 y(migh)o(t)e(require)j(the)g(CPU)g(to)f(run)h(its)f(con)o(trol)h(program)d(for)1011 1071 y(half)19b(a)g(millisecond)f(out)i(of)f(ev)o(ery)i(t)o(w)o(o)e(milliseconds,)g(to)10111120 y(k)o(eep)14 b(dela)o(ys)f(in)g(the)h(onset)g(of)f(individual)e(notes)j(b)q(elo)o(w)f(the)1011 1170 y(threshold)h(of)g(noticeabilit)o(y)m(.)10521230 y(Note)i(that)g(either)g(of)f(these)h(applications)f(can)g(function)10111280 y(correctly)g(if)e(the)i(garbage)f(collector)g(sometimes)f(stops)h(the)1011 1329 y(application)i(for)i(a)f(quarter)i(of)e(a)g(millisecond.)28b(Pro)o(vided)1011 1379 y(that)10 b(these)h(pauses)g(aren't)f(to)q(o)g(frequen)o(t,)h(they're)g(to)q(o)e(short)1011 1429 y(to)j(b)q(e)g(relev)n(an)o(t)g(to)g(the)h(applications')e(real-time)f(deadlines.)10521488 y(But)18 b(supp)q(ose)g(these)h(pauses)f(are)f(clustered)i(in)e(time;)g(if)1011 1538 y(they)f(happ)q(en)h(frequen)o(tly)f(enough)g(they)h(will)e(destro)o(y)h(the)1011 1588 y(application's)8 b(abilit)o(y)f(to)j(meet)f(deadlines,)h(simply)d(b)o(y)i(soak-)1011 1638 y(ing)i(up)g(to)q(o)h(large)f(a)g(fraction)h(of)f(the)h(CPU)g(time.)k(If)11 b(the)h(ap-)10111688 y(plication)e(only)h(executes)k(for)c(a)h(sixteen)o(th)g(of)g(a)f(millisecond)1011 1737 y(b)q(et)o(w)o(een)k(quarter-millisecond)d(pauses,)j(it)e(can't)h(get)g(more)1011 1787 y(than)h(a)h(\014fth)f(of)h(the)g(CPU)g(time.)22 b(In)16 b(that)f(case,)i(either)g(of)1011 1837 y(the)11b(ab)q(o)o(v)o(e)g(programs)e(w)o(ould)h(fail)f(to)i(meet)f(its)h(real-time)e(re-)1011 1887 y(quiremen)o(ts,)j(ev)o(en)h(the)g(pro)q(cess)h(con)o(trol)e(system)g(that)h(only)1011 1937 y(needs)i(to)f(resp)q(ond)h(within)e(t)o(w)o(o)g(seconds.)1052 1996 y(As)22 b(w)o(e)f(describ)q(ed)i(ab)q(o)o(v)o(e,)f(some)e(cop)o(y)h(collectors)g(use)1011 2046 y(virtual)14 b(memory)f(protections)j(to)f(trigger)h(pagewise)g(scan-)1011 2096 y(ning,)c(and)g(this)h(coarseness)h(ma)o(y)d(fail)g(to)i(resp)q(ect)h(real-time)10112145 y(guaran)o(tees.)31 b(In)18 b(the)h(w)o(orst)f(case,)h(tra)o(v)o(ersing)g(a)e(list)h(of)f(a)1011 2195 y(thousand)d(elemen)o(ts)f(ma)o(y)e(cause)k(a)e(thousand)h(pages)g(to)f(b)q(e)1011 2245 y(scanned,)22 b(p)q(erforming)d(considerable)i(garbage)f(collection)1011 2295 y(w)o(ork)e(and)f(incurring)h(trap)h(o)o(v)o(erheads)g(as)f(w)o(ell.)30 b(\(In)18 b(this)10112345 y(w)o(a)o(y)m(,)e(a)h(list)g(tra)o(v)o(ersal)h(that)f(w)o(ould)g(normally)d(tak)o(e)k(a)f(few)1011 2395 y(thousand)9 b(instructions)i(ma)o(y)c(unexp)q(ectedly)k(tak)o(e)f(milli)o(ons,)1011 2444 y(increasing)16b(the)g(time)e(to)i(tra)o(v)o(erse)h(the)f(list)f(b)o(y)h(sev)o(eral)g(or-)1011 2494 y(ders)i(of)f(magnitude.\))26 b(Lo)q(calit)o(y)16b(of)h(reference)i(ma)o(y)c(mak)o(e)1011 2544 y(suc)o(h)d(situations)f(improbable,)f(but)h(the)h(probabilit)o(y)e(of)h(bad)1011 2594y(cases)k(is)f(not)g(negligible.)969 2718 y(28)p eop%%Page: 29 29bop 42 55 a Fn(Unfortunately)m(,)11 b(using)h(a)g(\014ne-grained)g(incremen)o(tal)g(col-)0 105 y(lector)h(ma)o(y)e(not)i(\014x)g(this)g(problem,)e(either)j([Nil88)n(,)e(Wit91)o(].)0 155 y(Consider)i(Bak)o(er's)f(cop)o(ying)g(tec)o(hnique.)19 b(The)13 b(time)f(to)h(tra-)0 205 y(v)o(erse)18b(a)e(list)g(dep)q(ends)j(on)d(whether)i(the)f(list)f(elemen)o(ts)h(re-)0255 y(quire)10 b(relo)q(cation)g(to)f(tospace.)18 b(T)m(ra)o(v)o(ersing)9b(a)h(single)f(p)q(oin)o(ter)0 304 y(ma)o(y)i(require)j(an)f(ob)r(ject)h(to)f(b)q(e)h(copied;)f(this)h(ma)o(y)d(increase)0 354 y(the)h(cost)h(of)e(that)h(memory)d(reference)14 b(b)o(y)e(an)g(order)g(of)f(mag-)0 404y(nitude)j Fk(even)h(if)f(obje)n(cts)h(ar)n(e)f(smal)r(l)h(and)g(har)n(dwar)n(e)f(supp)n(ort)0 454 y(is)j(available)p Fn(.)27 b(\(Consider)18b(cop)o(ying)e(a)h(Lisp)g(cons)g(cell)g(con-)0 504 y(sisting)c(of)g(a)h(header,)g(a)f(CAR)g(\014eld,)h(and)f(a)g(CDR)g(\014eld.)18b(A)o(t)0 553 y(least)i(three)h(memory)c(reads)k(and)e(three)i(memory)d(writes)0 603 y(are)h(required)g(for)g(the)g(actual)f(cop)o(y)m(,)h(plus)f(extra)i(instruc-)0 653 y(tions)c(to)g(install)f(a)g(forw)o(arding)g(p)q(oin)o(ter,)i(adjust)f(the)h(free-)0 703 y(space)j(p)q(oin)o(ter,)h(and)e(probably)g(to)g(branc)o(h)h(to)f(and)g(from)0 753 y(the)j(garbage)g(collector)f(routine)h(that)g(do)q(es)g(this)g(w)o(ork.\))0802 y(In)f(suc)o(h)h(cases,)h(it)e(is)g(p)q(ossible)g(for)g(the)g(garbage)g(collec-)0 852 y(tor)14 b(o)o(v)o(erheads)g(to)g(consume)g(o)o(v)o(er)f(90\045)g(of)g(the)i(CPU)f(time,)0 902 y(reducing)h(the)g(a)o(v)n(ailable)d(computing)h(p)q(o)o(w)o(er|that)i(is,)f(the)0 952 y(p)q(o)o(w)o(er)d(guaran)o(teed)f(to)h(b)q(e)f(a)o(v)n(ailable)f(for)g(meeting)h(real-time)01002 y(deadlines|b)o(y)j(an)h(order)h(of)e(magnitude.)42 1067y(\(In)c(Bak)o(er's)h(original)d(incremen)o(tal)i(cop)o(ying)g(sc)o(heme,)h(the)0 1117 y(w)o(orst-case)23 b(cost)g(is)f(ev)o(en)h(w)o(orse,)h(b)q(ecause)g(an)o(y)e(p)q(oin)o(ter)0 1167 y(tra)o(v)o(ersal)14b(ma)o(y)e(force)j(the)f(cop)o(ying)g(of)f(a)h Fk(lar)n(ge)fFn(ob)r(ject.)19 b(Ar-)0 1217 y(ra)o(ys)c(are)g(treated)h(sp)q(ecially)m(,)e(and)h(copied)g(lazily)m(,)e(i.e.,)h(only)0 1267 y(when)k(they)h(are)f(actually)f(touc)o(hed.)32 b(Nilsen)18 b(reduces)i(the)0 1317y(w)o(orst-case)15 b(b)o(y)e(extending)h(this)g(lazy)f(cop)o(ying)g(to)g(all)f(t)o(yp)q(es)0 1366 y(of)i(ob)r(jects.)22 b(When)14 b(a)h(p)q(oin)o(ter)g(to)f(a)g(tospace)i(ob)r(ject)f(is)g(en-)0 1416 y(coun)o(tered)g(b)o(y)e(the)h(m)o(utator,)d(space)k(is)e(simply)e(reserv)o(ed)16 b(in)01466 y(tospace)c(for)f(the)g(ob)r(ject,)h(rather)g(than)f(actually)g(cop)o(ying)f(it.)0 1516 y(The)16 b(actual)f(cop)o(ying)f(o)q(ccurs)j(later,)e(incremen)o(tally)m(,)f(when)0 1566 y(the)j(bac)o(kground)f(sca)o(v)o(enger)i(scans)f(that)g(part)f(of)g(tospace)0 1615 y([Nil88)n(].\))421681 y(In)h(deciding)h(on)g(a)f(real-time)g(tracing)g(strategy)m(,)i(there-)01731 y(fore,)f(it)g(is)f(imp)q(ortan)o(t)f(to)i(decide)h(what)e(kind)h(of)f(guaran-)0 1781 y(tees)23 b(are)f(necessary)m(,)i(and)d(at)h(what)f(timescales.)40 b(While)0 1831 y(Bak)o(er's)20 b(is)f(the)h(b)q(est-kno)o(wn)g(incremen)o(tal)f(algorithm,)f(it)0 1880 y(ma)o(y)9 b(not)j(b)q(e)f(the)h(most)e(suitable)i(for)f(most)f(real-time)f(appli-)0 1930 y(cations,)j(b)q(ecause)h(its)f(p)q(erformance)g(is)f(v)o(ery)h(unpredictable)01980 y(at)18 b(small)e(timescales.)30 b(Algorithms)17 b(with)h(a)g(w)o(eak)o(er)g(cou-)0 2030 y(pling)c(b)q(et)o(w)o(een)i(the)g(m)o(utator)d(and)i(the)g(collector)g(\(suc)o(h)h(as)0 2080 y(most)f(write-barrier)h(algorithms\))e(ma)o(y)g(b)q(e)i(more)f(suitable)0 2130 y([WJ93)o(].)24 b(It)16b(ma)o(y)e(b)q(e)j(easier)g(for)f(programmers)e(to)i(reason)02179 y(ab)q(out)f(real-time)f(guaran)o(tees)i(if)e(they)i(kno)o(w)f(that)g(p)q(oin)o(ter)0 2229 y(tra)o(v)o(ersals)d(alw)o(a)o(ys)e(tak)o(e)i(a)f(constan)o(t)h(time,)e(indep)q(enden)o(t)j(of)0 2279 y(whether)i(the)e(p)q(oin)o(ter)h(b)q(eing)f(tra)o(v)o(ersed)h(has)g(b)q(een)g(reac)o(hed)02329 y(b)o(y)c(the)g(garbage)g(collector)g(y)o(et.)17 b(\(W)m(rite)9b(barrier)h(algorithms)0 2379 y(require)j(more)f(w)o(ork)g(p)q(er)h(p)q(oin)o(ter)g(store,)g(but)f(the)h(w)o(ork)f(p)q(er)0 2428 y(program)e(op)q(eration)h(is)g(less)h(v)n(ariable,)e(and)h(most)g(of)f(it)h(need)02478 y(not)21 b(b)q(e)g(p)q(erformed)f(immediately)d(to)k(main)o(tain)d(correct-)0 2528 y(ness.\))42 2594 y(Unfortunately)m(,)h(while)f(non-cop)o(ying)h(algorithms)d(ha)o(v)o(e)1011 55 y(the)d(con)o(v)o(enien)o(t)g(prop)q(ert)o(y)h(that)f(their)g(time)f(o)o(v)o(erheads)i(are)1011105 y(more)c(predictable,)j(their)f(space)g(costs)h(are)f(m)o(uc)o(h)e(more)h(dif-)1011 155 y(\014cult)j(to)f(reason)i(ab)q(out.)i(A)d(cop)o(ying)f(algorithm)e(generally)1011 205 y(frees)i(a)f(large,)f(con)o(tiguous)h(area)g(of)f(memory)m(,)e(and)j(requests)1011 255 y(for)i(ob)r(jects)i(of)e(an)o(y)g(size)h(can)g(b)q(e)h(satis\014ed)f(b)o(y)f(a)h(constan)o(t-)1011304 y(time)f(stac)o(k-lik)o(e)h(allo)q(cation)g(op)q(eration.)23b(Non-cop)o(ying)15 b(al-)1011 354 y(gorithms)d(are)i(sub)r(ject)i(to)d(fragmen)o(tation|m)o(em)o(ory)e(that)1011 404 y(is)i(freed)i(ma)o(y)d(not)h(b)q(e)i(con)o(tiguous,)e(so)h(it)f(ma)o(y)f(not)h(b)q(e)i(p)q(os-)1011454 y(sible)e(to)g(allo)q(cate)g(an)g(ob)r(ject)h(of)f(a)f(giv)o(en)h(size)h(ev)o(en)g(if)f(there)1011 504 y(is)g(that)h(m)o(uc)o(h)f(memory)f(free.)1052555 y(The)f(follo)o(wing)c(sections)k(discuss)h(tec)o(hniques)f(for)f(obtain-)1011 605 y(ing)16 b(real-time)g(p)q(erformance)h(from)f(an)h(incremen)o(tal)g(trac-)1011 654 y(ing)h(collector.)32 b(W)m(e)19b(assume)f(that)h(the)g(system)f(is)h(purely)1011 704 y(hard)c(real)g(time|that)f(is,)h(the)g(program)f(consists)i(only)f(of)1011754 y(computations)c(whic)o(h)i Fk(must)f Fn(complete)g(b)q(efore)i(their)f(dead-)1011 804 y(lines;)h(w)o(e)g(also)g(assume)g(that)g(there)i(is)e(only)f(one)i(timescale)1011 854 y(for)j(real-time)e(deadlines.)31b(In)18 b(suc)o(h)h(a)f(system,)g(the)h(main)1011 903 y(goal)10b(is)i(to)g(mak)o(e)e(the)j(w)o(orst-case)g(p)q(erformance)e(as)h(go)q(o)q(d)g(as)1011 953 y(p)q(ossible,)19 b(and)e(further)i(increases)h(in)d(exp)q(ected-case)k(p)q(er-)1011 1003 y(formance)g(do)h(no)g(go)q(o)q(d.)43b(\(Later,)24 b(w)o(e)f(will)e(brie\015y)h(dis-)1011 1053 y(cuss)g(tradeo\013s)f(in)f(systems)h(with)f(soft)h(real-time)e(sc)o(hed-)10111103 y(ules,)f(where)h(di\013erences)h(in)d(exp)q(ected-case)j(p)q(erformance)1011 1153 y(ma)o(y)10 b(also)h(b)q(e)i(imp)q(ortan)o(t.\))j(W)m(e)11 b(also)h(assume)f(that)h(either)h(a)1011 1202 y(cop)o(ying)h(algorithm)d(is)k(used,)g(or)f(all)g(ob)r(jects)h(are)g(of)f(a)h(uni-)10111252 y(form)d(size.)1185 1237 y Fj(25)1241 1252 y Fn(This)i(allo)o(ws)f(us)i(to)f(assume)g(that)h(an)o(y)f(mem-)1011 1302 y(ory)f(request)j(can)e(b)q(e)g(satis\014ed)g(b)o(y)g(an)o(y)f(a)o(v)n(ailable)e(memory)m(,)10111352 y(and)i(ignore)h(p)q(ossible)g(fragmen)o(tation)e(of)h(free)i(storage.)1011 1467 y Fm(3.8.1)48 b(Ro)q(ot)15 b(Set)g(Scanning)10111546 y Fn(An)k(imp)q(ortan)o(t)e(determinan)o(t)h(of)g(real-time)f(p)q(erformance)1011 1596 y(is)e(the)g(time)f(required)i(to)e(scan)i(the)g(ro)q(ot)f(set.)22 b(Recall)14 b(that)1011 1646 y(in)19 b(Bak)o(er's)g(incremen)o(tal)f(collector,)j(the)f(ro)q(ot)f(set)h(is)f(up-)1011 1696y(dated,)e(and)g(immedia)o(tely-reac)o(hable)e(ob)r(jects)j(are)f(copied)10111745 y(to)10 b(tospace,)i(in)d(a)i(single)f(atomic)e(op)q(eration,)j(unin)o(terrupted)1011 1795 y(b)o(y)i(m)o(utator)f(execution.)19 b(This)14b(means)f(that)h(there)h(will)d(o)q(c-)1011 1845 y(casionally)17b(b)q(e)i(a)f(pause)h(of)e(a)h(duration)g(roughly)g(prop)q(or-)10111895 y(tional)13 b(to)i(the)h(size)g(of)e(the)i(ro)q(ot)f(set.)22b(This)15 b(pause)g(is)g(lik)o(ely)1011 1945 y(to)j(b)q(e)h(m)o(uc)o(h)e(larger)i(than)f(a)h(pause)g(for)f(a)g(normal)e(incre-)10111995 y(men)o(t)g(of)g(tracing,)h(and)f(ma)o(y)f(b)q(e)j(the)f(main)e(limitatio)o(n)f(on)1011 2044 y(real-time)e(guaran)o(tees.)10522096 y(Similar)18 b(pauses)k(o)q(ccur)g(in)f(incremen)o(tal)f(up)q(date)i(trac-)1011 2145 y(ing)11 b(algorithms)e(when)j(attempting)e(to)i(terminate)f(a)g(collec-)1011 2195 y(tion.)28 b(Before)19 b(a)e(collection)g(can)h(b)q(e)g(considered)h(\014nished,)1011 2245 y(the)12 b(ro)q(ot)g(set)g(m)o(ust)f(b)q(e)h(scanned)h(\(along)e(with)g(an)o(y)g(gra)o(y)g(ob-)10112295 y(jects)17 b(recorded)h(b)o(y)e(the)g(write)h(barrier,)f(in)g(the)h(case)g(of)e(an)1011 2345 y(algorithm)f(lik)o(e)i(Steele's\),)j(and)e(all)f(reac)o(hable)h(data)g(m)o(ust)1011 2394 y(b)q(e)e(tra)o(v)o(ersed)h(and)e(blac)o(k)o(ened)h(atomically)l(.)i(\(This)e(ensures)p 10112437 388 2 v 1042 2464 a Fh(25)1074 2475 y Fg(In)h(some)f(systems,)h(it)g(is)g(feasible)e(to)i(transparen)o(tly)d(fragmen)o(t)1011 2515y(language-le)o(v)o(el)5 b(ob)r(jects)i(in)o(to)h(easily-mana)o(ged)d(c)o(h)o(unks,)j(to)g(mak)o(e)f(gar-)1011 2554 y(bage)16 b(collection)e(easier)i(and)g(reduce)g(or)h(eliminate)d(fragmen)o(tatio)o(n)1011 2594 y(problems.)9692718 y Fn(29)p eop%%Page: 30 30bop 0 55 a Fn(that)15 b(no)g(p)q(oin)o(ters)h(ha)o(v)o(e)f(b)q(een)h(hidden)g(from)d(the)j(collector)0 105 y(b)o(y)i(storing)g(them)g(in)g(ro)q(ots)h(after)f(those)h(ro)q(ots)g(w)o(ere)g(last)0 155 y(scanned.\))g(If)13b(this)g(w)o(ork)f(cannot)h(b)q(e)h(accomplished)e(within)0205 y(the)f(time)e(allo)o(w)o(ed)g(b)o(y)h(the)g(real-time)f(b)q(ounds,)i(the)g(collector)0 255 y(m)o(ust)g(b)q(e)h(susp)q(ended)i(and)d(the)i(m)o(utator)d(resumed,)i(and)g(the)0 304 y(en)o(tire)17 b(termination)e(pro)q(cess)j(m)o(ust)d(b)q(e)j(tried)e(again)g(later.)0 354 y(\(Snapshot)g(at)g(b)q(eginning)f(algorithms)e(don't)i(p)q(ose)h(as)g(dif-)0 404y(\014cult)k(a)f(problem)f(for)h(termination)f(detection,)j(since)f(no)0454 y(paths)14 b(can)g(b)q(e)h(hidden)f(from)e(the)j(collector.\))42505 y(One)d(w)o(a)o(y)e(to)h(b)q(ound)h(the)f(w)o(ork)g(required)i(for)d(a)h(\015ip)g(or)h(for)0 555 y(termination)e(is)i(to)g(k)o(eep)g(the)h(ro)q(ot)f(set)h(small.)i(Rather)d(than)0 604 y(considering)h(all)f(lo)q(cal)g(and)g(global)g(v)n(ariables)g(to)g(b)q(e)i(part)f(of)0 654 y(the)j(ro)q(ot)f(set,)h(some)e(or)i(all)d(of)i(them)f(ma)o(y)g(b)q(e)i(treated)g(lik)o(e)0704 y(ob)r(jects)c(on)e(the)h(heap.)17 b(Reads)10 b(or)h(writes)g(to)f(these)i(v)n(ariables)0 754 y(will)j(b)q(e)h(detected)i(b)o(y)e(the)h(read)f(barrier)h(or)f(write)g(barrier,)0 804 y(and)f(the)h(collector)f(will)f(therefore)j(main)o(tain)12 b(the)k(relev)n(an)o(t)0 854 y(information)11b(incremen)o(tally)m(.)42 905 y(The)23 b(problem)f(with)h(k)o(eeping)g(the)h(ro)q(ot)f(set)h(small)d(is)0 954 y(that)h(the)g(cost)h(of)e(the)i(read)f(or)g(write)g(barrier)h(go)q(es)f(up)0 1004 y(corresp)q(ondingly|a)14b(larger)g(n)o(um)o(b)q(er)g(of)g(v)n(ariables)f(is)h(pro-)01054 y(tected)k(b)o(y)d(a)h(read)g(or)g(write)g(barrier,)h(incurring)f(o)o(v)o(erhead)0 1104 y(eac)o(h)10 b(time)e(they)i(are)f(read)h(or)f(written.)17b(One)10 b(p)q(ossible)g(trade-)0 1154 y(o\013)f(is)g(to)g(a)o(v)o(oid)f(the)i(read)g(or)f(write-barrier)h(cost)g(for)f(register-)0 1203y(allo)q(cated)j(v)n(ariables,)g(and)h(to)f(scan)i(\(only\))e(the)h(register)h(set)0 1253 y(atomically)6 b(when)k(necessary)m(.)18 b(If)9b(there)i(are)e(to)q(o)g(man)o(y)f(op)q(er-)0 1303 y(ations)j(on)g(stac)o(k-allo)q(cated)h(lo)q(cal)e(v)n(ariables,)h(ho)o(w)o(ev)o(er,)h(this)01353 y(will)h(slo)o(w)g(execution)i(signi\014can)o(tly)m(.)i(In)d(that)h(case,)f(the)h(en-)0 1403 y(tire)h(stac)o(k)g(ma)o(y)d(b)q(e)k(scanned)f(atomically)d(instead.)23 b(While)0 1453 y(this)c(ma)o(y)f(sound)h(exp)q(ensiv)o(e,)j(most)c(real-time)f(programs)0 1502 y(nev)o(er)f(ha)o(v)o(e)e(deep)i(or)f(un)o(b)q(ounded)g(activ)n(ation)f(stac)o(ks,)h(and)01552 y(the)21 b(cost)g(ma)o(y)e(b)q(e)i(negligible)e(at)i(the)g(scale)g(of)f(the)h(pro-)0 1602 y(gram's)15 b(in)o(tended)j(resp)q(onse)i(times.)27b(Similarly)l(,)15 b(for)h(small)0 1652 y(systems)e(using)f(fast)h(pro)q(cessors)i(\(or)d(with)h(relativ)o(ely)e(large)0 1702 y(timescales)k(for)f(real-time)g(requiremen)o(ts\),)h(it)g(ma)o(y)e(b)q(e)j(de-)01751 y(sirable)c(to)g(a)o(v)o(oid)e(the)j(read)f(or)g(write)g(barrier)h(for)e(all)g(global)0 1801 y(v)n(ariables,)h(and)g(scan)h(them)f(atomically)e(as)i(w)o(ell.)18 b(In)o(terme-)0 1851 y(diate)g(strategies)h(are)f(p)q(ossible,)g(treating)g(some)f(v)n(ariables)0 1901 y(one)d(w)o(a)o(y)g(and)g(others)h(another,)f(p)q(erhaps)h(based)g(on)f(pro\014l-)0 1951 y(ing)f(information.)02065 y Fm(3.8.2)48 b(Guaran)o(teein)o(g)13 b(Su\016cien)o(t)g(Progress)02144 y Fn(The)20 b(preceding)g(section)h(fo)q(cused)f(on)f(ensuring)h(that)g(the)0 2194 y(collector)h(do)q(es)g(not)g(use)h(to)q(o)e(m)o(uc)o(h)f(CPU)i(time,)g(at)g(the)0 2244 y(relev)n(an)o(t)c(timescale,)g(k)o(eeping)h(the)g(pro)q(cessor)h(from)c(b)q(eing)0 2294 y(able)h(to)h(meet)f(its)g(real-time)f(deadlines.)26 b(Con)o(v)o(ersely)m(,)17 b(the)0 2343 y(collector)f(has)f(a)g(real-time)f(deadline)i(of)e(its)i(o)o(wn)f(to)g(meet:)0 2393y(it)g(m)o(ust)g(\014nish)g(its)h(tra)o(v)o(ersal)g(and)f(free)h(up)g(more)f(memory)0 2443 y(b)q(efore)j(the)g(curren)o(tly-free)i(memory)15b(is)i(exhausted.)30 b(If)18 b(it)0 2493 y(do)q(esn't,)c(the)g(application)d(will)h(ha)o(v)o(e)i(to)f(halt)g(and)g(w)o(ait)g(for)0 2543y(the)h(collection)g(to)g(complete)f(and)h(free)g(up)g(more)f(memory)m(.)422594 y(F)m(or)k(hard)h(real-time)e(programs,)h(then,)i(there)g(m)o(ust)e(b)q(e)1011 55 y(some)f(w)o(a)o(y)g(of)h(ensuring)g(that)g(the)h(collector)f(gets)h(enough)1011 105 y(CPU)d(time)e(to)h(complete)g(its)h(task)f(b)q(efore)i(free)f(memory)d(is)1011 155 y(exhausted,)19 b(ev)o(en)g(in)e(the)i(w)o(orst)f(p)q(ossible)g(case.)31 b(T)m(o)17 b(pro-)1011 205y(vide)e(suc)o(h)h(a)e(guaran)o(tee,)i(it)e(is)h(necessary)i(to)e(quan)o(tify)f(the)1011 255 y(w)o(orst)i(case|that)h(is,)f(to)g(put)g(some)f(b)q(ound)i(on)e(what)h(the)1011 304 y(collector)d(could)f(b)q(e)i(exp)q(ected)g(to)f(do.)k(Since)c(a)g(tracing)f(col-)1011 354 y(lector)j(m)o(ust)f(tra)o(v)o(erse)i(liv)o(e)e(data,)g(this)h(requires)h(putting)e(a)1011404 y(b)q(ound)19 b(on)h(the)g(amoun)o(t)d(of)i(liv)o(e)g(data.)34b(In)20 b(general,)g(the)1011 454 y(programmer)c(of)i(an)h(application)e(m)o(ust)h(ensure)j(that)d(the)1011 504 y(program)13 b(do)q(esn't)i(ha)o(v)o(e)f(more)f(than)i(a)f(certain)h(amoun)o(t)e(of)1011 553 y(liv)o(e)k(data)g(to)h(tra)o(v)o(erse,)h(and)f(the)g(collector)g(can)g(then)h(de-)1011603 y(termine)13 b(ho)o(w)h(fast)h(it)f(m)o(ust)f(op)q(erate)i(in)f(order)h(to)f(meet)g(its)1011 653 y(deadline.)k(It)13 b(can)h(then)g(determine)f(whether)i(this)f(requires)1011 703 y(more)f(CPU)h(time)e(than)i(it)f(is)h(allo)o(w)o(ed)f(to)g(consume.)18 b(Natu-)1011 753 y(rally)m(,)13b(this)h(generally)h(allo)o(ws)e(some)h(tradeo\013s)h(to)g(b)q(e)g(made)1011802 y(in)i(the)h(parameter)g(settings.)30 b(If)17 b(more)f(memory)g(is)h(a)o(v)n(ail-)1011 852 y(able,)g(the)h(collector)g(generally)f(needs)i(a)e(smaller)e(fraction)1011 902 y(of)h(the)h(CPU)g(time)e(to)h(guaran)o(tee)h(that)g(it)f(\014nishes)h(b)q(efore)1011 952 y(memory)11 b(is)j(exhausted.)1052 1018 y(The)f(usual)f(strategy)g(for)g(ensuring)h(that)f(free)h(memory)c(is)1011 1067 y(not)j(exhausted)i(b)q(efore)g(collection)e(is)g(\014nished)i(is)e(to)h(use)g(an)1011 1117 y Fk(al)r(lo)n(c)n(ation)k(clo)n(ck)pFn(|for)f(eac)o(h)h(unit)g(of)f(allo)q(cation,)g(a)g(corre-)10111167 y(sp)q(onding)e(unit)g(of)g(collection)g(w)o(ork)g(is)g(done,)h(and)f(the)h(lat-)1011 1217 y(ter)f(unit)e(is)h(large)g(enough)g(to)g(ensure)h(that)f(the)h(tra)o(v)o(ersal)f(is)1011 1267 y(completed)g(b)q(efore)h(the)h(free)f(space)h(is)f(exhausted)h([Bak78)o(].)1011 1317 y(The)e(simplest)g(form)e(of)i(this)g(is)g(to)g(k)o(ey)h(collection)f(w)o(ork)g(di-)10111366 y(rectly)h(to)f(allo)q(cation|eac)o(h)f(time)g(an)h(ob)r(ject)i(is)e(allo)q(cated,)1011 1416 y(a)k(prop)q(ortional)g(amoun)o(t)g(of)g(garbage)h(collection)f(w)o(ork)h(is)1011 1466 y(done.)g(This)13 b(guaran)o(tees)h(that)f(no)g(matter)f(ho)o(w)h(fast)g(a)g(pro-)1011 1516 y(gram)d(uses)j(up)f(memory)m(,)c(the)13 b(collector)f(is)f(accelerated)j(cor-)10111566 y(resp)q(ondingly)m(.)32 b(\(In)19 b(actual)f(implemen)o(tations,)f(the)i(w)o(ork)1011 1615 y(is)13 b(usually)f(batc)o(hed)i(up)g(in)o(to)e(somewhat)g(larger)i(units)f(o)o(v)o(er)1011 1665 y(sev)o(eral)h(allo)q(cations,)e(for)i(e\016ciency)h(reasons.\))1052 1731 y(In)e(the)g(rest)h(of)f(this)f(section,)i(w)o(e)f(sho)o(w)f(ho)o(w)h(to)f(compute)1011 1781y(the)18 b(minim)n(um)13 b(safe)k(tracing)g(rate,)h(starting)f(with)g(a)g(non-)1011 1831 y(cop)o(ying)i(snapshot-at-b)q(eginning)h(collector,)i(whic)o(h)f(allo-)1011 1880 y(cates)12 b(ob)r(jects)f(blac)o(k)f(\(i.e.,)g(not)h(sub)r(ject)h(to)f(collection\).)16 b(W)m(e)1011 1930 y(mak)o(e)8b(the)i(simplifying)c(assumption)i(that)i(all)e(ob)r(jects)j(are)f(of)10111980 y(a)g(uniform)e(size,)k(so)e(that)h(there)h(is)e(a)g(single)h(p)q(o)q(ol)f(of)f(memory)1011 2030 y(that)j(is)g(allo)q(cated)f(from)g(and)g(reclaimed.)17 b(After)12 b(describing)1011 2080 y(this)j(simple)e(case,)j(w)o(e)f(will)e(explain)h(ho)o(w)h(the)g(safe)g(tracing)1011 2130y(rate)f(di\013ers)h(for)e(other)i(incremen)o(tal)e(tracing)h(algorithms.)1052 2195 y(F)m(or)20 b(a)g(snapshot-at-b)q(eginning)g(algorithm,)f(all)h(of)f(the)1011 2245 y(liv)o(e)12 b(data)h(at)g(the)h(b)q(eginning)f(of)f(a)h(collection)g(m)o(ust)f(b)q(e)i(tra-)1011 2295 y(v)o(ersed)h(b)o(y)f(the)h(end)g(of)e(the)i(collection.)k(Other)c(algorithms)1011 2345y(m)o(ust)h(do)h(this)g(to)q(o,)g(in)g(the)g(w)o(orst)h(case,)g(b)q(ecause)h(ob)r(jects)1011 2395 y(ma)o(y)10 b(ha)o(v)o(e)i(to)g(b)q(e)g(tra)o(v)o(ersed)i(ev)o(en)e(if)f(they)i(are)f(freed)h(during)1011 2444y(collection.)33 b(In)19 b(the)h(absence)h(of)d(an)o(y)h(other)h(information)1011 2494 y(from)10 b(the)i(programmer,)d(the)j(collector)g(m)o(ust)f(generally)g(as-)1011 2544 y(sume)e(that)g(at)h(the)g(b)q(eginning)f(of)f(collection,)i(the)g(maxim)n(um)1011 2594 y(amoun)o(t)i(of)h(liv)o(e)g(data)h(is)f(in)h(fact)g(liv)o(e.)969 2718 y(30)p eop%%Page: 31 31bop 42 55 a Fn(Since)13 b(w)o(e)g(assume)f(that)h(ob)r(jects)h(created)h(during)d(collec-)0 105 y(tion)j(are)h(allo)q(cated)g(blac)o(k,)f(i.e.,)g(not)h(sub)r(ject)h(to)f(reclama-)0 155 y(tion,)11 b(w)o(e)g(need)h(not)f(tra)o(v)o(erse)i(them|those)e(ob)r(jects)h(will)e(b)q(e)0205 y(ignored)k(un)o(til)f(the)h(next)h(garbage)e(collection)h(cycle.)42266 y(A)o(t)19 b(\014rst)i(glance,)g(it)e(migh)o(t)f(app)q(ear)j(that)f(for)f(a)h(maxi-)0 316 y(m)o(um)e(amoun)o(t)h(of)h(liv)o(e)f(data)i(L)f(and)h(a)f(memory)e(size)k(of)0 366 y Fl(M)5 b Fn(,)25 b(w)o(e)f(w)o(ould)f(ha)o(v)o(e)g(\()p Fl(M)e Fe(\000)16 b Fl(L)p Fn(\))24 b(memory)d(a)o(v)n(ailable)g(to)0416 y(allo)q(cate|this)f(w)o(ould)g(imply)e(a)i(minim)n(um)c(safe)21b(tracing)0 466 y(rate)14 b(of)e(\()p Fl(M)h Fe(\000)7 b Fl(L)pFn(\))p Fl(=L)p Fn(,)13 b(to)g(trace)h Fl(L)g Fn(data)e(b)q(efore)i(this)f(\\head-)0 516 y(ro)q(om")i(is)j(exhausted.)29 b(Unfortunately)m(,)17b(though,)g(w)o(e)h(also)0 565 y(ha)o(v)o(e)13 b(to)g(deal)g(with)g(\015oating)f(garbage.)18 b(The)c(data)e(that)i(are)0 615 y(liv)o(e)k(at)g(the)i(b)q(eginning)e(of)g(collection)g(ma)o(y)f(b)q(ecome)i(gar-)0665 y(bage)f(during)g(collection,)g(but)h(to)q(o)e(late)h(to)g(b)q(e)h(reclaimed)0 715 y(at)f(this)g(garbage)g(collection)g(cycle.)31b(The)18 b(data)g(w)o(e'v)o(e)g(al-)0 765 y(lo)q(cated)i(ma)o(y)e(also)i(b)q(e)g(garbage,)h(but)g(since)f(w)o(e)h(allo)q(cate)0 814 y(blac)o(k)c(w)o(e)g(don't)f(kno)o(w)h(that)g(y)o(et.)28 b(If)16 b(w)o(e)h(w)o(ere)h(to)f(use)h(up)0 864 y(\()p Fl(M)f Fe(\000)12 b Fl(L)p Fn(\))18 b(memory)m(,)d(w)o(e)i(migh)o(t)f(not)h(get)h Fk(any)h Fn(space)f(bac)o(k)0 914 y(at)h(this)f(garbage)h(collection)f(cycle,)i(and)f(w)o(e)g(w)o(ould)e(ha)o(v)o(e)0964 y(no)d(headro)q(om)e(left)i(to)g(try)g(another)g(collection.)k(the)d(maxi-)0 1014 y(m)o(um)8 b(data)j(w)o(e)h(should)f(allo)q(cate)g(is)g(therefore)i(only)d(half)h(the)0 1064 y(headro)q(om,)i(or)i(\()pFl(M)f Fe(\000)c Fl(L)p Fn(\))p Fl(=)p Fn(2.)20 b(The)15 b(minim)n(um)c(safe)j(tracing)0 1113 y(rate)i(allo)o(ws)e(us)h(to)g(allo)q(cate)g(that)g(in)g(the)g(time)f(it)h(tak)o(es)g(to)0 1163 y(tra)o(v)o(erse)k(the)g(maxim)n(um)14 b(liv)o(e)j(data,)h(so)g(the)h(safe)f(tracing)0 1213 y(rate)d(is)f(\(\()pFl(M)h Fe(\000)10 b Fl(L)p Fn(\))p Fl(=)p Fn(2\))p Fl(=L)pFn(,)k(or)g(\()p Fl(M)h Fe(\000)10 b Fl(L)p Fn(\))p Fl(=)pFn(2)p Fl(L)p Fn(.)20 b(This)14 b(is)g(su\016-)0 1263 y(cien)o(t)f(for)e(the)i(w)o(orst)f(case,)h(in)f(whic)o(h)g(all)f(garbage)g(\015oats)i(for)01313 y(an)h(en)o(tire)g(garbage)g(collection)f(cycle,)i(but)f(is)f(reclaimed)g(at)0 1362 y(the)h(next)h(cycle.)42 1424 y(As)e(men)o(tioned)e(ab)q(o)o(v)o(e,)i(the)g(situation)f(is)h(essen)o(tially)g(the)0 1474 y(same)e(for)g(other)h(incremen)o(tal)e(tracing)h(algorithms,)f(so)h(long)01524 y(as)22 b(they)g(allo)q(cate)f(new)h(ob)r(jects)h(blac)o(k,)g(b)q(ecause)g(in)f(the)0 1574 y(w)o(orst)e(case)h(they)g(retain)f(all)f(of)g(the)i(same)e(ob)r(jects)i(as)f(a)0 1623 y(snapshot-at-b)q(eginning)15b(algorithm.)21 b(The)16 b(minim)n(um)11 b(safe)0 1673 y(tracing)h(rate)h(is)f(prop)q(ortional)f(to)h(the)h(amoun)o(t)d(of)i(liv)o(e)g(data)01723 y(and)f(in)o(v)o(ersely)g(prop)q(ortional)f(to)h(the)g(amoun)o(t)f(of)g(free)i(mem-)0 1773 y(ory;)i(it)g(therefore)i(approac)o(hes)g(zero)f(as)g(memory)d(b)q(ecomes)0 1823 y(v)o(ery)21 b(large)f(relativ)o(e)g(to)g(the)h(maxim)o(um)16 b(amoun)o(t)i(of)i(liv)o(e)0 1872 y(data.)421934 y(F)m(or)14 b(allo)q(cating)f(white,)h(ho)o(w)o(ev)o(er,)h(the)g(situation)f(is)g(con-)0 1984 y(siderably)g(w)o(orse.)21 b(When)15b(allo)q(cating)d(white,)j(w)o(e)f(are)h(gam-)0 2034 y(bling)c(that)h(newly-allo)q(cated)f(data)g(will)g(b)q(e)h(short-liv)o(ed;)g(w)o(e)02084 y(therefore)17 b(mak)o(e)d(them)h(sub)r(ject)i(to)e(garbage)h(collection)f(in)0 2134 y(hop)q(es)j(of)f(reclaiming)e(their)j(space)g(at)f(the)h(curren)o(t)h(cycle.)0 2183 y(This)h(obliges)f(us)h(to)g(tra)o(v)o(erse)h(reac)o(hable)g(white)e(ob)r(jects,)0 2233 y(and)c(in)f(the)i(w)o(orst)f(case)h(w)o(e)f(tra)o(v)o(erse)h Fk(everything)g(we)g(al)r(lo-)02283 y(c)n(ate)g Fn(b)q(efore)i(it)e(b)q(ecomes)g(garbage.)26b(Ev)o(en)16 b(though)h(w)o(e)f(as-)0 2333 y(sume)11 b(that)h(there)i(is)d(a)h(b)q(ound)g(on)g(the)g(amoun)o(t)e(of)h(liv)o(e)h(data)0 2383y(\(pro)o(vided)i(b)o(y)f(the)i(programmer\),)c(w)o(e)j(m)o(ust)e(tak)o(e)i(in)o(to)f(ac-)0 2432 y(coun)o(t)18 b(the)g(conserv)n(atism)e(of)h(the)h(tra)o(v)o(ersal)g(pro)q(cess,)h(and)0 2482 y(the)13 b(fact)f(that)h(an)o(y)f(p)q(oin)o(ter)g(ma)o(y)f(b)q(e)i(tra)o(v)o(ersed)h(b)o(y)e(the)h(col-)02532 y(lector)h(b)q(efore)h(it's)e(brok)o(en)i(b)o(y)e(the)i(m)o(utator.)422594 y(When)22 b(allo)q(cating)f(white,)k(therefore,)h(the)d(w)o(orst-case)1011 55 y(safe)d(tra)o(v)o(ersal)f(rate)h(do)q(es)h(not)e(approac)o(h)g(zero)i(as)f(mem-)1011 105 y(ory)15 b(b)q(ecomes)g(v)o(ery)h(large|it)e(approac)o(hes)i(the)g(allo)q(cation)1011 155 y(rate;)j(the)f(tra)o(v)o(ersal)g(m)o(ust)e(k)o(eep)j(up)e(with)g(the)i(allo)q(cation)1011 205 y(rate,)e(and)f(go)g(at)h(least)g(a)f(little)g(faster,)h(to)g(ensure)h(that)e(it)1011255 y(ev)o(en)o(tually)h(catc)o(hes)h(up.)29 b(If)17 b(w)o(e)g(increase)i(the)f(amoun)o(t)e(of)1011 304 y(memory)11 b(relativ)o(e)j(to)g(the)h(amoun)o(t)d(of)h(liv)o(e)h(data,)f(w)o(e)h(reac)o(h)1011 354 y(a)f(p)q(oin)o(t)g(of)g(diminishing)d(returns|w)o(e)15 b(m)o(ust)e(alw)o(a)o(ys)f(trace)1011404 y(at)h(least)i(as)f(fast)f(as)h(w)o(e)g(allo)q(cate.)1052455 y(The)d(ab)q(o)o(v)o(e)f(analysis)f(applies)h(to)g(non-cop)o(ying)f(collectors)1011 505 y(for)14 b(uniform-sized)e(ob)r(jects.)20b(In)14 b(cop)o(ying)g(collectors,)g(more)1011 555 y(memory)8b(is)j(required)g(to)g(hold)f(the)h(new)g(v)o(ersions)h(of)e(ob)r(jects)1011605 y(b)q(eing)k(copied;)g(there)i(m)o(ust)d(b)q(e)i(another)gFl(L)f Fn(units)h(of)f(mem-)1011 655 y(ory)g(a)o(v)n(ailable)e(in)h(the)i(w)o(orst)f(case)h(to)f(ensure)i(that)e(tospace)1011 705 y(is)h(not)g(exhausted)i(b)q(efore)f(fromspace)e(is)i(reclaimed.)21 b(This)1011 754y(a)f(ma)r(jor)e(space)k(cost)f(if)e Fl(L)i Fn(is)f(large)g(relativ)o(e)g(to)g(the)h(ac-)1011 804 y(tual)h(amoun)o(t)e(of)i(memory)e(a)o(v)n(ailable.)41b(In)22 b(non-cop)o(ying)1011 854 y(collectors)12 b(for)g(non)o(uniform-sized)e(ob)r(jects,)j(fragmen)o(tation)1011 904 y(m)o(ust)j(b)q(e)j(tak)o(en)f(in)o(to)f(accoun)o(t.)29 b(F)m(ragmen)o(tation)16b(reduces)1011 954 y(the)h(e\013ectiv)o(e)h(memory)d(a)o(v)n(ailable,)g(requiring)h(faster)i(trac-)1011 1003 y(ing)13 b(to)g(complete)h(collection)f(in)g(b)q(ounded)i(memory)m(.)g(Com-)1011 1053 y(putations)c(of)g(w)o(orst-case)h(fragmen)o(tation)e(are)h(in)o(trinsically)10111103 y(program-sp)q(eci\014c)i([WJ93)o(];)g(due)h(to)f(space)i(limitati)o(ons,)c(w)o(e)1011 1153 y(will)h(not)i(discuss)h(them)e(here.)10111270 y Fm(3.8.3)48 b(T)l(rading)14 b(w)o(orst-case)h(p)q(erformance)g(for)g(ex-)1157 1319 y(p)q(ected)f(p)q(erformance)1011 1399 y Fn(When)22b(a)g(collection)g(phase)h(is)f(complete,)i(the)f(collector)10111449 y(can)13 b(often)h(determine)f(a)g(less)h(conserv)n(ativ)o(e)g(tra)o(v)o(ersal)f(rate,)1011 1499 y(slo)o(wing)d(do)o(wn)i(the)g(collection)g(pro)q(cess)i(and)d(yielding)g(more)1011 1549 y(CPU)16 b(cycles)g(to)f(the)i(m)o(utator.)k(This)15 b(is)h(p)q(ossible)f(b)q(ecause)1011 1599y(at)i(the)h(end)g(of)f(the)h(collection,)g(the)g(collector)g(can)g(deter-)1011 1648 y(mine)9 b(ho)o(w)h(m)o(uc)o(h)g(liv)o(e)f(data)i(w)o(as)f(in)g(fact)h(traced,)h(and)e(revise)1011 1698 y(do)o(wn)o(w)o(ard)f(its)h(w)o(orst-case)h(estimate)e(of)g(what)h(could)f(b)q(e)i(liv)o(e)10111748 y(at)g(the)i(next)f(collection.)17 b(This)11 b(ma)o(y)f(impro)o(v)o(e)g(p)q(erformance)1011 1798 y(somewhat,)i(but)i(usually)f(not)h(dramatically)m(.)1052 1849 y(Alternativ)o(ely)m(,)c(when)g(the)g(collector)g(can)g(determine)g(that)1011 1899 y(it)k(has)g(less)h(than)f(the)h(w)o(orst-case)g(amoun)o(t)d(of)i(w)o(ork)g(to)g(do,)1011 1949 y(it)19 b(ma)o(y)e(a)o(v)o(oid)i(GC)g(activit)o(y)f(en)o(tirely)i(for)f(a)g(while,)h(then)10111999 y(re-activ)n(ate)15 b(the)g(collector)g(in)g(time)e(to)i(ensure)h(that)f(it)f(will)1011 2049 y(meet)h(its)h(deadline.)24 b(This)16b(is)f(an)h(attractiv)o(e)g(option)f(if)g(the)1011 2098 y(read)e(or)f(write)h(barrier)g(can)f(b)q(e)i(e\016cien)o(tly)e(disabled)g(on)g(the)10112148 y(\015y)m(.)1011 2265 y Fm(3.8.4)48 b(Discussion)10112345 y Fn(The)15 b(foregoing)f(analysis)g(assumes)h(a)g(fairly)e(simple)g(mo)q(del)1011 2395 y(of)j(real-time)g(p)q(erformance,)h(with)g(a)f(single)h(timescale)f(for)1011 2444 y(hard)g(real-time)e(deadlines.)25b(More)16 b(complex)f(sc)o(hemes)i(are)1011 2494 y(certainly)9b(p)q(ossible,)h(in)f(systems)h(with)f(mixed)f(hard)i(and)f(soft)10112544 y(deadlines,)16 b(or)g(systems)g(whic)o(h)g(ha)o(v)o(e)g(m)o(ultiple)d(timescales)1011 2594 y(for)21 b(di\013eren)o(t)i(kinds)e(of)g(goals.)41b(F)m(or)21 b(example,)h(the)g(col-)969 2718 y(31)p eop%%Page: 32 32bop 0 55 a Fn(lector's)14 b(infrequen)o(t)f(but)g(relativ)o(ely)g(exp)q(ensiv)o(e)h(op)q(erations)0 105 y(\(lik)o(e)d(ro)q(ot-set)h(scanning\))f(migh)o(t)e(b)q(e)j(sc)o(heduled)g(along)f(with)0 155 y(the)h(application's)e(o)o(wn)h(longer-term)f(deadlines,)i(in)f(a)g(com-)0 205 y(plemen)o(tary)g(pattern.)18 b(This)12 b(could)g(ac)o(hiev)o(e)g(higher)g(p)q(erfor-)0255 y(mance)h(o)o(v)o(erall)g(while)g(pro)o(viding)g(tigh)o(t)g(real-time)g(guaran-)0 304 y(tees)i(where)g(necessary)m(.)380 289 y Fj(26)42356 y Fn(W)m(e)23 b(ha)o(v)o(e)h(also)g(assumed)f(a)h(fairly)f(simple)f(mo)q(del)h(of)0 406 y(garbage)d(collection,)g(in)g(that)g(there)h(is)f(a)g(single)f(p)q(o)q(ol)h(of)0 456 y(memory)13 b(a)o(v)n(ailable)g(for)h(all)g(memory)f(requests.)24 b(In)15 b(a)g(non-)0 506 y(cop)o(ying)g(system)g(with)g(ob)r(jects)h(of)f(widely)f(di\013ering)i(sizes,)0 555 y(this)d(will)e(not)h(b)q(e)i(the)f(case,)g(b)q(ecause)i(freeing)d(sev)o(eral)h(small)0605 y(ob)r(jects)21 b(do)q(es)g(not)f(necessarily)h(mak)o(e)e(it)h(p)q(ossible)g(to)g(al-)0 655 y(lo)q(cate)f(a)g(larger)g(one.)33b(On)20 b(the)f(other)h(hand,)g(it)e(app)q(ears)0 705 y(that)f(man)o(y)e(applications')g(memory)f(usage)j(is)g(dominated)0 755 y(b)o(y)g(a)g(v)o(ery)g(few)g(sizes)h(of)f(ob)r(jects;)i(reasoning)e(ab)q(out)g(real-)0805 y(time)f(collection)i(ma)o(y)e(not)h(b)q(e)i(as)f(hard)f(as)h(it)g(app)q(ears)g(at)0 854 y(\014rst)24 b(glance,)i(for)d(the)h(ma)r(jorit)o(y)e(of)h(programs)f([WJ93)o(].)0 904 y(Still,)13 b(suc)o(h)i(reasoning)f(m)o(ust)f(b)q(e)i(done)g(on)f(application-b)o(y-)0 954 y(application)j(basis.)31b(F)m(or)18 b(some)g(programs,)f(guaran)o(teeing)0 1004 y(real-time)k(p)q(erformance)i(ma)o(y)d(cost)j(considerable)h(mem-)0 1054 y(ory)13b(due)g(to)g(p)q(ossible)h(fragmen)o(tation,)c(unless)k(application-)01103 y(lev)o(el)j(ob)r(jects)i(can)e(b)q(e)h(split)g(in)o(to)e(more)h(uniform)e(c)o(h)o(unks.)0 1153 y(Another)k(p)q(ossibilit)o(y)e(is)g(to)h(statically-allo)q(cate)f(the)h(most)0 1203 y(troublesome)12b(datat)o(yp)q(es,)h(as)f(is)g(usually)g(done)h(in)f(real-time)01253 y(systems)k(an)o(yw)o(a)o(y)m(,)e(but)h(rely)h(on)f(the)h(garbage)g(collector)f(to)0 1303 y(manage)d(most)h(of)g(the)i(ob)r(jects)g(automatically)l(.)42 1354 y(F)m(or)f(fully)g(general)i(real-time)e(garbage)h(collection,)g(with)0 1404 y(reasonable)h(w)o(orst-case)g(memory)d(usage,)j(it)f(app)q(ears)h(that)0 1454 y(\014ne-grained)f(cop)o(ying)f(collection)g(is)g(required)i([Nil88)n(].)k(As)0 1504 y(men)o(tioned)14b(ab)q(o)o(v)o(e,)h(cop)o(ying)g(collection)f(can)i(b)q(e)g(quite)f(ex-)01554 y(p)q(ensiv)o(e)i(in)f(the)i(w)o(orst)e(case,)i(ev)o(en)f(if)f(Lisp-mac)o(hine)f(st)o(yle)0 1604 y(hardw)o(are)10 b(supp)q(ort)g(is)f(a)o(v)n(ailable)e(to)i(sp)q(eed)i(up)f(the)g(read)f(bar-)0 1653 y(rier)j([EV91)o(,)e(Wit91)o(].)17 b(Nilsen)11 b(and)g(Sc)o(hmidt)f(ha)o(v)o(e)h(designed)01703 y(and)h(sim)o(ulated)f(hardw)o(are)i(supp)q(ort)h(whic)o(h)eFk(wil)r(l)g Fn(guaran)o(tee)0 1753 y(usefully)g(real-time)f(p)q(erformance)h([NS92],)f(but)i(it)f(is)g(signif-)0 1803 y(ican)o(tly)h(more)g(complex.)4021788 y Fj(27)0 1930 y Fi(3.9)56 b(Cho)r(osing)44 b(an)h(Incremen)n(tal)d(Algo-)128 1988 y(rithm)0 2068 y Fn(In)11 b(c)o(ho)q(osing)h(an)f(incremen)o(tal)f(strategy)m(,)i(it)f(is)h(imp)q(ortan)o(t)d(to)0 2118y(prioritize)15 b(o)o(v)o(erall)f(a)o(v)o(erage)g(p)q(erformance)h(and)g(w)o(orst-case)p 0 2161 388 2 v 31 2188 a Fh(26)64 2199 y Fg(Consider)9b(an)h(autonomou)o(s)e(rob)q(ot,)h(whic)o(h)h(migh)o(t)e(need)i(to)g(revise)02239 y(its)e(o)o(v)o(erall)f(high-lev)o(el)e(planning)h(only)h(ev)o(ery)g(second)g(or)h(so,)h(but)e(migh)o(t)0 2278 y(also)i(need)f(to)i(resp)q(ond)d(\\re\015exiv)o(ely")f(to)k(c)o(hanges)d(in)j(its)f(en)o(vironmen)o(t)02318 y(within)16 b(a)g(few)h(milliseconds.)27 b(The)17 b(lo)o(w-lev)o(el)e(vision)g(and)h(reactiv)o(e)0 2357 y(adjustmen)o(ts)7 b(migh)o(t)i(consume)f(a)j(\014xed)e(p)q(ercen)o(tage)e(of)j(CPU)i(time)d(on)0 2396y(the)15 b(scale)h(of)g(a)g(few)g(milliseconds,)e(with)i(the)g(remainder)d(a)o(v)n(ailable)0 2436 y(alternately)8 b(to)j(the)f(high-lev)o(el)f(planning)f(functions)h(and)h(to)h(the)f(GC,)0 2475 y(alternating)e(ev)o(ery)j(half-second)o(.)31 2503 y Fh(27)64 2515 y Fg(Nilsen's)e(approac)o(h)e(is)j(in)o(teresting)c(in)k(that)f(it)g(requires)f(relativ)o(ely)02554 y(complex)i(memory)g(con)o(trollers,)g(but)h(it)h(is)g(compatible)d(with)j(o\013-the-)0 2594 y(shelf)f(high-p)q(erfo)o(rma)o(nc)o(e)e(micropro)q(ces)o(sors.)1011 55 y Fn(p)q(erformance.)18 b(Algorithms)12b(that)j(are)f(\\less)h(conserv)n(ativ)o(e")1011 105 y(ma)o(y)e(not)i(b)q(e)h(more)e(attractiv)o(e)i(than)f(others,)h(b)q(ecause)h(the)1011155 y(\\less)12 b(conserv)n(ativ)o(e")g(algorithms)e(are)i(just)g(as)g(conserv)n(ativ)o(e)1011 205 y(in)h(the)i(w)o(orst)f(case.)1052257 y(Ev)o(en)k(in)e(the)i(usual)e(case,)j(the)e(less)h(conserv)n(ativ)o(e)f(algo-)1011 307 y(rithms)e(ma)o(y)f(not)i(b)q(e)h(desirable,)g(b)q(ecause)h(they)e(ma)o(y)f(sim-)1011 356 y(ply)20 b(b)q(e)h(slo)o(w)o(er)f(\(e.g.,)h(b)q(ecause)h(their)f(write)f(barriers)h(re-)1011 406 y(quire)10b(more)g(instructions.\))18 b(P)o(arado)o(xically)m(,)8 b(this)j(can)f(mak)o(e)1011 456 y(a)17 b(\\less)g(conserv)n(ativ)o(e")h(algorithm)dFk(mor)n(e)i(c)n(onservative)g Fn(in)1011 506 y(practice,)e(b)q(ecause)h(its)f(cost)g(ma)o(y)d(k)o(eep)j(it)f(from)f(b)q(eing)i(run)1011556 y(as)e(often.)18 b(Because)d(of)d(the)i(higher)f(o)o(v)o(erhead,)g(the)h(reduced)1011 605 y(conserv)n(atism)j(in)h(terms)g(of)f(incremen)o(tal)h(strategies)h(ma)o(y)1011 655 y(in)o(tro)q(duce)f(greater)g(conserv)n(ativ)o(eness)i(in)d(ho)o(w)g(frequen)o(tly)1011 705 y(garbage)c(is)h(collected)h(at)f(all.)1052 757 y(Ov)o(erall)e(system)f(design)h(goals)f(are)h(therefore)i(imp)q(ortan)o(t)1011 807 y(to)g(the)h(c)o(hoice)g(of)f(an)o(y)g(garbage)g(collection)g(algorithm.)j(As)1011 857 y(w)o(e)d(will)e(explain)h(in)g(the)h(next)g(section,)g(generational)f(tec)o(h-)1011 906 y(niques)19b(mak)o(e)e(the)i(o)o(v)o(erheads)g(of)f(incremen)o(tal)f(collection)1011956 y(unnecessary)i(for)d(man)o(y)f(systems,)j(where)g(hard)e(real-time)10111006 y(resp)q(onse)j(is)f(not)f(necessary)m(,)j(and)d(it)h(is)f(su\016cien)o(t)h(for)f(the)1011 1056 y(collector)h(to)g(b)q(e)h(\\nondisruptiv)o(e")f(in)f(t)o(ypical)h(op)q(eration.)1011 1106 y(F)m(or)13 b(other)h(systems,)g(it)f(ma)o(y)f(b)q(e)i(desirable)g(to)f(com)o(bine)g(in-)1011 1156y(cremen)o(tal)d(and)h(generational)f(tec)o(hniques,)i(and)e(careful)h(at-)1011 1205 y(ten)o(tion)j(should)f(b)q(e)i(paid)e(to)h(ho)o(w)f(they)i(are)f(com)o(bined.)1011 1354 y Fo(4)69 b(Generational)48 b(Garbage)j(Col-)11141429 y(lection)1011 1524 y Fn(Giv)o(en)12 b(a)g(realistic)h(amoun)o(t)e(of)h(memory)m(,)d(e\016ciency)14 b(of)e(sim-)1011 1574 y(ple)18b(cop)o(ying)f(garbage)g(collection)h(is)f(limited)f(b)o(y)i(the)g(fact)10111623 y(that)11 b(the)h(system)f(m)o(ust)g(cop)o(y)g(all)f(liv)o(e)h(data)g(at)g(a)g(collection.)1011 1673 y(In)k(most)e(programs)h(in)g(a)h(v)n(ariet)o(y)f(of)g(languages,)g Fk(most)i(ob-)1011 1723 y(je)n(cts)g(live)h(a)g(very)g(short)g(time,)g(while)f(a)h(smal)r(l)g(p)n(er)n(c)n(entage)10111773 y(of)12 b(them)g(live)g(much)h(longer)e Fn([LH83)o(,)g(Ung84)o(,)g(Sha88)o(,)g(Zor90)o(,)1011 1823 y(DeT90)o(,)k(Ha)o(y91)o(].)22b(While)15 b(\014gures)h(v)n(ary)f(from)f(language)g(to)10111873 y(language)i(and)h(from)f(program)f(to)i(program,)f(usually)h(b)q(e-)1011 1922 y(t)o(w)o(een)h(80)e(and)i(98)e(p)q(ercen)o(t)j(of)e(all)f(newly-allo)q(cated)h(heap)1011 1972 y(ob)r(jects)c(die)e(within)g(a)h(few)g(millio)o(n)d(instructions,)j(or)g(b)q(efore)1011 2022 y(another)h(megab)o(yte)g(has)g(b)q(een)h(allo)q(cated;)f(the)h(ma)r(jorit)o(y)d(of)10112072 y(ob)r(jects)i(die)f(ev)o(en)h(more)e(quic)o(kly)m(,)g(within)g(tens)i(of)e(kilob)o(ytes)1011 2122 y(of)i(allo)q(cation.)1052 2174y(\(Heap)i(allo)q(cation)e(is)h(often)g(used)i(as)e(a)g(measure)g(of)g(pro-)1011 2223 y(gram)g(execution,)j(rather)g(than)f(w)o(all)f(clo)q(c)o(k)h(time,)f(for)g(t)o(w)o(o)1011 2273 y(reasons.)21 b(One)15 b(is)f(that)h(it's)f(indep)q(enden)o(t)i(of)e(mac)o(hine)f(and)1011 2323 y(implemen)o(tati)o(on)20 b(sp)q(eed|it)j(v)n(aries)f(appropriately)g(with)1011 2373y(the)15 b(sp)q(eed)i(at)d(whic)o(h)h(the)g(program)f(executes,)j(whic)o(h)d(w)o(all)1011 2423 y(clo)q(c)o(k)c(time)e(do)q(es)j(not;)g(this)e(a)o(v)o(oids)g(the)i(need)g(to)f(con)o(tin)o(ually)1011 2472 y(cite)i(hardw)o(are)f(sp)q(eeds.)1392 2457 y Fj(28)1447 2472 y Fn(It)g(is)g(also)g(appropriate)g(to)g(sp)q(eak)p 1011 2516 V 1042 2543 a Fh(28)1074 2554 yFg(One)16 b(m)o(ust)f(b)q(e)h(careful,)f(ho)o(w)o(ev)o(er,)g(not)g(to)h(in)o(terpret)e(it)h(as)h(the)1011 2594 y(ideal)c(abstract)g(measure.)20b(F)m(or)14 b(example,)e(rates)h(of)g(heap)g(allo)q(cation)9692718 y Fn(32)p eop%%Page: 33 33bop 0 55 a Fn(in)18 b(terms)h(of)f(amoun)o(ts)f(allo)q(cated)h(b)q(ecause)i(the)f(time)f(b)q(e-)0 105 y(t)o(w)o(een)13 b(garbage)f(collections)g(is)g(largely)f(determined)h(b)o(y)g(the)0 155 y(amoun)o(t)g(of)i(memory)e(a)o(v)n(ailable.)531 140 y Fj(29)583 155 y Fn(F)m(uture)j(impro)o(v)o(em)o(en)o(ts)0205 y(in)e(compiler)f(tec)o(hnology)h(ma)o(y)f(reduce)j(rates)f(of)f(heap)h(allo-)0 255 y(cation)i(b)o(y)g(putting)g(more)g(\\heap")g(ob)r(jects)h(on)f(the)h(stac)o(k;)0 304 y(this)j(is)f(not)h(y)o(et)g(m)o(uc)o(h)e(of)h(a)g(problem)g(for)g(exp)q(erimen)o(tal)0 354 y(studies,)14 b(b)q(ecause)h(most)d(curren)o(t)j(state-of-the-art)f(compil-)0 404 y(ers)h(don't)e(do)h(m)o(uc)o(h)f(of)g(this)h(kind)f(of)h(lifetime)d(analysis.\))42 456y(Ev)o(en)i(if)e(garbage)i(collections)f(are)h(fairly)f(close)h(together,)0506 y(separated)k(b)o(y)e(only)f(a)i(few)f(kilob)o(ytes)g(of)g(allo)q(cation,)e(most)0 556 y(ob)r(jects)19 b(die)f(b)q(efore)g(a)g(collection)f(and)h(nev)o(er)g(need)h(to)f(b)q(e)0 606 y(copied.)g(Of)12b(the)g(ones)h(that)f(do)g(surviv)o(e)g(to)g(b)q(e)h(copied)f(once,)0655 y(ho)o(w)o(ev)o(er,)h Fk(a)g(lar)n(ge)g(fr)n(action)g(survive)h(thr)n(ough)g(many)g(c)n(ol)r(le)n(c-)0 705 y(tions)p Fn(.)34 b(These)21b(ob)r(jects)f(are)g(copied)f(at)g(ev)o(ery)h(collection,)0755 y(o)o(v)o(er)14 b(and)g(o)o(v)o(er,)g(and)g(the)h(garbage)f(collector)h(sp)q(ends)g(most)0 805 y(of)i(its)h(time)f(cop)o(ying)h(the)g(same)f(old)h(ob)r(jects)h(rep)q(eatedly)m(.)0 855 y(This)14 b(is)g(the)h(ma)r(jor)d(source)k(of)e(ine\016ciency)g(in)g(simple)f(gar-)0 904 y(bage)h(collectors.)42 956 y Fk(Gener)n(ational)i(c)n(ol)r(le)n(ction)f Fn([LH83])g(a)o(v)o(oids)g(m)o(uc)o(h)f(of)h(this)0 1006 y(rep)q(eated)g(cop)o(ying)e(b)o(y)g(segregating)h(ob)r(jects)h(in)o(to)d(m)o(ultiple)0 1056 y(areas)g(b)o(y)g(age,)g(and)g(collecting)f(areas)i(con)o(taining)e(older)h(ob-)01106 y(jects)17 b(less)g(often)g(than)f(the)h(y)o(ounger)f(ones.)26b(Once)17 b(ob)r(jects)0 1156 y(ha)o(v)o(e)d(surviv)o(ed)h(a)f(small)f(n)o(um)o(b)q(er)h(of)g(collections,)g(they)h(are)0 1206 y(mo)o(v)o(ed)e(to)i(a)g(less)h(frequen)o(tly)f(collected)h(area.)21 b(Areas)16 b(con-)01255 y(taining)c(y)o(ounger)h(ob)r(jects)h(are)f(collected)h(quite)f(frequen)o(tly)m(,)0 1305 y(b)q(ecause)k(most)c(ob)r(jects)j(there)g(will)e(generally)g(die)h(quic)o(kly)m(,)0 1355 y(freeing)e(up)g(space;)g(cop)o(ying)f(the)h(few)g(that)g(surviv)o(e)g(do)q(esn't)0 1405 y(cost)h(m)o(uc)o(h.)i(These)e(surviv)o(ors)g(are)f Fk(advanc)n(e)n(d)h Fn(to)f(older)g(sta-)01455 y(tus)e(after)g(a)g(few)g(collections,)g(to)f(k)o(eep)i(cop)o(ying)e(costs)i(do)o(wn.)42 1507 y(F)m(or)g(stop-and-collect)h(\(non-incremen)o(tal\))f(garbage)h(col-)0 1557 y(lection,)18 b(generational)g(garbage)g(collection)f(has)h(an)g(addi-)0 1606 y(tional)9 b(b)q(ene\014t)i(in)f(that)g(most)f(collections)h(tak)o(e)g(only)f(a)h(short)0 1656 y(time|collecting)h(just)i(the)g(y)o(oungest)h(generation)f(is)f(m)o(uc)o(h)01706 y(faster)i(than)f(a)g(full)f(garbage)h(collection.)k(This)c(reduces)j(the)0 1756 y(frequency)11 b(of)e(disruptiv)o(e)g(pauses,)i(and)f(for)f(man)o(y)e(programs)0 1806 y(without)18 b(real-time)f(deadlines,)j(this)e(is)h(su\016cien)o(t)g(for)f(ac-)0 1855 y(ceptable)f(in)o(teractiv)o(e)g(use.)27b(The)17 b(ma)r(jorit)o(y)d(of)i(pauses)i(are)0 1905 y(so)13b(brief)g(\(a)g(fraction)g(of)f(a)h(second\))h(that)f(they)h(are)f(unlik)o(ely)0 1955 y(to)i(b)q(e)h(noticed)f(b)o(y)g(users)i([Ung84)o(];)e(the)g(longer)g(pauses)i(for)0 2005 y(m)o(ulti-generation)h(collections)i(can)g(often)g(b)q(e)h(p)q(ostp)q(oned)0 2055 y(un)o(til)11 b(the)i(system)f(is)g(not)g(in)g(use,)h(or)f(hidden)g(within)g(nonin-)0 2104 y(teractiv)o(e)g(compute-b)q(ound)e(phases)i(of)e(program)f(op)q(eration)02154 y([WM89)o(].)16 b(Generational)10 b(tec)o(hniques)i(are)f(often)g(used)h(as)e(an)p 0 2200 388 2 v 0 2239 a Fg(are)e(t)o(ypically)f(higher)g(in)i(Lisp)g(and)f(Smalltalk,)f(b)q(ecause)g(more)g(con)o(trol)02278 y(information)i(and/or)h(in)o(termedia)o(te)f(data)i(of)g(computation)o(s)e(ma)o(y)i(b)q(e)0 2318 y(passed)e(as)h(p)q(oin)o(ters)e(to)i(heap)e(ob)r(jects,)h(rather)f(than)h(as)h(structures)e(on)0 2357 y(the)j(stac)o(k.)312385 y Fh(29)64 2397 y Fg(Allo)q(cation-re)o(lati)o(v)o(e)22b(measures)g(are)j(still)f(not)g(the)g(absolute)0 2436 y(b)q(ottom-line)7b(measure)h(of)i(garbage)e(collector)g(e\016ciency)m(,)h(though,)f(b)q(e-)02475 y(cause)15 b(decreasing)e(w)o(ork)i(p)q(er)g(unit)g(of)h(allo)q(cation)d(is)i(not)h(nearly)e(as)0 2515 y(imp)q(ortan)o(t)9 b(if)j(programs)d(don't)i(allo)q(cate)f(m)o(uc)o(h;)g(con)o(v)o(ersely)m(,)f(smaller)02554 y(p)q(ercen)o(tage)i(c)o(hanges)i(in)g(garbage)g(collection)e(w)o(ork)j(mean)f(more)g(for)0 2594 y(programs)c(whose)i(memory)e(demands)h(are)h(higher.)1011 -83 y 15302080 20198744 920944 592035 39271710 51572899 startTexFig1011 -83 a%%BeginDocument: gengcbef.ps/Win33Dict 290 dict def Win33Dict begin/bd{bind def}bind def/in{72mul}bd/ed{exch def}bd/ld{load def}bd/tr/translate ld/gs/gsave ld/gr/grestoreld/M/moveto ld/L/lineto ld/rmt/rmoveto ld/rlt/rlineto ld/rct/rcurvetold/st/stroke ld/n/newpath ld/sm/setmatrix ld/cm/currentmatrix ld/cp/closepathld/ARC/arcn ld/TR{65536 div}bd/lj/setlinejoin ld/lc/setlinecap ld/ml/setmiterlimitld/sl/setlinewidth ld/scignore false def/sc{scignore{pop pop pop}{0index 2 index eq 2 index 4 index eq and{pop pop 255 div setgray}{3{255div 3 1 roll}repeat setrgbcolor}ifelse}ifelse}bd/FC{bR bG bB sc}bd/fC{/bBed/bG ed/bR ed}bd/HC{hR hG hB sc}bd/hC{/hB ed/hG ed/hR ed}bd/PC{pRpG pB sc}bd/pC{/pB ed/pG ed/pR ed}bd/sM matrix def/PenW 1 def/iPen5 def/mxF matrix def/mxE matrix def/fBE false def/iDevRes 72 0 matrixdefaultmatrix dtransform dup mul exch dup mul add sqrt def/SS{/SV savedef}bd/RS{SV restore}bd/EJ{gsave showpage grestore}bd/#C{userdict begin/#copiesed end}bd/SM{/iRes ed/cyP exch def/cxP exch def/cyM exch def/cxM exchdef 72 iRes div dup neg scale 0 ne{cyP cxP neg tr 90 rotate cxM cyM}{cxMcyM cyP sub}ifelse tr 0 0 transform .25 add round .25 sub exch .25add round .25 sub exch itransform translate}bd/SJ{1 index 0 eq{poppop/fBE false def}{1 index/Break ed div/dxBreak ed/fBE true def}ifelse}bd/ANSIVec[16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde 16#4/macron 16#5/breve16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A/hungarumlaut16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60/grave16#7C/bar 16#91/quoteleft 16#92/quoteright 16#93/quotedblleft 16#94/quotedblright16#95/bullet 16#96/endash 16#97/emdash 16#A0/space 16#A4/currency 16#A6/brokenbar16#A7/section 16#A8/dieresis 16#A9/copyright 16#AA/ordfeminine 16#AB/guillemotleft16#AC/logicalnot 16#AD/hyphen 16#AE/registered 16#AF/macron 16#B0/degree16#B1/plusminus 16#B2/twosuperior 16#B3/threesuperior 16#B4/acute 16#B5/mu16#B6/paragraph 16#B7/periodcentered 16#B8/cedilla 16#B9/onesuperior16#BA/ordmasculine 16#BB/guillemotright 16#BC/onequarter 16#BD/onehalf16#BE/threequarters 16#BF/questiondown 16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex16#C3/Atilde 16#C4/Adieresis 16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave16#C9/Eacute 16#CA/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute16#CE/Icircumflex 16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve16#D3/Oacute 16#D4/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply16#D8/Oslash 16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis16#DD/Yacute 16#DE/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute16#E2/acircumflex 16#E3/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae16#E7/ccedilla 16#E8/egrave 16#E9/eacute 16#EA/ecircumflex 16#EB/edieresis16#EC/igrave 16#ED/iacute 16#EE/icircumflex 16#EF/idieresis 16#F0/eth16#F1/ntilde 16#F2/ograve 16#F3/oacute 16#F4/ocircumflex 16#F5/otilde16#F6/odieresis 16#F7/divide 16#F8/oslash 16#F9/ugrave 16#FA/uacute16#FB/ucircumflex 16#FC/udieresis 16#FD/yacute 16#FE/thorn 16#FF/ydieresis] def/reencdict 12 dict def/IsChar{basefontdict/CharStrings get exchknown}bd/MapCh{dup IsChar not{pop/bullet}if newfont/Encoding get 31 roll put}bd/MapDegree{16#b0/degree IsChar{/degree}{/ring}ifelse MapCh}bd/MapBB{16#a6/brokenbarIsChar{/brokenbar}{/bar}ifelse MapCh}bd/ANSIFont{reencdict begin/newfontnameed/basefontname ed FontDirectory newfontname known not{/basefontdictbasefontname findfont def/newfont basefontdict maxlength dict def basefontdict{exchdup/FID ne{dup/Encoding eq{exch dup length array copy newfont 3 1 rollput}{exch newfont 3 1 roll put}ifelse}{pop pop}ifelse}forall newfont/FontNamenewfontname put 127 1 159{newfont/Encoding get exch/bullet put}forANSIVec aload pop ANSIVec length 2 idiv{MapCh}repeat MapDegree MapBBnewfontname newfont definefont pop}if newfontname end}bd/SB{FC/stred str length fBE not{dup 1 gt{1 sub}if}if/cbStr ed/dxGdi ed/y0 ed/x0ed str stringwidth esc 0 ne{mxE itransform exch neg dxGdi add cbStrdiv exch mxE transform}{exch neg dxGdi add cbStr div exch}ifelse/dyExtraed/dxExtra ed x0 y0 M fBE{dxBreak 0 BCh dxExtra dyExtra str awidthshow}{dxExtradyExtra str ashow}ifelse fUL{x0 y0 M dxUL dyUL rmt dxGdi fBE{Breakadd}if 0 mxE transform rlt cyUL sl st}if fSO{x0 y0 M dxSO dySO rmtdxGdi fBE{Break add}if 0 mxE transform rlt cyUL sl st}if n/fBE falsedef}bd/font{/name ed/Ascent ed 0 ne/fSO ed 0 ne/fUL ed/Sy ed/Sx ed10.0 div/ori ed -10.0 div/esc ed/BCh ed name findfont [Sx 0 0 Sy neg0 Ascent] esc mxE rotate mxF concatmatrix makefont setfont fUL{currentfontdup/FontInfo get/UnderlinePosition known not{pop/Courier findfont}if/FontInfoget/UnderlinePosition get 1000 div 0 exch mxF transform/dyUL ed/dxULed}if fSO{0 .3 mxF transform/dySO ed/dxSO ed}if fUL fSO or{currentfontdup/FontInfo get/UnderlineThickness known not{pop/Courier findfont}if/FontInfoget/UnderlineThickness get 1000 div Sy mul/cyUL ed}if}bd/min{2 copygt{exch}if pop}bd/max{2 copy lt{exch}if pop}bd/CP{/ft ed{{ft 0 eq{clip}{eoclip}ifelse}stopped{currentflat1 add setflat}{exit}ifelse}loop}bd/patfont 10 dict def patfont begin/FontType3 def/FontMatrix [1 0 0 1 0 0] def/FontBBox [0 0 32 32] def/EncodingStandardEncoding def/BuildChar{pop pop 32 0 0 0 32 32 setcachedevice2 2 scale 16 16 false [1 0 0 1 .25 .25]{pat}imagemask}bd end/p{/pat32 string def{}forall 0 1 7{dup 2 mul pat exch 3 index put dup 2 mul1 add pat exch 3 index put dup 2 mul 16 add pat exch 3 index put 2mul 17 add pat exch 2 index put pop}for}bd/pfill{/PatFont patfont definefontsetfont/ch(AAAA)def X0 128 X1{Y0 32 Y1{1 index exch M ch show}for pop}for}bd/vert{X0w X1{dup Y0 M Y1 L st}for}bd/horz{Y0 w Y1{dup X0 exch M X1 exch L st}for}bd/fdiag{X0w X1{Y0 M X1 X0 sub dup rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub duprlt st}for}bd/bdiag{X0 w X1{Y1 M X1 X0 sub dup neg rlt st}for Y0 wY1{X0 exch M Y1 Y0 sub dup neg rlt st}for}bd/AU{1 add cvi 15 or}bd/AD{1sub cvi -16 and}bd/SHR{pathbbox AU/Y1 ed AU/X1 ed AD/Y0 ed AD/X0 ed}bd/hfill{2sl [] 0 setdash n/w iRes 20 div 8 div round 8 mul def dup 0 eq{horz}ifdup 1 eq{vert}if dup 2 eq{fdiag}if dup 3 eq{bdiag}if dup 4 eq{horzvert}if 5 eq{fdiag bdiag}if}bd/F{/ft ed fm 256 and 0 ne{gs FC ft 0eq{fill}{eofill}ifelse gr}if fm 1536 and 0 ne{SHR gs HC ft CP fm 1024and 0 ne{/Tmp save def pfill Tmp restore}{fm 15 and hfill}ifelse gr}if}bd/S{PenWsl PC st}bd/m matrix def/GW{iRes 12 div PenW add cvi}bd/DoW{iRes 50div PenW add cvi}bd/DW{iRes 8 div PenW add cvi}bd/SP{/PenW ed/iPened iPen 0 eq{[] 0 setdash}if iPen 1 eq{[DW GW] 0 setdash}if iPen 2eq{[DoW GW] 0 setdash}if iPen 3 eq{[DW GW DoW GW] 0 setdash}if iPen4 eq{[DW GW DoW GW DoW GW] 0 setdash}if}bd/E{m cm pop tr scale 0 01 0 360 arc cp m sm}bd/AG{/sy ed/sx ed sx div 4 1 roll sy div 4 1 rollsx div 4 1 roll sy div 4 1 roll atan/a2 ed atan/a1 ed sx sy scale a1a2 ARC}def/A{m cm pop tr AG m sm}def/P{m cm pop tr 0 0 M AG cp m sm}def/RRect{n4 copy M 3 1 roll exch L 4 2 roll L L cp}bd/RRCC{/r ed/y1 ed/x1 ed/y0ed/x0 ed x0 r add y0 M x1 y0 x1 y1 r arcto 4{pop}repeat x1 y1 x0 y1r arcto 4{pop}repeat x0 y1 x0 y0 r arcto 4{pop}repeat x0 y0 x1 y0 rarcto 4{pop}repeat cp}bd/RR{2 copy 0 eq exch 0 eq or{pop pop RRect}{2copy eq{pop RRCC}{m cm pop/y2 ed/x2 ed/ys y2 x2 div 1 max def/xs x2y2 div 1 max def/y1 exch ys div def/x1 exch xs div def/y0 exch ys divdef/x0 exch xs div def/r2 x2 y2 min def xs ys scale x0 r2 add y0 Mx1 y0 x1 y1 r2 arcto 4{pop}repeat x1 y1 x0 y1 r2 arcto 4{pop}repeatx0 y1 x0 y0 r2 arcto 4{pop}repeat x0 y0 x1 y0 r2 arcto 4{pop}repeatm sm cp}ifelse}ifelse}bd/PP{{rlt}repeat}bd/OB{gs sc B fill gr}bd/B{M/dyed/dx ed dx 0 rlt 0 dy rlt dx neg 0 rlt cp}bd/CB{B clip n}bdstatusdict begin 0 setjobtimeout endstatusdict begin statusdict /jobname (Windows Draw - GENGCBEF.DRW) put endSS0 60 33 2550 3300 300 SM255 255 255 fC/fm 256 def2426 3230 0 0 B1 Fn1 lc1 lj10433 ml0 0 0 pC0 16 SP475 2288 M 0 -155 0 -210 47 -350 rct45 -143 187 -333 234 -482 rct47 -148 0 -349 0 -460 rctSn0 lc0 lj725 1033 M 31 62 31 -62 2 PPSn0 1 SP902 902 86 416 BSn901 902 1440 416 BSn1 lc1 lj0 25 SP55 1619 M 0 0 2331 0 2 PPSn0 0 0 fC32 0 0 74 74 0 0 66 /Times-Roman /font32 ANSIFont font906 239 53 (Y) SB960 239 37 (o) SB997 239 37 (u) SB1036 239 37 (n) SB1073 239 37 (g) SB1111 239 33 (e) SB1145 239 25 (r) SB1171 239 19 ( ) SB1191 239 53 (G) SB1245 239 33 (e) SB1279 239 37 (n) SB1316 239 33 (e) SB1350 239 25 (r) SB1376 239 33 (a) SB1410 239 21 (t) SB1433 239 21 (i) SB1454 239 37 (o) SB1492 239 37 (n) SB32 0 0 74 75 0 0 67 /Times-Roman /font32 ANSIFont font951 1780 53 (O) SB1004 1780 21 (l) SB1026 1780 37 (d) SB1063 1780 33 (e) SB1096 1780 25 (r) SB1122 1780 19 ( ) SB1142 1780 53 (G) SB1195 1780 33 (e) SB1229 1780 37 (n) SB1266 1780 33 (e) SB1299 1780 25 (r) SB1325 1780 33 (a) SB1359 1780 21 (t) SB1380 1780 21 (i) SB1401 1780 37 (o) SB1438 1780 37 (n) SB32 0 0 76 75 0 0 67 /Times-Roman /font32 ANSIFont font1121 489 51 (R) SB1172 489 55 (O) SB1226 489 55 (O) SB1281 489 46 (T) SB1157 573 42 (S) SB1199 573 46 (E) SB1245 573 46 (T) SB0 16 SP150 150 1148 718 BSn150 149 1148 869 BSn150 149 1148 1019 BSn300 149 165 568 BSn316 568 M 0 0 0 150 2 PPSn1211 789 M -81 0 -107 6 -226 -75 rct-120 -84 -305 -319 -451 -395 rct-146 -74 -206 -58 -263 -18 rct-49 32 -113 169 -113 225 rctSn0 lc0 lj189 489 M -31 -62 -31 62 2 PPSn1 lc1 lj150 149 165 1019 BSn149 149 466 1019 BSn149 149 767 794 BSn0 1 SP902 901 86 1920 BSn901 901 1440 1920 BSn0 16 SP149 149 241 2222 BSn149 149 391 2222 BSn150 149 541 2222 BSn1211 1090 M -158 121 -160 106 -324 234 rct-165 130 -404 317 -526 491 rct-91 129 -108 197 -122 363 rctSn0 lc0 lj273 2143 M -25 -65 -37 60 2 PPSn1 lc1 lj150 149 165 2523 BSn149 149 316 2523 BSn149 149 692 2523 BSn316 2297 M 0 0 -132 188 2 PPSn0 lc0 lj231 2472 M 11 -68 -61 33 2 PPSn1 lc1 lj616 2297 M 0 0 57 188 2 PPSn0 lc0 lj691 2441 M -48 -51 -11 68 2 PPSn1 lc1 lj241 652 M 13 68 -7 68 -21 102 rct-14 33 -28 54 -41 81 rct-13 27 -13 75 -21 142 rctSn0 lc0 lj193 943 M -23 -66 -38 58 2 PPSn1 lc1 lj384 652 M 7 42 26 48 38 72 rct12 23 24 60 37 91 rct12 29 31 101 19 162 rctSn0 lc0 lj516 946 M -19 -67 -42 55 2 PPSnEJ RSend%%EndDocument 1011 -83 a endTexFig1011 1190 a Fn(Figure)21 b(9:)31 b(A)21 b(generational)f(cop)o(ying)g(garbage)h(collector)1011 1240 y(b)q(efore)14 b(garbage)g(collection.)10111377 y(acceptable)i(substitute)g(for)f(more)g(exp)q(ensiv)o(e)h(incremen)o(tal)1011 1427 y(tec)o(hniques,)e(as)g(w)o(ell)g(as)g(to)f(impro)o(v)o(e)f(o)o(v)o(erall)h(e\016ciency)m(.)1052 1479 y(\(F)m(or)21 b(historical)f(reasons)h(and)g(simplicit)o(y)d(of)i(explana-)1011 1529 y(tion,)13b(w)o(e)h(will)f(fo)q(cus)h(on)g(generational)f(cop)o(ying)h(collectors.)10111579 y(The)i(c)o(hoice)g(of)f(cop)o(ying)g(or)h(marking)e(collection)h(is)g(essen-)1011 1628 y(tially)i(orthogonal)h(to)h(the)h(issue)g(of)e(generational)h(collec-)1011 1678 y(tion,)13 b(ho)o(w)o(ev)o(er)h([D)o(WH)1384 1663 y Fj(+)1410 1678 y Fn(90].\))1011 1805 y Fi(4.1)55b(Multiple)32 b(Subheaps)i(with)g(V)-5 b(arying)1138 1864 y(Collection)18b(F)-5 b(requencies)1011 1944 y Fn(Consider)10 b(a)g(generational)g(garbage)g(collector)g(based)h(on)f(the)1011 1994 y(semispace)j(organization:)k(memory)11 b(is)i(divided)h(in)o(to)e(areas)1011 2044 y(that)18 b(will)e(hold)h(ob)r(jects)i(of)e(di\013eren)o(t)i(appro)o(ximate)d(ages,)10112094 y(or)j Fk(gener)n(ations)p Fn(;)j(eac)o(h)e(generation's)f(memory)e(is)i(further)1011 2143 y(divided)d(in)o(to)g(semispaces.)26 b(In)16b(Fig.)g(9)g(w)o(e)h(sho)o(w)f(a)g(simple)1011 2193 y(generational)d(sc)o(heme)i(with)f(just)g(t)o(w)o(o)g(age)g(groups,)g(a)g(New)10112243 y(generation)j(and)f(an)h(Old)g(generation.)27 b(Ob)r(jects)18b(are)g(allo-)1011 2293 y(cated)f(in)f(the)g(New)h(generation,)g(un)o(til)e(its)h(curren)o(t)i(semis-)1011 2343 y(pace)g(is)f(full.)27b(Then)18 b(the)g(New)g(generation)f(\(only\))g(is)g(col-)10112392 y(lected,)e(cop)o(ying)e(its)i(liv)o(e)e(data)h(in)o(to)g(the)h(other)f(semispace,)1011 2442 y(as)g(sho)o(wn)g(in)f(Fig.)g(10.)10522494 y(If)j(an)f(ob)r(ject)i(surviv)o(es)f(long)f(enough)h(to)f(b)q(e)i(considered)1011 2544 y(old,)g(it)g(can)h(b)q(e)g(copied)g(out)f(of)g(the)h(new)g(generation)g(and)1011 2594 y(in)o(to)f(the)i(old,)f(rather)h(than)f(bac)o(k)g(in)o(to)f(the)i(other)g(semis-)969 2718 y(33)p eop%%Page: 34 34bop 0 -83 a 15302080 20198744 920944 592035 39271710 51572899 startTexFig0 -83 a%%BeginDocument: gengcaft.ps/Win33Dict 290 dict def Win33Dict begin/bd{bind def}bind def/in{72mul}bd/ed{exch def}bd/ld{load def}bd/tr/translate ld/gs/gsave ld/gr/grestoreld/M/moveto ld/L/lineto ld/rmt/rmoveto ld/rlt/rlineto ld/rct/rcurvetold/st/stroke ld/n/newpath ld/sm/setmatrix ld/cm/currentmatrix ld/cp/closepathld/ARC/arcn ld/TR{65536 div}bd/lj/setlinejoin ld/lc/setlinecap ld/ml/setmiterlimitld/sl/setlinewidth ld/scignore false def/sc{scignore{pop pop pop}{0index 2 index eq 2 index 4 index eq and{pop pop 255 div setgray}{3{255div 3 1 roll}repeat setrgbcolor}ifelse}ifelse}bd/FC{bR bG bB sc}bd/fC{/bBed/bG ed/bR ed}bd/HC{hR hG hB sc}bd/hC{/hB ed/hG ed/hR ed}bd/PC{pRpG pB sc}bd/pC{/pB ed/pG ed/pR ed}bd/sM matrix def/PenW 1 def/iPen5 def/mxF matrix def/mxE matrix def/fBE false def/iDevRes 72 0 matrixdefaultmatrix dtransform dup mul exch dup mul add sqrt def/SS{/SV savedef}bd/RS{SV restore}bd/EJ{gsave showpage grestore}bd/#C{userdict begin/#copiesed end}bd/SM{/iRes ed/cyP exch def/cxP exch def/cyM exch def/cxM exchdef 72 iRes div dup neg scale 0 ne{cyP cxP neg tr 90 rotate cxM cyM}{cxMcyM cyP sub}ifelse tr 0 0 transform .25 add round .25 sub exch .25add round .25 sub exch itransform translate}bd/SJ{1 index 0 eq{poppop/fBE false def}{1 index/Break ed div/dxBreak ed/fBE true def}ifelse}bd/ANSIVec[16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde 16#4/macron 16#5/breve16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A/hungarumlaut16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60/grave16#7C/bar 16#91/quoteleft 16#92/quoteright 16#93/quotedblleft 16#94/quotedblright16#95/bullet 16#96/endash 16#97/emdash 16#A0/space 16#A4/currency 16#A6/brokenbar16#A7/section 16#A8/dieresis 16#A9/copyright 16#AA/ordfeminine 16#AB/guillemotleft16#AC/logicalnot 16#AD/hyphen 16#AE/registered 16#AF/macron 16#B0/degree16#B1/plusminus 16#B2/twosuperior 16#B3/threesuperior 16#B4/acute 16#B5/mu16#B6/paragraph 16#B7/periodcentered 16#B8/cedilla 16#B9/onesuperior16#BA/ordmasculine 16#BB/guillemotright 16#BC/onequarter 16#BD/onehalf16#BE/threequarters 16#BF/questiondown 16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex16#C3/Atilde 16#C4/Adieresis 16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave16#C9/Eacute 16#CA/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute16#CE/Icircumflex 16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve16#D3/Oacute 16#D4/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply16#D8/Oslash 16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis16#DD/Yacute 16#DE/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute16#E2/acircumflex 16#E3/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae16#E7/ccedilla 16#E8/egrave 16#E9/eacute 16#EA/ecircumflex 16#EB/edieresis16#EC/igrave 16#ED/iacute 16#EE/icircumflex 16#EF/idieresis 16#F0/eth16#F1/ntilde 16#F2/ograve 16#F3/oacute 16#F4/ocircumflex 16#F5/otilde16#F6/odieresis 16#F7/divide 16#F8/oslash 16#F9/ugrave 16#FA/uacute16#FB/ucircumflex 16#FC/udieresis 16#FD/yacute 16#FE/thorn 16#FF/ydieresis] def/reencdict 12 dict def/IsChar{basefontdict/CharStrings get exchknown}bd/MapCh{dup IsChar not{pop/bullet}if newfont/Encoding get 31 roll put}bd/MapDegree{16#b0/degree IsChar{/degree}{/ring}ifelse MapCh}bd/MapBB{16#a6/brokenbarIsChar{/brokenbar}{/bar}ifelse MapCh}bd/ANSIFont{reencdict begin/newfontnameed/basefontname ed FontDirectory newfontname known not{/basefontdictbasefontname findfont def/newfont basefontdict maxlength dict def basefontdict{exchdup/FID ne{dup/Encoding eq{exch dup length array copy newfont 3 1 rollput}{exch newfont 3 1 roll put}ifelse}{pop pop}ifelse}forall newfont/FontNamenewfontname put 127 1 159{newfont/Encoding get exch/bullet put}forANSIVec aload pop ANSIVec length 2 idiv{MapCh}repeat MapDegree MapBBnewfontname newfont definefont pop}if newfontname end}bd/SB{FC/stred str length fBE not{dup 1 gt{1 sub}if}if/cbStr ed/dxGdi ed/y0 ed/x0ed str stringwidth esc 0 ne{mxE itransform exch neg dxGdi add cbStrdiv exch mxE transform}{exch neg dxGdi add cbStr div exch}ifelse/dyExtraed/dxExtra ed x0 y0 M fBE{dxBreak 0 BCh dxExtra dyExtra str awidthshow}{dxExtradyExtra str ashow}ifelse fUL{x0 y0 M dxUL dyUL rmt dxGdi fBE{Breakadd}if 0 mxE transform rlt cyUL sl st}if fSO{x0 y0 M dxSO dySO rmtdxGdi fBE{Break add}if 0 mxE transform rlt cyUL sl st}if n/fBE falsedef}bd/font{/name ed/Ascent ed 0 ne/fSO ed 0 ne/fUL ed/Sy ed/Sx ed10.0 div/ori ed -10.0 div/esc ed/BCh ed name findfont [Sx 0 0 Sy neg0 Ascent] esc mxE rotate mxF concatmatrix makefont setfont fUL{currentfontdup/FontInfo get/UnderlinePosition known not{pop/Courier findfont}if/FontInfoget/UnderlinePosition get 1000 div 0 exch mxF transform/dyUL ed/dxULed}if fSO{0 .3 mxF transform/dySO ed/dxSO ed}if fUL fSO or{currentfontdup/FontInfo get/UnderlineThickness known not{pop/Courier findfont}if/FontInfoget/UnderlineThickness get 1000 div Sy mul/cyUL ed}if}bd/min{2 copygt{exch}if pop}bd/max{2 copy lt{exch}if pop}bd/CP{/ft ed{{ft 0 eq{clip}{eoclip}ifelse}stopped{currentflat1 add setflat}{exit}ifelse}loop}bd/patfont 10 dict def patfont begin/FontType3 def/FontMatrix [1 0 0 1 0 0] def/FontBBox [0 0 32 32] def/EncodingStandardEncoding def/BuildChar{pop pop 32 0 0 0 32 32 setcachedevice2 2 scale 16 16 false [1 0 0 1 .25 .25]{pat}imagemask}bd end/p{/pat32 string def{}forall 0 1 7{dup 2 mul pat exch 3 index put dup 2 mul1 add pat exch 3 index put dup 2 mul 16 add pat exch 3 index put 2mul 17 add pat exch 2 index put pop}for}bd/pfill{/PatFont patfont definefontsetfont/ch(AAAA)def X0 128 X1{Y0 32 Y1{1 index exch M ch show}for pop}for}bd/vert{X0w X1{dup Y0 M Y1 L st}for}bd/horz{Y0 w Y1{dup X0 exch M X1 exch L st}for}bd/fdiag{X0w X1{Y0 M X1 X0 sub dup rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub duprlt st}for}bd/bdiag{X0 w X1{Y1 M X1 X0 sub dup neg rlt st}for Y0 wY1{X0 exch M Y1 Y0 sub dup neg rlt st}for}bd/AU{1 add cvi 15 or}bd/AD{1sub cvi -16 and}bd/SHR{pathbbox AU/Y1 ed AU/X1 ed AD/Y0 ed AD/X0 ed}bd/hfill{2sl [] 0 setdash n/w iRes 20 div 8 div round 8 mul def dup 0 eq{horz}ifdup 1 eq{vert}if dup 2 eq{fdiag}if dup 3 eq{bdiag}if dup 4 eq{horzvert}if 5 eq{fdiag bdiag}if}bd/F{/ft ed fm 256 and 0 ne{gs FC ft 0eq{fill}{eofill}ifelse gr}if fm 1536 and 0 ne{SHR gs HC ft CP fm 1024and 0 ne{/Tmp save def pfill Tmp restore}{fm 15 and hfill}ifelse gr}if}bd/S{PenWsl PC st}bd/m matrix def/GW{iRes 12 div PenW add cvi}bd/DoW{iRes 50div PenW add cvi}bd/DW{iRes 8 div PenW add cvi}bd/SP{/PenW ed/iPened iPen 0 eq{[] 0 setdash}if iPen 1 eq{[DW GW] 0 setdash}if iPen 2eq{[DoW GW] 0 setdash}if iPen 3 eq{[DW GW DoW GW] 0 setdash}if iPen4 eq{[DW GW DoW GW DoW GW] 0 setdash}if}bd/E{m cm pop tr scale 0 01 0 360 arc cp m sm}bd/AG{/sy ed/sx ed sx div 4 1 roll sy div 4 1 rollsx div 4 1 roll sy div 4 1 roll atan/a2 ed atan/a1 ed sx sy scale a1a2 ARC}def/A{m cm pop tr AG m sm}def/P{m cm pop tr 0 0 M AG cp m sm}def/RRect{n4 copy M 3 1 roll exch L 4 2 roll L L cp}bd/RRCC{/r ed/y1 ed/x1 ed/y0ed/x0 ed x0 r add y0 M x1 y0 x1 y1 r arcto 4{pop}repeat x1 y1 x0 y1r arcto 4{pop}repeat x0 y1 x0 y0 r arcto 4{pop}repeat x0 y0 x1 y0 rarcto 4{pop}repeat cp}bd/RR{2 copy 0 eq exch 0 eq or{pop pop RRect}{2copy eq{pop RRCC}{m cm pop/y2 ed/x2 ed/ys y2 x2 div 1 max def/xs x2y2 div 1 max def/y1 exch ys div def/x1 exch xs div def/y0 exch ys divdef/x0 exch xs div def/r2 x2 y2 min def xs ys scale x0 r2 add y0 Mx1 y0 x1 y1 r2 arcto 4{pop}repeat x1 y1 x0 y1 r2 arcto 4{pop}repeatx0 y1 x0 y0 r2 arcto 4{pop}repeat x0 y0 x1 y0 r2 arcto 4{pop}repeatm sm cp}ifelse}ifelse}bd/PP{{rlt}repeat}bd/OB{gs sc B fill gr}bd/B{M/dyed/dx ed dx 0 rlt 0 dy rlt dx neg 0 rlt cp}bd/CB{B clip n}bdstatusdict begin 0 setjobtimeout endstatusdict begin statusdict /jobname (Windows Draw - GENGCAFT.DRW) put endSS0 60 33 2550 3300 300 SM255 255 255 fC/fm 256 def2426 3230 0 0 B1 Fn1 lc1 lj10433 ml128 128 128 pC2 16 SP1211 789 M -81 0 -107 6 -226 -75 rct-120 -84 -305 -319 -451 -395 rct-146 -74 -206 -58 -263 -18 rct-49 32 -113 169 -113 225 rctSn0 lc0 lj0 16 SP189 489 M -31 -62 -31 62 2 PPSn1 lc1 lj2 16 SP475 2288 M 0 -155 0 -210 47 -350 rct45 -143 187 -333 234 -482 rct47 -148 0 -349 0 -460 rctSn0 lc0 lj0 16 SP725 1033 M 31 62 31 -62 2 PPSn0 0 0 pC0 1 SP902 902 86 416 BSn901 902 1440 416 BSn1 lc1 lj0 25 SP55 1619 M 0 0 2331 0 2 PPSn0 0 0 fC32 0 0 74 74 0 0 66 /Times-Roman /font32 ANSIFont font906 239 53 (Y) SB960 239 37 (o) SB998 239 37 (u) SB1036 239 37 (n) SB1074 239 37 (g) SB1112 239 33 (e) SB1146 239 25 (r) SB1173 239 19 ( ) SB1193 239 53 (G) SB1247 239 33 (e) SB1281 239 37 (n) SB1319 239 33 (e) SB1353 239 25 (r) SB1380 239 33 (a) SB1414 239 21 (t) SB1436 239 21 (i) SB1457 239 37 (o) SB1495 239 37 (n) SB32 0 0 76 75 0 0 67 /Times-Roman /font32 ANSIFont font951 1780 55 (O) SB1006 1780 21 (l) SB1026 1780 38 (d) SB1064 1780 34 (e) SB1098 1780 25 (r) SB1123 1780 19 ( ) SB1141 1780 55 (G) SB1196 1780 34 (e) SB1230 1780 38 (n) SB1268 1780 34 (e) SB1301 1780 25 (r) SB1326 1780 34 (a) SB1360 1780 21 (t) SB1380 1780 21 (i) SB1401 1780 38 (o) SB1439 1780 38 (n) SB32 0 0 74 75 0 0 67 /Times-Roman /font32 ANSIFont font1121 489 49 (R) SB1172 489 53 (O) SB1226 489 53 (O) SB1281 489 45 (T) SB1157 573 41 (S) SB1199 573 45 (E) SB1245 573 45 (T) SB0 16 SP150 150 1148 718 BSn150 149 1148 869 BSn150 149 1148 1019 BSn128 128 128 pC2 16 SP300 149 165 568 BSn316 568 M 0 0 0 150 2 PPSn150 149 165 1019 BSn149 149 466 1019 BSn149 149 767 794 BSn2 17 SP233 652 M 12 68 -7 68 -19 102 rct-13 33 -25 54 -37 81 rct-12 27 -12 74 -19 142 rctSn0 lc0 lj0 16 SP192 942 M -24 -65 -37 59 2 PPSn1 lc1 lj2 16 SP384 652 M 7 42 26 48 38 72 rct12 23 24 60 37 91 rct12 29 31 101 19 162 rctSn0 lc0 lj0 16 SP516 946 M -19 -67 -42 55 2 PPSn1 lc1 lj0 0 0 pC150 150 1443 1169 BSn149 150 1594 1169 BSn149 150 1744 1169 BSn150 150 1894 1169 BSn149 150 2045 1169 BSn150 150 2195 1169 BSn1525 1235 M 0 -152 19 -211 57 -263 rct36 -49 94 -39 131 -19 rct38 19 38 113 38 170 rctSn0 lc0 lj1782 1086 M -31 -62 -31 62 2 PPSn1 lc1 lj1676 1235 M 0 -152 19 -211 56 -263 rct37 -49 94 -39 132 -19 rct37 19 37 113 37 170 rctSn0 lc0 lj1931 1086 M -31 -62 -30 62 2 PPSn0 1 SP902 901 86 1920 BSn901 901 1440 1920 BSn1 lc1 lj0 16 SP149 149 241 2222 BSn149 149 391 2222 BSn150 149 541 2222 BSn475 2288 M 12 -276 141 -461 340 -550 rct183 -79 721 -57 999 -130 rct264 -72 289 -131 357 -241 rctSn0 lc0 lj2124 1383 M -6 69 59 -37 2 PPSn1 lc1 lj1211 1090 M -158 121 -160 106 -324 234 rct-165 130 -404 317 -526 491 rct-91 129 -108 197 -122 363 rctSn0 lc0 lj273 2143 M -25 -65 -37 60 2 PPSn1 lc1 lj149 149 159 2531 BSn150 149 309 2531 BSn150 149 685 2531 BSn309 2305 M 0 0 -131 188 2 PPSn0 lc0 lj225 2480 M 10 -68 -61 33 2 PPSn1 lc1 lj610 2305 M 0 0 57 188 2 PPSn0 lc0 lj685 2448 M -48 -51 -11 69 2 PPSn1 lc1 lj1225 787 M 64 -6 111 -6 150 20 rct37 26 62 58 75 99 rct12 39 31 123 0 217 rctSn0 lc0 lj1491 1098 M -9 -69 -49 49 2 PPSnEJ RSend%%EndDocument 0 -83 a endTexFig0 1190 a Fn(Figure)12 b(10:)k(Generational)11 b(collector)h(after)g(garbage)f(collec-)0 1240 y(tion.)0 1382 y(pace.)42 b(This)17 b(remo)o(v)o(es)e(it)h(from)f(consideration)i(b)o(y)f(single-)0 1431 y(generation)i(collections,)g(so)g(that)g(it)f(is)h(no)f(longer)h(copied)0 1481 y(at)g(ev)o(ery)h(collection.)31 b(Since)19 b(relativ)o(ely)e(few)i(ob)r(jects)g(liv)o(e)01531 y(this)14 b(long,)e(old)g(memory)f(will)h(\014ll)h(m)o(uc)o(h)f(more)h(slo)o(wly)f(than)0 1581 y(new.)21 b(Ev)o(en)o(tually)m(,)14b(old)g(memory)e(will)h(\014ll)h(up)h(and)g(ha)o(v)o(e)f(to)01631 y(b)q(e)e(garbage)g(collected)h(as)f(w)o(ell.)k(Figure)c(11)f(sho)o(ws)i(the)f(gen-)0 1681 y(eral)f(pattern)i(of)e(memory)e(use)j(in)f(this)h(simple)e(generational)0 1730 y(sc)o(heme.)18 b(\(Note)d(the)f(\014gure)g(is)g(not)g(to)g(scale|the)g(y)o(ounger)0 1780 y(generation)h(is)h(t)o(ypically)d(sev)o(eral)j(times)f(smaller)e(than)j(the)0 1830 y(older)e(one.\))421888 y(The)9 b(n)o(um)o(b)q(er)g(of)g(generations)h(ma)o(y)d(b)q(e)j(greater)h(than)e(t)o(w)o(o,)0 1938 y(with)15 b(eac)o(h)g(successiv)o(e)i(generation)e(holding)f(older)h(ob)r(jects)0 1988 y(and)9 b(b)q(eing)h(collected)g(considerably)g(less)g(often.)17 b(\(T)m(ektronix)0 2038 y(4406)h(Smalltalk)e(is)j(suc)o(h)h(a)e(generational)h(system,)g(using)0 2087 y(semispaces)14b(for)g(eac)o(h)g(of)f(eigh)o(t)h(generations)h([CWB86)o(].\))422145 y(In)g(order)h(for)e(this)i(sc)o(heme)f(to)g(w)o(ork,)g(it)f(m)o(ust)g(b)q(e)i(p)q(ossi-)0 2195 y(ble)h(to)g(collect)h(the)g(y)o(ounger)f(generation\(s\))h(without)f(col-)0 2245 y(lecting)i(the)g(older)g(one\(s\).)35 b(Since)19 b(liv)o(eness)h(of)e(data)h(is)f(a)0 2295 y(global)f(prop)q(ert)o(y)m(,)i(ho)o(w)o(ev)o(er,)g(old-memory)c(data)j(m)o(ust)g(b)q(e)02345 y(tak)o(en)c(in)o(to)g(accoun)o(t.)20 b(F)m(or)13 b(example,)g(if)g(there)j(is)e(a)g(p)q(oin)o(ter)0 2395 y(from)g(old)h(memory)e(to)j(new)g(memory)m(,)d(that)i(p)q(oin)o(ter)h(m)o(ust)0 2444 y(b)q(e)k(found)g(at)f(collection)h(time)e(and)i(used)h(as)e(one)h(of)g(the)0 2494y(ro)q(ots)e(of)e(the)i(tra)o(v)o(ersal.)28 b(\(Otherwise,)19b(an)e(ob)r(ject)h(that)f(is)0 2544 y(liv)o(e)h(ma)o(y)f(not)i(b)q(e)h(preserv)o(ed)g(b)o(y)f(the)h(garbage)e(collector,)0 2594 y(or)e(the)h(p)q(oin)o(ter)g(ma)o(y)d(simply)g(not)j(b)q(e)g(up)q(dated)g(appropri-)101155 y(ately)12 b(when)g(the)h(ob)r(ject)g(is)f(mo)o(v)o(ed.)k(Either)d(ev)o(en)o(t)g(destro)o(ys)1011 105 y(the)g(in)o(tegrit)o(y)f(and)g(consistency)i(of)e(data)g(structures)j(in)d(the)1011 155 y(heap.\))1052214 y(Ensuring)19 b(that)g(the)h(collector)f(can)g(\014nd)g(p)q(oin)o(ters)h(in)o(to)1011 264 y(y)o(oung)c(generations)h(requires)h(the)g(use)f(of)f(something)g(lik)o(e)1011 314 y(the)k(\\write)f(barrier")g(of)g(an)g(incremen)o(tal)g(collector|the)1011 364 y(running)13 b(program)g(can't)h(freely)g(store)h(p)q(oin)o(ters)f(in)o(to)g(heap)1011 414y(ob)r(jects)23 b(at)e(will.)40 b(Eac)o(h)22 b(p)q(oten)o(tial)f(p)q(oin)o(ter)g(store)i(m)o(ust)1011 463 y(b)q(e)18 b(accompanied)e(b)o(y)h(some)f(extra)i(b)q(o)q(okk)o(eeping,)f(in)g(case)1011 513 y(an)h(in)o(tergenerational)f(p)q(oin)o(ter)i(is)f(b)q(eing)g(created.)32b(As)18 b(in)1011 563 y(an)c(incremen)o(tal)g(collector,)g(this)h(is)f(usually)g(accomplished)1011 613 y(b)o(y)h(ha)o(ving)g(the)h(compiler)e(emit)g(a)i(few)f(extra)h(instructions)1011 663 y(along)10 b(with)h(eac)o(h)h(store)g(of)f(a)g(\(p)q(ossible\))h(p)q(oin)o(ter)g(v)n(alue)f(in)o(to)1011712 y(an)i(ob)r(ject)i(on)f(the)g(heap.)1052 772 y(The)20 b(write)f(barrier)h(ma)o(y)d(do)i(c)o(hec)o(king)g(at)g(eac)o(h)g(store,)1011822 y(or)d(it)f(ma)o(y)f(b)q(e)j(as)f(simple)e(as)i(main)o(taining)d(dirt)o(y)i(bits)h(and)1011 871 y(scanning)d(dirt)o(y)g(areas)h(at)f(collection)g(time)e([Sha88)o(,)i(Sob88)o(,)1011 921 y(WM89)o(,)h(Wil90)n(,)g(HMS92].)20b(The)15 b(imp)q(ortan)o(t)d(p)q(oin)o(t)i(is)h(that)1011 971y(all)9 b(references)k(from)8 b(old)i(to)g(new)h(memory)d(m)o(ust)h(b)q(e)i(lo)q(cated)1011 1021 y(at)16 b(collection)g(time,)f(and)h(used)i(as)e(ro)q(ots)h(for)f(the)h(cop)o(ying)1011 1071 y(tra)o(v)o(ersal.)10521130 y(Using)f(these)i(in)o(tergenerational)e(p)q(oin)o(ters)h(as)f(ro)q(ots)h(en-)1011 1180 y(sures)f(that)e(all)f(reac)o(hable)i(ob)r(jects)h(in)e(the)h(y)o(ounger)f(gener-)1011 1230 y(ation)d(are)h(actually)g(reac)o(hed)h(b)o(y)f(the)g(collector;)h(in)e(the)i(case)1011 1280 y(of)f(a)h(cop)o(ying)g(collector,)g(it)g(also)f(ensures)j(that)e(all)f(p)q(oin)o(ters)10111329 y(to)h(mo)o(v)o(ed)g(ob)r(jects)i(are)f(appropriately)g(up)q(dated.)10521389 y(As)k(in)f(an)g(incremen)o(tal)f(collector,)i(this)f(use)h(of)f(a)g(write)1011 1439 y(barrier)c(results)g(in)f(a)g Fk(c)n(onservative)i(appr)n(oximation)e Fn(of)g(true)1011 1488 y(liv)o(eness;)23 b(an)o(y)c(p)q(oin)o(ters)h(from)e(old)h(to)h(new)g(memory)e(are)1011 1538 y(used)12b(as)g(ro)q(ots,)g(but)g(not)f(all)g(of)g(these)i(ro)q(ots)f(are)g(necessarily)1011 1588 y(liv)o(e)d(themselv)o(es.)17 b(An)11b(ob)r(ject)g(in)f(old)g(memory)e(ma)o(y)g(already)1011 1638y(ha)o(v)o(e)i(died,)g(but)g(that)g(fact)g(is)g(unkno)o(wn)f(un)o(til)g(the)i(next)f(time)1011 1688 y(old)15 b(memory)f(is)h(collected.)26b(Th)o(us)16 b(some)f(garbage)h(ob)r(jects)1011 1737 y(ma)o(y)g(b)q(e)i(preserv)o(ed)i(b)q(ecause)g(they)f(are)f(referred)i(to)e(from)10111787 y(ob)r(jects)g(that)e(are)h(\015oating)f(\(undetected\))j(garbage.)26b(This)1011 1837 y(app)q(ears)10 b(not)g(to)g(b)q(e)g(a)f(problem)g(in)g(practice)i([Ung84)o(,)e(UJ88].)1052 1896 y(It)15 b(w)o(ould)f(also)g(b)q(e)h(p)q(ossible)g(to)g(trac)o(k)g(all)e(p)q(oin)o(ters)j(from)10111946 y(new)o(er)11 b(ob)r(jects)f(in)o(to)f(older)h(ob)r(jects,)i(allo)o(wing)7 b(older)j(ob)r(jects)1011 1996 y(to)16 b(b)q(e)h(collected)g(indep)q(enden)o(tly)g(of)f(new)o(er)i(ones.)26 b(This)16 b(is)10112046 y(more)8 b(costly)m(,)h(ho)o(w)o(ev)o(er,)i(b)q(ecause)g(there)f(are)g(t)o(ypically)e(man)o(y)1011 2096 y(more)13 b(p)q(oin)o(ters)i(from)e(new)h(to)h(old)e(than)i(from)d(old)i(to)g(new.)1011 2145 y(Suc)o(h)f(\015exibilit)o(y)f(is)h(a)g(consequence)j(of)d(the)h(w)o(a)o(y)e(references)10112195 y(are)17 b(t)o(ypically)e(created|b)o(y)i(creating)g(a)g(new)g(ob)r(ject)g(that)1011 2245 y(refers)12 b(to)f(other)h(ob)r(jects)g(whic)o(h)f(already)g(exist.)17 b(Sometimes)1011 2295 y(a)12 b(p)q(oin)o(ter)h(to)g(a)g(new)g(ob)r(ject)h(is)e(installed)g(in)h(an)f(old)h(ob)r(ject,)10112345 y(but)d(this)f(is)h(considerably)g(less)g(common.)k(This)c(asymmetri-)1011 2395 y(cal)15 b(treatmen)o(t)h(allo)o(ws)e(ob)r(ject-creating)j(co)q(de)f(\(lik)o(e)f(Lisp's)1011 2444 y(frequen)o(tly-used)21 b Fm(cons)eFn(op)q(eration\))h(to)g(skip)f(the)i(record-)1011 2494 y(ing)9b(of)g(in)o(tergenerational)h(p)q(oin)o(ters.)17 b(Only)10b(non-initializing)1011 2544 y(stores)20 b(in)o(to)e(ob)r(jects)i(m)o(ust)d(b)q(e)j(c)o(hec)o(k)o(ed)g(for)e(in)o(tergenera-)1011 2594y(tional)d(references;)20 b(writes)e(that)e(initialize)f(ob)r(jects)j(in)e(the)969 2718 y(34)p eop%%Page: 35 35bop 322 2145 agsave currentpoint currentpoint translate 270 rotate neg exch neg exch translate322 2145 a 28133378 21100024 526254 986726 51507118 39337492 startTexFig322 2145 a%%BeginDocument: gngcssmu.ps/Win33Dict 290 dict def Win33Dict begin/bd{bind def}bind def/in{72mul}bd/ed{exch def}bd/ld{load def}bd/tr/translate ld/gs/gsave ld/gr/grestoreld/M/moveto ld/L/lineto ld/rmt/rmoveto ld/rlt/rlineto ld/rct/rcurvetold/st/stroke ld/n/newpath ld/sm/setmatrix ld/cm/currentmatrix ld/cp/closepathld/ARC/arcn ld/TR{65536 div}bd/lj/setlinejoin ld/lc/setlinecap ld/ml/setmiterlimitld/sl/setlinewidth ld/scignore false def/sc{scignore{pop pop pop}{0index 2 index eq 2 index 4 index eq and{pop pop 255 div setgray}{3{255div 3 1 roll}repeat setrgbcolor}ifelse}ifelse}bd/FC{bR bG bB sc}bd/fC{/bBed/bG ed/bR ed}bd/HC{hR hG hB sc}bd/hC{/hB ed/hG ed/hR ed}bd/PC{pRpG pB sc}bd/pC{/pB ed/pG ed/pR ed}bd/sM matrix def/PenW 1 def/iPen5 def/mxF matrix def/mxE matrix def/fBE false def/iDevRes 72 0 matrixdefaultmatrix dtransform dup mul exch dup mul add sqrt def/SS{/SV savedef}bd/RS{SV restore}bd/EJ{gsave showpage grestore}bd/#C{userdict begin/#copiesed end}bd/SM{/iRes ed/cyP exch def/cxP exch def/cyM exch def/cxM exchdef 72 iRes div dup neg scale 0 ne{cyP cxP neg tr 90 rotate cxM cyM}{cxMcyM cyP sub}ifelse tr 0 0 transform .25 add round .25 sub exch .25add round .25 sub exch itransform translate}bd/SJ{1 index 0 eq{poppop/fBE false def}{1 index/Break ed div/dxBreak ed/fBE true def}ifelse}bd/ANSIVec[16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde 16#4/macron 16#5/breve16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A/hungarumlaut16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60/grave16#7C/bar 16#91/quoteleft 16#92/quoteright 16#93/quotedblleft 16#94/quotedblright16#95/bullet 16#96/endash 16#97/emdash 16#A0/space 16#A4/currency 16#A6/brokenbar16#A7/section 16#A8/dieresis 16#A9/copyright 16#AA/ordfeminine 16#AB/guillemotleft16#AC/logicalnot 16#AD/hyphen 16#AE/registered 16#AF/macron 16#B0/degree16#B1/plusminus 16#B2/twosuperior 16#B3/threesuperior 16#B4/acute 16#B5/mu16#B6/paragraph 16#B7/periodcentered 16#B8/cedilla 16#B9/onesuperior16#BA/ordmasculine 16#BB/guillemotright 16#BC/onequarter 16#BD/onehalf16#BE/threequarters 16#BF/questiondown 16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex16#C3/Atilde 16#C4/Adieresis 16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave16#C9/Eacute 16#CA/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute16#CE/Icircumflex 16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve16#D3/Oacute 16#D4/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply16#D8/Oslash 16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis16#DD/Yacute 16#DE/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute16#E2/acircumflex 16#E3/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae16#E7/ccedilla 16#E8/egrave 16#E9/eacute 16#EA/ecircumflex 16#EB/edieresis16#EC/igrave 16#ED/iacute 16#EE/icircumflex 16#EF/idieresis 16#F0/eth16#F1/ntilde 16#F2/ograve 16#F3/oacute 16#F4/ocircumflex 16#F5/otilde16#F6/odieresis 16#F7/divide 16#F8/oslash 16#F9/ugrave 16#FA/uacute16#FB/ucircumflex 16#FC/udieresis 16#FD/yacute 16#FE/thorn 16#FF/ydieresis] def/reencdict 12 dict def/IsChar{basefontdict/CharStrings get exchknown}bd/MapCh{dup IsChar not{pop/bullet}if newfont/Encoding get 31 roll put}bd/MapDegree{16#b0/degree IsChar{/degree}{/ring}ifelse MapCh}bd/MapBB{16#a6/brokenbarIsChar{/brokenbar}{/bar}ifelse MapCh}bd/ANSIFont{reencdict begin/newfontnameed/basefontname ed FontDirectory newfontname known not{/basefontdictbasefontname findfont def/newfont basefontdict maxlength dict def basefontdict{exchdup/FID ne{dup/Encoding eq{exch dup length array copy newfont 3 1 rollput}{exch newfont 3 1 roll put}ifelse}{pop pop}ifelse}forall newfont/FontNamenewfontname put 127 1 159{newfont/Encoding get exch/bullet put}forANSIVec aload pop ANSIVec length 2 idiv{MapCh}repeat MapDegree MapBBnewfontname newfont definefont pop}if newfontname end}bd/SB{FC/stred str length fBE not{dup 1 gt{1 sub}if}if/cbStr ed/dxGdi ed/y0 ed/x0ed str stringwidth esc 0 ne{mxE itransform exch neg dxGdi add cbStrdiv exch mxE transform}{exch neg dxGdi add cbStr div exch}ifelse/dyExtraed/dxExtra ed x0 y0 M fBE{dxBreak 0 BCh dxExtra dyExtra str awidthshow}{dxExtradyExtra str ashow}ifelse fUL{x0 y0 M dxUL dyUL rmt dxGdi fBE{Breakadd}if 0 mxE transform rlt cyUL sl st}if fSO{x0 y0 M dxSO dySO rmtdxGdi fBE{Break add}if 0 mxE transform rlt cyUL sl st}if n/fBE falsedef}bd/font{/name ed/Ascent ed 0 ne/fSO ed 0 ne/fUL ed/Sy ed/Sx ed10.0 div/ori ed -10.0 div/esc ed/BCh ed name findfont [Sx 0 0 Sy neg0 Ascent] esc mxE rotate mxF concatmatrix makefont setfont fUL{currentfontdup/FontInfo get/UnderlinePosition known not{pop/Courier findfont}if/FontInfoget/UnderlinePosition get 1000 div 0 exch mxF transform/dyUL ed/dxULed}if fSO{0 .3 mxF transform/dySO ed/dxSO ed}if fUL fSO or{currentfontdup/FontInfo get/UnderlineThickness known not{pop/Courier findfont}if/FontInfoget/UnderlineThickness get 1000 div Sy mul/cyUL ed}if}bd/min{2 copygt{exch}if pop}bd/max{2 copy lt{exch}if pop}bd/CP{/ft ed{{ft 0 eq{clip}{eoclip}ifelse}stopped{currentflat1 add setflat}{exit}ifelse}loop}bd/patfont 10 dict def patfont begin/FontType3 def/FontMatrix [1 0 0 1 0 0] def/FontBBox [0 0 32 32] def/EncodingStandardEncoding def/BuildChar{pop pop 32 0 0 0 32 32 setcachedevice2 2 scale 16 16 false [1 0 0 1 .25 .25]{pat}imagemask}bd end/p{/pat32 string def{}forall 0 1 7{dup 2 mul pat exch 3 index put dup 2 mul1 add pat exch 3 index put dup 2 mul 16 add pat exch 3 index put 2mul 17 add pat exch 2 index put pop}for}bd/pfill{/PatFont patfont definefontsetfont/ch(AAAA)def X0 128 X1{Y0 32 Y1{1 index exch M ch show}for pop}for}bd/vert{X0w X1{dup Y0 M Y1 L st}for}bd/horz{Y0 w Y1{dup X0 exch M X1 exch L st}for}bd/fdiag{X0w X1{Y0 M X1 X0 sub dup rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub duprlt st}for}bd/bdiag{X0 w X1{Y1 M X1 X0 sub dup neg rlt st}for Y0 wY1{X0 exch M Y1 Y0 sub dup neg rlt st}for}bd/AU{1 add cvi 15 or}bd/AD{1sub cvi -16 and}bd/SHR{pathbbox AU/Y1 ed AU/X1 ed AD/Y0 ed AD/X0 ed}bd/hfill{2sl [] 0 setdash n/w iRes 20 div 8 div round 8 mul def dup 0 eq{horz}ifdup 1 eq{vert}if dup 2 eq{fdiag}if dup 3 eq{bdiag}if dup 4 eq{horzvert}if 5 eq{fdiag bdiag}if}bd/F{/ft ed fm 256 and 0 ne{gs FC ft 0eq{fill}{eofill}ifelse gr}if fm 1536 and 0 ne{SHR gs HC ft CP fm 1024and 0 ne{/Tmp save def pfill Tmp restore}{fm 15 and hfill}ifelse gr}if}bd/S{PenWsl PC st}bd/m matrix def/GW{iRes 12 div PenW add cvi}bd/DoW{iRes 50div PenW add cvi}bd/DW{iRes 8 div PenW add cvi}bd/SP{/PenW ed/iPened iPen 0 eq{[] 0 setdash}if iPen 1 eq{[DW GW] 0 setdash}if iPen 2eq{[DoW GW] 0 setdash}if iPen 3 eq{[DW GW DoW GW] 0 setdash}if iPen4 eq{[DW GW DoW GW DoW GW] 0 setdash}if}bd/E{m cm pop tr scale 0 01 0 360 arc cp m sm}bd/AG{/sy ed/sx ed sx div 4 1 roll sy div 4 1 rollsx div 4 1 roll sy div 4 1 roll atan/a2 ed atan/a1 ed sx sy scale a1a2 ARC}def/A{m cm pop tr AG m sm}def/P{m cm pop tr 0 0 M AG cp m sm}def/RRect{n4 copy M 3 1 roll exch L 4 2 roll L L cp}bd/RRCC{/r ed/y1 ed/x1 ed/y0ed/x0 ed x0 r add y0 M x1 y0 x1 y1 r arcto 4{pop}repeat x1 y1 x0 y1r arcto 4{pop}repeat x0 y1 x0 y0 r arcto 4{pop}repeat x0 y0 x1 y0 rarcto 4{pop}repeat cp}bd/RR{2 copy 0 eq exch 0 eq or{pop pop RRect}{2copy eq{pop RRCC}{m cm pop/y2 ed/x2 ed/ys y2 x2 div 1 max def/xs x2y2 div 1 max def/y1 exch ys div def/x1 exch xs div def/y0 exch ys divdef/x0 exch xs div def/r2 x2 y2 min def xs ys scale x0 r2 add y0 Mx1 y0 x1 y1 r2 arcto 4{pop}repeat x1 y1 x0 y1 r2 arcto 4{pop}repeatx0 y1 x0 y0 r2 arcto 4{pop}repeat x0 y0 x1 y0 r2 arcto 4{pop}repeatm sm cp}ifelse}ifelse}bd/PP{{rlt}repeat}bd/OB{gs sc B fill gr}bd/B{M/dyed/dx ed dx 0 rlt 0 dy rlt dx neg 0 rlt cp}bd/CB{B clip n}bdstatusdict begin 0 setjobtimeout endstatusdict begin statusdict /jobname (Windows Draw - GNGCTRNC.DRW) put endSS1 33 60 3300 2550 300 SM255 255 255 fC/fm 256 def3230 2426 0 0 B1 Fn1 lc1 lj10433 ml0 0 0 pC0 3 SP0 0 0 hC/fm 1280 def<fdffdffffdffdfff> p772 719 M 0 -32 -188 0 0 391 188 -359 4 PP1 FSn522 1126 M 0 -31 -188 0 0 391 188 -360 4 PP1 FSn1273 719 M 0 -32 -187 0 0 391 187 -359 4 PP1 FSn1022 1126 M 0 -31 -188 0 0 391 188 -360 4 PP1 FSn1773 719 M 0 -32 -188 0 0 391 188 -359 4 PP1 FSn1523 1126 M 0 -31 -187 0 0 391 187 -360 4 PP1 FSn2273 719 M 0 -32 -188 0 0 391 188 -359 4 PP1 FSn2023 1126 M 0 -31 -188 0 0 391 188 -360 4 PP1 FSn2774 719 M 0 -32 -187 0 0 391 187 -359 4 PP1 FSn2524 1126 M 0 -31 -187 0 0 391 187 -360 4 PP1 FSn0 0 0 fC32 0 0 70 69 0 0 62 /Times-Roman /font32 ANSIFont font71 1458 39 (S) SB110 1458 31 (e) SB140 1458 31 (c) SB171 1458 35 (o) SB205 1458 35 (n) SB240 1458 35 (d) SB71 1535 51 (G) SB122 1535 31 (e) SB152 1535 35 (n) SB187 1535 31 (e) SB218 1535 23 (r) SB240 1535 31 (a) SB271 1535 19 (t) SB289 1535 19 (i) SB308 1535 35 (o) SB342 1535 35 (n) SB71 1611 62 (M) SB133 1611 31 (e) SB163 1611 54 (m) SB217 1611 35 (o) SB251 1611 23 (r) SB274 1611 35 (y) SB66 615 39 (F) SB105 615 19 (i) SB123 615 23 (r) SB145 615 27 (s) SB172 615 19 (t) SB190 615 18 ( ) SB208 615 23 (\() SB231 615 51 (N) SB281 615 31 (e) SB312 615 51 (w) SB362 615 23 (\)) SB66 692 51 (G) SB117 692 31 (e) SB147 692 35 (n) SB182 692 31 (e) SB212 692 23 (r) SB235 692 31 (a) SB265 692 19 (t) SB284 692 19 (i) SB303 692 35 (o) SB337 692 35 (n) SB66 769 62 (M) SB128 769 31 (e) SB158 769 54 (m) SB212 769 35 (o) SB246 769 23 (r) SB269 769 35 (y) SB964 657 M 31 -1 55 33 55 104 rct0 71 -44 185 -46 250 rct-3 62 7 81 40 108 rctSn0 lc0 lj1008 1102 M -22 -5 9 20 2 PPSn1 lc1 lj1462 657 M 32 -1 55 33 56 104 rct-1 71 -44 185 -47 250 rct-2 62 7 81 40 108 rctSn0 lc0 lj1506 1102 M -22 -5 9 20 2 PPSn1 lc1 lj0 2 SP1511 1320 M -45 -20 -77 -46 -90 -91 rct-14 -46 -21 -49 -14 -146 rct8 -98 78 -255 87 -325 rct7 -70 -11 -81 -31 -101 rctSn0 lc0 lj0 3 SP1502 1305 M -22 1 14 17 2 PPSn1 lc1 lj1969 657 M 31 -1 55 33 55 104 rct0 71 -44 185 -46 250 rct-2 62 7 81 40 108 rctSn0 lc0 lj2012 1102 M -22 -5 10 20 2 PPSn1 lc1 lj2018 1217 M -45 -17 -77 -39 -90 -77 rct-14 -39 -21 -41 -14 -123 rct8 -83 78 -215 87 -275 rct7 -59 -11 -68 -31 -85 rctSn0 lc0 lj2007 1203 M -22 2 15 16 2 PPSn1 lc1 lj2467 657 M 32 -1 55 33 56 104 rct-1 71 -44 185 -47 250 rct-2 62 7 81 40 108 rctSn0 lc0 lj2511 1102 M -22 -5 9 20 2 PPSn1 lc1 lj765 732 M -44 27 -29 81 -23 109 rct7 36 28 70 28 110 rct0 39 -12 72 -54 90 rctSn0 lc0 lj747 731 M -11 19 22 -2 2 PPSn1 lc1 lj1263 732 M -43 27 -28 81 -23 109 rct7 36 28 70 28 110 rct0 39 -12 72 -54 90 rctSn0 lc0 lj1245 732 M -11 19 22 -3 2 PPSn1 lc1 lj1761 732 M -43 27 -28 81 -23 109 rct7 36 28 70 28 110 rct0 39 -12 72 -54 90 rctSn0 lc0 lj1743 732 M -11 19 22 -3 2 PPSn1 lc1 lj2259 732 M -43 27 -28 81 -23 109 rct7 36 28 70 29 110 rct0 39 -13 72 -54 90 rctSn0 lc0 lj2241 732 M -11 19 22 -3 2 PPSn1 lc1 lj2766 732 M -43 27 -28 81 -23 109 rct7 36 28 70 29 110 rct0 39 -13 72 -55 90 rctSn0 lc0 lj2748 732 M -11 19 22 -3 2 PPSn1 lc1 lj710 1048 M 15 8 25 23 31 47 rct5 22 5 42 0 94 rct-6 52 -23 133 -23 175 rct0 42 10 53 40 75 rctSn0 lc0 lj752 1423 M -22 -4 10 19 2 PPSn1 lc1 lj1013 1398 M -45 -22 -77 -51 -90 -102 rct-14 -51 -21 -55 -14 -163 rct8 -109 78 -285 87 -363 rct7 -78 -11 -90 -31 -113 rctSn0 lc0 lj1004 1382 M -22 0 14 18 2 PPSn1 lc1 lj1216 1039 M 16 7 26 19 32 40 rct5 19 5 35 0 80 rct-6 44 -23 113 -23 149 rct0 35 10 44 40 63 rctSn0 lc0 lj1258 1355 M -22 -3 11 19 2 PPSn1 lc1 lj1715 1039 M 15 5 25 22 31 35 rct5 13 -4 50 -9 79 rct-5 30 -5 15 -5 39 rct0 23 1 55 31 67 rctSn0 lc0 lj1753 1244 M -22 2 15 17 2 PPSn1 lc1 lj2211 1042 M 48 47 61 54 94 142 rct34 95 64 196 55 334 rct-11 136 -19 140 -49 221 rct-19 53 -55 96 -12 159 rctSn0 lc0 lj2299 1880 M -19 -11 3 22 2 PPSn1 lc1 lj2516 1870 M -45 -37 -77 -83 -90 -166 rct-14 -84 -30 -185 -23 -362 rct9 -179 41 -338 70 -491 rct16 -93 15 -131 -6 -194 rctSn0 lc0 lj2511 1853 M -22 -5 9 20 2 PPSn1 lc1 lj0 5 SP137 1157 M 0 0 2891 0 2 PPSn137 350 M 0 0 2887 0 2 PPSn0 3 SP2718 1042 M 48 42 61 49 94 128 rct34 86 4 195 -22 302 rct-32 119 -19 75 -32 149 rct-8 50 -33 142 9 199 rctSn0 lc0 lj2766 1802 M -20 -10 4 22 2 PPSn1 lc1 lj2273 1439 M 39 3 55 38 47 109 rct-8 71 -60 146 -68 210 rct-8 62 17 66 47 140 rctSn0 lc0 lj2303 1881 M -17 -15 -2 22 2 PPSn1 lc1 lj255 255 255 fC2305 1998 M -690 0 0 175 221 -2 0 -47 250 0 0 -32 219 0 0 -94 8 PP1 FSn255 255 255 pC0 7 SP/fm 256 def42 188 2981 1804 B1 FSn0 0 0 pC0 3 SP0 0 0 hC/fm 1280 def<fdffdffffdffdfff> p451 1595 M -1821 0 0 375 251 0 0 -47 250 0 0 -62 250 0 0 -47 250 0 0 -31 250 0 0 -32 251 0 0 -62 250 0 74 1 1 -95 -6 0 18 PP1 FSn255 255 255 pC0 7 SP/fm 256 def59 98 438 1492 B1 FSn0 0 0 pC3 5 SP380 1593 M 0 0 2644 7 2 PPSn0 5 SP137 1999 M 0 0 2891 0 2 PPSn3 5 SP388 750 M 0 0 2636 1 2 PPSnEJ RSend%%EndDocument 322 2145 a endTexFig1658 2145 acurrentpoint grestore moveto150 2236 a Fn(Figure)14 b(11:)k(Memory)12 b(use)j(in)f(a)f(generational)g(cop)o(y)h(collector)g(with)g(semispaces)g(for)g(eac)o(h)g(generation.)9692718 y(35)p eop%%Page: 36 36bop 0 55 a Fn(y)o(oungest)11 b(generation)g(can't)f(create)i(p)q(oin)o(ters)f(in)o(to)f(y)o(ounger)0 105 y(ones.)42 160 y(Ev)o(en)18 b(if)g(y)o(oung-to-old)f(p)q(oin)o(ters)i(are)f(not)h(recorded,)i(it)0210 y(ma)o(y)c(still)g(b)q(e)i(feasible)g(to)f(collect)h(a)f(generation)h(without)0 260 y(collecting)d(y)o(ounger)g(ones.)26 b(In)17b(this)f(case,)i Fk(al)r(l)e Fn(data)g(in)g(the)0 310 y(y)o(ounger)11b(generations)h(ma)o(y)d(b)q(e)j(considered)h(p)q(ossible)e(ro)q(ots,)0360 y(and)j(they)h(ma)o(y)d(simply)g(b)q(e)j(scanned)g(for)f(p)q(oin)o(ters)h([LH83)o(].)0 410 y(While)9 b(this)g(scanning)h(consumes)f(time)g(prop)q(ortional)f(to)i(the)0 459 y(amoun)o(t)i(of)h(data)h(in)f(the)h(y)o(ounger)g(generations,)g(eac)o(h)g(gen-)0 509 y(eration)g(is)g(usually)g(considerably)g(smaller)f(than)h(the)h(next,)0 559 y(and)h(the)g(cost)g(ma)o(y)e(b)q(e)j(small)c(relativ)o(e)j(to)f(the)i(cost)f(of)f(ac-)0 609 y(tually)g(collecting)h(the)h(older)g(generation.)25 b(\(Scanning)17b(the)0 659 y(data)f(in)g(the)g(y)o(ounger)h(generation)f(ma)o(y)e(b)q(e)j(preferable)g(to)0 708 y(collecting)10 b(b)q(oth)g(generations,)h(b)q(ecause)h(scanning)e(is)g(gener-)0 758 y(ally)i(faster)i(than)g(tracing)f(and)g(cop)o(ying;)g(it)g(ma)o(y)f(also)g(ha)o(v)o(e)0 808 y(b)q(etter)j(lo)q(calit)o(y)m(.\))42 863 y(The)i(cost)h(of)f(recording)h(in)o(tergenerational)f(p)q(oin)o(ters)g(is)0 913 y(t)o(ypically)f(prop)q(ortional)h(to)g(the)h(rate)g(of)f(program)f(execu-)0 963 y(tion,)g(i.e.,)g(it's)h(not)f(particularly)g(tied)h(to)g(the)g(rate)g(of)g(ob-)0 1013 y(ject)11 b(creation.)18b(F)m(or)10 b(some)g(programs,)g(it)g(ma)o(y)f(b)q(e)i(the)h(ma)r(jor)01063 y(cost)g(of)e(garbage)h(collection,)f(b)q(ecause)j(sev)o(eral)f(instructions)0 1113 y(m)o(ust)e(b)q(e)h(executed)i(for)d(ev)o(ery)h(p)q(oten)o(tial)f(p)q(oin)o(ter)h(store)h(in)o(to)0 1162 y(the)j(heap.)j(This)c(ma)o(y)e(slo)o(w)i(program)e(execution)j(do)o(wn)e(b)o(y)01212 y(sev)o(eral)h(p)q(ercen)o(t.)42 1268 y(Within)g(the)i(framew)o(ork)e(of)h(the)h(generational)e(strategy)0 1317 y(w)o(e'v)o(e)g(outlined,)f(sev)o(eral)h(imp)q(ortan)o(t)e(questions)j(remain:)42 1431 y Fe(\017)20b Fk(A)n(dvanc)n(ement)g(p)n(olicy.)34 b Fn(Ho)o(w)19 b(long)f(m)o(ust)g(an)g(ob)r(ject)83 1481 y(surviv)o(e)13 b(in)f(one)h(generation)g(b)q(efore)h(it)e(is)g(adv)n(anced)h(to)83 1531 y(the)i(next?)42 1636 y Fe(\017)20b Fk(He)n(ap)c(or)n(ganization.)k Fn(Ho)o(w)14 b(should)g(storage)h(space)h(b)q(e)83 1686 y(divided)10 b(and)f(used)i(b)q(et)o(w)o(een)g(generations,)g(and)f(within)83 1736 y(a)15 b(generation?)23 b(Ho)o(w)15 b(do)q(es)h(the)g(resulting)g(reuse)g(pat-)83 1785 y(tern)j(a\013ect)g(lo)q(calit)o(y)e(at)h(the)h(virtual)e(memory)f(lev)o(el,)83 1835 y(and)e(at)f(the)i(lev)o(el)f(of)f(high-sp)q(eed)h(cac)o(he)h(memories?)42 1941 y Fe(\017)20b Fk(Col)r(le)n(ction)13 b(sche)n(duling.)19 b Fn(F)m(or)12b(a)h(non-incremen)o(tal)f(col-)83 1990 y(lector,)i(ho)o(w)g(migh)o(t)e(w)o(e)i(a)o(v)o(oid)f(or)h(mitigate)e(the)j(e\013ect)83 2040 y(of)f(disruptiv)o(e)h(pauses,)g(esp)q(ecially)g(in)f(in)o(teractiv)o(e)h(ap-)832090 y(plications?)21 b(Can)15 b(w)o(e)h(impro)o(v)o(e)d(e\016ciency)j(b)o(y)f(careful)83 2140 y(\\opp)q(ortunistic")d(sc)o(heduling?)18b(Can)12 b(this)g(b)q(e)h(adapted)83 2190 y(to)22 b(incremen)o(tal)f(sc)o(hemes)h(to)g(reduce)i(\015oating)d(gar-)83 2239 y(bage?)422345 y Fe(\017)f Fk(Inter)n(gener)n(ational)j(r)n(efer)n(enc)n(es.)43b Fn(Since)23 b(it)f(m)o(ust)g(b)q(e)83 2395 y(p)q(ossible)f(to)f(collect)h(y)o(ounger)g(generations)g(without)83 2444 y(collecting)13b(the)h(older)f(ones,)g(w)o(e)h(m)o(ust)e(b)q(e)i(able)f(to)g(\014nd)832494 y(the)k(liv)o(e)e(p)q(oin)o(ters)i(from)d(older)i(generations)h(in)o(to)f(the)83 2544 y(ones)d(w)o(e're)g(collecting.)k(What)12 b(is)h(the)g(b)q(est)g(w)o(a)o(y)f(to)g(do)83 2594 y(this?)1011 55 y Fi(4.2)55 b(Adv)m(ancemen)n(t)17 b(P)n(olicies)1011 139 y Fn(The)11 b(simplest)g(adv)n(ancemen)o(t)f(p)q(olicy)h(is)g(to)g(simply)e(adv)n(ance)1011 188 y(all)16 b(liv)o(e)g(data)h(in)o(to)g(the)h(next)f(generation)h(whenev)o(er)g(they)1011238 y(are)e(tra)o(v)o(ersed.)23 b(This)16 b(has)f(an)g(adv)n(an)o(tage)g(of)g(ease)h(of)f(imp-)1011 288 y(lemen)o(tation,)d(b)q(ecause)k(it)e(is)g(not)g(necessary)j(to)d(b)q(e)h(able)f(to)1011 338 y(distinguish)g(b)q(et)o(w)o(een)i(ob)r(jects)g(of)e(di\013eren)o(t)h(ages)g(within)f(a)1011388 y(generation.)k(In)c(a)f(cop)o(ying)h(collector,)f(this)h(allo)o(ws)f(the)h(use)1011 437 y(of)i(a)g(single)g(con)o(tiguous)g(area)h(for)f(a)g(generation,)h(with)f(no)1011 487 y(division)e(in)o(to)i(semispaces,)g(and)g(it)g(do)q(es)h(not)f(require)g(an)o(y)1011 537 y(header)f(\014elds)f(to)g(hold)f(age)h(information.)1052 590 y(An)21 b(additional)e(adv)n(an)o(tage)h(of)h(adv)n(ancing)f(ev)o(erything)1011 640 y(out)26 b(of)g(a)h(generation)g(at)f(the)h(\014rst)h(tra)o(v)o(ersal)e(is)h(that)1011 690y(it)19 b(a)o(v)o(oids)h(the)g(buildup)g(of)f(long-liv)o(ed)g(ob)r(jects)i(within)e(a)1011 740 y(generation|a)d(long-liv)o(ed)f(ob)r(ject)j(cannot)g(b)q(e)f(copied)g(re-)1011 790 y(p)q(eatedly)22 b(at)g(the)h(same)e(timescale,)i(b)q(ecause)g(it)f(will)e(b)q(e)1011 840 y(quic)o(kly)14 b(adv)n(anced)g(to)h(the)g(next)h(older)e(generation,)h(whic)o(h)1011 889 y(is)e(collected)i(less)g(often.)1052 943 y(The)g(problem)e(here)i(is)g(that)f(ob)r(jects)i(ma)o(y)c(b)q(e)j(adv)n(anced)1011 993 y Fk(to)n(o)j Fn(fast|short-liv)o(ed)e(ob)r(jects)j(allo)q(cated)f(shortly)f(b)q(efore)1011 1042 y(a)f(collection)f(will)g(b)q(e)i(adv)n(anced)f(to)g(the)h(next)f(generation,)10111092 y(ev)o(en)k(though)f(they)h(are)g(quite)f(y)o(oung)g(and)h(lik)o(ely)e(to)h(die)1011 1142 y(almost)13 b(immediately)f([Ung84)o(,)j(WM89)o(].)22b(This)15 b(will)f(cause)1011 1192 y(the)20 b(older)f(generation)h(to)f(\014ll)g(up)g(more)g(quic)o(kly)f(and)h(b)q(e)1011 1242 y(collected)14b(more)e(often.)18 b(The)c(problem)e(of)h(v)o(ery)g(short-liv)o(ed)10111291 y(ob)r(jects)21 b(ma)o(y)d(b)q(e)i(alleviated)f(b)o(y)h(dela)o(ying)f(the)h(adv)n(ance-)1011 1341 y(men)o(t)15 b(of)h(ob)r(jects)h(b)o(y)g(just)f(one)h(garbage)f(collection)g(cycle;)1011 1391 y(this)d(ensures)j(that)d(all)g(ob)r(jects)h(are)g(roughly)f(the)h(same)f(age)1011 1441 y(\(within)k(a)h(factor)h(of)e(t)o(w)o(o\))h(when)h(they)g(are)g(adv)n(anced)f(to)10111491 y(an)d(older)h(generation.)25 b(\(In)16 b(an)f(incremen)o(tal)g(generational)1011 1541 y(collector,)h(allo)q(cating)e(blac)o(k)i(can)g(ha)o(v)o(e)f(a)h(similar)d(e\013ect)18 b(if)1011 1590 y(incremen)o(tal)13b(collection)i(phases)g(are)h(of)e(a)g(su\016cien)o(t)h(dura-)10111640 y(tion)e([WJ93)o(].\))1052 1694 y(It)i(is)f(unclear)h(whether)h(k)o(eeping)e(ob)r(jects)i(within)e(a)g(gen-)1011 1743 y(eration)k(for)g(more)f(than)i(t)o(w)o(o)e(collection)h(cycles)i(is)e(w)o(orth)10111793 y(the)c(extra)h(cop)o(ying)e(cost.)18 b(Under)d(most)e(conditions,)g(it)g(ap-)1011 1843 y(p)q(ears)h(that)f(successiv)o(e)j(copies)d(do)g(not)h(greatly)e(reduce)j(the)1011 1893 y(amoun)o(t)j(of)h(data)g(adv)n(anced)h([WM89)o(,)f(Zor89],)h(although)1011 1943 y(this)13 b(is)h(highly)e(dep)q(enden)o(t)k(on)d(the)h(nature)h(of)e(the)h(applica-)1011 1992y(tion;)d(it)g(ma)o(y)e(also)i(b)q(e)h(desirable)g(to)f(v)n(ary)g(the)h(adv)n(ancemen)o(t)1011 2042 y(p)q(olicy)h(dynamically)e([WM89)o(,)i(UJ88].)10522096 y(The)i(desirabilit)o(y)d(of)i(k)o(eeping)g(data)f(in)h(a)f(generation)h(for)1011 2145 y(m)o(ultiple)e(collection)h(cycles)j(is)e(also)f(a\013ected)j(b)o(y)e(the)h(n)o(um-)1011 2195 y(b)q(er)h(and)f(size)g(of)g(older)g(generations.)22 b(In)15 b(general,)g(if)g(there)1011 2245y(are)d(v)o(ery)f(few)h(generations)f(\(e.g.,)g(t)o(w)o(o,)g(as)h(in)e(Ungar's)i Fk(Gen-)1011 2295 y(er)n(ation)21 b(Sc)n(avenging)iFn(system\),)g(it)e(is)g(more)f(desirable)i(to)1011 2345 y(retain)e(data)f(longer,)h(to)g(a)o(v)o(oid)e(\014lling)g(up)i(older)f(genera-)10112395 y(tions.)27 b(If)16 b(in)o(termediate)h(generations)g(are)g(a)o(v)n(ailable,)f(it)g(is)1011 2444 y(usually)11 b(preferable)j(to)e(adv)n(ance)g(things)g(more)g(quic)o(kly)m(,)f(b)q(e-)1011 2494 y(cause)17b(they)g(are)g(lik)o(ely)e(to)h(die)g(in)g(an)g(in-b)q(et)o(w)o(een)h(genera-)1011 2544 y(tion)f(and)h(nev)o(er)g(b)q(e)h(adv)n(anced)f(to)f(the)i(oldest)f(generation)1011 2594 y([WM89)o(,)c(Zor89].)969 2718y(36)p eop%%Page: 37 37bop 0 55 a Fi(4.3)56 b(Heap)18 b(Organization)0 137 y Fn(A)11b(generational)f(collector)h(m)o(ust)f(treat)i(ob)r(jects)g(of)e(di\013eren)o(t)0 187 y(ages)21 b(di\013eren)o(tly)m(.)39 b(While)20 b(tracing,)h(it)g(m)o(ust)e(b)q(e)j(able)e(to)0 237 y(tell)e(whic)o(h)h(generation)f(an)g(ob)r(ject)i(b)q(elongs)e(to,)h(in)f(order)0 287 y(to)d(decide)i(whether)f(to)g(trace)g(its)f(o\013spring,)h(and)f(whether)0 337 y(to)c(adv)n(ance)h(it)f(to)h(another)f(generation.)18 b(The)12 b(write)g(barrier)0387 y(m)o(ust)d(also)h(b)q(e)h(able)f(to)h(determine)f(ob)r(jects')h(generations,)g(to)0 436 y(detect)16 b(whether)f(a)e(p)q(oin)o(ter)h(to)g(a)g(y)o(ounger)g(ob)r(ject)g(is)g(b)q(eing)0 486 y(stored)h(in)o(to)e(an)h(older)g(ob)r(ject.)42 539 y(In)f(a)g(cop)o(ying)g(collector,)g(this)g(is)g(usually)g(done)h(b)o(y)f(k)o(eep-)0 589 y(ing)f(ob)r(jects)i(of)e(di\013eren)o(t)i(ages)f(in)f(di\013eren)o(t)h(areas)h(of)e(mem-)0639 y(ory)m(.)20 b(In)15 b(man)o(y)e(systems,)h(these)j(are)e(con)o(tiguous)f(areas;)h(an)0 688 y(ob)r(ject's)22 b(generation)g(can)f(therefore)i(b)q(e)f(determined)f(b)o(y)0 738 y(simple)e(address)j(comparisons.)38b(In)20 b(other)i(systems,)g(the)0 788 y(\\areas")16 b(ma)o(y)f(b)q(e)i(noncon)o(tiguous)e(sets)j(of)e(pages|an)g(ob-)0 838 y(ject's)d(generation)g(can)f(b)q(e)h(determined)g(b)o(y)f(using)g(the)h(page)0 888y(n)o(um)o(b)q(er)i(part)g(of)g(its)g(address)h(to)f(index)h(in)o(to)e(a)h(table)g(that)0 937 y(sa)o(ys)f(whic)o(h)g(generation)g(that)g(page)g(b)q(elongs)g(to.)42 990 y(In)20 b(other)i(systems,)g(suc)o(h)g(as)f(non-cop)o(ying)f(collectors,)0 1040 y(eac)o(h)g(ob)r(ject)h(b)q(elongs)f(to)g(a)f(generation,)j(but)e(ob)r(jects)h(of)0 1090 y(di\013eren)o(t)16b(generations)f(ma)o(y)e(b)q(e)i(in)o(tersp)q(ersed)i(in)e(memory)m(.)01140 y(T)o(ypically)m(,)k(eac)o(h)i(ob)r(ject)g(has)g(a)f(header)h(\014eld)f(indicating)0 1189 y(whic)o(h)14 b(generation)g(it)f(b)q(elongs)h(to.)01313 y Fm(4.3.1)48 b(Subareas)14 b(in)h(cop)o(ying)f(sc)o(hemes)01395 y Fn(Generational)21 b(cop)o(ying)g(collectors)h(divide)f(eac)o(h)i(genera-)0 1445 y(tions')11 b(space)i(in)o(to)e(sev)o(eral)h(areas.)17b(F)m(or)12 b(example,)e(eac)o(h)i(gen-)0 1495 y(eration)18b(ma)o(y)f(consist)h(of)g(a)g(pair)g(of)g(semispaces,)h(so)f(that)01545 y(ob)r(jects)f(can)e(b)q(e)h(copied)g(bac)o(k)f(and)h(forth)f(from)f(one)h(space)0 1595 y(to)j(another,)h(to)f(retain)h(them)e(within)h(a)g(generation)g(o)o(v)o(er)0 1644 y(m)o(ultiple)8 b(collections.)17b(\(If)11 b(only)f(one)h(space)h(is)e(used,)i(ob)r(jects)01694 y(m)o(ust)h(b)q(e)h(adv)n(anced)g(to)g(another)h(generation)f(imm)o(ediately)0 1744 y(b)q(ecause)19 b(there's)g(no)o(where)f(to)f(cop)o(y)g(them)g(to)g(within)g(the)0 1794 y(same)c(generation.\))421847 y(The)j(lo)q(calit)o(y)f(of)h(semispace)g(memory)e(usage)i(is)h(p)q(o)q(or|)0 1896 y(only)12 b(half)h(of)f(the)i(memory)d(of)i(a)g(generation)g(can)h(b)q(e)g(in)e(use)0 1946 y(at)h(a)h(giv)o(en)f(time,)f(y)o(et)h(b)q(oth)h(of)f(the)h(spaces)h(are)f(touc)o(hed)h(in)0 1996 y(their)20b(en)o(tiret)o(y)g(ev)o(ery)g(t)o(w)o(o)f(collection)f(cycles.)36b(Lisp)19 b(ma-)0 2046 y(c)o(hine)j(garbage)g(collectors)h([Mo)q(o84)n(,)f(Cou88)o(])g(a)o(v)o(oid)e(this)0 2096 y(problem)15 b(b)o(y)g(using)h(only)f(a)g(single)h(space)h(p)q(er)f(generation.)0 2145 y(Rather)j(than)g(cop)o(ying)g(ob)r(jects)h(from)d(one)i(semispace)g(to)0 2195 y(the)d(other)g(un)o(til)e(they)i(are)g(adv)n(anced,)f(garbage)h(collection)0 2245y(of)c(a)f(generation)i(adv)n(ances)f Fk(al)r(l)g Fn(ob)r(jects)h(in)o(to)f(the)g(next)h(gen-)0 2295 y(eration.)k(This)c(a)o(v)o(oids)e(the)i(need)g(for)f(a)g(pair)g(of)f(semispaces,)0 2345 y(except)j(in)f(the)g(oldest)g(generation,)g(whic)o(h)g(has)g(no)f(place)h(to)0 2395 y(cop)o(y)19b(things)f(to.)33 b(Unfortunately)m(,)19 b(it)f(has)h(the)g(dra)o(wbac)o(k)02444 y(that)c(relativ)o(ely)g(y)o(oung)f(ob)r(jects)j(ma)o(y)c(b)q(e)j(adv)n(anced)f(along)0 2494 y(with)d(relativ)o(ely)f(old)h(ones|ob)r(jects)h(allo)q(cated)f(shortly)g(b)q(e-)0 2544 y(fore)g(a)g(collection)g(are)h(not)f(giv)o(en)f(m)o(uc)o(h)g(time)g(to)h(die)g(b)q(efore)0 2594 y(b)q(eing)19b(adv)n(anced.)33 b(These)20 b(relativ)o(ely)e(y)o(oung)g(ob)r(jects)i(are)1011 55 y(lik)o(ely)15 b(to)i(die)f(shortly)h(after)g(b)q(eing)g(adv)n(anced,)g(needlessly)1011 105 y(taking)d(up)h(space)g(in)g(the)g(next)g(generation)g(and)g(forcing)f(it)1011 155 y(to)f(b)q(e)i(collected)g(again)d(so)q(oner.)1052 211 y(Ungar's)i(solution)f(to)g(this)h(problem)e(in)i(the)g(Y)m(oung)f(gen-)1011 261 y(eration)24 b(\(of)g(his)g(Generation)g(Sca)o(v)o(enging)f(collector\))i(is)1011 311 y(to)18 b(use)h Fk(thr)n(e)n(e)fFn(spaces)i(instead)f(of)f(just)g(t)o(w)o(o,)h(with)f(all)f(ob-)1011361 y(jects)f(b)q(eing)e(initially)f(allo)q(cated)h(in)g(the)i(third)f(space.)22 b(The)1011 410 y(newly-created)e(ob)r(jects)g(in)e(this)h(third)g(space)h(are)f(copied)1011 460 y(in)o(to)j(a)g(semispace,)i(along)e(with)g(the)i(ob)r(jects)f(from)e(the)1011 510 y(other)e(semispace.)32b(The)19 b(third)g(space)g(is)g(emptied)e(at)i(ev-)1011 560y(ery)24 b(garbage)g(collection)f(cycle,)k(and)c(can)h(therefore)h(b)q(e)1011610 y(reused)16 b(immediately)11 b(eac)o(h)16 b(time.)j(It)c(therefore)h(has)f(lo)q(cal-)1011 660 y(it)o(y)i(c)o(haracteristics)k(similar)15b(to)k(those)g(of)e(a)i(single-space-)1011 709 y(p)q(er-generation)d(system.)22 b(It)16 b(migh)o(t)d(seem)i(that)h(this)f(third)1011 759y(space)f(w)o(ould)f Fk(incr)n(e)n(ase)g Fn(memory)e(usage,)i(since)i(semispaces)1011 809 y(are)c(still)e(required)j(in)e(that)g(generation)h(so)g(that)f(ob)r(jects)i(can)1011 859 y(b)q(e)g(k)o(ept)g(in)f(the)h(generation)g(for)f(m)o(ultiple)e(collections.)18 b(The)1011 909 y(creation)13b(area)g(is)f(used)i(in)e(its)h(en)o(tiret)o(y)g(at)g(eac)o(h)g(allo)q(cation-)1011 958 y(and-collection)j(cycle,)i(while)f(eac)o(h)g(semispace)g(is)g(used)h(to)1011 1008 y(hold)9 b(the)h(surviv)o(ors)g(at)f(ev)o(ery)i(other)f(collection)f(cycle.)17 b(T)o(yp-)1011 1058 y(ically)f(only)g(a)h(small)e(minorit)o(y)g(of)h(new)i(ob)r(jects)g(t)o(ypically)10111108 y(surviv)o(es)13 b(ev)o(en)h(a)f(\014rst)g(collection,)g(so)g(only)f(a)h(small)d(part)k(of)1011 1158 y(eac)o(h)e(semispaces)g(is)f(actually)g(used)h(most)f(of)g(the)h(time,)e(and)1011 1207 y(the)k(o)o(v)o(erall)f(memory)e(usage)k(is)e(lo)o(w)o(er.)1052 1264 y(Wilson's)h(Opp)q(ortunistic)i(Garbage)e(Collector)h([WM89)n(])1011 1314 y(uses)22 b(a)f(v)n(ariation)e(on)i(this)g(sc)o(heme,)i(with)d(the)i(subareas)1011 1363 y(within)c(a)g(generation)h(used)h(for)e(the)i(additional)d(purp)q(ose)1011 1413 y(of)d(deciding)g(when)i(to)e(adv)n(ance)h(an)f(ob)r(ject)i(from)d(one)i(gen-)10111463 y(eration)i(to)h(another|ob)r(jects)h(are)f(adv)n(anced)g(out)f(of)g(the)1011 1513 y(semispaces)11 b(to)f(the)h(next)g(generation)f(at)h(eac)o(h)g(cycle,)g(rather)1011 1563 y(than)i(b)q(eing)h(copied)g(bac)o(k)g(and)f(forth)h(from)e(one)i(semispace)1011 1612 y(to)j(the)i(other)f(at)f(successiv)o(e)j(collections.)29 b(In)18 b(e\013ect,)i(this)10111662 y(is)12 b(a)h(simple)e(\\buc)o(k)o(et)i(brigade")f(adv)n(ancemen)o(t)g(mec)o(hanism)1011 1712 y([Sha88)o(],)f(using)h(the)g(segregation)g(of)g(ob)r(jects)h(in)o(to)e(subareas)1011 1762 y(to)18 b(enco)q(de)h(their)g(ages)f(for)g(the)g(adv)n(ancemen)o(t)f(p)q(olicy)m(.)30 b(It)10111812 y(a)o(v)o(oids)12 b(the)h(need)h(for)e(age)h(\014elds)g(in)g(ob)r(ject)g(headers,)h(whic)o(h)1011 1861 y(ma)o(y)j(b)q(e)j(adv)n(an)o(tageous)e(in)h(some)f(systems,)j(where)f(some)1011 1911 y(ob)r(jects)c(do)g(not)f(ha)o(v)o(e)g(headers)i(at)f(all.)1648 1896 y Fj(30)1704 1911 y Fn(It)g(do)q(es)g(pro)o(vide)1011 1961 y(a)f(guaran)o(tee)h(that)g(ob)r(jects)h(will)d(not)h(b)q(e)h(adv)n(anced)g(out)g(of)1011 2011 y(a)h(generation)g(without)g(surviving)f(for)h(at)g(least)h(one)f(\(and)1011 2061 y(up)d(to)h(t)o(w)o(o\))f(collection)g(cycles;)h(this)g(is)f(su\016cien)o(t)h(to)f(a)o(v)o(oid)10112111 y(premature)g(adv)n(ancemen)o(t)f(of)g(v)o(ery)h(short-liv)o(ed)g(data.)1052 2167 y(In)j(sev)o(eral)h(generational)e(cop)o(ying)h(collection)f(systems,)1011 2217 y(the)f(oldest)g(generation)g(is)f(treated)i(sp)q(ecially)m(.)k(In)15 b(the)g(Lisp)1011 2266 y(mac)o(hine)9b(collectors,)i(this)f(is)g(necessitated)j(b)o(y)d(the)h(fact)f(that)10112316 y(most)f(generations)i(are)f(emptied)g(at)g(ev)o(ery)h(collection)f(cycle,)1011 2366 y(and)j(their)i(con)o(ten)o(ts)g(copied)f(to)g(the)g(next)h(generation|for)1011 2416 y(the)j(oldest)g(generation)f(there)i(isn't)e(an)g(older)h(generation)p 1011 2476 388 2 v 1042 2503 a Fh(30)10742515 y Fg(F)m(or)8 b(example,)f(in)h(some)f(high-p)q(erfor)o(ma)o(nce)e(Lisp)j(systems,)f(a)h(sp)q(e-)1011 2554 y(cial)k(p)q(oin)o(ter)f(tag)i(signi\014es)e(a)i(p)q(oin)o(ter)e(to)i(a)g(cons)f(cell,)h(and)f(the)g(cons)1011 2594 y(cell)e(itself)h(has)g(no)g(header.)969 2718 y Fn(37)peop%%Page: 38 38bop 0 55 a Fn(to)13 b(cop)o(y)h(things)f(in)o(to.)18 b(The)13b(oldest)h(generation)g(\(\\dynamic)0 105 y(space"\))e(is)g(therefore)g(structured)i(as)d(a)h(pair)f(of)f(semispaces,)0 155 y(whic)o(h)k(are)h(used)g(alternately)m(.)j(A)c(further)h(enhancemen)o(t)f(is)0 205y(to)g(pro)o(vide)f(a)h(sp)q(ecial)g(area,)g(called)f(\\static)h(space,")g(whic)o(h)0 255 y(is)9 b(not)h(garbage)f(collected)h(at)f(all)f(during)h(normal)f(op)q(eration.)0 304 y(This)16 b(area)g(holds)f(system)h(data)g(and)f(compiled)f(co)q(de)j(that)0 354 y(are)d(exp)q(ected)i(to)e(c)o(hange)g(v)o(ery)g(rarely)m(.)42 405 y(Some)k(cop)o(ying)g(collectors)i(based)g(on)f(Ungar's)h(Gener-)0 455 y(ation)e(Sca)o(v)o(enging)g(system)h(treat)g(the)h(oldest)f(generation)0 504 y(sp)q(ecially)13 b(b)o(y)h(structuring)h(it)e(as)h(a)g(single)f(space)i(and)e(using)0 554 y(a)g(mark-compact)e(algorithm.)16b(In)d(these)i(systems,)f(all)e(gen-)0 604 y(erations)f(t)o(ypically)e(reside)i(in)f(RAM)h(during)f(normal)e(execu-)0 654 y(tion,)i(and)g(the)g(use)h(of)f(a)f(single)h(space)h(reduces)h(the)f(RAM)f(re-)0704 y(quired)i(to)g(k)o(eep)h(the)f(oldest)h(generation)f(memory)e(residen)o(t.)0 753 y(While)i(the)i(mark-compact)d(algorithm)f(is)j(more)f(exp)q(ensiv)o(e)0 803 y(than)k(a)f(t)o(ypical)g(cop)o(y)g(collection,)g(the)i(abilit)o(y)d(to)h(p)q(erform)0 853 y(a)i(full)f(collection)h(without)g(paging)g(mak)o(es)f(it)h(w)o(orth)o(while)0 903 y(for)11 b(the)i(oldest)f(generation.)17b(Non-cop)o(ying)11 b(tec)o(hniques)i(can)0 953 y(b)q(e)g(used)g(for)f(the)h(same)e(purp)q(ose,)i(although)f(they)h(are)f(more)0 1003 y(sub)r(ject)j(to)f(fragmen)o(tation)e(problems.)0 1114 y Fm(4.3.2)48 b(Generations)12b(in)j(Non-cop)o(ying)f(Sc)o(hemes)0 1193 y Fn(In)c(our)g(discussion)g(of)f(generational)g(collection)h(th)o(us)g(far,)g(w)o(e)0 1242y(ha)o(v)o(e)15 b(fo)q(cused)i(primarily)12 b(on)k(cop)o(ying)e(garbage)i(collection)0 1292 y(sc)o(hemes,)f(where)h(generations)f(can)g(b)q(e)g(view)o(ed)g(as)g(\\areas")0 1342 y(of)h(memory)f(holding)h(ob)r(jects)i(of)e(di\013eren)o(t)j(ages.)27 b(This)17 b(is)0 1392 y(unnecessary)m(,)g(ho)o(w)o(ev)o(er,)e(as)h(long)e(as)i(it)f(is)g(p)q(ossible)g(to)g(dis-)01442 y(tinguish)g(ob)r(jects)j(of)d(di\013eren)o(t)i(ages)f(and)g(treat)h(them)e(dif-)0 1491 y(feren)o(tly)m(.)i(Just)d(as)f(incremen)o(tal)e(collection)h(algorithms)f(are)0 1541 y(b)q(est)i(understo)q(o)q(d)g(in)f(terms)f(of)h(the)g(abstraction)g(of)g(tricolor)0 1591 y(marking,)e(generational)i(algorithms)e(are)j(b)q(est)g(understo)q(o)q(d)01641 y(in)f(terms)g(of)g(sets)i(of)e(ob)r(jects)i(whic)o(h)e(are)h(garbage)f(collected)0 1691 y(at)19 b(di\013eren)o(t)h(frequencies.)35b(\(Eac)o(h)19 b(of)f(these)j(age)e(sets,)i(in)0 1740 y(turn,)e(can)e(b)q(e)i(divided)e(in)o(to)g(shaded)h(and)f(unshaded)i(sets)0 1790y(for)14 b(the)g(purp)q(oses)h(of)f(the)g(tracing)g(tra)o(v)o(ersal.\))421841 y(The)20 b(Xero)o(x)g(P)m(AR)o(C)g(PCR)g(\(P)o(ortable)g(Common)d(Run-)01891 y(time\))e(garbage)h(collector)g(is)g(a)g(generational)g(mark-sw)o(eep)01941 y(collector,)d(with)f(a)g(header)h(\014eld)g(p)q(er)g(ob)r(ject)g(indicating)f(the)0 1990 y(ob)r(ject's)k(age.)21 b(Ob)r(jects)16b(of)e(di\013eren)o(t)i(generations)g(ma)o(y)d(b)q(e)0 2040y(allo)q(cated)d(in)g(the)h(same)e(page,)i(although)f(the)h(system)f(uses)h(a)0 2090 y(heuristic)g(to)f(minim)o(ize)e(this)i(for)g(lo)q(calit)o(y)f(reasons)797 2075 y Fj(31)833 2090 y Fn(.)17 b(When)0 2140y(garbage)g(collecting)g(only)f(y)o(oung)g(data,)i(the)f(PCR)g(collec-)02190 y(tor)c(scans)h(the)f(ro)q(ot)g(set)h(and)e(tra)o(v)o(erses)j(ob)r(jects)f(whose)f(age)0 2239 y(\014elds)i(signify)d(that)j(they)f(are)h(sub)r(ject)g(to)f(collection.)k(This)0 2289 y(tracing)11 b(con)o(tin)o(ues)g(transitiv)o(ely)g(in)f(the)i(usual)e(w)o(a)o(y)m(,)g(tracing)02339 y(all)17 b(reac)o(hable)i(y)o(oung)e(ob)r(jects.)33 b(The)18b(generational)g(write)0 2389 y(barrier)c(uses)g(pagewise)f(dirt)o(y)g(bits)g(main)o(tained)e(b)o(y)i(virtual)0 2439 y(memory)j(access)k(protection)f(tec)o(hniques;)i(as)d(will)f(b)q(e)i(ex-)p 0 2476 388 2 v 31 2503a Fh(31)64 2515 y Fg(P)o(ages)c(con)o(taining)d(old)k(ob)r(jects)e(are)h(not)g(used)g(to)g(hold)g(y)o(oung)0 2554 y(ob)r(jects)g(unless)g(they)h(are)g(more)f(than)h(half)f(empt)o(y;)j(this)d(tends)h(to)0 2594y(a)o(v)o(oid)10 b(gratuitously)e(mixing)i(older)g(and)h(y)o(ounger)e(data.)1011 55 y Fn(plained)k(in)g(Sect.)h(4.4.3,)e(pages)i(of)f(older)h(generations)g(dirt-)1011 105 y(ied)i(since)h(the)g(previous)g(collection)f(are)g(scanned)i(in)e(their)1011 155 y(en)o(tiret)o(y)m(,)k(and)g(an)o(y)f(p)q(oin)o(ters)h(to)g(y)o(oung)e(generations)j(are)1011 205 y(noted)14b(and)g(used)h(as)f(part)g(of)f(the)h(ro)q(ot)g(set.)1011 321y Fm(4.3.3)48 b(Discussion)1011 401 y Fn(Man)o(y)15 b(v)n(ariations)g(on)h(generational)f(collection)h(are)g(p)q(ossi-)1011 451 y(ble,)e(and)h(h)o(ybrids)f(are)h(common,)d(to)j(allo)o(w)e(v)n(arious)g(trade-)1011501 y(o\013s)h(to)g(b)q(e)g(adjusted.)1052 552 y(It)27 b(is)f(common)e(for)i(cop)o(ying)f(collectors)i(to)g(manage)1011 602 y(large)c(ob)r(jects)i(di\013eren)o(tly)m(,)h(storing)d(them)g(in)g(a)h(sp)q(ecial)1011652 y Fk(lar)n(ge)16 b(obje)n(ct)h(ar)n(e)n(a)e Fn(and)h(a)o(v)o(oiding)e(actually)h(cop)o(ying)h(them)1011 702 y([CWB86)o(].)k(This)14b(essen)o(tially)h(com)o(bines)e(cop)o(ying)h(of)g(small)1011752 y(ob)r(jects)j(\(where)h(it's)e(c)o(heap\))h(with)f(mark-sw)o(eep)f(for)h(large)1011 801 y(ob)r(jects,)f(to)f(a)o(v)o(oid)f(the)i(larger)f(space)h(and)f(time)f(o)o(v)o(erheads)1011 851 y(of)h(cop)o(ying)g(them.)19b(\(Commonly)l(,)12 b(large)i(ob)r(jects)i(are)f(actu-)1011901 y(ally)h(represen)o(ted)21 b(b)o(y)c(a)g(small)f(cop)o(y-collected)i(pro)o(xy)f(ob-)1011 951 y(ject,)e(whic)o(h)g(holds)g(an)g(indirection)g(p)q(oin)o(ter)g(to)g(the)g(actual)1011 1001 y(storage)f(for)g(the)g(ob)r(ject's)h(data)e(\014elds.\))1052 1052 y(Ob)r(jects)i(kno)o(wn)e(not)h(to)f(con)o(tain)g(p)q(oin)o(ters)h(ma)o(y)e(also)g(b)q(e)1011 1102 y(segregated)h(from)e(other)h(ob)r(jects,)i(to)e(optimize)e(the)j(tracing)10111152 y(pro)q(cess)g(and/or)e(the)i(scanning)e(in)o(v)o(olv)o(ed)g(in)g(some)f(sc)o(hemes)1011 1202 y(for)22 b(trac)o(king)f(in)o(tergenerational)h(p)q(oin)o(ters)h([Lee88];)i(this)1011 1251 y(ma)o(y)13 b(also)i(impro)o(v)o(e)f(lo)q(calit)o(y)g(of)h(reference)j(during)d(tracing)1011 1301y(if)f(cop)o(y-collected)i(pro)o(xies)g(are)g(used,)g(b)q(ecause)h(the)f(actual)1011 1351 y(storage)e(for)g(non-p)q(oin)o(ter)f(ob)r(jects)i(needn't)g(b)q(e)f(touc)o(hed)h(at)1011 1401 y(all.)1052 1452 y(The)f(P)o(arcPlace)h(Smalltalk-8)o(0)c(garbage)i(collector)h(com-)1011 1502 y(bines)d(stop-and-cop)o(y)f(collection)h(of)f(the)h(y)o(oung)f(generation)10111552 y(\(where)17 b(the)g(w)o(orst-case)g(pause)f(is)g(not)g(large\))g(with)f(incre-)1011 1602 y(men)o(tal)d(mark-sw)o(eep)h(collection)h(of)f(older)h(data.)1803 1587 y Fj(32)1011 1727 y Fi(4.4)55 b(T)-5 b(rac)n(king)29b(In)n(tergenerational)e(Refer-)1138 1785 y(ences)1011 1865y Fn(Generational)g(collectors)h(m)o(ust)e(detect)k(p)q(oin)o(ters)e(from)1011 1914 y(older)12 b(to)g(y)o(ounger)g(generations,)g(requiring)g(a)gFk(write)f(b)n(arrier)1011 1964 y Fn(similar)e(to)i(that)h(used)h(b)o(y)e(some)g(incremen)o(tal)g(tracing)g(algo-)1011 2014 y(rithms.)17b(That)c(is,)h(a)f(program)f(cannot)i(simply)e(store)j(p)q(oin-)10112064 y(ters)e(in)o(to)e(heap)i(ob)r(jects|the)g(compiler)e(and/or)h(hardw)o(are)1011 2114 y(m)o(ust)h(ensure)j(that)e(eac)o(h)g(p)q(oten)o(tial)g(store)h(is)f(accompanied)1011 2164 y(b)o(y)g(c)o(hec)o(king)g(or)h(recording)f(op)q(erations,)h(to)f(ensure)h(that)g(if)1011 2213 y(an)o(y)e(p)q(oin)o(ters)h(to)g(y)o(ounger)f(generations)i(are)f(created,)g(they)10112263 y(can)20 b(b)q(e)h(found)e(later)h(b)o(y)g(the)h(collector.)36b(T)o(ypically)m(,)19 b(the)1011 2313 y(compiler)9 b(emits)h(additional)f(instructions)j(along)e(with)g(eac)o(h)1011 2363 y(p)q(oten)o(tial)j(p)q(oin)o(ter)h(store)h(instruction,)e(to)h(p)q(erform)f(the)h(re-)10112413 y(quired)g(write)g(barrier)g(op)q(erations.)1052 2464y(F)m(or)22 b(man)o(y)f(systems,)j(this)e(ma)o(y)f(b)q(e)i(the)g(largest)f(cost)1011 2514 y(of)d(generational)g(garbage)h(collection.)35b(F)m(or)19 b(example,)g(in)p 1011 2555 V 1042 2582 a Fh(32)10742594 y Fg(Da)o(vid)11 b(Ungar,)f(p)q(ersonal)g(comm)o(unica)o(tio)o(n,)e(1992.)969 2718 y Fn(38)p eop%%Page: 39 39bop 0 55 a Fn(a)18 b(mo)q(dern)g(Lisp)g(system)g(with)g(an)g(optimizing)e(compiler,)0 105 y(p)q(oin)o(ter)23 b(stores)h(t)o(ypically)d(accoun)o(t)i(for)f(one)h(p)q(ercen)o(t)h(or)0 155 y(so)d(of)f(the)i(total)e(instruction)h(coun)o(t)g([SH87,)f(Zor89].)39 b(If)0 205 y(eac)o(h)13 b(p)q(oin)o(ter)g(store)h(requires)g(t)o(w)o(en)o(t)o(y)f(instructions)g(for)g(the)0255 y(write)d(barrier,)g(p)q(erformance)f(will)f(b)q(e)i(degraded)h(b)o(y)e(roughly)0 304 y(t)o(w)o(en)o(t)o(y)k(p)q(ercen)o(t.)19 b(Optimizing)10b(the)k(write)f(barrier)g(is)f(there-)0 354 y(fore)17 b(v)o(ery)h(imp)q(ortan)o(t)d(to)i(o)o(v)o(erall)f(garbage)h(collector)g(p)q(er-)0404 y(formance,)e(and)g(signi\014can)o(tly)g(faster)i(write)f(barriers)g(ha)o(v)o(e)0 454 y(b)q(een)11 b(dev)o(elop)q(ed.)17 b(Because)11b(of)e(their)h(k)o(ey)f(role)g(in)g(the)h(o)o(v)o(erall)0 504y(p)q(erformance)g(of)f(a)g(generational)g(collector,)i(w)o(e)f(will)e(discuss)0 553 y(write)14 b(barriers)h(in)e(some)g(detail.)42606 y(Man)o(y)e(write)h(barrier)g(tec)o(hniques)h(ha)o(v)o(e)e(b)q(een)i(used,)g(with)0 656 y(di\013eren)o(t)h(p)q(erformance)g(tradeo\013s)g(on)f(di\013eren)o(t)h(hardw)o(are,)0 706 y(and)f(for)f(di\013eren)o(t)i(languages)e(and)h(language)e(implemen)o(ta-)0 756 y(tion)i(strategies.)42808 y(Some)h(systems)i(use)g(a)f(collection)g(strategy)h(that)g(is)f(\\al-)0858 y(most)d(generational")h(but)h(without)f(using)g(a)g(write)h(barrier,)0908 y(to)j(get)g(some)f(of)g(the)i(b)q(ene\014t)g(of)f(generational)f(collection.)0 958 y(Rather)h(than)g(k)o(eeping)f(trac)o(k)h(of)f(p)q(oin)o(ters)i(from)d(old)h(data)0 1008 y(to)g(y)o(oung)f(data)h(as)g(they)g(are)h(created,)h(old)d(data)g(are)i(sim-)0 1058 y(ply)c(scanned)i(for)e(suc)o(h)i(p)q(oin)o(ters)f(at)f(collection)h(time.)i(This)0 1107 y(requires)23b(more)e(scanning)h(w)o(ork,)h(and)f(has)g(w)o(orse)g(lo)q(cal-)01157 y(it)o(y)c(than)h(true)h(generational)e(collection,)h(but)g(it)g(ma)o(y)e(b)q(e)0 1207 y(considerably)k(faster)h(than)g(tracing)f(all)f(reac)o(hable)i(data.)0 1257 y(\(Scanning)17 b(is)f(t)o(ypically)g(sev)o(eral)h(times)f(faster)h(than)g(trac-)0 1307 y(ing,)c(and)h(has)g(strong)g(spatial)f(lo)q(calit)o(y)g(of)g(reference.\))21 b(The)0 1356 y(\\Strati\014ed)11b(Garbage)e(Collector")h(for)g(Austin)h(Ky)o(oto)f(Com-)0 1406y(mon)15 b(Lisp)i(\(an)f(enhancemen)o(t)h(of)f(Ky)o(oto)h(Commo)o(n)d(Lisp\))0 1456 y(uses)k(suc)o(h)g(a)f(sc)o(heme)g(to)f(a)o(v)o(oid)g(the)i(o)o(v)o(erhead)f(of)f(a)h(write)0 1506 y(barrier.)134 1491 y Fj(33)1961506 y Fn(Bartlett)g(has)g(used)g(a)g(similar)d(tec)o(hnique)j(in)f(a)01556 y(collector)d(designed)g(to)f(w)o(ork)g(with)g(o\013-the-shelf)g(compilers)0 1605 y(whic)o(h)i(do)f(not)h(emit)f(write)h(barrier)g(instructions)h([Bar89)o(].)0 1729 y Fm(4.4.1)48 b(Indirection)12b(T)l(ables)0 1811 y Fn(The)h(original)e(generational)h(collectors)i(for)e(Lisp)h(Mac)o(hines)0 1861 y([LH83)o(])19 b(used)h(sp)q(ecialized)h(hardw)o(are)f(and/or)f(micro)q(co)q(de)0 1911 y(to)14 b(sp)q(eed)i(up)e(the)h(c)o(hec)o(ks)h(for)e(p)q(oin)o(ters)h(in)o(to)f(y)o(ounger)g(gen-)01961 y(erations,)20 b(and)f(the)h(p)q(oin)o(ters)f(that)g(w)o(ere)h(found)f(w)o(ere)h(in-)0 2011 y(directed)d(\(b)o(y)f(a)f(micro)q(co)q(ded)g(routine\))h(through)g(an)f Fk(entry)0 2060 y(table)p Fn(.)23b(No)15 b(p)q(oin)o(ters)h(directly)g(in)o(to)e(a)i(y)o(ounger)f(generation)02110 y(w)o(ere)k(allo)o(w)o(ed,)e(only)g(p)q(oin)o(ters)h(to)g(a)f(table)h(en)o(try)g(holding)0 2160 y(the)13 b(actual)f(p)q(oin)o(ter.)17b(Eac)o(h)c(generation)f(had)g(its)h(o)o(wn)f(en)o(try)0 2210y(table)e(holding)f(the)j(actual)e(p)q(oin)o(ters)h(to)f(ob)r(jects.)18b(When)11 b(the)0 2260 y(m)o(utator)j(executed)k(a)d(store)i(instruction,)f(and)f(attempted)0 2309 y(to)10 b(create)i(a)e(p)q(oin)o(ter)h(in)o(to)e(a)h(y)o(ounger)h(generation,)f(the)h(store)0 2359 y(instruction)k(trapp)q(ed)h(to)f(micro)q(co)q(de.)22 b(Rather)15 b(than)g(actu-)0 2409y(ally)f(creating)i(a)f(p)q(oin)o(ter)h(directly)g(in)o(to)e(the)j(y)o(ounger)e(gen-)0 2459 y(eration,)21 b(an)f Fk(invisible)h(forwar)n(ding)e(p)n(ointer)h Fn(w)o(as)h(created)0 2509 y(and)15 b(stored)i(instead.)23b(The)16 b(Lisp)f(Mac)o(hine)h(hardw)o(are)f(and)p 0 2555 3882 v 31 2582 a Fh(33)64 2594 y Fg(William)10 b(Sc)o(helter,)f(p)q(ersonal)g(comm)o(unicat)o(ion)f(1991.)1011 55 y Fn(micro)q(co)q(de)17b(detected)j(and)e(dereferenced)j(the)d(forw)o(arding)1011105 y(p)q(oin)o(ters)c(automatically)m(,)c(making)i(the)j(indirections)f(in)o(vis-)1011 155 y(ible)f(to)h(running)g(programs.)1052 206 y(When)g(garbage)g(collecting)f(a)g(particular)h(generation,)f(it)1011 256 y(w)o(as)g(therefore)i(only)e(necessary)i(to)f(use)g(the)g(en)o(try)g(table)g(as)1011306 y(an)d(additional)f(set)j(of)e(ro)q(ots,)h(rather)g(than)g(actually)e(\014nding)1011 355 y(the)k(p)q(oin)o(ters)h(in)e(other)i(generations)f(and)g(up)q(dating)f(them.)1052 406 y(A)d(somewhat)g(di\013eren)o(t)h(sc)o(heme)f(w)o(as)g(used)h(in)e(the)i(TI)f(Ex-)1011 456 y(plorer)j(system;)g(rather)h(than)f(ha)o(ving)g(a)f(table)i(of)e(incoming)1011 506 y(p)q(oin)o(ters)k(p)q(er)h(generation,)g(a)e(separate)j(table)e(of)f(outgoing)1011556 y(p)q(oin)o(ters)d(w)o(as)f(main)o(tained)f(for)h(eac)o(h)h(com)o(bination)d(of)i(older)1011 606 y(and)k(y)o(ounger)g(generation.)22b(\(So,)15 b(for)f(example,)g(the)i(oldest)1011 656 y(generation)e(had)g(a)g(separate)h(exit)f(table)g(for)f(eac)o(h)i(y)o(ounger)1011705 y(generation,)20 b(holding)e(its)h(indirected)h(p)q(oin)o(ters)f(in)o(to)f(eac)o(h)1011 755 y(of)g(those)h(generations.\))34 b(This)18b(allo)o(w)o(ed)g(the)h(scanning)g(of)1011 805 y(tables)12b(to)f(b)q(e)h(more)f(precise)i(\(i.e.,)e(only)g(scanning)g(the)i(p)q(oin-)1011 855 y(ters)k(relev)n(an)o(t)e(to)h(the)g(generations)g(b)q(eing)g(collected\),)g(and)1011 905 y(made)i(it)h(simpler)f(to)h(garbage)g(collect)g(the)h(table)f(en)o(tries)1011 954 y(themselv)o(es.)1052 1006y(Unfortunately)m(,)h(the)f(indirection)g(table)g(sc)o(hemes)h(w)o(ere)10111055 y(not)12 b(fast)g(or)g(e\016cien)o(t,)g(esp)q(ecially)g(on)g(sto)q(c)o(k)h(hardw)o(are)f(with)1011 1105 y(no)i(supp)q(ort)i(for)f(transparen)o(tly)g(dereferencing)i(forw)o(arded)1011 1155 y(p)q(oin)o(ters.)31b(\(As)19 b(with)f(Bak)o(er-st)o(yle)h(incremen)o(tal)e(cop)o(ying,)10111205 y(the)g(cost)h(of)e(common)e(p)q(oin)o(ter)j(op)q(erations)g(is)g(greatly)g(in-)1011 1255 y(creased)g(if)e(p)q(oin)o(ters)i(m)o(ust)d(b)q(e)j(c)o(hec)o(k)o(ed)g(for)e(indirections.\))1011 1304 y(Recen)o(t)h(generational)e(collectors)i(ha)o(v)o(e)f(therefore)i(a)o(v)o(oided)10111354 y(indirections,)j(and)f(allo)o(w)o(ed)e(p)q(oin)o(ters)j(directly)f(from)e(an)o(y)1011 1404 y(generation)12 b(in)o(to)f(an)o(y)g(other.)18b(Rather)12 b(than)g(requiring)f(suc)o(h)1011 1454 y(p)q(oin)o(ters)22b(to)f(b)q(e)h(lo)q(calized,)g(they)g(simply)d(k)o(eep)j(trac)o(k)g(of)10111504 y(where)14 b(suc)o(h)g(p)q(oin)o(ters)g(are,)g(so)f(that)h(they)g(can)f(b)q(e)h(found)f(at)1011 1553 y(collection)j(time.)24 b(W)m(e)16b(refer)i(to)e(suc)o(h)i(sc)o(hemes)f(as)f Fk(p)n(ointer)10111603 y(r)n(e)n(c)n(or)n(ding)d Fn(sc)o(hemes,)h(b)q(ecause)h(they)f(simply)e(record)j(the)f(lo-)1011 1653 y(cation)f(of)h(p)q(oin)o(ters.)10111768 y Fm(4.4.2)48 b(Ungar's)15 b(Remem)o(b)q(ered)e(Sets)10111847 y Fn(Ungar's)i Fk(Gener)n(ation)j(Sc)n(avenging)f Fn(collector)f(used)h(an)e(ob-)1011 1896 y(ject)o(wise)26 b(p)q(oin)o(ter-recording)g(sc)o(heme,)h(recording)f(whic)o(h)1011 1946 y(ob)r(jects)d(had)f(p)q(oin)o(ters)g(to)g(y)o(ounger)g(generations)h(stored)1011 1996 y(in)o(to)14 b(them.)22b(A)o(t)15 b(eac)o(h)h(p)q(oten)o(tial)e(p)q(oin)o(ter)i(store,)g(the)g(write)1011 2046 y(barrier)26 b(w)o(ould)e(c)o(hec)o(k)j(to)e(see)h(if)f(an)g(in)o(tergenerational)1011 2096 y(p)q(oin)o(ter)17 b(w)o(as)f(b)q(eing)h(created|b)o(y)h(c)o(hec)o(king)f(to)f(see)i(if)e(the)10112145 y(stored)k(v)n(alue)e(w)o(as)h(in)f(fact)h(a)f(p)q(oin)o(ter,)i(p)q(oin)o(ted)f(in)o(to)f(the)1011 2195 y(y)o(oung)f(generation,)i(and)f(w)o(as)g(b)q(eing)h(stored)g(in)o(to)e(an)h(ob-)1011 2245 y(ject)12 b(in)g(the)h(old)e(generation.)18 b(If)11 b(so,)h(the)h(stored-in)o(to)f(ob)r(ject)10112295 y(w)o(as)18 b(added)g(to)g(the)g Fk(r)n(ememb)n(er)n(e)n(d)g(set)gFn(of)f(ob)r(jects)i(holding)1011 2345 y(suc)o(h)11 b(p)q(oin)o(ters,)g(if)f(it)g(w)o(as)g(not)g(already)g(there.)18 b(\(Eac)o(h)11 b(ob)r(ject)10112395 y(had)f(a)g(bit)g(in)g(its)g(header)h(sa)o(ying)f(whether)h(it)f(w)o(as)g(already)g(in)1011 2444 y(the)i(remem)o(b)q(ered)e(set,)i(so)g(that)f(duplicate)g(en)o(tries)h(could)f(b)q(e)1011 2494 y(a)o(v)o(oided.)16b(This)c(mak)o(es)f(the)h(collection-time)e(scanning)i(cost)10112544 y(dep)q(enden)o(t)17 b(on)f(the)g(n)o(um)o(b)q(er)f(and)h(size)g(of)f(the)i(stored-in)o(to)1011 2594 y(ob)r(jects,)d(not)g(the)h(actual)e(n)o(um)o(b)q(er)g(of)h(store)g(op)q(erations.\))969 2718 y(39)p eop%%Page: 40 40bop 42 55 a Fn(In)20 b(the)h(usual)g(case,)i(this)e(sc)o(heme)f(w)o(ork)o(ed)h(quite)g(w)o(ell)0 105 y(for)g(a)g(Smalltalk)d(virtual)i(mac)o(hine.)39b(Unfortunately)m(,)22 b(in)0 155 y(the)c(w)o(orst)g(case,)g(this)g(c)o(hec)o(king)f(and)g(recording)h(incurred)0 205 y(tens)13 b(of)e(instructions)h(at)f(a)g(p)q(oin)o(ter)h(store,)h(and)e(the)h(relativ)o(e)0 255y(cost)k(w)o(ould)e(ha)o(v)o(e)h(b)q(een)h(appreciably)f(higher)g(in)g(a)f(higher-)0 304 y(p)q(erformance)g(language)f(implem)o(en)o(tation.)42357 y(A)h(signi\014can)o(t)f(dra)o(wbac)o(k)h(of)g(this)g(sc)o(heme)g(w)o(as)g(that)h(the)0 407 y(remem)o(b)q(ered)f(set)h(of)e(ob)r(jects)i(m)o(ust)e(b)q(e)i(scanned)g(in)f(its)g(en-)0 457 y(tiret)o(y)i(at)g(the)h(next)f(garbage)g(collection,)g(whic)o(h)g(could)g(b)q(e)0 507 y(exp)q(ensiv)o(e)g(for)f(t)o(w)o(o)f(reasons.)22 b(Some)14 b(of)g(the)h(c)o(hec)o(king)h(cost)0557 y(w)o(as)21 b(rep)q(eated,)k(b)q(ecause)f(a)d(stored-in)o(to)h(lo)q(cation)e(migh)o(t)0 606 y(b)q(e)c(stored)g(in)o(to)e(man)o(y)g(times)g(b)q(et)o(w)o(een)i(collections,)f(b)q(eing)0 656 y(c)o(hec)o(k)o(ed)23b(eac)o(h)e(time,)h(and)f(b)q(ecause)i(stored-in)o(to)e(ob)r(jects)0706 y(had)d(to)g(b)q(e)h(scanned)h(again)d(at)h(collection)g(time.)31b(W)m(orse,)0 756 y(v)o(ery)14 b(large)g(ob)r(jects)h(migh)o(t)d(b)q(e)j(stored)g(in)o(to)e(regularly)m(,)f(and)0 806 y(ha)o(v)o(e)19b(to)h(b)q(e)g(scanned)h(in)e(their)h(en)o(tiret)o(y)g(at)f(eac)o(h)h(collec-)0 856 y(tion.)d(\(The)12 b(latter)g(w)o(as)g(observ)o(ed)h(to)f(cause)h(large)f(amoun)o(ts)0 905 y(of)g(scanning)h(w)o(ork|and)e(ev)o(en)j(thrashing|for)e(some)f(pro-)0 955 y(grams)i(running)g(in)h(T)m(ektronix)f(Smalltalk.)702 940 y Fj(34)735 955 y Fn(\))0 1080 y Fm(4.4.3)48b(P)o(age)15 b(Marking)0 1163 y Fn(Mo)q(on's)25 b(Ephemeral)g(Garbage)h(Collector)f(for)g(Sym)o(b)q(ol-)0 1213 y(ics)20 b(Lisp)f(mac)o(hines)g(used)i(a)e(di\013eren)o(t)i(p)q(oin)o(ter-recording)0 1262 y(sc)o(heme)g([Mo)q(o84)o(].)39 b(Rather)21 b(than)g(recording)h(whic)o(h)f(ob-)01312 y(jects)15 b(had)f(in)o(tergenerational)g(p)q(oin)o(ters)g(stored)h(in)o(to)e(them,)0 1362 y(it)k(recorded)i(whic)o(h)f(virtual)e(memory)f(pages)j(w)o(ere)g(stored)0 1412 y(in)o(to.)f(The)c(use)g(of)f(the)h(page)f(as)g(the)h(gran)o(ularit)o(y)e(of)h(record-)0 1462 y(ing)19 b(a)o(v)o(oided)g(the)h(problem)f(of)g(scanning)h(v)o(ery)g(large)g(ob-)0 1511 y(jects,)d(although)e(it)h(increased)h(costs)g(for)f(sparse)h(writes)f(to)0 1561y(small)f(ob)r(jects,)j(b)q(ecause)g(the)g(en)o(tire)f(page)g(w)o(ould)f(still)g(b)q(e)0 1611 y(scanned.)i(The)12 b(scanning)f(cost)h(w)o(as)f(not)g(large)f(on)h(the)h(Sym-)0 1661 y(b)q(olics)19 b(hardw)o(are,)h(b)q(ecause)h(it)e(had)f(sp)q(ecial)i(tag)e(supp)q(ort)0 1711 y(to)h(mak)o(e)e(generation)i(c)o(hec)o(king)h(v)o(ery)f(fast,)h(and)e(b)q(ecause)0 1760y(pages)12 b(w)o(ere)h(fairly)d(small.)15 b(Muc)o(h)d(of)f(the)i(write-barrier)f(w)o(as)0 1810 y(also)19 b(implemen)o(ted)f(directly)i(in)f(hardw)o(are)h(\(rather)h(than)0 1860 y(b)o(y)13 b(additional)e(instructions)j(accompan)o(ying)d(eac)o(h)j(p)q(oin)o(ter)0 1910 y(write\),)c(so)g(the)g(time)e(cost)j(at)e(eac)o(h)h(p)q(oin)o(ter)g(store)g(w)o(as)g(small.)01960 y(In)20 b(this)f(system,)i(the)f(information)d(ab)q(out)j(p)q(oin)o(ters)g(in)o(to)0 2010 y(y)o(ounger)12 b(generations)h(is)f(held)g(in)g(a)g(pagewise)h(table.)k(\(This)0 2059 y(has)c(the)h(adv)n(an)o(tage)e(that)h(the)h(table)f(implicitly)d(eliminates)0 2109 y(duplicates|a)j(page)g(ma)o(y)f(b)q(e)h(stored)i(in)o(to)d(an)o(y)h(n)o(um)o(b)q(er)g(of)02159 y(times,)f(and)h(the)h(same)f(bit)g(set)i(in)d(the)j(table,)e(but)g(the)h(page)0 2209 y(will)f(only)h(b)q(e)i(scanned)g(once)f(at)g(the)g(next)h(garbage)e(collec-)0 2259 y(tion.)24 b(This)16 b(duplicate)f(elimination)e(is)j(equiv)n(alen)o(t)f(to)h(Un-)0 2308 y(gar's)10 b(use)i(of)d(bits)i(in)f(ob)r(ject)h(headers)h(to)f(ensure)h(uniqueness)0 2358 y(of)k(en)o(tries)h(in)f(the)h(remem)o(b)q(ered)f(set.)26 b(The)16 b(time)f(required)02408 y(to)h(scan)h(the)g(recorded)h(items)e(at)g(a)g(garbage)g(collection)g(is)0 2458 y(therefore)22 b(prop)q(ortional)e(to)g(the)h(n)o(um)o(b)q(er)f(of)g(stored-in)o(to)0 2508 y(pages,)g(and)e(to)g(the)h(page)g(size,)h(but)e(not)h(the)g(n)o(um)o(b)q(er)f(of)p 0 2555 388 2 v 31 2582a Fh(34)64 2594 y Fg(P)o(atric)o(k)10 b(Caudill,)g(p)q(ersonal)f(comm)o(unicat)o(ion)f(1988.)1011 55 y Fn(actual)13 b(store)i(op)q(erations.\))1052106 y(Unfortunately)m(,)k(this)g(sc)o(heme)g(w)o(ould)f(b)q(e)h(considerably)1011 156 y(slo)o(w)o(er)14 b(if)g(implemen)o(ted)e(on)i(sto)q(c)o(k)h(hardw)o(are,)g(with)f(larger)1011 206 y(pages)e(and)f(no)g(dedicated)i(hardw)o(are)f(for)f(page)g(scanning)h(or)1011 256 y(write)j(c)o(hec)o(king.)20b(It)15 b(also)f(requires)i(the)f(abilit)o(y)e(to)h(scan)h(an)1011306 y(arbitrary)g(stored-in)o(to)h(page)f(from)f(the)i(b)q(eginning,)f(whic)o(h)1011 355 y(is)10 b(more)f(complicated)f(on)i(standard)g(hardw)o(are)h(than)f(on)f(the)1011 405 y(Sym)o(b)q(olics)f(mac)o(hines,)i(in)f(whic)o(h)h(ev)o(ery)h(mac)o(hine)e(w)o(ord)h(had)1011 455 y(extra)k(bits)g(holding)f(a)g(t)o(yp)q(e)i(tag.)1052 506 y(More)g(recen)o(tly)m(,)g(virtual)e(memory)fFk(dirty)j(bits)f Fn(ha)o(v)o(e)g(b)q(een)1011 556 y(used)e(as)g(a)f(coarse)h(write)g(barrier)g([Sha88)o(].)k(The)c(underlying)1011 606y(virtual)j(memory)f(system)j(t)o(ypically)e(main)o(tains)f(a)i(bit)g(p)q(er)1011 656 y(page)c(that)h(indicates)g(whether)h(the)f(page)g(has)f(b)q(een)i(dirtied)1011 705 y(\(c)o(hanged)h(in)f(an)o(y)g(w)o(a)o(y\))h(since)g(it)f(w)o(as)h(last)f(written)i(out)e(to)1011 755 y(disk.)29 b(Most)19b(of)e(the)h(w)o(ork)g(done)g(to)g(main)o(tain)d(these)k(bits)1011805 y(is)f(done)g(in)f(dedicated)i(memory)c(hardw)o(are,)k(so)f(from)e(the)1011 855 y(p)q(oin)o(t)f(of)f(view)h(of)g(the)h(language)e(implemen)o(tor,)f(it)h(is)i(free.)1011 905 y(Unfortunately)m(,)11 b(most)f(op)q(erating)h(systems)h(do)f(not)g(pro)o(vide)1011 954 y(facilities)g(for)h(examining)e(dirt)o(y)i(bits,)g(so)g(op)q(erating)g(system)1011 1004 y(k)o(ernel)17b(mo)q(di\014cations)e(are)i(required.)27 b(Alternativ)o(ely)m(,)16b(vir-)1011 1054 y(tual)11 b(memory)f(protection)j(facilities)e(can)h(b)q(e)h(used)g(to)f(sim)o(u-)1011 1104 y(late)e(dirt)o(y)f(bits,)i(b)o(y)e(write-protecting)i(pages)f(so)g(that)g(writes)1011 1154 y(to)k(them)g(can)i(b)q(e)f(detected)i(b)o(y)e(the)g(hardw)o(are)g(and)g(in)o(v)o(ok)o(e)10111203 y(a)f(trap)i(handler)f([BDS91)o(];)f(this)h(tec)o(hnique)h(is)f(used)h(in)e(the)1011 1253 y(Xero)o(x)j(P)o(ortable)f(Common)e(Run)o(time)h(garbage)h(collector.)1011 1303 y(The)k(trap)g(handler)h(simply)d(records)j(that)f(the)h(page)f(has)1011 1353 y(b)q(een)15 b(written)h(to)e(since)h(the)h(last)e(garbage)g(collection,)g(and)1011 1403 y(un-protects)19 b(the)f(page)g(so)g(that)f(program)f(execution)j(can)1011 1453 y(resume.)35 b(\(In)20b(the)g(PCR)f(collector,)i(ob)r(jects)g(of)e(di\013eren)o(t)10111502 y(generations)e(ma)o(y)f(reside)i(in)e(the)i(same)e(page,)i(so)f(when)g(a)1011 1552 y(dirtied)10 b(page)g(is)g(scanned)h(at)g(collection)e(time,)g(ob)r(jects)j(of)d(ir-)1011 1602 y(relev)n(an)o(t)j(generations)h(are)g(skipp)q(ed.\))19 b(As)13 b(with)f(the)h(App)q(el,)1011 1652y(Ellis,)f(and)h(Li)g(collector,)g(the)h(use)g(of)f(virtual)f(memory)f(pro-)1011 1702 y(tections)16 b(mak)o(es)d(it)i(imp)q(ossible)e(to)i(satisfy)f(hard)h(real-time)1011 1751 y(requiremen)o(ts,)10 b(and)f(ma)o(y)f(incur)h(signi\014can)o(t)g(trap)h(o)o(v)o(erhead;)1011 1801 y(scanning)k(costs)h(ma)o(y)e(also)g(b)q(e)i(relativ)o(ely)e(high)h(if)f(write)i(lo-)10111851 y(calit)o(y)10 b(is)g(p)q(o)q(or.)17 b(As)11 b(w)o(e)g(will)f(explain)g(in)g(Sect.)h(6.2,)f(ho)o(w)o(ev)o(er,)1011 1901 y(this)17b(kind)f(of)g(write)h(barrier)g(has)g(adv)n(an)o(tages)f(when)h(deal-)10111951 y(ing)12 b(with)h(compilers)g(that)g(are)h(unco)q(op)q(erativ)o(e)g(and)f(do)g(not)1011 2001 y(emit)f(write)j(barrier)f(instructions.)10112115 y Fm(4.4.4)48 b(W)l(ord)15 b(marking)1011 2194 y Fn(In)h(adapting)g(Mo)q(on's)h(collector)g(for)f(standard)h(hardw)o(are,)1011 2244y(Sobalv)n(arro)10 b(a)o(v)o(oided)g(the)i(cost)f(of)g(scanning)g(large)g(pages)g(b)o(y)1011 2294 y(the)f(use)g(of)f(a)g Fk(wor)n(d)h(marking)fFn(system,)h(whic)o(h)f(used)i(a)e(bitmap)1011 2343 y(to)14b(record)i(whic)o(h)f(particular)f(mac)o(hine)f(w)o(ords)i(of)f(memory)10112393 y(actually)g(had)h(p)q(oin)o(ters)h(stored)h(in)o(to)e(them)f([Sob88)o(].)22 b(This)1011 2443 y(a)o(v)o(oided)12 b(the)i(need)g(to)g(b)q(e)g(able)f(to)g(scan)h(an)f(arbitrary)g(page)1011 2493 y(for)c(p)q(oin)o(ters,)h(b)q(ecause)i(the)e(lo)q(cations)f(of)g(the)h(relev)n(an)o(t)g(p)q(oin-)10112543 y(ters)15 b(w)o(ere)g(stored)g(exactly)m(.)1052 2594 y(Sobalv)n(arro)g(also)f(optimized)h(the)h(sc)o(heme)f(for)h(standard)969 2718y(40)p eop%%Page: 41 41bop 0 55 a Fn(hardw)o(are)16 b(b)o(y)f(making)e(the)j(write)f(barrier)h(simpler|most)0 105 y(write-barrier)22 b(c)o(hec)o(king)f(w)o(as)g(eliminated,)g(and)g(deferred)0 155 y(un)o(til)e(collection)h(time.)37b(The)20 b(stored-in)o(to)h(lo)q(cations)f(are)0 205 y(c)o(hec)o(k)o(ed)f(at)e(collection)g(time)f(to)h(see)i(whether)f(the)g(stored)0 255y(items)11 b(are)h(in)o(tergenerational)g(p)q(oin)o(ters.)18b(While)11 b(this)h(is)g(less)0 304 y(precise)22 b(than)f(Mo)q(on's)g(or)f(Ungar's)h(c)o(hec)o(king,)h(and)f(ma)o(y)0 354 y(cause)c(more)e(w)o(ords)h(to)f(b)q(e)i(examined)d(at)i(collection)f(time,)0 404 y(it)e(also)f(has)i(the)f(b)q(ene\014t)i(that)e(implicit)e(duplicate)i(elimina-)0454 y(tion)e(is)h(p)q(erformed)g(\014rst,)h(and)e(the)i(other)g(c)o(hec)o(ks)g(only)e(need)0 504 y(to)j(b)q(e)g(p)q(erformed)g(once)g(p)q(er)h(stored-in)o(to)f(w)o(ord.)42 555 y(The)i(dra)o(wbac)o(k)g(of)f(Sobalv)n(arro's)g(sc)o(heme)h(is)g(that)g(for)f(a)0 605 y(reasonably)e(large)h(heap,)f(the)h(table)g(of)f(bits)g(is)h(fairly)e(large,)0 654 y(ab)q(out)f(three)i(p)q(ercen)o(t)h(of)d(the)h(total)f(size)h(of)f(memory)m(.)j(Scan-)0 704 y(ning)e(this)g(table)g(w)o(ould)f(b)q(e)i(relativ)o(ely)f(exp)q(ensiv)o(e)h(if)e(it)h(w)o(ere)0 754 y(represen)o(ted)23 b(as)c(a)h(simple)e(linear)i(arra)o(y)f(of)g(bits.)36 b(\(Stor-)0 804 y(ing)21 b(individual)e(bits)i(w)o(ould)g(also)g(mak)o(e)f(the)i(write)f(bar-)0 854 y(rier)15 b(exp)q(ensiv)o(e)g(on)f(some)f(arc)o(hitectures,)j(where)f(sub-w)o(ord)0 904 y(write)d(instructions)g(are)g(slo)o(w,)f(or)g(m)o(ust)g(b)q(e)h(syn)o(thesized)h(us-)0 953y(ing)j(sev)o(eral)h(other)g(instructions.\))27 b(Sobalv)n(arro's)15b(solution)0 1003 y(to)g(this)h(w)o(as)f(to)h(use)g(a)f(sparse)i(\(t)o(w)o(o-lev)o(el\))e(represen)o(tation)0 1053 y(of)f(the)i(table;)f(this)g(incurred)h(an)e(additional)f(write-barrier)0 1103 y(cost,)e(b)q(ecause)i(op)q(erations)e(on)f(the)h(sparse)h(arra)o(y)e(are)h(signif-)01153 y(ican)o(tly)i(slo)o(w)o(er)h(than)g(op)q(erations)g(on)g(a)f(con)o(tiguous)h(arra)o(y)m(.)0 1268 y Fm(4.4.5)48 b(Card)16 b(Marking)01347 y Fn(An)h(alternativ)o(e)g(to)g(marking)e(pages)i(or)g(w)o(ords)g(is)g(to)g(con-)0 1397 y(ceptually)12 b(divide)f(memory)e(in)o(to)i(in)o(termediate-sized)h(units)0 1447 y(called)h Fk(c)n(ar)n(ds)gFn([Sob88)o(].)k(The)d(use)g(of)f(relativ)o(ely)f(small)f(cards)01496 y(has)19 b(the)g(adv)n(an)o(tage)f(that)g(a)h(single)f(store)h(op)q(eration)g(can)0 1546 y(only)e(cause)i(a)f(small)e(amoun)o(t)g(of)i(scanning)g(at)g(collection)0 1596 y(time,)d(making)f(the)i(cost)h(smaller)e(than)h(page-marking)d(on)0 1646 y(a)o(v)o(erage.)19 b(As)c(long)e(as)i(the)f(cards)i(aren't)e(extremely)g(small,)0 1696 y(the)g(table)f(used)i(for)e(recording)h(stored-in)o(to)g(cards)g(is)f(m)o(uc)o(h)0 1746 y(smaller)h(than)i(the)g(corresp)q(onding)h(table)f(for)f(w)o(ord)h(mark-)0 1795 y(ing.)24b(F)m(or)16 b(most)f(systems,)h(this)h(mak)o(es)e(it)h(feasible)g(to)g(rep-)01845 y(resen)o(t)h(the)f(table)f(as)h(a)f(con)o(tiguous)g(linear)g(arra)o(y)m(,)f(k)o(eeping)0 1895 y(the)g(write)h(barrier)f(fast.)42 1946y(One)21 b(problem)f(of)h(using)f(card)i(marking)d(on)i(standard)01996 y(hardw)o(are)h(is)f(that)h(it)f(requires)h(that)g(cards)g(b)q(e)g(scanned)0 2046 y(for)14 b(p)q(oin)o(ters,)h(ev)o(en)g(if)f(the)h(card)g(do)q(es)g(not)g(b)q(egin)f(with)h(the)0 2096 y(b)q(eginning)g(of)g(an)h(ob)r(ject.)24 b(Wilson's)14 b(Opp)q(ortunistic)j(Gar-)0 2145 y(bage)e(Collector)f(addresses)i(this)f(b)o(y)f(main)o(taining)e(a)i Fk(cr)n(oss-)02195 y(ing)22 b(map)p Fn(,)i(recording)e(whic)o(h)f(cards)i(b)q(egin)f(with)f(an)g(un-)0 2245 y(scannable)15 b(part)f(of)g(an)g(ob)r(ject)h([WM89)o(].)j(In)d(the)g(case)g(of)e(a)0 2295 y(card)e(that's)g(not)f(scannable)h(from)e(the)i(b)q(eginning,)g(the)g(map)0 2345 y(can)j(b)q(e)g(used)h(to)e(\014nd)h(a)f(previous)h(card)g(that)g(is)f(scannable,)0 2395 y(lo)q(cate)e(an)g(ob)r(ject)g(header)h(on)f(that)g(card,)g(and)g(skip)g(forw)o(ard)02444 y(ob)r(ject)17 b(b)o(y)f(ob)r(ject)h(un)o(til)e(it)h(\014nds)h(the)g(headers)g(of)f(the)h(ob-)0 2494 y(jects)d(on)f(the)h(card)g(to)f(b)q(e)h(scanned.)19 b(\(This)13 b(is)g(a)g(re\014nemen)o(t)0 2544y(of)18 b(the)h(crossing)h(maps)d(used)i(b)o(y)g(App)q(el)g(Ellis)f(and)g(Li)g(to)0 2594 y(supp)q(ort)d(pagewise)g(scanning)f(in)f(their)i(incremen)o(tal)e(cop)o(y-)1011 55 y(ing)18 b(collector)g([AEL88]\).)31 b(In)19b(Wilson's)e(sc)o(heme,)i(the)g(bit)1011 105 y(corresp)q(onding)14b(to)f(a)g(card)h(is)f(left)g(set)i(if)d(the)i(card)g(con)o(tains)1011155 y(a)f(p)q(oin)o(ter)h(in)o(to)f(a)g(y)o(ounger)h(generation.)k(Suc)o(h)c(cards)h(m)o(ust)1011 205 y(b)q(e)f(scanned)h(again)d(at)i(the)g(next)g(garbage)f(collection,)g(ev)o(en)1011 255 y(if)g(they)h(are)h(not)e(stored)i(in)o(to)e(again.)1052 305 y(Ungar,)k(Cham)o(b)q(ers,)g(and)f(H\177)-21b(olzle)17 b(ha)o(v)o(e)f(further)i(re\014ned)1011 355 y(this)h(card-marking)f(sc)o(heme)h(in)g(a)g(garbage)g(collector)g(for)1011 405 y(the)e(Self)g(language.)25 b(Rather)17 b(than)g(using)g(a)f(table)h(of)f(bits)1011455 y(to)f(record)h(stored-in)o(to)f(cards,)h(it)e(uses)j(a)d(table)h(of)g(b)o(ytes|)1011 505 y(ev)o(en)i(though)g(only)f(a)g(bit)h(is)f(needed,)j(a)d(b)o(yte)h(is)g(used)h(b)q(e-)1011 555 y(cause)c(b)o(yte)g(stores)h(are)e(fast)h(on)f(most)f(arc)o(hitectures.)20 b(This)1011 604 y(allo)o(ws)8b(the)i(write)g(barrier)g(to)g(consist)g(of)f(only)f(three)j(instruc-)1011654 y(tions,)16 b(whic)o(h)f(unconditionally)g(store)i(a)e(b)o(yte)i(in)o(to)e(a)h(b)o(yte)1011 704 y(arra)o(y)m(.)31 b(This)18 b(comes)g(at)h(an)f(increase)i(in)e(scanning)g(costs,)1011 754 y(b)q(ecause)j(the)g(b)o(yte)f(arra)o(y)f(is)h(eigh)o(t)f(times)g(larger)h(than)f(a)1011804 y(bit)14 b(arra)o(y)m(,)f(but)h(for)g(most)f(systems)h(the)h(decrease)h(in)e(write-)1011 853 y(barrier)h(cost)h(is)f(w)o(ell)g(w)o(orth)g(it)g([Cha92)o(,)f(DMH92].)21 b(H\177)-21 b(olzle)1011 903 y(has)11b(further)h(re\014ned)g(this)f(b)o(y)f(relaxing)g(the)i(precision)f(of)f(the)1011 953 y(write)17 b(barrier's)h(recording,)g(bringing)e(the)h(cost)h(p)q(er)g(store)1011 1003 y(do)o(wn)f(to)h(t)o(w)o(o)f(instructions)i(\(on)f(a)f(Sun)h(SP)m(AR)o(C)g(pro)q(ces-)1011 1053 y(sor\))11 b(with)g(a)g(sligh)o(t)f(increase)j(in)d(scanning)h(costs)i([H)1835 1044 y(\177)18351053 y(93)o(].)j(\(As)1011 1103 y(w)o(e)e(will)f(explain)h(in)g(the)h(next)g(section,)g(card)g(marking)d(can)1011 1152 y(also)k(b)q(e)h(com)o(bined)f(with)h Fk(stor)n(e)g(lists)f Fn(to)g(reduce)j(scanning)10111202 y(of)11 b(cards)h(whic)o(h)g(hold)f(p)q(oin)o(ters)h(in)o(to)f(y)o(ounger)h(generations,)1011 1252 y(but)i(aren't)g(stored)h(in)o(to)e(again.\))1011 1366 y Fm(4.4.6)48 b(Store)14 b(Lists)1011 1445y Fn(The)h(simplest)f(approac)o(h)g(to)h(p)q(oin)o(ter)g(recording)g(is)g(simply)1011 1494 y(to)k(record)i(eac)o(h)f(stored-in)o(to)g(address)g(in)g(a)f(list)g(of)g(some)1011 1544 y(sort.)30 b(This)17 b(migh)o(t)f(b)q(e)i(a)f(link)o(ed)g(list,)h(or)f(a)h(pre-allo)q(cated)1011 1594 y(arra)o(y)d(that)h(has)g(successiv)o(e)h(lo)q(cations)f(stored)g(in)o(to,)f(m)o(uc)o(h)10111644 y(lik)o(e)e(pushing)h(items)f(on)g(a)h(linear-arra)o(y)f(stac)o(k.)10521695 y(App)q(el's)26 b(v)o(ery)f(simple)f(\(500)h(lines)g(of)g(C)g(co)q(de\))h(gen-)1011 1745 y(erational)21 b(collector)h(for)f(Standard)h(ML)g(of)f(New)h(Jersey)1011 1794 y([App89b)o(])14 b(uses)i(suc)o(h)f(a)f(list,)g(whic)o(h)h(is)f(simply)e(scanned)k(at)1011 1844 y(eac)o(h)c(collection,)f(with)g(go)q(o)q(d)f(p)q(erformance)i(for)f(t)o(ypical)f(ML)1011 1894 y(programs.)10521945 y(Simple)21 b(store)j(lists)f(ha)o(v)o(e)g(a)g(disadv)n(an)o(tage)f(for)h(man)o(y)1011 1995 y(language)14 b(implemen)o(tations,)e(ho)o(w)o(ev)o(er,)k(in)f(that)g(they)h(im-)1011 2045 y(plemen)o(t)e(bags)g(\(m)o(ultisets\))g(of)g(stored-in)o(to)h(lo)q(cations,)f(not)1011 2095 y(sets.)k(That)12b(is,)f(the)h(same)f(lo)q(cation)g(ma)o(y)e(app)q(ear)j(in)f(the)h(list)10112144 y(man)o(y)e(times)h(if)h(it)g(is)g(frequen)o(tly)g(stored)h(in)o(to,)f(and)g(the)g(gar-)1011 2194 y(bage)k(collector)h(m)o(ust)f(examine)f(eac)o(h)i(of)f(those)h(en)o(tries)h(at)1011 2244 y(collection)e(time.)25b(The)17 b(collection-time)e(cost)i(is)f(therefore)1011 2294y(prop)q(ortional)g(to)i(the)g(n)o(um)o(b)q(er)e(of)h(p)q(oin)o(ter)h(stores,)h(rather)1011 2344 y(than)j(to)f(the)i(n)o(um)o(b)q(er)e(of)g(stored-in)o(to)h(lo)q(cations.)41 b(This)1011 2393 y(lac)o(k)17b(of)h(duplicate)g(elimination)d(can)k(also)e(lead)h(to)h(exces-)10112443 y(siv)o(e)g(space)i(usage)e(if)g(p)q(oin)o(ter)g(stores)i(are)f(v)o(ery)g(frequen)o(t.)1011 2493 y(\(F)m(or)12 b(ML,)f(this)i(is)f(generally)g(not)g(a)g(problem,)f(b)q(ecause)j(side)1011 2543 y(e\013ects)i(are)e(used)h(relativ)o(ely)e(infrequen)o(tly)m(.\))1052 2594 y(Moss)g(et)g(al.)j(ha)o(v)o(e)c(devised)h(a)f(v)n(ariation)f(of)g(the)i(store)g(list)9692718 y(41)p eop%%Page: 42 42bop 0 55 a Fn(tec)o(hnique)17 b(whic)o(h)g(allo)o(ws)e(a)h(b)q(ounded)h(n)o(um)o(b)q(er)f(of)g(en)o(tries)0 105 y(in)11 b(a)h(sp)q(ecial)g(kind)g(of)f(list)h(called)f(a)h Fk(static)h(stor)n(e)f(bu\013er)p Fn(,)g(and)0155 y(calls)e(a)g(sp)q(ecial)h(routine)f(when)h(this)f(bu\013er)i(is)e(full.)16 b(The)10 b(sp)q(e-)0 205 y(cial)k(routine)h(pro)q(cesses)i(the)f(list,)e(using)g(a)h(fast)f(hash)h(table)0 255 y(to)d(remo)o(v)o(e)f(duplicates.)18b(This)11 b(tec)o(hnique)i([HMS92]reduces)0 304 y(space)i(costs,)g(and)f(a)o(v)o(oids)g(doing)f(all)g(of)h(the)h(store-list)f(pro-)0 354y(cessing)d(at)f(garbage)g(collection)g(time,)f(but)h(it)g(do)q(es)h(not)f(ha)o(v)o(e)0 404 y(the)h(same)e(duplicate)i(eliminatio)o(n)d(adv)n(an)o(tage)h(as)i(the)f(table-)0 454 y(based)21 b(sc)o(hemes|duplicates)g(are)g(eliminated,)e(but)i(only)0 504 y(after)15 b(they'v)o(e)g(already)f(b)q(een)i(put)f(in)g(the)g(store)h(list.)k(Eac)o(h)0 553 y(p)q(oin)o(ter)15b(store)h(creates)h(an)e(en)o(try)h(in)f(the)h(store)g(list,)e(whic)o(h)0603 y(m)o(ust)f(b)q(e)h(fetc)o(hed)h(and)f(examined)f(later.)664588 y Fj(35)42 655 y Fn(Hosking)k(and)h(Hudson)g([HH93)o(])g(ha)o(v)o(e)f(com)o(bined)g(some)0 705 y(of)30 b(the)h(b)q(est)h(features)g(of)e(card)h(marking)e(and)h(store)0 755 y(lists.)f(P)o(oin)o(ter)17 b(stores)i(are)f(recorded)h(b)o(y)e(a)g(card-marking)0 805 y(write)26 b(barrier)g(in)f(the)h(usual)g(w)o(a)o(y)m(,)h(but)e(when)h(a)g(card)0 855 y(is)17b(scanned,)j(the)e(individual)d(lo)q(cations)i(con)o(taining)g(p)q(oin-)0904 y(ters)i(in)o(to)e(y)o(ounger)g(generations)h(are)g(recorded.)31b(This)17 b(al-)0 954 y(lo)o(ws)10 b(subsequen)o(t)j(collections)d(to)h(a)o(v)o(oid)e(re-scanning)i(whole)0 1004 y(cards)k(if)e(they)h(are)g(not)g(stored)h(in)o(to)e(again.)0 1124 y Fm(4.4.7)48 b(Discussion)01205 y Fn(In)13 b(c)o(ho)q(osing)f(a)h(write)g(barrier)g(strategy)h(for)e(a)h(generational)0 1255 y(collector,)g(it)g(is)h(imp)q(ortan)o(t)d(to)j(tak)o(e)f(in)o(to)g(accoun)o(t)h(in)o(terac-)0 1305 y(tions)h(with)g(other)h(asp)q(ects)h(of)e(the)h(system's)f(implemen)o(ta-)0 1355 y(tion.)i(F)m(or)11b(example,)f(the)i(Xero)o(x)f(P)m(AR)o(C)g(\\mostly-parallel)o(")01405 y(collector)20 b(uses)h(virtual)f(memory)d(tec)o(hniques)k(\(to)f(imple-)0 1454 y(men)o(t)10 b(pagewise)h(dirt)o(y)g(bits\))g(partly)g(b)q(ecause)i(it)e(is)g(designed)0 1504 y(to)h(w)o(ork)g(with)g(a)g(v)n(ariet)o(y)f(of)h(compilers)f(whic)o(h)h(ma)o(y)e(not)i(co-)0 1554y(op)q(erate)17 b(in)f(the)g(implemen)o(tation)d(of)i(the)i(write)f(barrier|)0 1604 y(e.g.,)9 b(o\013-the-shelf)h(C)g(compilers)f(do)g(not)h(emit)e(write-barrier)0 1654 y(instructions)19 b(along)d(with)i(eac)o(h)g(p)q(oin)o(ter)h(store.)31 b(In)18 b(other)0 1704 y(systems,)g(esp)q(ecially)f(systems)h(with)f(static)g(t)o(yp)q(e)h(systems)0 1753 y(and/or)h(t)o(yp)q(e)g(inference)i(capabilities,)e(the)g(compiler)f(can)0 1803 y(signi\014can)o(tly)f(reduce)i(the)g(cost)f(of)g(the)g(write)g(barrier,)h(b)o(y)01853 y(omitting)f(the)j(write)f(barrier)h(c)o(hec)o(ks)g(that)g(can)f(b)q(e)h(done)0 1903 y(statically)13 b(b)o(y)h(the)g(compiler.)42 1955y(Another)19 b(issue)g(is)f(whether)i(real-time)c(resp)q(onse)21b(is)d(re-)0 2005 y(quired.)36 b(T)m(able-based)19 b(sc)o(hemes)h(suc)o(h)h(as)f(page)f(marking)0 2055 y(and)f(card)h(marking)d(ma)o(y)h(mak)o(e)g(it)h(di\016cult)f(to)i(scan)g(the)0 2104 y(recorded)j(p)q(oin)o(ters)g(incremen)o(tally)d(in)h(real-time.)38 b(Store)0 2154 y(lists)11 b(are)g(easier)g(to)g(pro)q(cess)h(in)e(real)h(time;)f(in)g(fact,)h(the)g(w)o(ork)02204 y(done)j(for)g(the)g(write)g(barrier)h(ma)o(y)d(b)q(e)i(similar)d(to)j(the)g(w)o(ork)0 2254 y(done)g(for)f(an)h(incremen)o(tal)f(up)q(date)h(tracing)g(tec)o(hnique,)g(al-)0 2304 y(lo)o(wing)c(some)i(of)f(the)i(costs)g(to)f(b)q(e)g(optimized)f(a)o(w)o(a)o(y)g([WJ93)o(])0 2353y(b)o(y)j(com)o(bining)d(the)k(t)o(w)o(o)e(write)h(barriers.)p0 2397 388 2 v 31 2424 a Fh(35)64 2436 y Fg(Ungar's)d(tec)o(hnique)e(of)j(using)g(\015ag)f(bits)h(\(to)f(signify)g(whether)g(an)0 2475y(ob)r(ject)k(is)h(already)e(in)i(a)g(set\))g(could)f(conceiv)n(ably)e(b)q(e)j(used,)g(but)g(it)0 2515 y(is)e(probably)d(not)j(w)o(orth)o(while)e(to)i(use)f(a)h(bit)g(p)q(er)f(memory)f(w)o(ord,)i(as)0 2554 y(opp)q(osed)f(to)j(a)f(bit)g(p)q(er)g(ob)r(ject)f(header,)g(unless)g(there)h(is)g(hardw)o(are)02594 y(supp)q(ort)10 b(to)h(mak)o(e)f(it)h(fast.)1052 55 yFn(The)16 b(actual)g(cost)g(of)f(write)h(barriers)h(is)e(somewhat)g(con-)1011105 y(tro)o(v)o(ersial.)28 b(Sev)o(eral)18 b(studies)g(ha)o(v)o(e)g(measured)f(write)h(bar-)1011 155 y(rier)h(o)o(v)o(erheads)g(for)f(in)o(terpreted)i(systems)e(\(e.g.,)g([Ung84)o(,)1011 205 y(HMS92]\),)34 b(making)28b(them)j(hard)g(to)f(relate)i(to)f(high-)1011 255 y(p)q(erformance)37b(systems)g(using)g(optimizing)d(compilers)1011 304 y([Mo)q(o84)o(,)13b(H)1201 295 y(\177)1201 304 y(93)o(].)18 b(It)13 b(ma)o(y)f(b)q(e)i(more)f(reasonable)h(to)f(com)o(bine)1011 354 y(measuremen)o(ts)19b(of)g(high-p)q(erformance)g(systems)i(with)e(an)1011 404 y(analytic)d(understanding)i(of)e(garbage)h(collector)h(costs,)g(to)1011454 y(infer)10 b(what)g(the)h(appro)o(ximate)d(cost)j(of)f(a)g(w)o(ell-implem)o(en)o(ted)1011 504 y(collector)k(w)o(ould)f(b)q(e)h(for)g(a)g(w)o(ell-implem)o(en)o(ted)d(systems.)1052 563 y(As)h(men)o(tioned)d(earlier,)j(compiled)d(Lisp)h(systems)i(app)q(ear)1011 613 y(to)k(execute)i(roughly)e(one)g(p)q(oin)o(ter)h(store)g(in)o(to)f(a)g(heap)g(ob-)1011663 y(ject)k(p)q(er)g(h)o(undred)g(instructions;)h(a)e(card-marking)f(write)1011 712 y(barrier)12 b(should)g(only)f(slo)o(w)g(suc)o(h)h(a)g(system)f(do)o(wn)h(b)o(y)f(ab)q(out)1011 762 y(four)18 b(or)g(\014v)o(e)h(p)q(ercen)o(t,)h(executing)g(t)o(w)o(o)d(or)i(three)g(instruc-)1011 812 y(tions)14b(at)g(the)g(time)f(of)g(eac)o(h)i(p)q(oin)o(ter)f(store,)h(plus)f(a)g(smaller)1011 862 y(card-scanning)i(cost)g(at)f(eac)o(h)h(collection.)22b(F)m(or)16 b(man)o(y)d(pro-)1011 912 y(grams)j(\(with)h(little)g(liv)o(e)g(data,)g(or)h(lifetime)d(distributions)1011 961 y(fa)o(v)o(orable)g(to)h(generational)f(collection\),)h(the)h(tracing)f(and)1011 1011y(reclamation)11 b(cost)j(will)e(b)q(e)i(similarly)c(lo)o(w,)i(and)i(the)g(cost)g(of)1011 1061 y(garbage)f(collection)h(should)g(b)q(e)g(under)h(ten)f(p)q(ercen)o(t.)1052 1120 y(This)e(\014gure)g(can)g(v)n(ary)f(considerably)m(,)g(ho)o(w)o(ev)o(er|and)h(of-)1011 1170 y(ten)21 b(up)o(w)o(ard|based)f(on)h(the)g(w)o(orkload,)f(t)o(yp)q(e)i(informa-)1011 1220 y(tion)c(in)g(the)h(programmi)o(ng)d(language,)i(data)g(represen)o(ta-)1011 1270y(tions,)d(and)g(optimizations)e(used)k(b)o(y)e(the)h(compiler.)22b(\(Sev-)1011 1320 y(eral)11 b(implemen)o(tation)d(c)o(hoices)k(will)e(b)q(e)i(considered)h(in)e(later)1011 1370 y(sections.\))1052 1429y(If)17 b(a)g(compiler)f(generates)j(faster)e(co)q(de,)i(the)f(write)f(bar-)1011 1479 y(rier)12 b(cost)h(ma)o(y)d(b)q(ecome)h(a)h(larger)g(fraction)f(of)h(the)g(\(smaller\))1011 1529 y(o)o(v)o(erall)e(running)h(time.)k(On)d(the)g(other)f(hand,)h(the)f(compiler)1011 1578 y(ma)o(y)e(also)h(b)q(e)i(able)f(to)g(reduce)h(write)g(barrier)f(costs)h(b)o(y)f(infer-)10111628 y(ring)g(that)h(some)f(p)q(oin)o(ter)h(recording)h(is)e(redundan)o(t,)i(or)f(that)1011 1678 y(some)h(dynamically-t)o(yp)q(ed)e(v)n(alues)j(will)f(nev)o(er)i(b)q(e)f(p)q(oin)o(ters)1011 1728 y(\(Sect.)g(6.4.3\).)10521787 y(Unfortunately)m(,)f(the)i(cost)g(of)f(write)g(barriers)h(in)f(con)o(v)o(en-)1011 1837 y(tional)20 b(imp)q(erativ)o(e)g(statically-t)o(yp)q(ed)h(systems)g(is)g(p)q(o)q(orly)1011 1887 y(understo)q(o)q(d.)e(Static)13b(t)o(yp)q(e)g(systems)g(generally)g(distinguish)1011 1937y(p)q(oin)o(ter)22 b(and)g(nonp)q(oin)o(ter)f(t)o(yp)q(es,)k(whic)o(h)d(ma)o(y)d(help)j(the)1011 1986 y(compiler,)f(but)g(t)o(yp)q(e)h(declarations)g(ma)o(y)d(impro)o(v)o(e)g(other)1011 2036 y(areas)h(of)e(the)i(system's)f(p)q(erformance)h(ev)o(en)g(more,)f(mak-)1011 2086 y(ing)c(the)i(relativ)o(e)g(p)q(erformance)f(of)g(the)h(garbage)f(collector)1011 2136 y(w)o(orse.)39b(On)20 b(the)i(other)f(hand,)g(con)o(v)o(en)o(tional)f(statically-)10112186 y(and)12 b(strongly-t)o(yp)q(ed)i(languages)e(often)h(ha)o(v)o(e)g(lo)o(w)o(er)f(o)o(v)o(erall)1011 2236 y(rates)g(of)e(heap)h(ob)r(ject)h(allo)q(cation)d(and)i(m)o(utation,)d(reducing)1011 2285 y(b)q(oth)15b(the)g(write)g(barrier)h(and)e(tracing)h(costs)h(as)f(a)f(fraction)10112335 y(of)f(o)o(v)o(erall)g(program)f(running)i(time.)10522395 y(Programming)g(st)o(yle)j(can)g(also)g(ha)o(v)o(e)g(a)f(signi\014can)o(t)h(im-)1011 2444 y(pact)i(on)h(write-barrier)g(costs.)35b(In)19 b(man)o(y)f(languages)h(de-)1011 2494 y(signed)13 b(for)h(use)g(with)f(garbage)g(collection,)g(allo)q(cation)f(rou-)1011 2544 y(tines)17b(are)h(primitiv)o(es)e(whic)o(h)h(tak)o(e)g(v)n(alues)g(as)g(argumen)o(ts,)1011 2594 y(and)j(initialize)f(\014elds)i(of)g(ob)r(jects.)39b(In)21 b(other)g(languages,)969 2718 y(42)p eop%%Page: 43 43bop 0 55 a Fn(the)17 b(programmer)c(ma)o(y)i(b)q(e)h(exp)q(ected)i(to)e(initialize)f(a)h(new)0 105 y(ob)r(jects')h(\014elds)f(explicitly)m(.)22b(In)16 b(the)h(former)e(case,)i(the)f(lan-)0 155 y(guage)g(implemen)o(tation)d(can)k(omit)e(the)i(write)f(barrier)i(for)0 205 y(initializing)d(writes)k(to)f(p)q(oin)o(ter)g(\014elds,)h(but)g(in)e(the)i(latter)0255 y(it)e(generally)f(cannot.)27 b(It)17 b(is)g(not)g(clear)g(whether)i(this)e(is)f(a)0 304 y(problem;)21 b(programs)d(in)h(suc)o(h)h(languages)f(ma)o(y)f(t)o(ypically)0 354 y(ha)o(v)o(e)d(lo)o(w)o(er)f(rates)i(of)e(heap)h(allo)q(cation)f(and)g(few)o(er)i(p)q(oin)o(ter)0 404 y(\014elds)e(in)g(ob)r(jects.)0 544 y Fi(4.5)56 b(The)18 b(Generational)g(Principle)f(Revis-)128602 y(ited)0 687 y Fn(Generational)35 b(garbage)g(collectors)h(exploit)f(the)h(fact)0 737 y(that)18 b(heap-allo)q(cated)f(ob)r(jects)i(are)g(t)o(ypically)d(short-liv)o(ed.)0 787 y(Longer-liv)o(ed)j(ob)r(jects)i(are)e(collected)i(less)f(often,)g(on)g(the)0 837 y(assumption)12 b(that)i(the)g(minorit)o(y)e(ob)r(jects)j(whic)o(h)e(liv)o(e)g(for)g(a)0 887 y(signi\014can)o(t)f(p)q(erio)q(d)i(are)f(lik)o(ely)e(to)i(liv)o(e)f(a)h(while)f(longer)h(still.)0936 y(This)j(simple)e(idea)i(is)g(widespread,)h(but)f(it)g(is)g(not)g(ob)o(vious)0 986 y(that)10 b(it)f(is)h(true)g(in)g(an)o(y)f(strong)h(sense)i([Ha)o(y91)n(,)d(Bak93a];)h(it)f(is)0 1036 y(also)i(unclear)i(that)e(it)h(m)o(ust)f(b)q(e)h(true)h(to)e(mak)o(e)g(generational)0 1086 y(collection)i(w)o(orth)o(while)h(in)f(practice.)42 1140 y(Consider)i(a)g(system)g(in)g(whic)o(h)g(this)g(prop)q(ert)o(y)h(do)q(es)g(not)0 1190 y(hold|i.e.,)g(the)i(probabilit)o(y)f(that)g(an)h(ob)r(ject)g(will)f(die)g(at)01240 y(a)j(particular)g(momen)o(t)e(is)i Fk(not)g Fn(correlated)i(with)e(its)g(age.)0 1290 y(Lifetimes)15 b(distributions)h(in)g(suc)o(h)h(a)f(system)g(ma)o(y)e(still)i(b)q(e)0 1339 y(hea)o(vily)g(sk)o(ew)o(ed)i(to)o(w)o(ard)e(short-liv)o(ed)h(ob)r(jects.)29 b(A)17 b(simple)0 1389 y(example)c(of)g(suc)o(h)i(a)e(system)h(is)g(one)g(with)g(a)f(random)g Fk(exp)n(o-)01439 y(nential)18 b(de)n(c)n(ay)g Fn(prop)q(ert)o(y)m(,)g(where)h(a)e(\014xed)h(fraction)f(of)g(the)0 1489 y(ob)r(jects)j(die)f(in)f(a)g(\014xed)i(p)q(erio)q(d)f(of)f(time,)g(m)o(uc)o(h)g(lik)o(e)g(the)0 1539y(\\half-life")11 b(prop)q(ert)o(y)k(of)e(radioactiv)o(e)h(isotop)q(es.)421593 y(In)g(suc)o(h)h(a)f(system,)g(the)h(lifetime)d(distribution)i(ma)o(y)f(ap-)0 1643 y(p)q(ear)h(ideally)f(suited)h(to)f(generational)h(collection,)e(b)q(ecause)0 1693 y(y)o(oung)e(ob)r(jects)i(die)f(y)o(oung.)16b(On)11 b(closer)g(examination,)e(ho)o(w-)0 1742 y(ev)o(er,)18b(it)f(turns)g(out)g(that)g(pic)o(king)f Fk(any)i Fn(subset)g(of)e(the)i(ob-)0 1792 y(jects)g(will)e(yield)h(an)g(equal)g(prop)q(ortion)g(of)g(liv)o(e)g(and)g(dead)0 1842 y(ob)r(jects)e(o)o(v)o(er)f(a)g(giv)o(en)g(p)q(erio)q(d)g(of)g(time.)j(In)d(that)g(case,)h(an)o(y)0 1892 y(adv)n(an)o(tage)g(of)g(generational)g(collection)h(w)o(ould)f(b)q(e)h(due)g(to)01942 y(restricting)c(the)f(scop)q(e)h(of)e(collection,)g(not)h(to)g(a)f(higher)h(mor-)0 1991 y(talit)o(y)i(rate)h(among)e(the)i(ob)r(jects)h(sub)r(ject)h(to)e(collection.)42 2046 y(This)e(analogy)g(app)q(ears)h(to)g(undermine)f(the)i(notion)e(that)0 2096 y(generational)17 b(collection)h(is)g(a)g(go)q(o)q(d)f(idea,)i(but)f(in)g(fact)g(it)0 2145 y(ma)o(y)g(not.)34b(Ev)o(en)20 b(under)h(an)e(exp)q(onen)o(tial)g(deca)o(y)h(mo)q(del,)02195 y(generational)e(collection)g(ma)o(y)e(impro)o(v)o(e)hFk(lo)n(c)n(ality)p Fn(,)h(despite)0 2245 y(the)k(fact)g(that)g(it)g(w)o(on't)f(directly)h(impro)o(v)o(e)e(algorithmic)0 2295 y(e\016ciency|reclaiming)e(and)i(reusing)h(recen)o(tly-allo)q(cated)02345 y(space)15 b(impro)o(v)o(es)d(lo)q(calit)o(y)m(,)g(compared)h(to)g(reusing)i(memory)0 2395 y(that)j(has)g(b)q(een)h(idle)e(for)h(a)f(signi\014can)o(t)h(p)q(erio)q(d.)30 b(T)m(ra)o(v)o(ers-)02444 y(ing)17 b(liv)o(e)f(ob)r(jects)i(is)f(lik)o(ely)f(to)h(b)q(e)h(c)o(heap)q(er)h(if)d(the)i(ob)r(jects)0 2494 y(w)o(ere)h(allo)q(cated|hence)g(touc)o(hed|recen)o(tly;)i(reclaiming)0 2544 y(and)16 b(reusing)g(space)h(of)f(garbage)f(ob)r(jects)j(is)d(also)h(lik)o(ely)e(to)0 2594y(b)q(e)g(c)o(heap)q(er)g(b)q(ecause)g(that)f(space)h(will)e(ha)o(v)o(e)g(b)q(een)i(touc)o(hed)1011 55 y(recen)o(tly)h(as)f(w)o(ell.)1011171 y Fi(4.6)55 b(Pitfalls)18 b(of)h(Generational)f(Collection)1011248 y Fn(Generational)h(collection)h(attempts)f(to)h(impro)o(v)o(e)f(p)q(erfor-)1011 297 y(mance)d(heuristically)m(,)h(taking)f(adv)n(an)o(tage)g(of)h(c)o(haracteris-)1011 347 y(tics)12 b(of)f(t)o(ypical)g(programs;)f(naturally)m(,)h(this)g(cannot)h(b)q(e)g(suc-)1011 397 y(cessful)17b(for)g(all)e(programs.)26 b(F)m(or)16 b(some)g(programs)f(genera-)1011447 y(tional)c(collection)i(will)e(fail)h(to)g(impro)o(v)o(e)g(p)q(erformance,)g(and)1011 497 y(ma)o(y)g(decrease)k(it.)1011604 y Fm(4.6.1)48 b(The)15 b(\\Pig)g(in)g(the)f(Snak)o(e")h(Problem)1011681 y Fn(One)g(problematic)f(kind)g(of)g(data)g(for)h(generational)f(collec-)1011 731 y(tion)f(is)g(a)g(cluster)i(of)e(relativ)o(ely)g(long-liv)o(ed)f(ob)r(jects,)i(whic)o(h)1011 780 y(are)20 b(created)h(at)e(ab)q(out)h(the)g(same)f(time)f(and)h(p)q(ersist)i(for)1011 830 y(a)c(signi\014can)o(t)f(p)q(erio)q(d.)29 b(This)17 b(often)g(o)q(ccurs)h(b)q(ecause)h(data)1011880 y(structures)24 b(are)d(built)g(during)g(one)h(phase)g(of)f(execution,)1011 930 y(then)12 b(tra)o(v)o(ersed)i(during)d(subsequen)o(t)j(phases)f(of)f(execution,)1011 980 y(and)k(b)q(ecome)g(garbage)g(all)g(at)g(once)h(\(e.g.,)f(when)h(the)g(ro)q(ot)1011 1029 y(of)f(a)h(large)g(tree)h(b)q(ecomes)f(garbage\).)27 b(This)17 b(kind)g(of)f(data)1011 1079 y(structure)e(will)d(b)q(e)i(copied)f(rep)q(eatedly)m(,)h(un)o(til)e(the)i(adv)n(ance-)10111129 y(men)o(t)i(p)q(olicy)g(succeeds)k(in)c(adv)n(ancing)g(it)g(to)h(a)g(generation)1011 1179 y(large)c(enough)i(to)e(hold)h(the)g(whole)g(cluster)h(of)f(related)g(data)1011 1229 y(ob)r(jects.)45 b(This)23 b(increases)h(tra)o(v)o(ersal)f(costs)h(\014rst)f(in)f(the)1011 1278 y(y)o(oungest)13b(generation,)f(then)i(in)e(the)h(next)g(generation,)g(and)10111328 y(so)k(on,)g(lik)o(e)f(the)h(bulge)g(in)g(a)f(snak)o(e)i(adv)n(ancing)e(along)f(the)1011 1378 y(snak)o(e's)h(b)q(o)q(dy)g(after)g(a)g(large)f(meal.)1600 1363 y Fj(36)1658 1378 y Fn(Un)o(til)g(the)h(bulge)g(is)10111428 y(adv)n(anced)c(to)f(a)g(generation)h(that)g(will)e(hold)h(it)g(un)o(til)g(it)g(dies,)1011 1478 y(the)18 b(collector's)f(age)h(heuristic)g(will)e(fail)g(and)h(cause)i(addi-)1011 1528 y(tional)12 b(tracing)i(w)o(ork.)10521577 y(The)20 b(pig-in-the-snak)o(e)e(problem)g(therefore)j(fa)o(v)o(ors)d(the)1011 1627 y(use)d(of)f(relativ)o(ely)g(rapid)h(adv)n(ancemen)o(t)f(from)f(one)h(genera-)1011 1677 y(tion)g(to)g(the)h(next,)f(whic)o(h)h(m)o(ust)e(b)q(e)i(balanced)g(against)e(the)1011 1727 y(disadv)n(an)o(tage)f(of)h(adv)n(ancing)g(to)q(o)g(m)o(uc)o(h)g(data)g(and)h(forcing)1011 1777y(the)k(next)h(generation)f(to)f(b)q(e)i(collected)f(more)f(often)h(than)10111826 y(necessary)m(.)24 b(Ungar)15 b(and)g(Jac)o(kson)h(v)n(ary)f(the)h(adv)n(ancemen)o(t)1011 1876 y(p)q(olicy)k(dynamically)f(in)i(an)g(attempt)g(to)g(adv)n(ance)g(large)1011 1926 y(clusters)15 b(of)e(data)g(out)h(of)e(the)j(y)o(oungest)e(generation)h(b)q(efore)1011 1976 y(they)c(incur)g(to)q(o)f(m)o(uc)o(h)g(cop)o(ying)g(cost;)i(this)f(app)q(ears)h(to)e(w)o(ork)10112026 y(w)o(ell)k(for)g(most)f(programs,)g(but)i(ma)o(y)e(cause)i(the)g(older)g(gen-)1011 2075 y(eration)e(to)g(\014ll)f(rapidly)g(in)g(some)h(cases.)18b(Wilson)11 b(adv)o(o)q(cates)1011 2125 y(the)j(use)h(of)e(more)g(generations)h(to)g(alleviate)f(this)h(problem,)1011 2175 y(along)g(with)i(careful)g(\\opp)q(ortunistic")f(sc)o(heduling)h(of)f(gar-)10112225 y(bage)j(collections)g(in)f(an)h(attempt)f(to)h(collect)g(when)h(little)1011 2275 y(data)e(is)g(liv)o(e)g([WM89)o(].)29 b(Ha)o(y)o(es's)17b(\\k)o(ey)h(ob)r(ject")g(opp)q(ortu-)1011 2325 y(nism)d(re\014nes)j(this)f(b)o(y)g(using)f(c)o(hanges)i(in)e(the)i(ro)q(ot)e(set)i(to)p1011 2358 388 2 v 1042 2385 a Fh(36)1074 2397 y Fg(Inciden)o(tally)m(,)c(this)h(term)g(w)o(as)h(inspired)e(b)o(y)i(a)g(similar)e(descrip-)10112436 y(tion)h(of)h(the)f(bab)o(y)g(b)q(o)q(om)f(generation's)f(use)j(of)f(resources)f(through)1011 2475 y(its)f(life)f(cycle|\014rst)f(requiring)g(more)h(kindergarte)o(ns,)e(then)i(elemen-)1011 2515 y(tary)g(sc)o(ho)q(ols,)g(and)g(so)h(on,)g(and)f(ultimately)e(causing)i(an)g(increase)g(in)10112554 y(demand)h(for)j(retiremen)o(t)d(homes)h(and)h(funeral)f(directors.)26b(\(Jon)15 b(L.)1011 2594 y(White,)10 b(p)q(ersonal)g(comm)o(unica)o(tio)o(n)f(1989.\))969 2718 y Fn(43)p eop%%Page: 44 44bop 0 55 a Fn(in\015uence)21 b(garbage)g(collection)e(p)q(olicy)h([Ha)o(y91)o(].)37 b(\(These)0 105 y(tec)o(hniques)20 b(app)q(ear)f(to)g(b)q(e)g(b)q(ene\014cial)g(but)g(more)f(exp)q(eri-)0 155 y(men)o(tation)12b(is)i(needed)h(in)f(larger)g(systems.\))0 270 y Fm(4.6.2)48b(Small)14 b(Heap-allo)q(cated)g(Ob)s(jects)0 349 y Fn(One)31b(of)e(the)i(assumptions)e(b)q(ehind)h(the)h(generational)0399 y(heuristic)12 b(is)e(that)h(there)h(will)d(b)q(e)j(few)e(p)q(oin)o(ters)i(from)d(old)h(ob-)0 449 y(jects)17 b(to)f(y)o(oung)f(ones;)i(some)e(programs)g(ma)o(y)f(violate)h(this)0 499 y(assumption,)f(ho)o(w)o(ev)o(er.)23 b(One)16 b(example)e(is)h(programs)f(that)0 549 y(use)19b(large)f(arra)o(ys)g(of)g(p)q(oin)o(ters)h(to)f(small,)e(heap-allo)q(cated)0598 y(\015oating)h(p)q(oin)o(t)g(n)o(um)o(b)q(ers.)29 b(In)18b(man)o(y)e(dynamically-t)o(yp)q(ed)0 648 y(systems,)j(\015oating)e(p)q(oin)o(t)h(n)o(um)o(b)q(ers)g(do)g(not)h(\014t)f(in)g(a)g(ma-)0 698y(c)o(hine)i(w)o(ord,)g(and)f(in)g(the)h(general)f(case)i(m)o(ust)d(b)q(e)i(repre-)0 748 y(sen)o(ted)g(as)f(tagged)g(p)q(oin)o(ters)h(to)f(heap-allo)q(cated)f(ob)r(jects.)0 798 y(Up)q(dating)11 b(the)h(v)n(alues)f(in)f(an)h(arra)o(y)g(of)g(\015oating)f(p)q(oin)o(t)h(n)o(um-)0 848 y(b)q(ers)k(ma)o(y)d(actually)h(cause)h(new)g(\015oating)f(p)q(oin)o(t)g(ob)r(jects)i(to)0897 y(b)q(e)i(allo)q(cated,)e(and)h(p)q(oin)o(ters)h(to)f(them)f(to)h(b)q(e)g(installed)g(in)0 947 y(the)j(arra)o(y)m(.)32 b(If)19 b(the)g(arra)o(y)g(is)f(large)h(and)f(not)h(short-liv)o(ed,)0 997 y(it)d(is)g(lik)o(ely)f(to)g(reside)j(in)d(an)h(older)g(generation,)h(and)f(eac)o(h)0 1047y(up)q(date)j(of)e(a)h(\015oating)f(p)q(oin)o(t)h(v)n(alue)g(will)e(create)k(a)e(y)o(oung)0 1097 y(ob)r(ject)k(and)e(an)h(in)o(tergenerational)f(p)q(oin)o(ter.)40 b(If)20 b(a)g(large)0 1146 y(n)o(um)o(b)q(er)g(of)f(elemen)o(ts)i(of)e(the)i(arra)o(y)f(are)h(up)q(dated)g(\(e.g.,)0 1196 y(b)o(y)c(a)h(sequen)o(tial)f(pass)i(through)e(the)h(whole)g(arra)o(y\),)g(eac)o(h)01246 y(\015oating)h(p)q(oin)o(t)h(n)o(um)o(b)q(er)g(ob)r(ject)h(is)g(lik)o(ely)e(to)h(liv)o(e)g(a)g(sig-)0 1296 y(ni\014can)o(t)15 b(p)q(erio)q(d)h(of)e(time|long)f(enough)i(to)g(b)q(e)h(traced)g(b)o(y)0 1346 y(sev)o(eral)d(y)o(oungest-generation)h(collections,)e(and)h(adv)n(anced)0 1395y(to)j(an)g(older)g(generation.)26 b(Th)o(us)16 b(these)i(large)e(n)o(um)o(b)q(ers)g(of)0 1445 y(in)o(termediate-lifetime)f(n)o(um)o(b)q(er)i(ob)r(jects)j(will)c(cause)j(con-)0 1495 y(siderable)f(o)o(v)o(erhead,)h(b)q(oth)g(in)e(the)i(write)f(barrier)h(and)f(in)0 1545 y(tracing.)f(\(In)12b(the)h(case)g(of)e(systems)h(using)f(Ungar's)h(original)01595 y(remem)o(b)q(ered)f(set)i(sc)o(heme,)e(the)i(remem)o(b)q(ered)e(set)h(scanning)0 1645 y(costs)i(ma)o(y)d(b)q(e)j(v)o(ery)g(large)f(if)f(large)h(ob)r(jects)h(hold)f(in)o(tergen-)0 1694 y(erational)g(p)q(oin)o(ters.\))421746 y(T)m(o)d(a)o(v)o(oid)g(these)j(costs,)f(t)o(w)o(o)f(approac)o(hes)h(are)g(common|)0 1795 y(the)18 b(use)f(of)g(short)g(\015oating-p)q(oin)o(t)f(formats)f(whic)o(h)i(can)h(b)q(e)0 1845 y(represen)o(ted)13b(as)d(tagged)f(immediate)e(v)n(alues,)j(and)g(the)g(use)h(of)01895 y(arra)o(ys)j(with)g(t)o(yp)q(ed)g(\014elds,)g(whic)o(h)g(can)g(con)o(tain)f(ra)o(w)h(\015oat-)0 1945 y(ing)c(p)q(oin)o(t)f(v)n(alues)h(rather)h(than)g(p)q(oin)o(ters)f(to)g(heap-allo)q(cated)0 1995 y(ob)r(jects.)422046 y(The)h(problem)f(with)h(short)h(\015oating)f(p)q(oin)o(t)g(v)n(alues)g(is)g(that)0 2096 y(they)k(ma)o(y)e(not)h(ha)o(v)o(e)g(the)h(desired)h(n)o(umerical)d(c)o(haracteris-)0 2145 y(tics.)18 b(In)c(the)g(\014rst)g(place,)f(n)o(um)o(b)q(ers)g(short)h(enough)f(to)g(\014t)h(in)0 2195y(a)h(mac)o(hine)f(w)o(ord)i(ma)o(y)d(not)i(ha)o(v)o(e)h(su\016cien)o(t)g(precision)g(for)0 2245 y(some)10 b(applications.)16 b(In)10b(addition,)g(some)g(bits)h(m)o(ust)f(b)q(e)h(sac-)0 2295 y(ri\014ced)j(for)g(the)g(tag)f(\014eld,)g(further)h(reducing)h(the)f(precision)02345 y(or)j(the)g(range)g(of)f(the)h(n)o(um)o(b)q(er.)26 b(The)17b(simplest)f(sc)o(heme)g(is)0 2395 y(to)c(sacri\014ce)i(bits)e(of)g(precision)g(b)o(y)g(remo)o(ving)f(bits)h(from)f(the)0 2444y(man)o(tissa,)h(but)j(this)f(has)g(the)h(problem)e(that)h(the)h(resulting)02494 y(n)o(um)o(b)q(er)e(do)q(es)i(not)f(map)e(w)o(ell)h(on)o(to)h(t)o(ypical)f(\015oating-p)q(oin)o(t)0 2544 y(hardw)o(are,)g(whic)o(h)g(has)h(v)o(ery)f(carefully)g(designed)h(precision)0 2594 y(and)h(rounding)g(c)o(haracteristics.)25 b(\(Without)15 b(the)h(exp)q(ected)101155 y(rounding)j(prop)q(erties,)k(some)c(algorithms)f(ma)o(y)g(compute)1011105 y(incorrect)e(answ)o(ers,)f(or)f(ev)o(en)h(fail)e(to)i(terminate.)k(Sim)o(ulat-)1011 155 y(ing)d(these)j(c)o(haracteristics)g(in)e(soft)o(w)o(are)g(is)g(extremely)g(ex-)1011 205 y(p)q(ensiv)o(e.\))22 b(The)15b(alternativ)o(e)g(is)g(to)g(sacri\014ce)h(bits)f(from)e(the)1011255 y(exp)q(onen)o(t)g(part)g(of)f(the)h(hardw)o(are-supp)q(orted)h(format,)c(and)1011 304 y(restrict)j(the)g(range)f(of)g(n)o(um)o(b)q(ers)g(that)g(can)g(b)q(e)h(represen)o(ted.)1011 354 y(This)22 b(in)o(tro)q(duces)i(sev)o(eral)f(instructions)g(extra)g(o)o(v)o(erhead)1011 404 y(in)11 b(con)o(v)o(erting)h(b)q(et)o(w)o(een)h(the)f(hardw)o(are-supp)q(orted)i(format)1011454 y(and)f(the)i(tagged)f(format)e([Wil90)n(,)h(Cha92)o(].)1052505 y(Using)i(arra)o(ys)f(with)g(t)o(yp)q(ed)i(\014elds)f(in)o(tro)q(duce)g(irregulari-)1011 555 y(ties)d(in)o(to)f(dynamically-t)o(yp)q(ed)f(systems)i(\(e.g.,)f(most)g(arra)o(ys)1011 604 y(can)16 b(hold)f(an)o(y)h(kind)f(of)g(data,)h(but)g(some)f(can't\),)h(but)g(this)1011 654 y(strategy)j(is)g(easy)h(to)f(implem)o(en)o(t)e(e\016cien)o(tly)m(,)i(and)g(is)g(fre-)1011704 y(quen)o(tly)14 b(used)g(in)g(Lisp)f(systems.)1052 755y(Unfortunately)m(,)19 b(neither)h(of)f(these)h(solutions)f(\014xes)g(the)1011 805 y(problem)g(in)h(the)h(general)f(case,)j(b)q(ecause)f(\015oating)d(p)q(oin)o(t)1011 855 y(n)o(um)o(b)q(ers)13 b(are)i(not)e(the)i(only)e(p)q(ossible)h(data)f(t)o(yp)q(e)i(that)f(can)1011 905 y(cause)e(this)f(problem.)k(Consider)d(complex)d(n)o(um)o(b)q(ers,)i(or)g(3D)1011 954y(p)q(oin)o(t)g(ob)r(jects:)19 b(it's)11 b(unlik)o(ely)g(that)h(suc)o(h)h(ob)r(jects)g(are)f(going)1011 1004 y(to)17 b(b)q(e)i(crammed)d(in)o(to)h(a)g(mac)o(hine)f(w)o(ord.)30 b(Similarly)l(,)15 b(the)1011 1054y(problem)h(do)q(esn't)j(only)e(o)q(ccur)i(with)e(arra)o(ys|an)o(y)g(aggre-)1011 1104 y(gate)11 b(data)h(structure)i(\(suc)o(h)e(as)g(a)f(binary)g(tree\))i(can)f(exhibit)1011 1154 y(the)e(same)f(problem.)16b(In)10 b(suc)o(h)g(cases,)i(the)e(programmer)e(ma)o(y)10111203 y(c)o(ho)q(ose)15 b(to)g(use)h(a)f(di\013eren)o(t)h(represen)o(tation)g(\(e.g.,)e(parallel)1011 1253 y(arra)o(ys)f(of)f(real)h(and)f(imaginary)e(comp)q(onen)o(ts,)i(rather)i(than)1011 1303 y(an)k(arra)o(y)g(of)g(complex)g(n)o(um)o(b)q(ers\))g(to)h(a)o(v)o(oid)e(unnecessary)1011 1353y(garbage)c(collection)h(o)o(v)o(erhead.)1011 1467 y Fm(4.6.3)48b(Large)15 b(Ro)q(ot)g(Sets)1011 1546 y Fn(Another)20 b(p)q(oten)o(tial)e(problem)g(with)h(generational)g(collec-)1011 1596 y(tion)d(is)g(the)h(handling)e(of)h(ro)q(ot)h(sets.)27 b(\(This)17 b(is)f(essen)o(tially)10111646 y(the)g(same)f(problem)f(that)i(o)q(ccurs)h(for)e(incremen)o(tal)g(collec-)1011 1696 y(tion.\))37 b(Generational)20 b(tec)o(hniques)i(reduce)g(the)f(scop)q(e)h(of)1011 1746 y(tracing)13 b(w)o(ork)g(at)g(most)f(collections,)h(but)g(that)g(do)q(es)h(not)f(in)1011 1796 y(itself)d(reduce)i(the)f(n)o(um)o(b)q(er)f(of)g(ro)q(ots)h(that)f(m)o(ust)g(b)q(e)h(scanned)1011 1845 y(at)i(eac)o(h)i(collection.)i(If)c(the)i(y)o(oungest)f(generation)g(is)f(small)1011 1895 y(and)g(frequen)o(tly)h(collected,)f(and)h(global)d(v)n(ariables)i(and)g(the)1011 1945 y(stac)o(k)f(are)g(scanned)h(eac)o(h)g(time,)d(that)i(ma)o(y)e(b)q(e)j(a)e(signi\014can)o(t)10111995 y(cost)g(of)f(garbage)h(collection)f(in)g(large)g(systems.)18b(\(Large)11 b(sys-)1011 2045 y(tems)i(ma)o(y)f(ha)o(v)o(e)i(tens)g(of)g(thousands)g(of)f(global)g(or)g(mo)q(dule)1011 2094 y(v)n(ariables.\))10522145 y(An)f(alternativ)o(e)g(is)f(to)h(consider)h(few)o(er)f(things)g(to)f(b)q(e)i(part)1011 2195 y(of)c(the)h(usual)g(ro)q(ot)f(set,)i(and)f(treat)g(most)f(v)n(ariables)g(lik)o(e)g(heap)1011 2245 y(ob)r(jects,)14b(with)f(a)g(write)h(barrier.)k(Stores)d(in)o(to)e(suc)o(h)h(ob)r(jects)10112295 y(that)j(ma)o(y)f(create)j(p)q(oin)o(ters)f(in)o(to)f(y)o(oung)g(generations)i(are)1011 2345 y(then)e(recorded)i(in)d(the)i(usual)e(w)o(a)o(y)m(,)g(so)h(that)g(the)g(p)q(oin)o(ters)1011 2395 y(can)i(b)q(e)g(found)f(at)g(collection)g(time.)31 b(The)19 b(problem)e(with)10112444 y(this)d(approac)o(h)g(is)g(that)g(it)f(ma)o(y)f(signi\014can)o(tly)h(increase)i(the)1011 2494 y(cost)i(of)f(stores)j(in)o(to)d(lo)q(cal)g(v)n(ariables.)26 b(\(This)17 b(cost)g(can)g(b)q(e)1011 2544 y(reduced)11b(if)e(the)i(compiler)d(can)i(determine)g(t)o(yp)q(es)h(at)f(compile)10112594 y(time,)k(and)i(omit)e(the)i(write)g(barrier)h(co)q(de)f(for)g(nonp)q(oin)o(ter)969 2718 y(44)p eop%%Page: 45 45bop 0 55 a Fn(writes.\))42 106 y(T)m(reatmen)o(t)20 b(of)h(lo)q(cal)f(v)n(ariables)h(is)g(more)f(complicated)0 155 y(in)12 b(languages)f(that)h(supp)q(ort)h(closures|pro)q(cedures)i(whic)o(h)0 205 y(can)e(capture)g(lo)q(cal)e(v)n(ariable)h(binding)f(en)o(vironmen)o(ts,)g(forc-)0 255y(ing)23 b(lo)q(cal)f(v)n(ariables)h(to)g(b)q(e)h(allo)q(cated)f(on)g(the)h(garbage)0 305 y(collected)d(heap,)h(rather)g(than)e(a)g(stac)o(k.)39b(If)20 b(all)f(v)n(ariable)0 355 y(bindings)14 b(are)h(allo)q(cated)f(on)g(the)h(heap,)f(this)h(requires)g(that)0 404 y(p)q(oin)o(ter)g(stores)h(in)o(to)e(lo)q(cal)g(v)n(ariables)g(use)i(a)e(write)h(barrier;)0454 y(this)h(ma)o(y)e(signi\014can)o(tly)i(increase)h(write)g(barrier)f(costs)i(for)0 504 y(man)o(y)e(programs,)h(where)j(side-e\013ects)g(to)e(lo)q(cal)f(v)n(ariables)0 554 y(are)f(relativ)o(ely)f(common.)21b(F)m(or)16 b(suc)o(h)h(systems,)f(it)f(is)h(desir-)0 604 y(able)h(to)g(ha)o(v)o(e)g(compiler)e(optimizations)g(whic)o(h)i(a)o(v)o(oid)f(the)0653 y(heap)i(allo)q(cation)e(of)h(lo)q(cal)g(v)n(ariables)g(that)h(are)g(nev)o(er)h(ref-)0 703 y(erenced)f(from)c(closures)k(and)e(hence)h(can)f(b)q(e)h(allo)q(cated)e(on)0 753 y(a)g(stac)o(k)g(or)g(in)g(registers.)22b(\(Suc)o(h)16 b(tec)o(hniques)g(are)f(v)n(aluable)0 803 y(in)e(themselv)o(es)g(for)g(impro)o(ving)d(the)k(sp)q(eed)g(of)f(co)q(de)h(op)q(erat-)0853 y(ing)f(on)g(those)i(v)n(ariables)e([Kra88)o(],)g(as)h(w)o(ell)f(as)g(for)h(reducing)0 903 y(o)o(v)o(erall)f(heap)h(allo)q(cation.\))42953 y(In)22 b(most)g(application)f(programs,)i(ro)q(ot)g(set)g(scanning)01003 y(time)14 b(is)h(negligible,)e(b)q(ecause)k(there)f(are)f(only)g(a)f(few)h(thou-)0 1052 y(sand)h(global)e(or)h(mo)q(dule)f(v)n(ariables.)23b(In)16 b(large,)f(in)o(tegrated)0 1102 y(programming)20 b(en)o(vironmen)o(ts,)25 b(ho)o(w)o(ev)o(er,)i(this)c(ro)q(ot)h(set)0 1152 y(ma)o(y)17b(b)q(e)j(v)o(ery)f(large;)i(to)e(a)o(v)o(oid)f(large)h(amoun)o(ts)e(of)i(scan-)0 1202 y(ning)c(at)h(ev)o(ery)h(garbage)f(collection,)g(it)g(ma)o(y)e(b)q(e)j(desirable)0 1252 y(to)d(use)g(a)g(write)g(barrier)h(for)e(some)g(v)n(ariables,)g(so)h(that)g(only)0 1301 y(the)j(stored-in)o(to)f(v)n(ariables)g(are)h(actually)e(scanned)j(at)e(col-)0 1351 y(lection)g(time.)22b(It)16 b(is)g(easy)g(to)g(imagine)e(a)h(large)h(in)o(tegrated)01401 y(dev)o(elopmen)o(t)21 b(system)h(whic)o(h)g(uses)h(a)f(write)g(barrier)h(for)0 1451 y(most)13 b(v)n(ariables,)g(but)h(whic)o(h)g(can)g(also)f(generate)i(stripp)q(ed-)0 1501 y(do)o(wn)g(standalone)h(application)e(co)q(de)j(for)e(whic)o(h)h(the)g(ro)q(ot)0 1551 y(set)21 b(is)f(scanned)h(atomically)c(to)j(a)o(v)o(oid)f(the)h(write-barrier)0 1600y(cost)15 b(when)f(programs)f(are)h(distributed.)0 1719 y Fi(4.7)56b(Real-time)15 b(Generational)i(Collection)0 1796 y Fn(Generational)g(collection)g(can)h(b)q(e)h(com)o(bined)d(with)i(incre-)0 1846y(men)o(tal)13 b(tec)o(hniques,)i(but)f(the)h(marriage)e(is)h(not)g(a)g(particu-)0 1896 y(larly)g(happ)o(y)g(one)h([WJ93)o(].)20 b(T)o(ypically)m(,)12 b(real-time)h(garbage)0 1946 y(collection)e(is)g(orien)o(ted)g(to)o(w)o(ard)g(pro)o(viding)f(absolute)h(w)o(orst-)0 1996 y(case)26b(guaran)o(tees,)h(while)d(generational)g(tec)o(hniques)i(im-)02045 y(pro)o(v)o(e)15 b(exp)q(ected)j(p)q(erformance)d(at)g(the)h(exp)q(ense)h(of)e(w)o(orst-)0 2095 y(case)j(p)q(erformance.)28 b(If)17b(the)g(generational)g(heuristic)h(fails,)0 2145 y(and)f(most)f(data)i(are)f(long-liv)o(ed,)f(garbage)i(collecting)f(the)0 2195 y(y)o(oung)d(generation\(s\))h(will)e(b)q(e)h(a)g(w)o(aste)h(of)f(e\013ort,)g(b)q(ecause)0 2245 y(no)f(space)h(will)d(b)q(e)i(reclaimed.)k(In)c(that)g(case,)h(the)f(full-scale)0 2294 y(garbage)i(collection)g(m)o(ust)g(pro)q(ceed)i(just)e(as)h(fast)f(as)h(if)f(the)0 2344 y(collector)g(w)o(ere)h(a)e(simple,)f(non-generational)h(incremen)o(tal)0 2394 y(sc)o(heme.)42 2444y(Real-time)c(generational)i(collection)g(ma)o(y)e(still)i(b)q(e)h(desir-)02494 y(able)d(for)f(man)o(y)f(applications,)h(ho)o(w)o(ev)o(er,)i(pro)o(vided)f(that)g(the)0 2544 y(programmer)i(can)k(supply)e(guaran)o(tees)i(ab)q(out)f(ob)r(ject)g(life-)0 2594 y(times,)e(to)i(ensure)h(that)f(the)g(generational)f(sc)o(heme)h(will)f(b)q(e)1011 55 y(e\013ectiv)o(e.)26b(Alternativ)o(ely)m(,)16 b(the)h(programmer)d(ma)o(y)g(supply)1011105 y(w)o(eak)o(er)f(\\assurances,")h(at)f(the)g(risk)g(of)f(a)h(failure)f(to)h(meet)f(a)1011 155 y(real-time)i(deadline)h(if)g(an)g(assurance)i(is)e(wrong.)23 b(The)15 b(for-)1011 205 y(mer)j(reasoning)g(is)h(necessary)h(for)f(mission-critical)d(hard-)1011 255 y(real)j(time)g(systems,)i(and)f(it)f(is)h(necessarily)h(application-)1011 304 y(sp)q(eci\014c.)e(The)14b(latter)g(\\near-real-time")f(approac)o(h)g(is)h(suit-)1011354 y(able)e(for)g(man)o(y)e(other)j(applications)e(suc)o(h)i(as)f(t)o(ypical)g(in)o(ter-)1011 404 y(activ)o(e)18 b(audio)g(and)h(video)f(con)o(trol)g(programs,)h(where)g(the)1011 454 y(p)q(ossibilit)o(y)c(of)h(a)g(reduction)h(in)f(resp)q(onsiv)o(eness)i(is)e(not)h(fa-)1011504 y(tal.)1052 569 y(When)11 b(it)f(is)g(desirable)h(to)f(com)o(bine)f(generational)h(and)h(in-)1011 619 y(cremen)o(tal)16 b(tec)o(hniques,)j(the)f(details)f(of)g(the)g(generational)1011 669 y(sc)o(heme)i(ma)o(y)d(b)q(e)k(imp)q(ortan)o(t)c(to)j(enabling)f(prop)q(er)h(incre-)1011719 y(men)o(tal)g(p)q(erformance.)38 b(F)m(or)20 b(example,)h(the)g(\(Sym)o(b)q(olics,)1011 769 y(LMI,)15 b(and)h(TI\))g(Lisp)f(mac)o(hines')g(collectors)h(are)h(the)f(b)q(est-)1011 818 y(kno)o(wn)h(\\real-time")f(generational)h(systems,)h(but)g(the)h(in-)1011 868 y(teractions)13b(b)q(et)o(w)o(een)g(their)g(generational)e(and)h(incremen)o(tal)1011918 y(features)17 b(turn)g(out)g(to)f(ha)o(v)o(e)h(a)f(ma)r(jor)f(e\013ect)j(their)f(w)o(orst-)1011 968 y(case)e(p)q(erformance.)1052 1034y(Rather)23 b(than)f(garbage)h(collecting)f(older)g(generations)10111083 y(slo)o(wly)10 b(o)o(v)o(er)i(the)g(course)h(of)e(sev)o(eral)h(collections)g(of)f(y)o(ounger)1011 1133 y(generations,)24b(only)d(one)h(garbage)f(collection)h(is)f(ongoing)1011 1183y(at)j(an)o(y)f(time,)i(and)f(that)g(collection)g(collects)h(only)e(the)10111233 y(y)o(oungest)18 b(generation,)h(or)f(the)h(y)o(oungest)g(t)o(w)o(o,)f(or)g(or)g(the)1011 1283 y(y)o(oungest)f(three,)j(etc.)29 b(That)17b(is,)h(when)g(an)f(older)g(genera-)1011 1333 y(tion)12 b(is)g(collected,)i(it)e(and)g(all)g(y)o(ounger)h(generations)g(are)g(ef-)10111382 y(fectiv)o(ely)g(regarded)i(as)e(a)g(single)h(generation,)f(and)g(garbage)1011 1432 y(collected)i(together.)21 b(This)15 b(mak)o(es)e(it)i(imp)q(ossible)e(to)h(b)q(ene-)1011 1482 y(\014t)f(from)e(y)o(ounger)i(generations')g(generational)f(e\013ect)j Fk(while)1011 1532y Fn(garbage)h(collecting)f(older)i(generations;)g(in)f(the)h(case)g(of)e(a)1011 1582 y(full)10 b(garbage)h(collection,)g(it)f(e\013ectiv)o(ely)i(degenerates)i(in)o(to)c(a)1011 1631 y(simple)i(non-generational)h(incremen)o(tal)g(cop)o(ying)g(sc)o(heme.)1052 1697 y(During)24 b(suc)o(h)i(large-scale)e(collections,)j(the)f(collector)1011 1747 y(m)o(ust)e(op)q(erate)j(fast)e(enough)h(to)f(\014nish)h(tracing)f(b)q(efore)1011 1797 y(the)d(a)o(v)n(ailable)d(free)j(space)h(is)e(exhausted|there)i(are)f(no)10111847 y(y)o(ounger)e(generations)g(that)g(can)g(reclaim)e(space)j(and)e(re-)1011 1896 y(duce)10 b(the)h(safe)f(tracing)g(rate.)17 b(Alternativ)o(ely)m(,)9 b(the)h(collection)1011 1946 y(sp)q(eed)18 b(can)f(b)q(e)g(k)o(ept)g(the)g(same,)f(but)h(space)h(requiremen)o(ts)1011 1996 y(will)12b(b)q(e)h(m)o(uc)o(h)g(larger)g(during)g(large)g(scale)h(collections.)j(F)m(or)1011 2046 y(programs)10 b(with)g(a)h(signi\014can)o(t)g(amoun)o(t)e(of)h(long-liv)o(ed)g(data,)1011 2096 y(therefore,)i(this)e(sc)o(heme)g(can)g(b)q(e)h(exp)q(ected)h(to)e(ha)o(v)o(e)g(system-)1011 2145 y(atic)k(and)h(p)q(erio)q(dic)g(p)q(erformance)g(losses,)g(ev)o(en)h(if)e(the)h(pro-)10112195 y(gram)f(has)j(an)e(ob)r(ject)i(lifetime)d(distribution)i(fa)o(v)o(orable)f(to)1011 2245 y(generational)e(collection,)g(and)h(the)g(programmer)e(can)i(pro-)1011 2295 y(vide)i(the)g(appropriate)h(guaran)o(tees)f(or)g(assurances)i(to)e(the)1011 2345 y(collector.)i(Either)12 b(the)h(collector)g(m)o(ust)e(op)q(erate)i(at)f(a)g(m)o(uc)o(h)1011 2395 y(higher)i(sp)q(eed)h(during)f(full)f(collections,)g(or)h(memory)e(usage)1011 2444y(will)i(go)i(up)g(dramatically)m(.)22 b(The)17 b(former)e(t)o(ypically)g(causes)1011 2494 y(ma)r(jor)e(p)q(erformance)h(degradation)h(b)q(ecause)h(the)g(collector)1011 2544 y(uses)d(most)d(of)i(the)g(CPU)g(cycles;)h(the)g(latter)f(either)h(requires)1011 2594 y(v)o(ery)j(large)g(amoun)o(ts)e(of)i(memory|negating)c(the)17 b(adv)n(an-)969 2718 y(45)p eop%%Page: 46 46bop 0 55 a Fn(tage)11 b(of)g(generational)g(collection|or)f(incurs)i(p)q(erformance)0 105 y(degradation)h(due)i(to)f(virtual)f(memory)e(paging.)0241 y Fo(5)69 b(Lo)r(calit)n(y)22 b(Considerations)0 332 yFn(Garbage)c(collection)f(strategies)i(ha)o(v)o(e)f(a)g(ma)r(jor)e(e\013ect)j(on)0 382 y(the)g(w)o(a)o(y)f(memory)e(is)i(used)i(and)e(reused;)k(naturally)m(,)c(this)0 432 y(has)c(a)g(signi\014can)o(t)f(e\013ect)j(on)d(lo)q(calit)o(y)g(of)g(reference.)0 546 y Fi(5.1)56 b(V)-5 b(arieties)17b(of)i(Lo)r(calit)n(y)e(E\013ects)0 623 y Fn(The)30 b(lo)q(calit)o(y)d(e\013ects)k(of)e(garbage)g(collection)f(can)i(b)q(e)0 673y(roughly)13 b(divided)h(in)o(to)f(three)i(classes:)42 756y Fe(\017)20 b Fn(E\013ects)g(on)e(programming)d(st)o(yle)j(whic)o(h)g(c)o(hange)h(the)83 806 y(w)o(a)o(y)12 b(data)g(structures)j(are)e(created)h(and)e(manipulated)42 886 y Fe(\017)20 b Fn(Direct)13 b(e\013ects)h(of)e(the)h(garbage)f(collection)g(pro)q(cess)j(it-)83 936 y(self,)e(and)421016 y Fe(\017)20 b Fn(Indirect)h(e\013ects)h(of)e(garbage)g(collection,)h(esp)q(ecially)83 1066 y(patterns)15 b(of)e(reallo)q(cation)g(of)g(free)h(memory)d(and)j(clus-)83 1115 y(tering)g(of)f(liv)o(e)g(data.)421199 y(The)k(\014rst)i(of)d(these|e\013ects)21 b(of)c(programmi)o(ng)d(st)o(yle|)0 1249 y(is)21 b(p)q(o)q(orly)g(understo)q(o)q(d.)41b(In)21 b(systems)h(with)f(an)g(e\016cien)o(t)0 1299 y(garbage)h(collector,)i(programmers)c(are)j(lik)o(ely)d(to)i(adopt)0 1348 y(a)17 b(programming)d(st)o(yle)k(that)f(is)g(appropriate)h(to)f(the)h(task)0 1398 y(at)j(hand,)h(often)f(an)g(ob)r(ject-orien)o(ted)h(or)f(functional)f(ap-)01448 y(proac)o(h.)32 b(New)19 b(data)f(ob)r(jects)i(will)d(b)q(e)i(dynamically)d(allo-)0 1498 y(cated)h(to)f(hold)g(newly)g(computed)f(data,)h(and)g(the)h(ob)r(jects)0 1548 y(will)10 b(b)q(e)h(discarded)h(when)g(the)f(data)g(are)h(no)e(longer)h(in)o(terest-)0 1598 y(ing.)21 b(Ideally)m(,)14b(the)i(programmer)d(expresses)18 b(the)e(computa-)0 1647 y(tion)g(in)g(the)g(most)g(natural)f(form,)g(with)h(application-lev)o(el)0 1697y(data)e(mapping)e(fairly)h(directly)i(on)o(to)f(language-lev)o(el)f(data)01747 y(ob)r(jects.)42 1797 y(In)i(con)o(trast,)g(explicit)g(allo)q(cation)e(and)i(deallo)q(cation)f(of-)0 1847 y(ten)20 b(encourage)h(a)e(distorted)h(programming)c(st)o(yle)k(where)0 1896 y(the)c(programmer)d(reuses)k(language-lev)o(el)c(ob)r(jects)k(to)e(rep-)0 1946 y(resen)o(t)d(conceptually)f(distinct)g(data)f(o)o(v)o(er)h(time,)e(simply)g(b)q(e-)01996 y(cause)19 b(it's)f(to)q(o)g(exp)q(ensiv)o(e)h(to)f(deallo)q(cate)g(an)g(ob)r(ject)g(and)0 2046 y(reallo)q(cate)d(another)g(one.)20b(Similarly)l(,)12 b(in)i(systems)h(with)f(in-)0 2096 y(e\016cien)o(t)k(garbage)e(collection)h(\(suc)o(h)h(as)f(man)o(y)e(older)i(Lisp)02145 y(implemen)o(tatio)o(ns\))10 b(programmers)h(often)h(resort)i(to)e(similar)0 2195 y(language-lev)o(el)g(ob)r(ject)j(reuse,)g(for)f(example)e(destructiv)o(ely)0 2245 y(side-e\013ecting)21 b(list)e(structures)k(to)c(a)o(v)o(oid)g(allo)q(cating)f(new)0 2295 y(list)12 b(elemen)o(ts,)g(or)g(allo)q(cating)f(a)g(single)h(large)g(arra)o(y)g(used)h(to)0 2345y(hold)g(sev)o(eral)i(sets)g(of)f(data)f(o)o(v)o(er)h(time.)k(Explicit)13b(deallo)q(ca-)0 2395 y(tion)h(often)g(leads)g(to)g(distortions)h(of)e(the)i(opp)q(osite)g(v)n(ariet)o(y)m(,)0 2444 y(as)c(w)o(ell|mapping)c(a)k(single)f(conceptual)i(data)e(ob)r(ject)i(on)o(to)0 2494 y(m)o(ultiple)d(language-lev)o(el)g(ob)r(jects.)19 b(Programmers)9 b(ma)o(y)g(al-)0 2544y(lo)q(cate)i(man)o(y)d Fk(extr)n(a)i Fn(ob)r(jects)i(to)e(simplify)e(explicit)i(deallo)q(ca-)0 2594 y(tion.)21 b(An)o(y)14 b(mo)q(dule)g(in)o(terested)i(in)f(a)g(data)f(structure)j(ma)o(y)1011 55 y(cop)o(y)10b(the)h(data)f(structure,)j(so)d(that)h(it)f(can)g(mak)o(e)f(a)h(lo)q(cal)g(de-)1011 105 y(cision)k(as)g(to)g(when)h(its)f(memory)d(can)k(b)q(e)g(reclaimed.)j(Suc)o(h)1011 155 y(distortions)13 b(mak)o(e)f(it)g(extremely)h(di\016cult)g(to)g(compare)f(the)1011 205 y(lo)q(calit)o(y)c(of)g(garbage)i(collected)g(and)f(non-garbage-collected)1011 255 y(systems)14b(directly)m(.)19 b(\(T)o(ypical)13 b(studies)i(that)g(attempt)e(to)h(do)1011304 y(so)d(compare)f(use)h(programs)f(written)h(without)g(garbage)f(col-)1011354 y(lection)15 b(in)g(mind,)f(in)g(b)q(oth)i(their)g(original)d(form)h(and)h(with)1011 404 y(explicit)20 b(deallo)q(cation)f(replaced)i(b)o(y)g(garbage)f(collection.)1011 454 y(This)13 b(implicitly)d(hides)k(the)g(e\013ects)h(of)e(distorted)h(program-)1011 504 y(ming)i(st)o(yle,)j(b)q(ecause)h(the)f(garbage)f(collected)h(v)o(ersion)g(of)1011 553 y(the)14 b(program)f(inherits)h(the)g(distortions.\))1052 619 y(The)j(second)g(category)g(of)e(lo)q(calit)o(y)g(e\013ects|lo)q(calit)o(y)i(of)1011 669 y(the)g(garbage)g(collection)f(pro)q(cess)j(itself|is)d(the)h(one)g(that)1011719 y(usually)e(comes)h(immediately)d(to)j(mind.)23 b(It)17b(is)f(sometimes)1011 769 y(quite)e(signi\014can)o(t,)g(although)f(it)i(ma)o(y)d(b)q(e)j(the)g(least)g(imp)q(or-)1011 818 y(tan)o(t)k(of)g(the)h(three.)36 b(F)m(or)19 b(a)h(full)e(garbage)h(collection,)h(all)1011868 y(liv)o(e)c(data)h(m)o(ust)g(b)q(e)h(traced,)g(and)g(this)f(can)h(in)o(teract)g(v)o(ery)1011 918 y(p)q(o)q(orly)f(with)h(con)o(v)o(en)o(tional)f(memory)f(hierarc)o(hies.)32 b(Most)1011 968 y(liv)o(e)13 b(ob)r(jects)j(will)d(b)q(e)i(touc)o(hed)h(only)d(once)i(during)g(tracing,)10111018 y(so)k(there)i(will)d(b)q(e)i(little)f Fk(temp)n(or)n(al)gFn(lo)q(calit)o(y)m(,)f(i.e.,)i(few)f(re-)1011 1067 y(p)q(eated)e(touc)o(hes)g(to)f(the)g(same)g(data)f(o)o(v)o(er)h(a)g(short)h(p)q(erio)q(d)10111117 y(of)10 b(time.)15 b(On)c(the)g(other)g(hand,)g(there)h(ma)o(y)c(b)q(e)j(considerable)1011 1167 y Fk(sp)n(atial)f Fn(lo)q(calit)o(y|touc)o(hes)f(to)h(sev)o(eral)h(di\013eren)o(t)h(nearb)o(y)e(ar-)1011 1217 y(eas)k(of)g(memory)e(\(e.g.,)h(within)g(the)i(same)e(virtual)g(memory)1011 1267y(page\))h(o)o(v)o(er)g(short)g(p)q(erio)q(ds)h(of)e(time.)10521333 y(The)k(third)g(category)g(of)f(e\013ects)j(is)e(probably)f(the)h(most)1011 1382 y(imp)q(ortan)o(t,)c(although)h(its)h(signi\014cance)g(is)g(not)g(widely)f(ap-)1011 1432 y(preciated.)28 b(The)17 b(strategy)h(for)f(memory)dFk(r)n(e)n(al)r(lo)n(c)n(ation)i Fn(im-)1011 1482 y(p)q(oses)21b(lo)q(calit)o(y)d(c)o(haracteristics)j(on)e(the)i(w)o(a)o(y)eFk(memory)g Fn(is)1011 1532 y(touc)o(hed)c(rep)q(eatedly)m(,)gFk(even)h(if)f(the)h(obje)n(cts)g(themselves)f(die)1011 1582y(quickly)d(and)i(ar)n(e)e(ther)n(efor)n(e)g(never)g(touche)n(d)i(again)pFn(.)j(This)12 b(is,)1011 1631 y(of)d(course,)j(one)f(of)e(the)i(main)d(reasons)k(for)e(generational)f(gar-)1011 1681 y(bage)j(collection|to)g(reuse)i(a)e(small)e(area)i(of)g(memory)e(\(the)1011 1731 y(y)o(oungest)19b(generation\))h(rep)q(eatedly)g(b)o(y)f(allo)q(cating)f(man)o(y)10111781 y(short-liv)o(ed)h(ob)r(jects)h(there.)35 b(It)19 b(is)g(also)f(the)i(reason)g(that)1011 1831 y(activ)n(ation)f(stac)o(ks)i(t)o(ypically)e(ha)o(v)o(e)h(excellen)o(t)h(lo)q(calit)o(y)e(of)1011 1880 y(reference|near)13b(the)e(top)g(of)f(the)h(stac)o(k,)h(memory)c(is)i(reused)10111930 y(v)o(ery)20 b(frequen)o(tly)h(b)o(y)f(allo)q(cating)e(man)o(y)h(v)o(ery)h(short-liv)o(ed)1011 1980 y(activ)n(ation)11 b(records)k(there.)k(\(A)13 b(generational)g(garbage)f(col-)1011 2030 y(lector)20 b(can)h(b)q(e)f(seen)h(as)g(imp)q(osing)c(a)j(roughly)f(stac)o(k-lik)o(e)10112080 y(memory)d(reuse)21 b(pattern)f(on)f(a)g(heap,)h(b)o(y)f(exploiting)f(the)1011 2130 y(fact)f(that)h(the)g(lifetime)e(distributions)h(are)h(roughly)f(simi-)1011 2179 y(lar.\))1052 2245 y(As)40 b(w)o(e)f(p)q(oin)o(ted)f(out)h(earlier,)45 b(a)38 b(simple,)43 b(non-)1011 2295y(generational)16 b(garbage)h(collector)g(has)g(v)o(ery)g(p)q(o)q(or)g(lo)q(calit)o(y)1011 2345 y(if)d(allo)q(cation)g(rates)i(are)f(high,)f(simply)f(b)q(ecause)k(to)q(o)e(m)o(uc)o(h)1011 2395 y(memory)e(is)i(touc)o(hed)h(in)f(an)o(y)g(reasonable)h(p)q(erio)q(d)g(of)f(time.)1011 2444y(As)e(Ungar)g(has)g(p)q(oin)o(ted)g(out)g([Ung84)o(],)f(simply)f(paging)h(out)1011 2494 y(the)18 b(resulting)g(garbage)f(\(to)h(mak)o(e)f(ro)q(om)f(in)h(memory)e(for)1011 2544 y(new)21 b(data\))f(w)o(ould)g(t)o(ypically)g(b)q(e)h(an)f(unacceptable)i(cost)1011 2594 y(in)d(a)h(high-p)q(erformance)g(system.)36 b(A)21 b(generational)e(gar-)969 2718 y(46)p eop%%Page: 47 47bop 0 55 a Fn(bage)17 b(collector)g(restricts)i(the)e(scop)q(e)h(of)e(this)h(lo)q(calit)o(y)e(dis-)0 105 y(aster)h(to)e(a)g(manageable)f(area|the)i(y)o(oungest)g(generation)0 155 y(or)20 b(t)o(w)o(o.)36 b(This)20b(allo)o(ws)f(the)i(\\real")e(lo)q(calit)o(y)g(c)o(haracteris-)0205 y(tics)d(\(of)f(rep)q(eated)i(access)g(to)e(longer-liv)o(ed)g(data\))g(to)g(sho)o(w)0 255 y(up)h(in)g(the)h(older)f(generation\(s\).)26b(Because)18 b(of)e(this)g(e\013ect,)0 304 y(the)d(o)o(v)o(erall)d(lo)q(calit)o(y)h(c)o(haracteristics)i(of)f(garbage)f(collected)0354 y(systems)17 b(app)q(ear)g(to)g(b)q(e)h(roughly)e(comparable)f(to)i(that)g(of)0 404 y(non-garbage)e(collected)h(systems|the)f(y)o(oungest)h(genera-)0454 y(tion)h(\014lters)h(out)f(most)f(of)h(the)h(heap-allo)q(cated)f(data)g(that)0 504 y(migh)o(t)12 b(b)q(e)i(stac)o(k-allo)q(cated)g(in)f(other)i(languages.)42 555 y(Direct)j(comparisons)f(are)h(di\016cult,)g(ho)o(w)o(ev)o(er,)g(b)q(ecause)0 605 y(of)12 b(the)h(large)f(n)o(um)o(b)q(er)g(of)g(design)h(c)o(hoices)h(in)o(v)o(olv)o(ed)d(in)h(b)q(oth)0 655y(garbage)i(collectors)g(and)g(explicit)f(heap)h(managemen)o(t.)42706 y(With)f(cop)o(ying)g(garbage)h(collection,)f(there)i(is)f(ob)o(viously)0756 y(another)19 b(indirect)f(lo)q(calit)o(y)f(e\013ect|b)o(y)i(mo)o(ving)d(data)i(ob-)0 806 y(jects)12 b(around)g(in)f(memory)m(,)d(the)k(collector)g(a\013ects)g(the)g(lo)q(cal-)0 856 y(it)o(y)k(of)g(the)h(program's)e(o)o(wn)i(accesses|that)i(is,)e(it)f(a\013ects)0 906 y(the)k(mapping)d(b)q(et)o(w)o(een)j(a)f(program's)f(logical)f(references)0 956 y(to)e(language-lev)o(el)e(data)h(and)h(the)g(resulting)g(references)i(to)0 1005 y(particular)d(memory)d(lo)q(cations.)42 1057 y(This)k(kind)g(of)g(e\013ect)i(is)e(not)h(restricted)h(to)f(cop)o(ying)f(col-)0 1107 y(lection.)22 b(Noncop)o(ying)14b(collectors)i(also)f(ha)o(v)o(e)g(considerable)0 1157 y(latitude)10b(in)g(deciding)h(ho)o(w)f(to)h(map)e(language-lev)o(el)g(ob)r(jects)01206 y(on)o(to)17 b(the)i(a)o(v)n(ailable)d(free)i(memory)m(.)27b(When)18 b(the)h(program)0 1256 y(requests)g(a)e(piece)h(of)e(memory)f(of)h(a)h(giv)o(en)f(size,)i(the)g(allo-)0 1306 y(cator)d(is)g(free)g(to)g(return)h Fk(any)g Fn(suitably-sized)e(piece)i(of)e(free)0 1356 y(memory)m(.)24b(It)17 b(is)f(unclear)i(what)e(rules)i(should)e(go)o(v)o(ern)h(this)01406 y(decision.)155 1391 y Fj(37)42 1457 y Fn(The)f(imp)q(ortance)f(of)g(di\013eren)o(t)i(lo)q(calit)o(y)d(e\013ects)k(is,)d(nat-)01507 y(urally)m(,)c(dep)q(enden)o(t)k(on)e(the)g(relativ)o(e)g(size)h(of)e(the)i(data)e(used)0 1557 y(b)o(y)18 b(a)f(system)h(and)g(the)h(main)c(memory)h(of)h(the)i(hardw)o(are)0 1607 y(it)e(runs)h(on.)29b(F)m(or)17 b(man)o(y)f(systems,)i(the)g(full)f(system)g(heap)01656 y(\014ts)g(in)f(main)f(memory)m(,)f(including)i(an)g(editor,)h(a)g(bro)o(wser,)0 1706 y(a)g(compiler,)g(and)g(application)f(co)q(de)i(and)g(data;)g(the)g(nor-)0 1756 y(mal)f(mo)q(de)i(of)g(suc)o(h)h(systems)g(is)f(to)h(ha)o(v)o(e)f(enough)h(RAM)0 1806 y(that)c(programs)g(t)o(ypically)f(do)h(not)g(page)h(at)f(all.)24 b(In)17 b(other)0 1856 y(systems,)e(ho)o(w)o(ev)o(er,)g(the)g(oldest)g(generation)g(or)g(t)o(w)o(o)g(is)f(to)q(o)01906 y(large)i(to)h(\014t)f(in)g(t)o(ypical)g(main)e(memories,)h(either)i(b)q(ecause)0 1955 y(the)h(system)f(itself)g(includes)h(large)f(complex)f(soft)o(w)o(are,)h(or)0 2005 y(b)q(ecause)f(application)c(data)i(or)f(co)q(de)i(are)f(v)o(ery)h(large.)42 2057 y(In)j(a)g(cop)o(ying)g(collector,)h(there)h(is)f(therefore)g(a)g(binary)0 2107 y(distinction)j(b)q(et)o(w)o(een)j(generations)e(that)g(are)g(e\013ectiv)o(ely)0 2156 y(memory-residen)o(t)9b(and)g(those)i(that)f(are)h(so)f(large)g(they)g(m)o(ust)02206 y(truly)i(rely)h(on)f(virtual)g(memory)e(cac)o(hing.)17b(F)m(or)c(the)g(former,)0 2256 y(whic)o(h)d(ma)o(y)d(include)j(the)g(whole)f(system,)h(lo)q(calit)o(y)e(of)h(allo)q(ca-)0 2306 y(tion)j(and)h(collection)g(are)g(essen)o(tially)g(irrelev)n(an)o(t)g(to)g(virtual)02356 y(memory)d(p)q(erformance|the)j(space)g(cost)g(is)g(the)g(\014xed)g(cost)p 0 2397 388 2 v 31 2424 a Fh(37)64 2436 y Fg(This)8b(o)q(ccurs)f(in)i(explicit)e(heap)g(managemen)n(t)f(systems)h(as)i(w)o(ell,)g(of)0 2475 y(course,)h(but)h(it)g(has)g(not)g(b)q(een)f(systematically)e(studied)i(there)g(either.)0 2515 y(Most)i(studies)e(of)i(explicit)e(tec)o(hniques)f(ha)o(v)o(e)i(studied)g(fragmen)o(ta)o(tion)0 2554y(and)h(CPU)j(costs,)e(but)f(ha)o(v)o(e)h(ignored)e(e\013ects)h(on)h(cac)o(hing)e(in)i(hierar-)0 2594 y(c)o(hical)d(memories.)1011 55y Fn(of)j(k)o(eeping)h(ev)o(erything)g(in)f(RAM.)g(F)m(or)h(the)g(latter,)g(in)f(con-)1011 105 y(trast,)j(lo)q(calit)o(y)f(at)h(the)h(lev)o(el)e(of)h(virtual)f(memory)e(ma)o(y)h(b)q(e)1011 155 y(crucial.)1052207 y(In)23 b(a)f(nonmo)o(ving)d(collector,)24 b(the)f(situation)f(is)g(some-)1011 257 y(what)d(di\013eren)o(t|the)h(space)h(cost)f(of)e(the)i(y)o(oungest)g(gen-)1011 307 y(eration)d(also)g(dep)q(ends)i(on)e(the)h(degree)h(of)e(fragmen)o(tation)1011 356 y(and)e(ho)o(w)g(data)g(from)f(v)n(arious)h(generations)h(are)g(in)o(termin-)1011 406 y(gled)f(in)f(memory)m(.)20b(The)15 b(exten)o(t)h(of)f(these)i(problems)d(is)h(not)1011456 y(w)o(ell)e(understo)q(o)q(d,)i(but)g(they)f(ma)o(y)e(b)q(e)j(less)g(serious)g(than)f(is)1011 506 y(widely)f(b)q(eliev)o(ed)h([Ha)o(y91)o(,)f(BZ93)q(,)g(Bo)q(e93].)1011 634 y Fi(5.2)55 b(Lo)r(calit)n(y)25b(of)i(Allo)r(cation)e(and)h(Short-)1138 693 y(liv)n(ed)18b(ob)s(jects)1011 774 y Fn(As)h(noted)g(ab)q(o)o(v)o(e,)h(the)f(pattern)h(of)f(allo)q(cation)e(often)i(has)1011 823 y(the)c(most)f(imp)q(ortan)o(t)f(e\013ect)k(on)d(lo)q(calit)o(y)g(in)g(a)h(simple)e(col-)1011873 y(lector.)39 b(In)21 b(a)g(generational)f(cop)o(y)h(collector,)h(this)f(e\013ect)1011 923 y(is)h(m)o(uc)o(h)e(reduced)k(from)c(the)j(p)q(oin)o(t)e(of)h(view)f(of)h(virtual)1011 973 y(memory|the)9 b(pages)j(that)f(mak)o(e)f(up)h(the)h(y)o(oungest)g(gener-)1011 1023 y(ation)f(or)i(t)o(w)o(o)e(are)i(reused)h(so)e(frequen)o(tly)h(that)f(they)h(simply)1011 1072y(sta)o(y)i(in)f(RAM)h(and)g(e\013ectiv)o(ely)g(incur)h(a)e(\014xed)i(space)g(cost.)1011 1122 y(On)i(the)h(other)g(hand,)g(the)g(frequen)o(t)h(reuse)f(of)f(the)h(whole)1011 1172 y(y)o(oungest)d(generation)f(ma)o(y)f(ha)o(v)o(e)h(a)g(deleterious)i(e\013ect)g(on)1011 1222 y(the)12 b(next)h(smaller)d(lev)o(el)i(of)f(the)h(memory)e(hierarc)o(h)o(y|high-)1011 1272 y(sp)q(eed)20b(CPU)e(cac)o(hes.)33 b(The)19 b(cycle)g(of)f(memory)e(reuse)k(has)10111321 y(b)q(een)15 b(made)d(m)o(uc)o(h)h(smaller,)f(but)i(if)f(the)i(cycle)f(do)q(es)h(not)f(\014t)1011 1371 y(in)c(cac)o(he,)i(the)g(cac)o(he)g(will)e(su\013er)i(extra)f(misses)g(in)g(m)o(uc)o(h)e(the)1011 1421y(same)j(w)o(a)o(y)g(that)h(main)e(memory)g(do)q(es)j(for)f(a)f(simple)g(collec-)1011 1471 y(tor.)18 b(The)c(e\013ects)i(of)d(suc)o(h)i(misses)e(are)i(not)f(as)g(dramatic)e(as)1011 1521 y(those)k(for)f(virtual)g(memory)m(,)d(ho)o(w)o(ev)o(er,)k(b)q(ecause)h(the)g(ratio)1011 1571 y(of)11b(cac)o(he)j(to)e(main)e(memory)g(sp)q(eeds)k(is)e(not)h(nearly)f(as)g(large)1011 1620 y(as)j(the)g(ratio)f(of)h(main)d(memory)h(to)i(disk)f(sp)q(eeds.)23b(Also,)14 b(in)1011 1670 y(cop)o(ying)e(collection)h(at)g(least,)g(the)h(pattern)g(of)f(reallo)q(cation)1011 1720 y(is)k(so)h(strongly)g(sequen)o(tial)g(that)f(misses)h(can)g(b)q(e)g(reduced)1011 1770 y(considerably)c(b)o(y)g(simple)e(prefetc)o(hing)j(strategies,)f(or)g(ev)o(en)10111820 y(just)c(the)g(use)g(of)g(large)f(blo)q(c)o(k)g(sizes.)18b(On)10 b(curren)o(t)h(pro)q(cessors,)1011 1869 y(the)j(cost)h(app)q(ears)g(to)f(b)q(e)h(no)f(more)f(than)h(a)g(few)g(p)q(ercen)o(t)i(of)10111919 y(o)o(v)o(erall)e(run)h(time,)e(ev)o(en)j(when)f(allo)q(cation)f(rates)i(are)f(rela-)1011 1969 y(tiv)o(ely)i(high.)28 b(F)m(aster)18b(pro)q(cessors)i(ma)o(y)15 b(su\013er)k(more)e(from)1011 2019y(this)e(e\013ects,)j(ho)o(w)o(ev)o(er,)e(if)e(cac)o(he-to-memory)g(bandwidths)1011 2069 y(do)9 b(not)g(scale)h(with)f(pro)q(cessor)j(sp)q(eeds,)f(or)f(if)e(bus)i(bandwidth)1011 2119 y(is)j(at)h(a)g(premium)d(as)j(in)g(shared-bus)h(m)o(ultipro)q(cessors.)1052 2171 y(Zorn)h(has)f(sho)o(wn)g(that)g(relativ)o(ely)f(large)h(cac)o(hes)h(can)f(b)q(e)10112220 y(quite)9 b(e\013ectiv)o(e)i(for)e(generationally)g(garbage-collected)h(sys-)1011 2270 y(tems)h([Zor89)o(].)17 b(Wilson)10 b(has)i(sho)o(wn)g(that)f(the)h(relativ)o(e)g(sizes)1011 2320 y(of)d(the)h(cac)o(he)h(and)f(the)g(y)o(oungest)h(generation)f(are)g(esp)q(ecially)1011 2370 y(imp)q(ortan)o(t,)18b(the)i(particulars)f(of)g(the)h(cac)o(he)g(replacemen)o(t)10112420 y(p)q(olicy)14 b(ma)o(y)f(b)q(e)j(imp)q(ortan)o(t)e(as)h(w)o(ell,)f(due)i(to)f(p)q(eculiarities)1011 2470 y(in)d(the)h(access)h(patterns)g(due)f(to)f(reallo)q(cation)g([WLM92)o(].)1946 2454 y Fj(38)p 1011 2516V 1042 2543 a Fh(38)1074 2554 y Fg(The)g(e\013ect)e(of)h(asso)q(ciativit)o(y)e(is)i(v)o(ery)g(dep)q(enden)o(t)d(of)j(the)g(ratio)g(of)10112594 y(cac)o(he)e(size)h(to)h(y)o(oungest)d(generation)g(size,)i(and)g(lo)o(w)o(er)h(asso)q(ciativiti)o(es)969 2718 y Fn(47)p eop%%Page: 48 48bop 0 55 a Fn(Sev)o(eral)21 b(researc)o(hers)j(ha)o(v)o(e)d(suggested)i(optimizations)18 b(to)0 105 y(a)o(v)o(oid)d(the)i(fetc)o(hing)g(of)f(garbage)g(data)h(in)f(areas)h(ab)q(out)f(to)0 155 y(b)q(e)i(re-allo)q(cated;)g(this)f(can)h(cut)f(cac)o(he-to-memory)e(band-)0 205y(width)k(requiremen)o(ts)h(nearly)f(in)g(half.)34 b(Ko)q(opman)18b Fk(et)i(al.)0 255 y Fn(\014rst)15 b(illustrated)f(this)g(in)f(a)h(functional)f(programmi)o(ng)e(lan-)0 304 y(guage)h(implemen)o(tation)d(based)k(on)g(com)o(binator)d(reduction)0 354 y([KLS92)o(],)22b(and)e(sho)o(w)o(ed)h(that)g(some)f(con)o(v)o(en)o(tional)f(cac)o(he)0404 y(designs)f(can)f(ac)o(hiev)o(e)g(this)g(e\013ect.)563389 y Fj(39)627 404 y Fn(T)m(arditi)f(and)g(Diw)o(an)0 454y(sho)o(w)g(that)g(the)g(same)f(e\013ect)i(can)f(b)q(e)g(ac)o(hiev)o(ed)g(in)g(a)f(more)0 504 y(con)o(v)o(en)o(tional)j(language)g(implemen)o(tati)o(on)e(using)j(genera-)0 553 y(tional)c(garbage)i(collection,)f(and)h(demonstrate)g(the)g(v)n(alue)0 603 y(of)d(a)g(cac)o(he-to-memory)e(in)o(terface)j(supp)q(orting)f(high)g(write)0 653 y(rates)h([DTM93)o(].)42 705 y(The)e(di\013erence)i(in)e(lo)q(calit)o(y)e(b)q(et)o(w)o(een)k(mo)o(ving)c(and)i(non-)0 755 y(mo)o(ving)g(collectors)k(do)q(es)g(not)f(app)q(ear)g(to)g(b)q(e)h(large)f(at)g(the)0 804 y(scale)h(of)e(high-sp)q(eed)i(cac)o(he)g(memories|the)d(t)o(yp)q(e)i(of)g(col-)0 854 y(lector)c(is)g(not)g(as)f(imp)q(ortan)o(t)f(as)i(rate)h(of)e(allo)q(cation)f(and)i(the)0 904y(size)f(of)f(the)h(y)o(oungest)g(generation,)g(i.e.,)f(ho)o(w)g(quic)o(kly)g(mem-)0 954 y(ory)18 b(is)g(used,)h(reclaimed)e(and)h(reused)h(in)f(the)g(usual)g(case.)0 1004 y([Zor90)o(])g(sho)o(ws)g(that)g(a)f(non-cop)o(ying)g(collector)h(can)g(ha)o(v)o(e)0 1054 y(b)q(etter)k(lo)q(calit)o(y)d(than)i(a)f(cop)o(ying)g(collector)g(using)g(semi-)0 1103 y(spaces,)j(simply)18b(b)q(ecause)j(it)f(only)f(needs)j(a)d(single)h(space)0 1153y(p)q(er)i(generation;)i([WLM92)n(])d(sho)o(ws)g(that)g(Ungar's)f(tec)o(h-)01203 y(nique)12 b(of)f(using)h(a)g(sp)q(ecial)g(creation)h(area)f(can)g(yield)g(similar)0 1253 y(b)q(ene\014ts)21 b(at)e(the)h(lev)o(el)f(of)g(large)g(cac)o(hes,)j(just)d(as)g(it)g(do)q(es)0 1303 y(at)d(the)h(lev)o(el)f(of)f(virtual)h(memory)m(.)22 b([WLM92)o(])15 b(also)h(sho)o(ws)01352 y(that)i(the)g(allo)q(cation)e(of)h(v)n(ariable)g(binding)g(en)o(vironmen)o(ts)0 1402 y(and)f(activ)n(ation)e(records)j(on)f(the)g(heap)g(can)g(greatly)g(exac-)0 1452 y(erbate)d(cac)o(he-lev)o(el)g(lo)q(calit)o(y)e(problems)g(due)i(to)f(a)g(y)o(oungest)0 1502 y(generation)k(that)g(w)o(on't)f(\014t)h(in)g(the)g(cac)o(he.)25 b(This)16 b(is)g(b)q(orne)01552 y(out)c(b)o(y)f(sim)o(ulation)e(studies)k(of)e(Standard)h(ML)g(of)f(New)h(Jer-)0 1601 y(sey)i([DTM93)o(])g(on)f(high-p)q(erformance)g(pro)q(cessors.)20 b(It)14 b(sug-)0 1651 y(gests)e(that)f(activ)n(ation)e(information)f(and)j(binding)f(en)o(viron-)0 1701 y(men)o(ts)18 b(should)g(b)q(e)i(allo)q(cated)e(on)g(a)g(stac)o(k)i(using)e(compile)0 1751 y(time)d(analysis)g([KKR)3621736 y Fj(+)389 1751 y Fn(86)o(])h(or)g(in)f(a)h(soft)o(w)o(are)g(stac)o(k)g(cac)o(he)0 1801 y([CHO88)o(,)h(WM89)o(,)f(Kel93].)25 b(\(Soft)o(w)o(are)17b(stac)o(k)g(cac)o(hes)h(can)0 1851 y(b)q(e)11 b(used)h(in)e(languages)g(lik)o(e)f(ML)i(and)f(Sc)o(heme,)h(where)h(bind-)0 1900 y(ing)d(en)o(vironmen)o(ts)h(ma)o(y)e(b)q(e)i(captured)h(b)o(y)f(\014rst-class)h(pro)q(ce-)01950 y(dures)k(and/or)f(activ)n(ation)f(c)o(hains)h(ma)o(y)e(b)q(e)i(captured)i(with)0 2000 y(\014rst-class)j(con)o(tin)o(uations.)29b(The)19 b(cac)o(he)g(tak)o(es)f(adv)n(an)o(tage)p 0 2043 3882 v 0 2081 a Fg(ma)o(y)10 b(actually)g(p)q(erform)f(b)q(etter)h(when)h(the)g(t)o(w)o(o)h(are)e(nearly)g(equal.)31 2109 y Fh(39)64 2121y Fg(The)h(essen)o(tial)f(feature)f(is)j(the)f(use)g(a)g(of)h(a)fFf(write-al)r(lo)n(c)n(ate)i Fg(p)q(olicy)m(,)0 2160 y(in)d(com)o(binatio)o(n)d(with)j Ff(sub-blo)n(ck)j(plac)n(ement)p Fg(.)k(W)m(rite-allo)q(cate)7b(means)0 2199 y(that)g(if)i(a)f(blo)q(c)o(k)f(is)i(written)e(to)i(without)e(\014rst)h(writing,)g(it)g(is)h(allo)q(cated)d(a)0 2239 y(blo)q(c)o(k)i(of)i(cac)o(he)e(memory)m(,)f(rather)h(than)h(ha)o(ving)f(the)h(write)g(b)o(ypass)f(the)0 2278 y(cac)o(he)j(and)h(simply)f(up)q(date)f(the)i(blo)q(c)o(k)f(out)h(in)g(main)f(memory)m(.)16 b(This)0 2318 y(ensures)e(that)g(when)h(ob)r(jects)f(are)h(allo)q(cated)e(\(and)h(hence)g(written\),)02357 y(they)7 b(will)g(b)q(e)h(in)f(cac)o(he)f(when)i(they)e(are)h(referenced)e(shortly)h(thereafter.)0 2397 y(Sub-blo)q(c)o(k)h(placemen)o(t)g(means)h(that)h(the)g(cac)o(he)f(blo)q(c)o(k)h(is)h(divided)d(in)o(to)02436 y(sev)o(eral)13 b(indep)q(ende)o(n)o(t)e(lines)i(whic)o(h)h(can)f(b)q(e)h(v)n(alid)f(or)h(in)o(v)n(alid)e(in)i(the)0 2475 y(cac)o(he.)29b(This)17 b(allo)o(ws)f(writes)g(to)g(one)g(w)o(ord)g(to)h(a)o(v)o(oid)e(triggering)f(a)0 2515 y(fetc)o(h)g(of)h(the)f(rest)g(of)h(the)f(blo)q(c)o(k.)25 b(Ob)r(jects)14 b(can)g(th)o(us)g(b)q(e)h(allo)q(cated)02554 y(and)e(initialized)e(without)h(stalling)g(the)h(pro)q(cessor)e(and)i(fetc)o(hing)e(the)0 2594 y(old)g(con)o(ten)o(ts)e(of)i(the)g(storage)f(they)g(o)q(ccup)o(y)m(.)1011 55 y Fn(of)i(the)h(fact)g(that)g(while)f(en)o(vironmen)o(ts)g(and)h(con)o(tin)o(uations)1011 105 y(can)18b(b)q(e)h(captured,)i(the)e(v)n(ast)f(ma)r(jorit)o(y)e(of)i(them)f(are)i(not)1011 155 y(and)13 b(needn't)i(b)q(e)g(put)f(on)f(the)i(heap.\))1011282 y Fi(5.3)55 b(Lo)r(calit)n(y)17 b(of)i(T)-5 b(racing)19b(T)-5 b(ra)n(v)n(ersals)1011 362 y Fn(The)21 b(lo)q(calit)o(y)e(of)i(GC)f(tracing)h(tra)o(v)o(ersals)g(is)g(di\016cult)f(to)1011 412y(study)c(in)f(isolation,)f(but)i(it)g(app)q(ears)g(to)g(ha)o(v)o(e)f(some)g(ob)o(vi-)1011 462 y(ous)f(c)o(haracteristics.)21 b(Most)14b(ob)r(jects)i(in)d(the)i(generation\(s\))1011 512 y(b)q(eing)g(collected)g(will)f(b)q(e)h(touc)o(hed)h(exactly)f(once,)g(b)q(ecause)1011562 y(most)f(ob)r(jects)i(are)g(p)q(oin)o(ted)f(to)g(b)o(y)h(exactly)f(one)g(other)h(ob-)1011 611 y(ject)i([Ro)o(v85)n(,)f(DeT90]|t)o(ypical)e(data)j(structures)i(do)d(not)1011 661 y(con)o(tain)12 b(a)g(large)h(n)o(um)o(b)q(er)f(of)g(cycles,)h(and)g(man)o(y)e(cycles)j(are)1011 711y(small)e(enough)j(to)g(ha)o(v)o(e)g(little)f(impact)f(on)i(tra)o(v)o(ersal)g(lo)q(cal-)1011 761 y(it)o(y)m(.)1052 813 y(Giv)o(en)g(this,)g(the)h(main)d(c)o(haracteristic)j(of)f(the)h(tra)o(v)o(ersal)1011 862 y(is)c(to)g(exhaustiv)o(ely)h(touc)o(h)f(all)g(liv)o(e)f(data,)h(but)h(for)f(the)h(most)1011 912 y(part)g(v)o(ery)g(brie\015y)m(.)18 b(There)c(is)f(v)o(ery)h(little)e Fk(temp)n(or)n(al)g Fn(lo)q(calit)o(y)1011 962 y(of)j(reference)j(i.e.,)d(rep)q(eated)i(touc)o(hing)e(of)h(the)g(same)f(data.)1011 1012y(\(Most)d(ob)r(jects)h(are)f(referenced)i(b)o(y)e(exactly)f(one)h(p)q(oin)o(ter)g(at)1011 1062 y(an)o(y)d(giv)o(en)g(time,)g(and)h(will)e(therefore)j(only)e(b)q(e)h(reac)o(hed)h(once)1011 1112 y(b)o(y)k(the)h(tracing)f(tra)o(v)o(ersal.\))23 b(The)16 b(ma)r(jor)e(lo)q(calit)o(y)g(c)o(harac-)10111161 y(teristic)h(that)g(can)g(b)q(e)g(exploited)f(is)h(the)gFk(sp)n(atial)f Fn(lo)q(calit)o(y)g(of)1011 1211 y(data)k(structures)j(la)o(y)o(outs)c(in)h(memory|if)d(closely-link)o(ed)1011 1261 y(ob)r(jects)k(are)f(close)h(to)e(eac)o(h)i(other)f(in)g(memory)m(,)d(touc)o(hing)10111311 y(one)f(ob)r(ject)g(ma)o(y)d(bring)j(sev)o(eral)g(others)g(in)o(to)f(fast)g(memory)1011 1361 y(shortly)h(b)q(efore)g(they)h(are)f(tra)o(v)o(ersed.)1052 1412 y(Exp)q(erience)21 b(with)d(the)h(Xero)o(x)g(PCR)f(system)h(indicates)1011 1462 y(that)k(ev)o(en)h(in)f(a)f(non-cop)o(ying)h(collector)g(\(i.e.,)h(without)1011 1512 y(compaction\))14 b(there)i(is)g(useful)f(lo)q(calit)o(y)f(in)h(ob)r(jects')h(initial)1011 1562 y(la)o(y)o(outs)g(in)g(memory;)f(related)i(ob)r(jects)h(are)f(often)f(created)10111612 y(and/or)f(die)g(at)g(ab)q(out)h(the)g(same)e(time,)g(so)h(simple)f(allo)q(ca-)1011 1662 y(tion)i(strategies)j(result)f(in)f(useful)g(clustering)h(in)e(memory)m(.)1011 1711 y(The)i(PCR)f(collector)h(enhances)h(this)f(b)o(y)f(sorting)g(its)h(ro)q(ot)1011 1761 y(set)f(b)q(efore)g(tra)o(v)o(ersing)g(data,)f(so)h(that)f(ro)q(ot)h(p)q(oin)o(ters)g(in)o(to)10111811 y(the)f(same)f(area)h(are)h(tra)o(v)o(ersed)g(at)f(ab)q(out)f(the)i(same)e(time.)1011 1861 y(This)e(has)h(b)q(een)h(observ)o(ed)g(to)e(signi\014can)o(tly)g(reduce)i(paging)1011 1911 y(during)e(full)g(garbage)h(collections.)1569 1896 y Fj(40)1052 1962 y Fn(In)k(a)g(cop)o(ying)g(collector,)h(it)f(w)o(ould)f(seem)h(that)h(tra)o(v)o(er-)10112012 y(sals)13 b(usually)g(ha)o(v)o(e)g(go)q(o)q(d)g(spatial)f(lo)q(calit)o(y)m(,)f(in)i(that)h(ob)r(jects)1011 2062 y(are)e(t)o(ypically)f(organized)g(b)o(y)h(the)h(tra)o(v)o(ersal)e(ordering)h(when)1011 2112y(they)20 b(are)f(\014rst)h(copied,)h(and)e(then)h(are)g(tra)o(v)o(ersed)g(in)f(the)1011 2162 y(same)h(order)i(b)o(y)f(subsequen)o(t)h(tra)o(v)o(ersals.)40 b(\(A)o(t)22 b(the)f(\014rst)1011 2212 y(tra)o(v)o(ersal,)d(of)g(course,)i(the)e(matc)o(h)f(b)q(et)o(w)o(een)i(ob)r(jects')g(ini-)10112261 y(tial)11 b(allo)q(cation)g(la)o(y)o(out)h(and)g(the)h(tra)o(v)o(ersal)g(order)g(ma)o(y)e(also)1011 2311 y(b)q(e)j(signi\014can)o(t.\))10522363 y(Because)21 b(of)d(the)h(high)f(spatial)g(lo)q(calit)o(y)g(and)g(lo)o(w)g(tem-)1011 2413 y(p)q(oral)e(lo)q(calit)o(y)m(,)e(it)i(ma)o(y)f(b)q(e)i(desirable)g(to)f(limit)e(the)j(mem-)1011 2463 y(ory)i(used)i(b)o(y)e(a)h(tracing)f(tra)o(v)o(ersal,)i(to)e(a)o(v)o(oid)g(needlessly)10112512 y(displacing)c(the)j(con)o(ten)o(ts)f(of)f(memory)f(b)o(y)h(large)g(amoun)o(ts)p 1011 2555 V 1042 2582 a Fh(40)1074 2594 y Fg(Carl)c(Hauser,)e(p)q(ersonal)g(comm)o(unica)o(tio)o(n)f(1991.)969 2718 y Fn(48)peop%%Page: 49 49bop 0 55 a Fn(of)18 b(data)g(that)g(are)g(only)g(brie\015y)g(touc)o(hed)h(during)f(tracing)0 105 y([Wil90)n(,)13 b(Bak91a)o(].)18 b(Incremen)o(tal)13b(tracing)h(ma)o(y)e(yield)h(some)0 155 y(of)g(the)h(same)e(b)q(ene\014t,)i(b)o(y)f(allo)o(wing)e(the)j(m)o(utator)e(to)h(touc)o(h)0 205y(data)d(during)h(the)g(tracing)f(phase,)i(k)o(eeping)e(the)i(most)d(activ)o(e)0 255 y(data)14 b(in)f(fast)h(memory)m(.)380 239 y Fj(41)0381 y Fi(5.4)56 b(Clustering)42 b(of)h(Longer-Liv)n(ed)d(Ob-)128439 y(jects)0 519 y Fn(Sev)o(eral)12 b(studies)h(ha)o(v)o(e)f(addressed)i(cop)o(ying)d(collection's)h(in-)0 569 y(direct)g(e\013ect)h(on)e(lo)q(calit)o(y|i.e.,)d(the)k(e\013ect)h(of)e(reorganizing)0 619 y(the)j(data)g(whic)o(h)g(are)g(subsequen)o(tly)h(accessed)h(b)o(y)e(the)g(run-)0 669y(ning)f(program.)0 787 y Fm(5.4.1)48 b(Static)14 b(Grouping)0867 y Fn(Stamos)21 b([Sta82)o(,)g(Sta84])h(Blau)f([Bla83)o(])h(studied)h(the)f(ef-)0 917 y(fects)g(of)d(using)i(di\013eren)o(t)g(cop)o(ying)f(tra)o(v)o(ersal)g(algorithms)0 967 y(to)26 b(reorganize)h(long-liv)o(ed)e(system)h(data)g(and)g(co)q(de)i(in)0 1017 y(Smalltalk)10 b(systems.)18b(While)12 b(these)i(algorithms)d(reorganize)0 1066 y(data)17b(during)g(program)f(execution)j(\(i.e.,)e(at)g(garbage)h(col-)01116 y(lection)f(time\),)g(they)h(are)f(referred)j(to)d(as)gFk(static)h(gr)n(ouping)0 1166 y Fn(algorithms)12 b(b)q(ecause)j(they)f(reorganize)h(data)e(according)h(to)0 1216 y(ho)o(w)g(ob)r(jects)i(are)g(link)o(ed)e(at)g(the)i(time)d(garbage)i(collection)0 1266y(o)q(ccurs|clustering)k(is)e(not)g(based)g(on)g(the)h(dynamic)d(pat-)01315 y(tern)g(of)e(the)i(program's)d(actual)h(accesses)k(to)c(data)h(ob)r(jects.)42 1367 y(Both)f(studies)i(concluded)f(that)g(depth-\014rst)g(reorganiza-)0 1417 y(tion)9 b(w)o(as)g(preferable)i(to)e(breadth-\014rst)i(reorganization,)e(but)0 1467 y(not)18 b(b)o(y)f(a)h(large)g(margin;)f(there)i(is)f(useful)g(lo)q(calit)o(y)e(infor-)0 1517 y(mation)i(in)h(the)i(top)q(ology)d(of)i(data)f(structures,)24 b(but)c(an)o(y)0 1566 y(reasonable)13b(tra)o(v)o(ersal)g(will)e(do)i(a)f(decen)o(t)i(job)e(of)g(organizing)01616 y(the)20 b(data.)33 b(\(Breadth-)20 b(and)f(depth-\014rst)i(tra)o(v)o(ersals)e(b)q(oth)0 1666 y(dramatically)11 b(outp)q(erform)i(a)h(random)e(reorganization.\))42 1718 y(Wilson)i Fk(et)i(al.)23 b Fn(p)q(erformed)15b(a)h(similar)d(study)j(for)f(a)g(Lisp)0 1768 y(system)24 b([WLM91)o(],)h(and)f(sho)o(w)o(ed)g(that)g(tra)o(v)o(ersal)h(algo-)0 1817y(rithms)13 b(can)h(mak)o(e)f(an)g(appreciable)i(di\013erence.)20b(The)14 b(most)0 1867 y(imp)q(ortan)o(t)c(di\013erence)k(in)e(those)h(exp)q(erimen)o(ts)g(w)o(as)f(not)g(b)q(e-)0 1917 y(t)o(w)o(een)f(tra)o(v)o(ersal)g(algorithms)e Fk(p)n(er)i(se)p Fn(,)g(ho)o(w)o(ev)o(er,)g(but)g(in)g(ho)o(w)01967 y(large)i(hash)h(tables)f(w)o(ere)h(treated.)20 b(System)12b(data)h(are)h(often)0 2017 y(stored)j(in)e(hash)h(tables)g(whic)o(h)f(implemen)o(t)e(large)i(v)n(ariable)0 2066 y(binding)d(en)o(vironmen)o(ts,)g(suc)o(h)i(as)f(a)g(global)f(namespace,)g(or)0 2116 y(a)18b(pac)o(k)n(age.)29 b(Hash)18 b(tables)g(store)h(their)f(items)f(in)h(pseudo-)0 2166 y(random)e(order,)k(and)e(this)g(ma)o(y)e(cause)j(a)f(cop)o(ying)f(collec-)0 2216 y(tor)j(to)g(reac)o(h)g(and)g(cop)o(y)g(data)f(structures)k(in)c(a)h(pseudo-)0 2266 y(random)g(fashion.)38b(This)21 b(greatly)g(reduces)i(lo)q(calit)o(y)m(,)e(but)02316 y(is)f(easy)g(to)f(a)o(v)o(oid)f(b)o(y)i(treating)f(hash)h(tables)g(sp)q(ecially)m(.)935 2300 y Fj(42)p 0 2358 388 2 v 31 2385 a Fh(41)642396 y Fg(This)d(b)q(ene\014t)e(ma)o(y)h(not)g(b)q(e)h(large)f(relativ)o(e)f(to)i(the)f(additional)0 2436 y(space)7 b(cost)h(of)g(incremen)o(tal)e(collection|th)o(e)g(deferred)g(reuse)i(of)g(mem-)0 2475 y(ory)15b(that)g(can't)g(b)q(e)g(reclaimed)f(un)o(til)h(the)g(end)g(of)h(the)f(incremen)o(ta)o(l)0 2515 y(tracing)10 b(phase.)31 2543 y Fh(42)642554 y Fg(One)15 b(tec)o(hnique)e(is)j(to)f(mo)q(dify)f(the)h(hash)f(tables')h(structure)e(to)0 2594 y(record)i(the)h(order)f(in)h(whic)o(h)g(en)o(tries)f(are)h(made,)g(or)h(imp)q(ose)e(some)1011 55 y Fn(Once)e(hash)f(tables)g(are)h(treated)g(prop)q(erly)m(,)f(further)g(lo)q(calit)o(y)1011105 y(gains)f(can)h(b)q(e)g(made)e(b)o(y)i(using)f(an)h(algorithm)d(that)i(clusters)1011 155 y(data)19 b(structures)j(hierarc)o(hically)m(.)33b(\(Similar)17 b(results)j(w)o(ere)1011 205 y(rep)q(orted)15b(for)e(the)h(Sym)o(b)q(olics)e(Lisp)h(Mac)o(hine)g(system,)g(in)g(a)1011255 y(master's)j(thesis)h(b)o(y)f(D.L.)f(Andre)j([And86)o(].)26b(While)15 b(those)1011 304 y(exp)q(erimen)o(ts)e(w)o(ere)h(not)f(particularly)g(w)o(ell-con)o(trolled,)e(the)1011 354 y(results)21b(w)o(ere)g(strikingly)e(p)q(ositiv)o(e,)i(and)f(this)g(is)g(particu-)1011404 y(larly)13 b(signi\014can)o(t)h(b)q(ecause)i(the)f(results)g(w)o(ere)g(obtained)f(for)1011 454 y(a)f(large,)g(commercial)f(system.\))1011577 y Fm(5.4.2)48 b(Dynamic)14 b(Reorganization)1011 659 yFn(In)j(1980,)f(White)h(prop)q(osed)h(a)f(system)g(in)f(whic)o(h)h(garbage)1011 709 y(collection)g(w)o(as)g(deferred)i(for)e(long)g(p)q(erio)q(ds)h(of)f(time,)g(but)1011 759 y(in)e(whic)o(h)h(Bak)o(er's)h(read-barrier)g(incremen)o(tal)e(copier)h(w)o(as)1011 809 y(enabled)h(to)h(cop)o(y)f(data)g(for)g(its)g(lo)q(calit)o(y)f(e\013ects)k([Whi80)n(];)1011 859 y(the)15b(goal)e(w)o(as)h(not)h(to)f(reclaim)f(empt)o(y)h(space,)h(but)g(instead)1011908 y(to)h(simply)f(cluster)j(the)g(activ)o(e)f(data)f(so)h(that)g(it)g(could)f(b)q(e)1011 958 y(k)o(ept)e(in)f(fast)h(memory)m(.)h(One)g(in)o(teresting)f(prop)q(ert)o(y)h(of)e(this)1011 1008 y(sc)o(heme)d(is)g(that)g(it)g(reorganizes)h(data)f(in)g(the)h(order)f(in)g(whic)o(h)10111058 y(they)18 b(are)g(touc)o(hed)h(b)o(y)e(the)i(m)o(utator,)e(and)g(if)g(subsequen)o(t)1011 1108 y(access)g(patterns)f(are)f(similar,)e(it)h(should)h(greatly)g(impro)o(v)o(e)1011 1157 y(lo)q(calit)o(y)m(.)10521210 y(This)g(sc)o(heme)f(is)h(impractical)d(in)i(its)h(original)e(form)f(\(b)q(e-)1011 1260 y(cause)17 b(the)g(sheer)h(v)o(olume)c(of)i(garbage)g(w)o(ould)f(sw)o(amp)g(the)1011 1310 y(write)h(bandwidth)f(of)g(t)o(ypical)g(disks)h(if)f(memory)e(w)o(ere)k(not)1011 1360 y(reclaimed)c([Ung84)o(]\),)g(but)h(the)g(same)f(basic)h(idea)g(has)g(b)q(een)1011 1409y(incorp)q(orated)k(in)o(to)f(the)h(garbage)g(collector)g(of)f(the)h(T)m(exas)1011 1459 y(Instrumen)o(ts)f(Explorer)h(Lisp)f(mac)o(hines)f([Cou88)o(,)g(Joh91].)1011 1509 y(This)27 b(collector)h(a)o(v)o(oids)f(p)q(erforming)f(exhaustiv)o(e)i(bac)o(k-)1011 1559 y(ground)19 b(sca)o(v)o(enging)g(un)o(til)g(to)o(w)o(ard)g(the)h(end)g(of)f(the)h(gar-)1011 1609y(bage)11 b(collection)f(cycle,)i(to)e(enhance)i(the)g(o)q(dds)f(that)g(ob)r(jects)1011 1658 y(will)j(b)q(e)i(reac)o(hed)h(\014rst)f(b)o(y)g(the)g(m)o(utator,)e(and)h(copied)h(in)f(a)1011 1708 y(lo)q(calit)o(y-enhancing)d(order.)1052 1761 y(A)h(similar)d(approac)o(h)j(has)g(b)q(een)g(used)h(in)e(sim)o(ulations)e(b)o(y)1011 1811 y(the)i(MUSHR)o(OOM)f(pro)r(ject)h(at)f(the)h(Univ)o(ersit)o(y)f(of)g(Manc)o(h-)1011 1861 y(ester)17b([WWH87)n(].)23 b(Rather)16 b(than)g(relying)f(on)g(the)h(garbage)10111910 y(collector,)i(ho)o(w)o(ev)o(er,)h(this)f(system)f(is)h(triggered)g(b)o(y)g(cac)o(he)1011 1960 y(misses;)e(it)g(can)g(therefore)i(resp)q(ond)f(more)e(directly)h(to)g(the)1011 2010 y(lo)q(calit)o(y)h(c)o(haracteristics)j(of)e(a)g(program,)f(rather)j(than)e(to)1011 2060 y(the)c(in)o(teraction)f(b)q(et)o(w)o(een)i(the)g(program)d(and)h(the)h(garbage)1011 2110 y(collector.)10522162 y(Unfortunately)m(,)29 b(suc)o(h)e(sc)o(hemes)g(rely)g(on)f(sp)q(ecialized)1011 2212 y(hardw)o(are)15 b(to)f(b)q(e)h(w)o(orth)o(while.)k(The)c(Explorer)g(system)f(ex-)1011 2262 y(ploits)i(Lisp)h(mac)o(hines')f(hardw)o(are)h(supp)q(ort)h(for)f(a)g(Bak)o(er-)1011 2312 y(st)o(yle)j(read)h(barrier,)g(and)f(the)h(MUSHR)o(OOM)f(system)g(is)p 1011 2358V 1011 2397 a Fg(other)15 b(nonrandom)e(ordering,)i(and)h(then)f(mo)q(dify)g(the)h(collector)e(to)1011 2436 y(use)i(this)h(information)d(to)i(order)g(its)h(examination)d(of)j(the)f(en)o(tries.)1011 2475 y(Another)10b(tec)o(hnique)f(is)j(to)g(mak)o(e)e(hash)h(tables)f(indirect)g(indexes)g(in)o(to)1011 2515 y(an)e(ordered)e(arra)o(y)i(of)g(en)o(tries;)g(this)g(has)g(the)f(adv)n(an)o(tage)f(that)i(it)g(can)g(b)q(e)1011 2554y(implemen)o(t)o(ed)e(without)i(mo)q(difying)e(the)i(collector,)f(and)h(can)g(therefore)1011 2594 y(b)q(e)j(used)f(for)h(user-de\014ned)e(table)h(structures.)969 2718 y Fn(49)p eop%%Page: 50 50bop 0 55 a Fn(based)15 b(on)e(a)h(no)o(v)o(el)f(\\ob)r(ject-orien)o(ted")i(arc)o(hitecture.)42 109 y(Wilson)21 b([Wil91)n(])h(casts)i(these)g(tec)o(hniques)h(as)d(a)h(form)0 159 y(of)e(adaptiv)o(e)g(prefetc)o(hing,)i(and)e(argues)h(that)g(as)f(memo-)0 209 y(ries)g(con)o(tin)o(ue)g(to)g(gro)o(w,)h(suc)o(h)f(\014ne-grained)g(reorganiza-)0 259 y(tion)10 b(ma)o(y)f(b)q(e)i(o)o(v)o(erkill;)f(reorganization)h(of)f(virtual)g(memory)0 308y(pages)19 b(within)g(larger)g(units)g(of)f(disk)h(transfer)h(ma)o(y)d(yield)0 358 y(go)q(o)q(d)h(results)h(on)f(sto)q(c)o(k)h(hardw)o(are.)31b(\(This)19 b(is)f(supp)q(orted)0 408 y(b)o(y)11 b(data)g(suc)o(h)h(as)g(those)g(from)d(the)j(LOOM)g(ob)r(ject-orien)o(ted)0 458 y(virtual)e(memory)e(for)i(Smalltalk)d([Sta82)o(],)j(whic)o(h)h(sho)o(w)f(that)0508 y(\014ner-grained)18 b(cac)o(hing)g(strategies)h(are)f(helpful)f(primarily)0 557 y(when)24 b(memories)e(are)i(v)o(ery)g(small.)46b(As)24 b(memories)e(get)0 607 y(larger,)13 b(the)h(optimal)d(unit)i(of)g(cac)o(hing)g(gets)h(larger)g(as)f(w)o(ell,)0 657 y(and)18b(pagewise)h(sc)o(hemes)g(tend)h(to)e(w)o(ork)g(roughly)g(as)h(w)o(ell)0707 y(as)e(ob)r(ject)o(wise)h(sc)o(hemes.\))27 b(Wilson)16b(also)g(argues)i(that)f(the)0 757 y(impro)o(v)o(emen)o(ts)12b(due)i(to)g(\014ne-grained)g(reorganization)f(ma)o(y)0 807y(b)q(e)h(mostly)d(due)j(to)f(de\014ciencies)j(in)c(the)i(static-graph)g(algo-)0 856 y(rithms)f(used)i(for)f(comparison|in)e(particular,)h(treatmen)o(t)0 906 y(of)k(large)h(hash)h(tables.)31 b(Ho)o(w)o(ev)o(er,)19b(Llames)d(has)j(rep)q(orted)0 956 y([Lla91)n(])d(that)g(dynamic)e(reorganization)h(can)h(signi\014can)o(tly)0 1006 y(impro)o(v)o(e)g(lo)q(calit)o(y)m(,)g(ev)o(en)j(after)f(ro)q(ots)g(are)g(treated)i(appro-)01056 y(priately)c(and)f(a)h(go)q(o)q(d)g(bac)o(kground)f(sca)o(v)o(enging)h(tra)o(v)o(ersal)0 1105 y(is)e(used.)134 1090 y Fj(43)0 1235y Fm(5.4.3)48 b(Co)q(ordination)13 b(with)h(P)o(aging)0 1319y Fn(Sev)o(eral)i(systems)f(ha)o(v)o(e)h(co)q(ordinated)g(the)g(garbage)f(collec-)0 1369 y(tor)c(with)f(the)h(virtual)f(memory)e(system)j(to)f(impro)o(v)o(e)f(paging)0 1419 y(p)q(erformance.)42 1473 y(The)j(Sym)o(b)q(olics)e(Lisp)i(mac)o(hines)g(ha)o(v)o(e)f(had)h(p)q(erhaps)i(the)01522 y(most)20 b(comprehensiv)o(e)h(co)q(ordination)f(of)g(garbage)g(collec-)0 1572 y(tion)f(with)g(virtual)f(memory)m(.)31 b(The)20 b(Sym)o(b)q(olics)d(allo)q(cator)0 1622 y(could)e(notify)f(the)h(virtual)f(memory)f(system)h(when)i(a)e(page)0 1672 y(no)20 b(longer)f(con)o(tained)h(an)o(y)f(useful)h(data,)h(allo)q(cate)e(pages)0 1722 y(of)13 b(virtual)f(memory)f(without)i(paging)g(their)g(old)g(\(garbage\))0 1771 y(con)o(ten)o(ts)e(in)o(to)d(memory)f(when)j(the)h(page)e(w)o(as)h(\014rst)g(touc)o(hed.)421825 y(Virtual)17 b(memory)g(co)q(op)q(eration)h(w)o(as)h(also)f(used)h(in)g(the)0 1875 y(in)o(tergenerational)g(p)q(oin)o(ter)h(recording)g(mec)o(hanism.)32 b(Be-)0 1925 y(fore)20 b(paging)f(out)g(a)h(page)g(holding)e(p)q(oin)o(ters)i(to)g(y)o(ounger)0 1975 y(generations,)d(the)h(page)e(w)o(as)h(scanned)h(and)f(the)g(in)o(tergen-)0 2025 y(erational)i(p)q(oin)o(ters)h(found)f([Mo)q(o84)o(].)34 b(This)19 b(allo)o(w)o(ed)g(the)02074 y(garbage)14 b(collector)g(to)g(a)o(v)o(oid)e(paging)h(in)g(data)h(just)g(to)g(scan)0 2124 y(them)j(for)h(p)q(oin)o(ters)g(in)o(to)g(y)o(ounger)g(generations.)31 b(Virtual)0 2174 y(memory)15 b(mapping)g(tec)o(hniques)k(w)o(ere)f(also)f(used)i(to)e(opti-)0 2224 y(mize)e(the)i(cop)o(ying)f(of)f(large)h(ob)r(jects|rather)i(than)e(actu-)0 2274 y(ally)c(cop)o(ying)h(the)i(data)e(within)g(a)g(large)h(ob)r(ject,)g(the)g(pages)0 2324y(holding)h(the)h(data)g(could)g(simply)e(b)q(e)i(mapp)q(ed)f(out)h(of)g(the)0 2373 y(old)d(range)h(of)g(virtual)f(addresses)j(and)e(in)o(to)f(the)i(new)f(range)0 2423 y([Wit91)n(].)p 0 2476 388 2 v 31 2503 a Fh(43)642515 y Fg(Llames)7 b(added)f(dynamic)g(grouping)g(to)i(Mo)q(on's)g(Ephemeral)d(Gar-)0 2554 y(bage)14 b(Collector,)f(whic)o(h)h(uses)h(the)f(static)f(grouping)f(tec)o(hniques)g(de-)0 2594 y(scrib)q(ed)e(in)h([And86)o(].)105255 y Fn(More)16 b(recen)o(tly)m(,)h(microk)o(ernel)e(op)q(erating)g(systems)h(ha)o(v)o(e)1011 105 y(o\013ered)h(the)g(abilit)o(y)d(to)i(mo)q(dify)d(virtual)j(memory)d(p)q(olicies)1011 155 y(without)21 b(actually)f(mo)q(difying)e(the)k(k)o(ernel.)40 b(The)21 b(k)o(ernel)1011 205y(calls)d(user-sp)q(eci\014ed)j(routines)e(to)g(con)o(trol)f(the)h(paging)f(of)1011 255 y(a)e(pro)q(cess,)j(rather)e(than)f(hard-co)q(ding)h(the)g(en)o(tire)g(paging)1011 304 y(p)q(olicy)d(in)o(to)h(the)h(k)o(ernel)g(itself.)22b(In)16 b(the)g(Mac)o(h)f(system,)g(for)1011 354 y(example)eFk(external)i(p)n(ager)g Fn(pro)q(cesses)i(can)d(b)q(e)h(used)h(to)e(con-)1011 404 y(trol)g(paging)g(activit)o(y;)f(this)i(feature)h(has)e(b)q(een)i(used)g(to)e(re-)1011 454 y(duce)i(paging)f(for)g(Standard)h(ML)f(of)g(New)h(Jersey)h(in)e(w)o(a)o(ys)1011 504 y(similar)9 b(to)i(those)h(used)h(in)e(the)h(Sym)o(b)q(olics)d(system)j([Sub91)o(].)1011 641 y Fo(6)69b(Lo)n(w-lev)n(el)14 b(Imple)o(m)m(en)n(tati)o(on)g(Is-)1114716 y(sues)1011 807 y Fn(So)i(far,)h(w)o(e)f(ha)o(v)o(e)h(mostly)e(discussed)j(basic)f(issues)g(of)f(gar-)1011 857 y(bage)10 b(collector)g(design,)h(and)e(basic)i(p)q(erformance)e(tradeo\013s.)1011 906 y(In)i(addition)f(to)h(these)h(primary)e(considerations,)h(a)g(garbage)1011 956 y(collector)18b(designer)i(is)e(faced)h(with)f(man)o(y)e(design)j(c)o(hoices)10111006 y(whic)o(h)e(can)g(ha)o(v)o(e)g(a)g(signi\014can)o(t)g(impact)f(on)h(the)h(ultimate)1011 1056 y(p)q(erformance)11 b(of)h(the)g(system,)f(and)h(on)f(ho)o(w)h(easily)f(the)h(gar-)1011 1106 y(bage)19 b(collector)h(can)g(b)q(e)h(in)o(tegrated)f(with)f(other)h(comp)q(o-)1011 1155 y(nen)o(ts)d(of)e(the)i(system.)24 b(In)16 b(this)g(section)g(w)o(e)g(discuss)i(these)10111205 y(lo)o(w-lev)o(el)12 b(implemen)o(tation)f(questions)j(in)g(more)e(detail.)1011 1322 y Fi(6.1)55 b(P)n(oin)n(ter)19 b(T)-5 b(ags)20b(and)f(Ob)s(ject)f(Headers)1011 1398 y Fn(F)m(or)11 b(most)f(of)h(this)g(pap)q(er,)h(w)o(e)g(ha)o(v)o(e)f(assumed)g(that)g(p)q(oin)o(ters)10111448 y(are)g(tagged)g(with)f(small)f(tags)i(and)f(that)h(p)q(oin)o(ted-to)g(ob)r(jects)1011 1498 y(ha)o(v)o(e)k(header)i(\014elds)g(that)f(enco)q(de)h(more)e(sp)q(eci\014c)i(t)o(yp)q(e)g(in-)1011 1548 y(formation;)c(this)i(sp)q(eci\014c)i(t)o(yp)q(e)e(information)e(can)i(b)q(e)h(used)10111597 y(to)e(determine)h(ob)r(jects')h(la)o(y)o(outs,)d(including)h(the)h(lo)q(cations)1011 1647 y(of)e(em)o(b)q(edded)h(p)q(oin)o(ter)g(\014elds.)k(This)13 b(is)h(the)g(most)f(common)1011 1697 y(sc)o(heme)k(in)f(dynamically-t)o(yp)q(ed)f(languages)h(suc)o(h)i(as)f(Lisp)1011 1747 y(and)f(Smalltalk.)23b(It)16 b(is)h(common)d(in)i(suc)o(h)h(languages)f(that)10111797 y(ob)r(jects)e(are)f(divided)f(in)o(to)g(t)o(w)o(o)g(ma)r(jor)f(categories:)18 b(ob)r(jects)1011 1847 y(that)e(can)h(b)q(e)g(stored)g(within)e(a)h(mac)o(hine)g(w)o(ord)g(as)g(tagged)1011 1896y(imm)o(ediate)c(v)n(alues,)h(and)h(ob)r(jects)h(whic)o(h)e(are)i(allo)q(cated)e(on)1011 1946 y(the)h(heap)g(and)g(referred)i(to)e(via)f(p)q(oin)o(ters.)18 b(Heap-allo)q(cated)1011 1996 y(ob)r(jects)f(are)f(often)g(further)h(divided)f(in)o(to)f(t)o(w)o(o)h(categories:)1011 2046 y(those)j(whic)o(h)f(con)o(tain)f(only)h(tagged)g(v)n(alues)f(\(immediates)10112096 y(and)d(p)q(oin)o(ters\))i(whic)o(h)e(m)o(ust)g(b)q(e)i(examined)d(b)o(y)i(the)g(collec-)1011 2145 y(tor)e(to)g(\014nd)h(the)f(p)q(oin)o(ters,)h(and)f(those)h(whic)o(h)f(con)o(tain)g(only)1011 2195 y(nonp)q(oin)o(ter)f(\014elds)g(whic)o(h)g(can)g(b)q(e)g(ignored)g(b)o(y)g(the)g(garbage)10112245 y(collector.)1052 2295 y(Another)k(p)q(ossibilit)o(y)d(is)i(that)f(eac)o(h)i(\014eld)e(con)o(tains)h(b)q(oth)1011 2345 y(the)e(ob)r(ject)g(\(if)f(it's)g(a)g(small)e(immediate)g(v)n(alue\))i(or)g(p)q(oin)o(ter,)10112395 y Fk(and)j Fn(the)g(detailed)g(t)o(yp)q(e)g(information.)j(This)c(generally)g(re-)1011 2444 y(quires)i(\014elds)f(to)g(b)q(e)h(t)o(w)o(o)f(w)o(ords|one)g(w)o(ord)h(long)e(enough)1011 2494 y(to)g(hold)g(a)g(ra)o(w)g(p)q(oin)o(ter)h(or)f(ra)o(w)g(immediate,)d(and)k(another)10112544 y(to)e(hold)g(a)g(bit)g(pattern)i(long)d(enough)i(to)f(enco)q(de)i(all)d(of)h(the)1011 2594 y(t)o(yp)q(es)j(in)e(the)i(system.)k(Generally)m(,)14b(a)h(whole)f(w)o(ord)h(is)g(used)969 2718 y(50)p eop%%Page: 51 51bop 0 55 a Fn(for)17 b(the)i(latter)f(\014eld,)g(b)q(ecause)i(of)d(alignmen)o(t)e(constrain)o(ts)0 105 y(for)g(load)f(and)g(store)i(op)q(erations.)54090 y Fj(44)597 105 y Fn(Despite)g(the)f(w)o(aste)h(of)0 155y(space,)i(this)f(sc)o(heme)g(ma)o(y)e(b)q(e)i(attractiv)o(e)g(on)g(some)f(arc)o(hi-)0 205 y(tectures,)g(esp)q(ecially)e(those)g(with)g(wide)g(buses.)42 255 y(F)m(or)h(a)h(language)g(with)g(a)g(static)g(t)o(yp)q(e)h(system,)f(still)g(an-)0 304 y(other)f(p)q(ossibilit)o(y)f(is)h(that)f(all)g(ob)r(jects)i(ha)o(v)o(e)e(headers,)i(and)0 354 y(that)h(p)q(oin)o(ter)h(\014elds)g(con)o(tain)e(no)h(tags.)29 b(\(This)17 b(requires)h(a)0 404y(static)c(t)o(yp)q(e)h(system)f(whic)o(h)g(ensures)i(that)e(immediate)e(v)n(al-)0 454 y(ues)17 b(can't)f(b)q(e)h(stored)g(in)e(the)i(same)e(\014elds)i(as)f(p)q(oin)o(ters|if)0 504 y(they)j(could,)f(it)g(w)o(ould)g(require)h(a)e(tag)h(to)g(tell)g(the)h(di\013er-)0 553 y(ence.\))37 b(Simply)17b(kno)o(wing)h(whic)o(h)i(\014elds)f(of)g(ob)r(jects)i(ma)o(y)0603 y(con)o(tain)i(p)q(oin)o(ters)h(is)f(su\016cien)o(t,)i(if)e(the)h(p)q(oin)o(ted-to)f(ob-)0 653 y(jects)e(ha)o(v)o(e)e(headers)i(to)e(deco)q(de)iFk(their)d Fn(structure.)37 b(Some)0 703 y(dynamically-t)o(yp)q(ed)12b(systems)j(use)h(this)f(represen)o(tation)h(as)0 753 y(w)o(ell,)25b(and)f(a)o(v)o(oid)f(ha)o(ving)g(imm)o(ediate)f(v)n(alues)h(within)g(a)0802 y(w)o(ord|ev)o(en)16 b(short)h(in)o(tegers)h(are)e(represen)o(ted)k(as)c(ob)r(jects)0 852 y(with)e(headers.)242 837 y Fj(45)42 902y Fn(If)19 b(strictly)i(static)f(t)o(yping)f(is)h(used,)i(ev)o(en)f(the)g(headers)0 952 y(can)12 b(b)q(e)h(omitted|once)e(a)h(p)q(oin)o(ter)g(\014eld)g(is)g(found,)g(and)g(the)0 1002 y(t)o(yp)q(e)i(of)e(the)i(p)q(oin)o(ter)f(is)g(kno)o(wn,)g(the)h(t)o(yp)q(e)f(of)g(the)h(ob)r(ject)g(it)01052 y(p)q(oin)o(ts)i(to)g(is)g(ob)o(vious)g([App89a)o(,)g(Gol91)n(].)25b(T)m(o)15 b(allo)o(w)g(trac-)0 1101 y(ing)i(tra)o(v)o(ersals,)j(it)d(is)h(only)g(necessary)i(that)e(the)h(t)o(yp)q(es)g(of)0 1151 y(the)13b(ro)q(ot)g(p)q(oin)o(ters)g(\(e.g.,)f(lo)q(cal)g(v)n(ariables)g(in)g(an)h(activ)n(ation)0 1201 y(stac)o(k\))k(b)q(e)g(kno)o(wn.)26 b(\(This)16b(can)h(b)q(e)g(accomplished)f(in)g(sev-)0 1251 y(eral)h(w)o(a)o(ys,)g(as)h(w)o(e)f(will)f(explain)g(later.\))29 b(F)m(rom)15 b(there,)k(w)o(e)01301 y(can)f(determine)g(the)g(t)o(yp)q(es)h(of)e(their)i(referen)o(ts,)h(and)e(th)o(us)0 1350 y(their)g(referen)o(ts')h(p)q(oin)o(ter)f(\014elds,)g(and)g(so)f(on)h(transitiv)o(ely)m(.)0 1400 y(Still,)13 b(some)h(systems)g(with)g(static)h(t)o(yping)f(put)h(headers)g(on)0 1450 y(ob)r(jects)e(an)o(yw)o(a)o(y)m(,)e(b)q(ecause)j(the)f(cost)g(is)f(not)g(that)g(large)g(and)01500 y(it)i(simpli\014es)e(some)h(asp)q(ects)i(of)f(the)g(implemen)o(tation.)886 1485 y Fj(46)42 1550 y Fn(The)20 b(c)o(hoice)g(of)g(tag)f(and)h(p)q(oin)o(ter)g(sc)o(hemes)g(is)g(usually)0 1599 y(made)i(with)h(some)f(regard)i(to)f(garbage)f(collection,)j(but)0 1649 y(most)e(often)h(the)h(main)d(consideration)i(is)g(making)d(nor-)0 1699 y(mal)e(program)g(op)q(erations)i(e\016cien)o(t.)39 b(T)m(agging)19 b(sc)o(hemes)0 1749 y(are)f(usually)f(c)o(hosen)h(primarily)d(to)j(mak)o(e)e(t)o(yp)q(e)i(dispatc)o(h-)01799 y(ing,)d(arithmetic)g(op)q(erations,)h(and)g(p)q(oin)o(ter)g(dereferencing)0 1849 y(as)24 b(fast)f(as)h(p)q(ossible;)k(whic)o(h)23b(sc)o(heme)h(is)f(b)q(est)i(dep)q(ends)0 1898 y(largely)19b(on)h(the)h(language)f(seman)o(tics)f(and)i(the)f(strategy)01948 y(for)11 b(ensuring)g(that)g(the)g(most)f(frequen)o(t)i(op)q(erations)f(are)g(fast)0 1998 y([KKR)107 1983 y Fj(+)134 1998 y Fn(86,)i(GG86)o(,)g(SH87,)g(Ros88)o(,)h(Gud93)o(].)42 2048 y(In)21 b(some)g(systems,)i(individual)d(ob)r(jects)i(do)g(not)f(ha)o(v)o(e)0 2098 y(headers,)h(and)e(t)o(yp)q(e)h(information)c(is)j(enco)q(ded)h(b)o(y)f(segre-)02147 y(gating)11 b(ob)r(jects)j(of)e(particular)g(t)o(yp)q(es)i(in)o(to)d(separate)j(sets)g(of)0 2197 y(pages.)26 b(This)17 b(\\big)e(bag)i(of)e(pages")i(or)g Fk(BiBOP)f Fn(tec)o(hnique)0 2247 y(asso)q(ciates)i(t)o(yp)q(es)g(with)e(pages,)i(and)f(constrains)g(the)h(allo-)p 0 2279388 2 v 31 2306 a Fh(44)64 2317 y Fg(On)d(man)o(y)e(arc)o(hitectures,)g(normal)g(loads)h(and)g(stores)g(m)o(ust)g(b)q(e)0 2357 y(aligned)j(on)h(w)o(ord)h(b)q(oundaries)o(,)f(and)g(on)g(others)g(there)f(is)i(a)g(time)02396 y(p)q(enalt)o(y)9 b(for)i(unaligned)e(accesses.)31 2424y Fh(45)64 2436 y Fg(This)j(t)o(ypically)f(requires)g(clev)o(er)g(implemen)o(ta)o(tion)e(strategies)i(to)0 2475 y(optimize)e(a)o(w)o(a)o(y)i(the)g(heap)f(allo)q(cation)f(of)i(most)g(in)o(tegers)e([Y)m(ua90a)o(].)312503 y Fh(46)64 2515 y Fg(F)m(or)16 b(example,)f(if)i(using)e(page)h(marking)e(or)i(card)g(marking)e(for)0 2554 y(generationa)o(l)d(collection,)h(headers)g(mak)o(e)h(it)g(m)o(uc)o(h)g(simpler)f(to)h(scan)0 2594 y(pages.)101155 y Fn(cator)i(to)g(allo)q(cate)g(ob)r(jects)h(in)f(the)h(appropriate)f(pages.)22 b(A)1011 105 y(t)o(yp)q(e)c(test)h(requires)g(masking)d(and)i(shifting)e(a)i(p)q(oin)o(ter)g(to)1011 155 y(deriv)o(e)h(the)f(page)h(n)o(um)o(b)q(er,)f(and)g(a)g(table)g(lo)q(okup)g(to)g(\014nd)1011205 y(the)e(t)o(yp)q(e)h(descriptor)h(for)d(ob)r(jects)j(in)d(that)h(page.)25b(BiBOP)1011 255 y(enco)q(ding)13 b(can)g(sa)o(v)o(e)f(space)i(b)o(y)f(letting)f(a)g(tag)h(p)q(er)g(page)g(suf-)1011 304 y(\014ce)i(to)e(enco)q(de)j(the)e(t)o(yp)q(es)h(of)e(man)o(y)f(ob)r(jects.)1052 355 y(Another)j(v)n(ariation)e(on)h(con)o(v)o(en)o(tional)f(tagging)f(sc)o(hemes)1011405 y(is)i(to)h(a)o(v)o(oid)e(putting)h(ob)r(ject)h(headers)h(directly)f(on)f(the)h(ob-)1011 454 y(jects,)h(and)f(to)g(store)h(them)f(in)f(a)h(parallel)f(arra)o(y;)i(this)f(ma)o(y)1011 504 y(ha)o(v)o(e)c(adv)n(an)o(tages)h(for)f(lo)q(calit)o(y)f(of)h(reference)j(b)o(y)e(separating)1011554 y(out)20 b(the)g(data)g(relev)n(an)o(t)g(to)g(normal)e(program)g(op)q(eration)1011 604 y(from)e(those)k(that)e(are)h(only)f(of)g(in)o(terest)h(to)g(the)g(collector)1011 654 y(and)13 b(allo)q(cator.)1011 774y Fi(6.2)55 b(Conserv)m(ativ)n(e)18 b(P)n(oin)n(ter)h(Finding)1011852 y Fn(An)13 b(extreme)h(case)g(of)f(catering)g(to)g(other)h(asp)q(ects)h(of)e(a)g(lan-)1011 901 y(guage)h(implemen)o(tatio)o(n)e(is)iFk(c)n(onservative)i(p)n(ointer-\014nding)p Fn(,)1011 951 y(whic)o(h)21b(is)h(a)f(strategy)i(for)e(coping)h(with)f(compilers)g(that)10111001 y(don't)e(o\013er)i Fk(any)g Fn(supp)q(ort)g(for)f(run)o(time)f(t)o(yp)q(e)h(iden)o(ti\014ca-)1011 1051 y(tion)10 b(or)h(garbage)f(collection)g([BW88)o(].)1622 1036 y Fj(47)1674 1051 y Fn(In)h(suc)o(h)g(a)g(system,)10111101 y(the)16 b(collector)g(treats)h(an)o(ything)e(that)h Fk(might)gFn(b)q(e)g(a)g(p)q(oin)o(ter)1011 1150 y(as)k(a)g(p)q(oin)o(ter|e.g.,)g(an)o(y)g(prop)q(erly-aligned)f(bit)h(pattern)1011 1200 y(that)e(could)g(b)q(e)h(the)g(address)h(of)e(an)g(ob)r(ject)h(in)f(the)h(heap.)10111250 y(The)g(collector)g(ma)o(y)e(mistak)o(e)g(other)i(v)n(alues)g(\(suc)o(h)g(as)g(an)1011 1300 y(in)o(teger)f(with)f(the)i(same)e(bit)g(pattern\))i(for)e(p)q(oin)o(ters,)i(and)1011 1350 y(retain)j(ob)r(jects)i(unnecessarily)m(,)g(but)f(sev)o(eral)g(tec)o(hniques)1011 1400 y(can)14 b(b)q(e)h(used)g(to)f(mak)o(e)f(the)i(probabilit)o(y)d(of)i(suc)o(h)h(mistak)o(es)10111449 y(v)o(ery)k(small.)31 b(Surprisingly)m(,)18 b(these)i(tec)o(hniques)g(are)g(e\013ec-)1011 1499 y(tiv)o(e)g(enough)h(that)g(most)e(C)i(programs)e(can)i(b)q(e)g(garbage)1011 1549 y(collected)d(fairly)e(e\016cien)o(tly)m(,)h(with)g(little)g(or)h(no)f(mo)q(di\014ca-)1011 1599 y(tion)c([Bo)q(e93].)18b(This)13 b(simpli\014es)g(the)h(garbage)g(collection)g(of)10111649 y(programs)e(written)h(without)g(garbage)g(collection)g(in)f(mind,)10111698 y(and)j(programs)f(written)i(in)f(m)o(ultiple)e(languages,)i(some)g(of)1011 1748 y(whic)o(h)f(are)g(unco)q(op)q(erativ)o(e)g([WDH89)o(].)10521799 y(\(Making)g(suc)o(h)h(a)f(collector)h(generational)f(requires)h(sp)q(e-)1011 1849 y(cial)8 b(tec)o(hniques,)j(due)f(to)f(the)h(lac)o(k)f(of)g(compiler)f(co)q(op)q(eration)1011 1898 y(in)k(implemen)o(ting)e(a)i(write)h(barrier)h(to)f(detect)h(in)o(tergenera-)1011 1948 y(tional)g(p)q(oin)o(ters.)24 b(Virtual)15 b(memory)e(dirt)o(y)i(bits)h(or)f(access-)10111998 y(protection)20 b(traps)g(can)f(b)q(e)h(used)g(to)f(detect)i(whic)o(h)f(pages)1011 2048 y(are)15 b(written)f(to,)g(so)h(that)f(they)h(can)f(b)q(e)h(scanned)h(at)e(collec-)1011 2098 y(tion)g(time)g(to)h(detect)h(p)q(oin)o(ters)g(in)o(to)e(y)o(ounger)h(generations)1011 2147 y([D)o(WH)11282132 y Fj(+)1154 2147 y Fn(90].\))1052 2198 y(Conserv)n(ativ)o(e)30b(p)q(oin)o(ter)f(\014nding)g(imp)q(oses)g(additional)10112248 y(constrain)o(ts)11 b(on)f(the)h(garbage)f(collector.)17b(In)11 b(particular,)f(the)1011 2298 y(collector)j(is)g(not)h(free)g(to)f(mo)o(v)o(e)e(ob)r(jects)k(and)e(up)q(date)h(p)q(oin-)10112347 y(ters,)19 b(b)q(ecause)g(a)e(non-p)q(oin)o(ter)h(migh)o(t)d(b)q(e)j(mistak)o(en)e(for)h(a)1011 2397 y(p)q(oin)o(ter)12 b(and)f(mistak)o(enly)f(up)q(dated.)18 b(\(This)12 b(could)f(result)h(in)p 1011 2437V 1042 2464 a Fh(47)1074 2475 y Fg(These)j(tec)o(hniques)e(are)h(usually)g(asso)q(ciated)e(with)j(Bo)q(ehm)f(and)1011 2515 y(his)e(asso)q(ciates,)e(who)i(ha)o(v)o(e)f(dev)o(elop)q(ed)f(them)h(to)h(a)g(high)f(degree,)g(but)1011 2554 y(similar)c(tec)o(hniques)f(app)q(ear)h(to)h(ha)o(v)o(e)f(b)q(een)h(used)g(earlier)f(in)h(the)g(Ky)o(oto)1011 2594 y(Common)i(Lisp)h(system)f(and)g(p)q(erhaps)g(elsewhere.)969 2718 y Fn(51)p eop%%Page: 52 52bop 0 55 a Fn(m)o(ysterious)17 b(and)h(unpredictable)g(c)o(hanges)h(to)e(nonp)q(oin)o(ter)0 105 y(data)11 b(lik)o(e)f(in)o(tegers)h(and)g(c)o(haracter)h(strings.\))18 b(Conserv)n(ativ)o(e)0 155 y(collectors)f(therefore)g(can't)f(use)h(a)f(straigh)o(tforw)o(ard)f(cop)o(y-)0205 y(ing)e(tra)o(v)o(ersal)h(algorithm.)42 259 y(Conserv)n(ativ)o(e)g(p)q(oin)o(ter)g(\014nding)g(can)g(b)q(e)h(com)o(bined)e(with)0309 y(other)18 b(tec)o(hniques)g(to)f(cop)q(e)h(with)e(language)g(implemen)o(ta-)0 359 y(tions)g(that)g(are)h(only)f(partly)f(co)q(op)q(erativ)o(e.)26b(F)m(or)16 b(example,)0 409 y(Barlett's)e(and)f(Detlefs')h(\\mostly-cop)o(ying")c(collectors)k(use)0 458 y(headers)20 b(to)e(deco)q(de)i(\014elds)f(of)f(ob)r(jects)h(in)f(the)i(heap,)f(but)0 508 y(rely)d(on)g(conserv)n(ativ)o(e)g(tec)o(hniques)i(to)d(\014nd)h(p)q(oin)o(ters)h(from)0558 y(the)k(activ)n(ation)e(stac)o(k)j([Bar88)o(,)e(Det91].)38b(This)20 b(supp)q(orts)0 608 y(cop)o(ying)f(tec)o(hniques)i(that)e(relo)q(cate)h(and)g(compact)e(most)0 658 y(\(but)g(not)g(all\))f(ob)r(jects.)32b(Ob)r(jects)20 b(conserv)n(ativ)o(ely)e(iden)o(ti-)0 707 y(\014ed)e(as)g(b)q(eing)g(p)q(oin)o(ted)g(to)g(from)e(the)j(stac)o(k)f(are)h(\\pinned")0757 y(in)c(place,)h(and)g(cannot)g(b)q(e)g(mo)o(v)o(ed.)569742 y Fj(48)42 812 y Fn(The)e(c)o(hoice)h(of)f(conserv)n(ativ)o(e)h(stac)o(k)g(scanning)f(and)g(more)0 862 y(precise)k(heap)g(tracing)e(is)h(often)g(reasonable,)g(b)q(ecause)i(it)d(is)0 911 y(usually)9 b(easier)h(to)g(retro\014t)g(ob)r(ject)h(headers)g(in)o(to)e(a)g(language)0961 y(than)k(it)g(is)f(to)h(mo)q(dify)e(the)i(compiler)f(to)h(mak)o(e)e(stac)o(k)j(frame)0 1011 y(formats)g(deco)q(dable.)25 b(Headers)17b(can)f(b)q(e)g(added)g(to)g(ob)r(jects)0 1061 y(b)o(y)k(a)f(heap)h(allo)q(cation)e(routine,)j(whic)o(h)f(ma)o(y)e(simply)g(b)q(e)0 1111y(a)e(library)g(routine)g(that)g(can)h(b)q(e)g(c)o(hanged)g(or)f(substituted)0 1160 y(easily)m(.)k(Compilers)14 b(often)h(record)h(enough)f(information)d(to)0 1210 y(deco)q(de)21 b(record)g(la)o(y)o(outs,)f(for)g(debugging)f(purp)q(oses,)j(and)0 1260 y(that)16 b(information)d(can)i(b)q(e)i(captured)g(and)e(massaged)g(in)o(to)0 1310 y(run)o(time)e(t)o(yp)q(e)i(iden)o(ti\014cation)f(for)g(heap-allo)q(cated)g(ob)r(jects)0 1360 y([WJ93)o(].)421414 y(Conserv)n(ativ)o(e)25 b(p)q(oin)o(ter-\014nding)h(can)f(b)q(e)i(defeated)f(b)o(y)0 1464 y(language-lev)o(el)8 b(facilities)g(suc)o(h)i(as)g(the)g(abilit)o(y)e(to)h(cast)h(p)q(oin-)0 1514 y(ters)15 b(to)e(in)o(tegers,)h(destro)o(y)g(the)g(original)e(p)q(oin)o(ter,)h(and)g(p)q(er-)01564 y(form)21 b(arbitrary)h(arithmetic)f(on)h(the)h(in)o(teger)g(v)n(alue.)43 b(If)0 1613 y(the)15 b(original)f(v)n(alue)g(is)g(then)i(restored)h(and)d(cast)i(bac)o(k)f(to)f(a)0 1663 y(p)q(oin)o(ter,)i(the)h(referred-to)g(ob)r(ject)g(ma)o(y)d(no)i(longer)f(exist|)0 1713 y(the)j(garbage)e(collector)h(ma)o(y)e(ha)o(v)o(e)i(reclaimed)f(the)h(ob)r(ject)0 1763 y(b)q(ecause)c(it)e(couldn't)f(tell)h(that)g(the)h(in)o(teger)g(v)n(alue)e(\\p)q(oin)o(ted)01813 y(to")15 b(the)i(ob)r(ject,)f(ev)o(en)g(when)g(view)o(ed)g(as)g(a)f(p)q(oin)o(ter)h(v)n(alue.)0 1862 y(F)m(ortunately)m(,)i(most)g(programs)f(do)h(not)g(p)q(erform)g(this)h(se-)0 1912 y(quence)e(of)e(op)q(erations|they)h(ma)o(y)e(cast)i(a)f(p)q(oin)o(ter)h(to)f(an)0 1962 y(in)o(teger,)21b(but)f(the)g(original)e(p)q(oin)o(ter)i(is)g(lik)o(ely)e(to)i(still)f(b)q(e)0 2012 y(presen)o(t,)c(and)f(the)g(ob)r(ject)h(will)d(therefore)k(b)q(e)e(retained.)42 2066 y(Compiler)f(optimizations)f(can)j(p)q(erform)f(similar)f(op)q(era-)0 2116 y(tions)g(on)g(p)q(oin)o(ters,)g(and)g(this)g(is)g(unfortunately)g(harder)h(for)0 2166 y(the)f(programmer)c(to)j(a)o(v)o(oid|the)f(compiler)g(ma)o(y)f(use)j(alge-)0 2216 y(braic)h(transformations)f(on)g(p)q(oin)o(ter)i(expressions,)g(disguis-)0 2266 y(ing)h(the)h(p)q(oin)o(ters,)g(or)f(they)h(ma)o(y)d(p)q(erform)i(op)q(erations)g(on)p0 2319 388 2 v 31 2345 a Fh(48)64 2357 y Fg(Suc)o(h)e(ob)r(jects)g(are)h(pinned)f(in)i(place)e(in)i(memory)m(,)e(but)h(can)g(b)q(e)02397 y(adv)n(anced)c(to)h(an)h(older)f(generation)e(b)o(y)j(c)o(hanging)e(the)h(set)h(to)g(whic)o(h)0 2436 y(a)k(page)e(b)q(elongs|that)f(is,)k(ob)r(jects)d(b)q(elong)g(to)h(pages,)h(and)f(pages)0 2475 y(b)q(elong)d(to)i(generation)o(s,)e(but)h(an)g(en)o(tire)g(page)g(can)g(b)q(e)g(mo)o(v)o(ed)f(to)i(a)0 2515 y(di\013eren)o(t)c(generation)f(simply)h(b)o(y)i(c)o(hanging)d(the)j(tables)e(that)h(record)0 2554 y(whic)o(h)h(pages)f(b)q(elong)g(to)h(whic)o(h)g(generations.)18 b(In)13 b(essence,)f(ob)r(jects')02594 y(ages)c(are)g(enco)q(ded)e(using)i(something)e(lik)o(e)i(a)h(BiBOP)g(tagging)d(sc)o(heme.)1011 55 y Fn(sub)o(w)o(ord)15 b(parts)h(of)e(a)h(p)q(oin)o(ter,)h(with)f(temp)q(orary)f(inconsis-)1011 105 y(tencies)e(in)f(the)h(state)g(of)e(the)i(p)q(oin)o(ter.)17 b(While)10 b(most)g(compil-)1011155 y(ers)j(don't)e(p)q(erform)g(these)j(optimizations)9 b(v)o(ery)k(often,)e(they)1011 205 y(do)j(o)q(ccur,)g(and)g(a)g(few)g(compilers)f(do)h(them)f(regularly)m(.)k(F)m(or)1011 255 y(most)d(compilers,)f(it)i(is)g(su\016cien)o(t)h(to)e(turn)i(o\013)f(the)h(highest)1011 304 y(lev)o(els)f(of)f(optimization)e(to)j(a)o(v)o(oid)e(suc)o(h)j(p)q(oin)o(ter-mangling)1011354 y(optimizations,)f(but)j(this)f(is)g(not)g(reliable)g(across)h(compil-)1011 404 y(ers,)e(and)f(t)o(ypically)f(costs)i(a)f(few)g(p)q(ercen)o(t)i(in)e(run)o(time)f(e\016-)1011 454 y(ciency)h(due)h(to)e(missed)g(optimizations.)19 b(Since)c(most)e(com-)1011 504 y(pilers)20 b(do)g(not)h(pro)o(vide)f(the)h(abilit)o(y)d(to)j(selectiv)o(ely)f(turn)1011 553 y(o\013)g(only)g(the)h(optimizations)e(that)h(are)h(troublesome)f(for)1011 603 y(garbage)c(collectors,)i(it)e(is)h(usually)f(necessary)i(to)f(turn)g(o\013)1011653 y(sev)o(eral)f(optimizations,)e(i.e.,)h(the)i(\\high)e(lev)o(el")g(optimiza-)1011 703 y(tions.)h(T)m(o)10 b(a)o(v)o(oid)f(this)i(problem,)e(garbage)h(collector)h(design-)1011 753 y(ers)16 b(ha)o(v)o(e)g(prop)q(osed)g(a)f(set)h(of)f(constrain)o(ts)h(that)g(compilers)1011 802y(can)e(preserv)o(e)j(to)d(ensure)i(that)f(garbage)f(collection)g(is)h(p)q(os-)1011 852 y(sible;)h(these)h(constrain)o(ts)f(do)f(not)h(require)g(ma)r(jor)e(c)o(hanges)1011 902 y(to)f(existing)h(compilers)f([Bo)q(e91,)g(BC91].)1052 1100 y(Similarly)m(,)j(programming)g(guidelines)j(ha)o(v)o(e)g(b)q(een)h(pro-)1011 1150 y(p)q(osed)13 b(to)f(ensure)i(that)f(programmers)d(in)i(C++)h(a)o(v)o(oid)e(con-)1011 1200 y(structions)22 b(that)e(mak)o(e)g(correct)i(garbage)f(collection)f(im-)1011 1250 y(p)q(ossible)g([ED93)o(];)h(b)o(y)f(programmi)o(ng)d(in)i(a)g(v)o(ery)h(sligh)o(tly)1011 1300y(restricted)15 b(subset)g(of)d(C++,)i(it)e(is)i(p)q(ossible)f(to)g(ensure)i(that)1011 1349 y(a)k(co)q(op)q(erativ)o(e)i(compiler)d(can)i(supp)q(ort)h(correct)g(garbage)1011 1399 y(collection.)c(By)11 b(using)g(a)g(sligh)o(tly)f(more)h(restricted)i(\(\\safe"\))1011 1449 y(subset)e(of)e(C++,)i(it)f(is)f(p)q(ossible)i(to)e(ensure)j(that)e(ev)o(en)g(buggy)1011 1499y(programs)g(do)i(not)g(break)g(the)g(basic)g(memory)d(abstractions)10111549 y(and)k(pro)q(duce)j(hard-to-diagnose)d(errors.)1052 1747y(Some)i(p)q(eople)h(ob)r(ject)g(to)f(conserv)n(ativ)o(e)h(p)q(oin)o(ter-\014nding)1011 1797 y(tec)o(hniques)37 b(b)q(ecause)g(they)f(are)g(kno)o(wn)f(not)g(to)g(b)q(e)1011 1847 y(\\correct"|it)18 b(is)f(p)q(ossible,)i(for)e(example,)g(for)g(an)h(in)o(teger)1011 1896 y(to)g(b)q(e)g(mistak)o(en)f(for)g(a)h(p)q(oin)o(ter,)h(causing)f(garbage)g(to)f(b)q(e)10111946 y(retained.)22 b(In)15 b(the)h(w)o(orst)g(case,)g(this)f(ma)o(y)e(cause)j(consider-)1011 1996 y(able)g(garbage)g(to)g(go)f(unreclaimed,)h(and)g(a)f(program)g(ma)o(y)1011 2046 y(simply)g(run)k(out)e(of)g(memory)f(and)h(crash.)31 b(Adv)o(o)q(cates)19 b(of)1011 2096 y(conserv)n(ativ)o(e)g(p)q(oin)o(ter-\014nding)g(coun)o(ter)h(that)f(the)g(proba-)10112145 y(bilit)o(y)14 b(of)h(suc)o(h)h(an)f(o)q(ccurrence)k(can)c(b)q(e)h(made)f(v)o(ery)h(small,)1011 2195 y(and)11 b(that)h(suc)o(h)h(errors)g(are)f(m)o(uc)o(h)f(less)h(lik)o(ely)f(than)h(fatal)e(er-)1011 2245 y(rors)21b(due)f(to)g(programmers')e(mistak)o(es)h(in)h(explicit)g(heap)10112295 y(managemen)o(t.)37 b(In)21 b(practice,)j(therefore,)g(the)e(use)g(of)e(an)1011 2345 y(\\incorrect")14 b(tec)o(hnique)f(ma)o(y)e(b)q(e)j(b)q(etter)g(than)f(ha)o(ving)f(pro-)1011 2395 y(grammers)j(write)i(programs)f(that)h(are)g(ev)o(en)h(less)g(correct.)1011 2444 y(In)12 b(the)i(long)d(run,)i(it)f(is)h(hop)q(ed,)g(conserv)n(ativ)o(e)g(p)q(oin)o(ter)g(\014nd-)10112494 y(ing)18 b(will)g(mak)o(e)g(garbage)h(collection)f(widely)h(usable,)h(and)1011 2544 y(once)f(it's)f(widely)h(used,)h(compiler)d(v)o(endors)j(will)d(pro)o(vide)1011 2594 y(some)c(degree)i(of)e(supp)q(ort)i(for)f(more)e(precise)k(tec)o(hniques.)969 2718 y(52)p eop%%Page: 53 53bop 0 55 a Fi(6.3)56 b(Linguistic)d(Supp)r(ort)h(and)h(Smart)128113 y(P)n(oin)n(ters)0 199 y Fn(Another)23 b(approac)o(h)e(to)h(retro\014tting)g(garbage)g(collection)0 249 y(in)o(to)e(existing)h(systems)h(is)e(to)h(use)h(the)g(extension)g(facili-)0 299 y(ties)g(pro)o(vided)e(b)o(y)h(the)h(language,)f(and)g(implemen)o(t)e(gar-)0 349 y(bage)e(collection)f(within)g(the)h(language)f(itself.)25 b(The)17 b(most)0 399y(common)12 b(form)i(of)g(this)h(is)g(to)g(implemen)o(t)e(a)h(sp)q(ecial)i(set)g(of)0 448 y(garbage-collected)i(data)g(t)o(yp)q(es)g(with)g(a)f(restricted)j(set)f(of)0 498 y(access)j(functions)e(that)g(preserv)o(e)i(the)f(garbage)f(collector)0 548 y(constrain)o(ts.)38 b(F)m(or)20b(example,)h(a)f(reference-coun)o(ted)k(data)0 598 y(t)o(yp)q(e)c(migh)o(t)e(b)q(e)j(implemen)o(ted,)e(and)g(accessor)j(functions)0 648y(\(or)15 b(macros\))f(used)i(to)f(p)q(erform)f(assignmen)o(ts|the)h(acces-)0697 y(sor)f(functions)g(main)o(tain)d(the)k(reference)h(coun)o(ts)f(as)f(w)o(ell)f(as)0 747 y(p)q(erforming)f(the)j(actual)e(assignmen)o(ts.)42802 y(A)19 b(somewhat)g(more)g(elegan)o(t)g(approac)o(h)h(is)f(to)h(use)g(ex-)0 852 y(tension)f(mec)o(hanisms)d(suc)o(h)j(as)g(op)q(erator)g(o)o(v)o(erloading)d(to)0 902 y(allo)o(w)h(normal)g(program)g(op)q(erators)j(to)f(b)q(e)g(used)h(on)f(gar-)0 951 y(bage)14 b(collected)g(t)o(yp)q(es,)g(with)f(the)h(compiler)e(automatically)0 1001 y(selecting)22 b(the)h(appropriate)e(user-de\014ned)j(op)q(eration)e(for)0 1051 y(giv)o(en)g(op)q(erands.)45b(In)23 b(C++,)i(it)d(is)h(common)d(to)i(de\014ne)0 1101 y(\\smart)9b(p)q(oin)o(ter")h(classes)h(that)f(can)g(b)q(e)g(used)h(with)f(garbage-)01151 y(collectible)17 b(classes)h([Str87],)f(with)g(appropriately)f(de\014ned)0 1201 y(meanings)8 b(for)h(p)q(oin)o(ter-manipulating)d(op)q(erations)k(\(suc)o(h)g(as)0 1250 y Fd(*)j Fn(and)f Fd(->)pFn(\))h(and)f(for)h(the)g(address-taking)g(op)q(eration)g(\()pFd(&)p Fn(\))f(on)0 1300 y(collectible)k(ob)r(jects.)28 b(Unfortunately)m(,)16 b(these)i(user-de\014ned)0 1350 y(p)q(oin)o(ter)d(t)o(yp)q(es)h(can't)e(b)q(e)i(used)f(in)f(exactly)h(the)h(same)e(w)o(a)o(ys)0 1400y(as)i(built-in)f(p)q(oin)o(ter)h(t)o(yp)q(es,)h(for)e(sev)o(eral)i(reasons)f([Ede92].)0 1450 y(One)e(reason)h(is)e(that)h(there)h(is)e(no)h(w)o(a)o(y)f(to)g(de\014ne)i(all)e(of)g(the)0 1499 y(automatic)e(co)q(ercions)k(that)e(the)h(compiler)e(p)q(erforms)h(auto-)0 1549 y(matically)f(for)j(built-in)e(t)o(yp)q(es.)22 b(Another)16 b(problem)d(is)i(that)0 1599y(not)e(all)f(op)q(erators)i(can)g(b)q(e)f(o)o(v)o(erloaded)g(in)g(this)g(w)o(a)o(y)m(.)k(C++)0 1649 y(pro)o(vides)e(most,)f(but)i(not)f(all,)f(of)g(the)i(extensibilit)o(y)f(neces-)0 1699 y(sary)f(to)g(in)o(tegrate)h(garbage)e(collection)h(in)o(to)f(the)i(language)0 1748 y(gracefully)m(.)28b(\(It)18 b(is)f(apparen)o(tly)g(easier)i(in)e(Ada)g([Bak93b)o(],)01798 y(b)q(ecause)f(the)g(o)o(v)o(erloading)d(system)h(is)h(more)e(p)q(o)o(w)o(erful)h(and)0 1848 y(the)j(builtin)e(p)q(oin)o(ter)i(t)o(yp)q(es)g(ha)o(v)o(e)f(few)o(er)h(subtleties)g(whic)o(h)0 1898 y(m)o(ust)10 b(b)q(e)i(em)o(ulated.\))k(Y)m(et)c(another)f(limitation)d(is)j(that)g(it)g(is)01948 y(imp)q(ossible)j(to)i(re-de\014ne)h(op)q(erations)f(on)f(built-in)f(classes,)0 1998 y(making)c(it)h(di\016cult)g(to)h(enhance)h(the)g(existing)f(parts)g(of)g(the)0 2047 y(language|only)d(user-de\014ned)14b(t)o(yp)q(es)e(can)g(b)q(e)g(garbage)f(col-)0 2097 y(lected)k(gracefully)m(.)42 2152 y(Still)k(another)i(limitati)o(on)d(is)i(that)g(garbage)h(collection)0 2202 y(is)i(di\016cult)f(to)g(implemen)o(t)eFk(e\016ciently)j Fn(within)f(the)h(lan-)0 2252 y(guage,)e(b)q(ecause)h(it)e(is)g(imp)q(ossible)f(to)h(tell)g(the)h(compiler)0 2301 y(ho)o(w)g(to)h(compile)e(for)i(certain)h(imp)q(ortan)o(t)d(sp)q(ecial)i(cases)02351 y([Det92)o(,)c(Ede92)q(])g(F)m(or)g(example,)f(in)h(C++)h(or)g(Ada,)g(there)0 2401 y(is)e(no)f(w)o(a)o(y)g(to)h(sp)q(ecialize)g(an)g(op)q(eration)g(for)f(ob)r(jects)i(that)0 2451 y(are)d(kno)o(wn)f(at)h(compile)e(time)g(not)i(to)f(b)q(e)h(allo)q(cated)f(in)h(the)0 2501 y(heap.)972486 y Fj(49)p 0 2555 388 2 v 31 2582 a Fh(49)64 2594 y Fg(In)d(C++)i(terminolog)o(y)m(,)c(op)q(erators)g(can)i(only)f(b)q(e)h(sp)q(ecialized)e(on)1052 55 y Fn(Recen)o(t)15 b(w)o(ork)f(in)g Fk(r)n(e\015e)n(ctive)gFn(systems)g(has)g(explored)h(lan-)1011 105 y(guages)9 b(with)g(v)o(ery)h(p)q(o)o(w)o(erful)f(and)g(regular)h(extension)g(mec)o(h-)1011155 y(anisms,)24 b(and)g(whic)o(h)g(exp)q(ose)h(some)e(of)g(the)h(underlying)1011 205 y(implemen)o(tati)o(on)11 b(to)i(allo)o(w)e(e\016cien)o(t)j(reimplemen)o(tation)d(of)1011 255 y(existing)21 b(language)g(features)h([KdRB91,)f(MN88)o(,)g(YS92].)1011 304 y(While)c(most)f(existing)i(re\015ectiv)o(e)h(languages)f(supply)f(gar-)1011 354 y(bage)10b(collection)g(as)g(part)h(of)e(the)i(base)g(language,)f(it)g(is)g(p)q(ossi-)1011 404 y(ble)h(to)g(imagine)e(implem)o(en)o(ting)f(garbage)j(collection)g(within)1011 454 y(a)g(small,)f(p)q(o)o(w)o(erful)h(re\015ectiv)o(e)i(language.)k(As)12 b(in)f(an)o(y)g(re\015ec-)1011 504 y(tiv)o(e)17b(system,)g(ho)o(w)o(ev)o(er,)h(it)e(is)h(imp)q(ortan)o(t)f(to)h(exp)q(ose)h(only)1011 553 y(the)d(most)d(imp)q(ortan)o(t)h(lo)o(w-lev)o(el)g(issues,)i(to)f(a)o(v)o(oid)e(limiting)1011 603 y(the)k(c)o(hoices)g(of)f(the)h(base)f(language)g(implemen)o(tor;)e(this)i(is)1011 653 y(an)e(area)h(of)g(activ)o(e)g(researc)o(h.)1011 780 y Fi(6.4)55 b(Compiler)30 b(Co)r(op)r(eration)g(and)i(Opti-)1138 838 y(mizations)1011 918 y Fn(In)10 b(an)o(y)f(garbage-collected)i(system,)f(there)h(m)o(ust)e(b)q(e)i(a)f(set)h(of)1011968 y(con)o(v)o(en)o(tions)e(used)i(b)o(y)e(b)q(oth)g(the)h(garbage)f(collector)h(and)f(the)1011 1017 y(rest)15 b(of)f(the)g(system)g(\(the)h(in)o(terpreter)h(or)e(compiled)e(co)q(de\),)1011 1067 y(to)h(ensure)h(that)f(the)h(garbage)f(collector)g(can)g(recognize)h(ob-)1011 1117 y(jects)k(and)g(p)q(oin)o(ters.)29 b(In)17 b(a)g(conserv)n(ativ)o(e)h(p)q(oin)o(ter-\014nding)1011 1167 y(system,)13 b(the)h(\\con)o(tract")g(b)q(et)o(w)o(een)h(the)g(compiler)d(and)h(col-)1011 1217 y(lector)j(is)g(v)o(ery)g(w)o(eak)g(indeed,)g(but)g(it's)g(still)e(there|if)i(the)1011 1267 y(compiler)11b(a)o(v)o(oids)i(strange)g(optimizations)e(that)i(can)g(defeat)10111316 y(the)j(collector.)23 b(In)16 b(most)f(systems,)g(the)h(compiler)f(is)g(m)o(uc)o(h)1011 1366 y(more)d(co)q(op)q(erativ)o(e,)h(ensuring)g(that)g(the)h(collector)f(can)g(\014nd)1011 1416 y(p)q(oin)o(ters)h(in)g(the)g(stac)o(k)g(and)g(from)e(registers.)1011 1534 y Fm(6.4.1)48 b(GC-An)o(ytime)13b(vs.)22 b(Safe-P)o(oin)o(t)o(s)13 b(Collection)1011 1614 yFn(T)o(ypically)m(,)d(the)j(con)o(tract)g(b)q(et)o(w)o(een)g(the)g(collector)g(and)f(run-)1011 1664 y(ning)k(co)q(de)i(tak)o(es)g(one)f(of)g(t)o(w)o(o)f(forms,)h(whic)o(h)g(w)o(e)g(call)f(the)1011 1714 y Fk(gc-anytime)11b Fn(and)g Fk(safe-p)n(oints)g Fn(strategies.)19 b(In)11 b(a)g(gc-an)o(ytime)1011 1764 y(system,)f(the)i(compiler)d(ensures)k(that)d(running)h(co)q(de)g(can)g(b)q(e)1011 1814 y(in)o(terrupted)h(at)e(an)o(y)h(p)q(oin)o(t,)f(and)g(it)h(will)e(b)q(e)i(safe)g(to)g(p)q(erform)1011 1863 y(a)i(garbage)h(collection|informatio)o(n)d(will)i(b)q(e)h(a)o(v)n(ailable)e(to)10111913 y(\014nd)k(all)f(of)g(the)i(curren)o(tly)g(activ)o(e)f(p)q(oin)o(ter)h(v)n(ariables,)e(and)1011 1963 y(deco)q(de)f(their)g(formats)e(so)i(that)f(reac)o(hable)h(ob)r(jects)h(can)e(b)q(e)1011 2013 y(found.)10522065 y(In)k(a)g Fk(safe-p)n(oints)g Fn(system,)g(the)h(compiler)e(only)g(ensures)1011 2114 y(that)24 b(garbage)g(collection)g(will)f(b)q(e)i(p)q(ossible)g(at)f(certain)1011 2164 y(selected)e(p)q(oin)o(ts)d(during)h(program)e(execution,)k(and)e(that)1011 2214 y(these)14 b(p)q(oin)o(ts)f(will)f(o)q(ccur)i(reasonably)f(frequen)o(tly)h(and)f(reg-)10112264 y(ularly)m(.)31 b(In)18 b(man)o(y)f(systems,)j(pro)q(cedure)g(calls)f(and)f(bac)o(k-)1011 2314 y(w)o(ard)f(branc)o(hes)i(are)f(guaran)o(teed)g(to)g(b)q(e)g(safe)g(p)q(oin)o(ts,)g(en-)1011 2364 y(suring)e(that)g(the)g(program)f(cannot)h(lo)q(op)f(\(or)h(recurse\))j(in-)1011 2413y(de\014nitely)e(without)f(reac)o(hing)h(a)f(safe)h(p)q(oin)o(t|the)g(longest)1011 2463 y(p)q(ossible)f(time)e(b)q(et)o(w)o(een)j(safe)f(p)q(oin)o(ts)g(is)g(the)g(time)e(to)i(tak)o(e)1011 2513 y(the)e(longest)g(noncalling)e(forw)o(ard)i(path)g(through)g(an)o(y)f(pro-)p 1011 2555 V1011 2594 a Fg(the)d(t)o(yp)q(es)h(of)g(their)f(argumen)o(ts,)f(not)h(the)h(argumen)o(ts')e Ff(stor)n(age)k(class)p Fg(.)969 2718 y Fn(53)peop%%Page: 54 54bop 0 55 a Fn(cedure.)21 b(\(Finer-grained)14 b(resp)q(onsiv)o(eness)j(can)d(b)q(e)h(guaran-)0 105 y(teed)f(b)o(y)f(in)o(tro)q(ducing)f(in)o(termediate)h(safe)g(p)q(oin)o(ts,)f(if)h(neces-)0 155 y(sary)m(.\))42 206y(The)k(adv)n(an)o(tage)f(of)h(a)g(safe-p)q(oin)o(ts)g(sc)o(heme)g(is)g(that)h(the)0 256 y(compiler)e(is)h(free)h(to)f(use)h(arbitrarily)f(complex)f(optimiza-)0 306 y(tions)i(within)g(the)h(unsafe)g(regions)g(b)q(et)o(w)o(een)h(safe)f(p)q(oin)o(ts,)0 356 y(and)14 b(it)g(is)g(not)g(obligated)g(to)g(record)h(the)g(information)c(nec-)0 405 y(essary)18 b(to)f(mak)o(e)f(it)h(p)q(ossible)g(to)g(lo)q(cate)g(and)g(de-optimize)0 455 y(p)q(oin)o(ter)i(v)n(alues.)270 440 y Fj(50)337 455 y Fn(One)g(disadv)n(an)o(tage)e(of)h(a)h(safe)f(p)q(oin)o(ts)0 505 y(sc)o(heme)g(is)h(that)f(it)g(restricts)i(implemen)o(tation)15 b(strategies)0 555 y(for)f(ligh)o(t)o(w)o(eigh)o(t)f(pro)q(cesses)k(\(threads\).)22 b(If)14 b(sev)o(eral)h(threads)0605 y(of)j(con)o(trol)h(are)g(executing)h(sim)o(ultaneously)d(in)i(the)g(same)0 654 y(garbage-collected)e(heap,)h(and)f(one)g(thread)g(forces)h(a)f(gar-)0 704 y(bage)26 b(collection,)h(the)f(collection)f(m)o(ust)g(w)o(ait)g(un)o(til)f(all)0 754 y(threads)15 b(ha)o(v)o(e)f(reac)o(hed)h(a)e(safe)i(p)q(oin)o(t)e(and)h(stopp)q(ed.)42 805 y(One)d(implemen)o(tation)d(of)i(this)h(sc)o(heme)g(is)g(to)g(mask)e(hard-)0 855 y(w)o(are)15 b(in)o(terrupts)h(b)q(et)o(w)o(een)h(safe)e(p)q(oin)o(ts;)g(a)g(more)f(common)0905 y(one)20 b(is)f(to)h(pro)o(vide)f(a)h(small)d(routine)j(whic)o(h)f(can)h(handle)0 955 y(the)j(actual)f(lo)o(w-lev)o(el)g(in)o(terrupt)h(at)f(an)o(y)g(time)g(b)o(y)g(sim-)0 1004 y(ply)f(recording)i(basic)f(information)d(ab)q(out)j(it,)h(setting)f(a)0 1054 y(\015ag,)14 b(and)h(resuming)f(normal)f(execution.)22 b(Compiled)13 b(co)q(de)0 1104 y(c)o(hec)o(ks)18b(the)g(\015ag)e(at)h(eac)o(h)g(safe)g(p)q(oin)o(t,)g(and)f(dispatc)o(hes)i(to)0 1154 y(a)e(high-lev)o(el)f(in)o(terrupt)i(handler)f(if)f(it)h(is)f(set.)26 b(This)16 b(in)o(tro-)0 1204 y(duces)21 b(a)f(higher-lev)o(el)g(notion)f(of)h(in)o(terrupts,)i(somewhat)0 1254 y(insulated)12b(from)e(actual)i(mac)o(hine)f(in)o(terrupts|and)i(with)e(a)01303 y(somewhat)i(longer)h(latency)m(.)42 1354 y(With)g(either)i(a)f(safe-p)q(oin)o(ts)g(or)g(a)g(gc-an)o(ytime)e(strategy)m(,)0 1404 y(there)h(are)g(man)o(y)d(p)q(ossible)j(con)o(v)o(en)o(tions)f(for)g(ensuring)g(that)01454 y(p)q(oin)o(ters)i(can)f(b)q(e)h(iden)o(ti\014ed)f(for)f(garbage)h(collection;)g(with)0 1504 y(a)h(safe-p)q(oin)o(ts)g(system,)f(ho)o(w)o(ev)o(er,)h(the)h(compiler)e(is)h(free)g(to)0 1554 y(violate)e(the)h(con)o(v)o(en)o(tion)g(in)f(b)q(et)o(w)o(een)j(safe)e(p)q(oin)o(ts.)0 1669y Fm(6.4.2)48 b(P)o(artition)o(ed)17 b(Register)h(Sets)i(vs.)35b(V)l(ariable)146 1719 y(Represen)o(tati)o(on)12 b(Recording)01798 y Fn(In)i(man)o(y)e(systems,)i(the)g(compiler)f(resp)q(ects)j(a)e(simple)e(con-)0 1848 y(v)o(en)o(tion)j(as)g(to)h(whic)o(h)f(registers)i(can)e(b)q(e)h(used)g(for)f(holding)0 1897 y(whic)o(h)20 b(kinds)g(of)f(v)n(alues.)36 b(In)20 b(the)g(T)g(system)g(\(using)g(the)0 1947y(Orbit)13 b(compiler)f([KKR)387 1932 y Fj(+)414 1947 y Fn(86)o(,)h(Kra88]\),)f(for)h(example,)e(some)0 1997 y(registers)19 b(are)e(used)h(only)e(for)h(tagged)f(v)n(alues,)h(and)g(others)0 2047 y(only)e(for)h(ra)o(w)f(nonp)q(oin)o(ter)h(v)n(alues.)24 b(The)16 b(p)q(oin)o(ters)h(are)f(as-)02097 y(sumed)d(to)g(b)q(e)h(in)f(the)g(normal)f(format|direct)f(p)q(oin)o(ters)j(to)0 2146 y(kno)o(wn)19 b(o\013set)h(within)f(the)h(ob)r(ject,)h(plus)e(a)h(tag;)h(headers)0 2196 y(can)15 b(th)o(us)g(b)q(e)g(extracted)h(from)d(the)i(p)q(oin)o(ted-to)g(ob)r(jects)g(b)o(y)0 2246y(a)f(simple)e(indexed)i(load)f(instruction.)42 2297 y(Other)g(register)g(set)g(partitionings)e(and)i(con)o(v)o(en)o(tions)f(are)0 2347y(p)q(ossible.)30 b(F)m(or)18 b(example,)f(it)g(w)o(ould)g(b)q(e)i(p)q(ossible)f(to)f(ha)o(v)o(e)0 2397 y(registers)g(holding)e(ra)o(w)h(p)q(oin)o(ters,)g(p)q(erhaps)h(p)q(oin)o(ters)g(an)o(y-)p 0 2437 3882 v 31 2464 a Fh(50)64 2475 y Fg(This)11 b(is)h(particularl)o(y)d(imp)q(ortan)o(t)g(when)i(using)f(a)i(high-lev)o(el)c(lan-)0 2515y(guage)16 b(suc)o(h)g(as)h(C)h(as)f(an)g(in)o(termediat)o(e)e(language,)h(and)g(it)h(is)g(un-)0 2554 y(desirable)c(or)i(imp)q(ossible)d(to)j(prev)o(en)o(t)e(the)h(C)i(compiler)d(from)h(using)0 2594 y(optimizatio)o(ns)9b(that)h(mask)h(p)q(oin)o(ters.)1011 55 y Fn(where)18 b(within)f(an)g(ob)r(ject,)h(if)e(the)i(collector)g(ensures)h(that)1011 105 y(headers)j(of)d(ob)r(jects)j(can)f(b)q(e)g(deriv)o(ed)g(from)e(them)g(using)1011155 y(alignmen)o(t)e(constrain)o(ts.)36 b(If)19 b(a)h(non-cop)o(ying)e(collector)i(is)1011 205 y(used,)g(\\un)o(traced")f(registers)h(migh)o(t)c(b)q(e)j(allo)o(w)o(ed)e(to)i(hold)1011 255 y(optimized)g(p)q(oin)o(ters)h(\(whic)o(h)h(migh)o(t)d(not)i(actually)f(p)q(oin)o(t)1011304 y(within)9 b(an)g(ob)r(ject)i(at)e(all,)g(due)h(to)g(an)f(algebraic)h(transforma-)1011 354 y(tion\),)15 b(as)g(long)f(as)i(an)f(unoptimized)f(p)q(oin)o(ter)i(to)f(the)h(same)1011 404 y(ob)r(ject)e(is)g(in)g(a)f(\\traced")i(register)g(in)e(a)h(kno)o(wn)f(format.)1052 455 y(The)j(main)d(problem)i(with)g(partitioned)g(register)h(sets)h(is)1011 505 y(that)12b(it)g(reduces)i(the)f(compiler's)d(freedom)i(to)f(allo)q(cate)h(pro-)1011555 y(gram)e(v)n(ariables)i(and)g(temp)q(oraries)g(in)g(whic)o(hev)o(er)h(registers)1011 604 y(are)f(a)o(v)n(ailable.)k(Some)11 b(co)q(de)i(sequences)h(migh)o(t)c(require)j(sev-)1011 654 y(eral)k(p)q(oin)o(ter)h(registers)i(and)d(v)o(ery)h(few)g(nonp)q(oin)o(ter)g(regis-)1011 704 y(ters,)11b(and)f(other)h(co)q(de)g(sequences)i(migh)o(t)8 b(require)j(the)f(opp)q(o-)1011 754 y(site.)17 b(This)12 b(w)o(ould)e(mean)g(that)i(more)e(v)n(ariables)h(w)o(ould)f(ha)o(v)o(e)1011 804 y(to)j(b)q(e)i(\\spilled,")d(i.e.,)h(allo)q(cated)g(in)h(the)g(stac)o(k)h(or)e(heap)i(in-)1011 854 y(stead)f(of)e(in)g(registers,)j(and)e(co)q(de)g(w)o(ould)g(run)g(more)f(slo)o(wly)m(.)1052905 y(An)h(alternativ)o(e)g(to)g(partitioned)g(register)h(sets)h(is)e(to)g(giv)o(e)1011 954 y(the)i(compiler)e(more)g(freedom)g(in)h(its)g(use)i(of)d(registers,)j(but)1011 1004 y(require)21 b(it)g(to)f(comm)o(unicate)e(more)i(information)e(to)i(the)1011 1054 y(garbage)f(collector|i.e.,)g(to)h(tell)f(it)g(where)i(the)f(p)q(oin)o(ters)1011 1104 y(are)15 b(and)g(ho)o(w)f(to)h(in)o(terpret)h(them)e(prop)q(erly)m(.)20 b(W)m(e)15 b(call)f(this)10111154 y(strategy)d Fk(variable)g(r)n(epr)n(esentation)g(r)n(e)n(c)n(or)n(ding)p Fn(,)f(b)q(ecause)i(the)1011 1203 y(compiler)17 b(m)o(ust)g(record)j(its)f(decisions)g(ab)q(out)f(whic)o(h)h(reg-)1011 1253 y(isters)g(\(or)e(stac)o(k)h(v)n(ariables\))g(hold)f(p)q(oin)o(ters,)h(and)g(ho)o(w)f(to)10111303 y(reco)o(v)o(er)j(the)g(ob)r(ject's)g(address)h(if)d(the)i(p)q(oin)o(ter)f(has)h(b)q(een)1011 1353 y(transformed)11 b(b)o(y)h(an)g(optimization.)j(F)m(or)c(eac)o(h)i(range)f(of)g(in-)1011 1403 y(structions)17b(where)g(p)q(oin)o(ter)f(v)n(ariable)e(represen)o(tations)k(dif-)10111453 y(fer,)f(the)h(compiler)e(m)o(ust)g(emit)f(an)i(annotation.)27b(This)17 b(in-)1011 1502 y(formation)h(is)j(similar)d(to)j(that)g(required)h(for)f(debugging)1011 1552 y(optimized)15 b(co)q(de,)j(and)e(most)g(optimizations)e(can)j(b)q(e)h(sup-)1011 1602 y(p)q(orted)f(with)g(little)f(o)o(v)o(erhead.)27 b(The)17 b(space)h(requiremen)o(ts)10111652 y(for)d(this)h(additional)e(information)g(\(whic)o(h)h(essen)o(tially)h(an-)1011 1702 y(notates)j(the)g(executable)h(co)q(de\))g(ma)o(y)d(not)h(b)q(e)i(negligible,)1011 1751 y(ho)o(w)o(ev)o(er,)i(and)f(it)f(ma)o(y)f(b)q(e)i(desirable)g(in)f(some)g(cases)i(to)1011 1801 y(c)o(hange)9b(the)h(compiler's)e(co)q(de)j(generation)e(strategy)h(sligh)o(tly)10111851 y([DMH92)o(].)1011 1966 y Fm(6.4.3)48 b(Optimizati)o(on)15b(of)i(Garbage)g(Collection)e(It-)1157 2015 y(self)1011 2094y Fn(While)g(garbage)g(collectors)i(can)f(b)q(e)g(constrained)h(b)o(y)f(their)1011 2144 y(relationship)f(to)h(the)h(compiler)e(and)g(its)i(optimizations,)c(it)1011 2194 y(is)d(also)h(p)q(ossible)g(for)f(the)i(compiler)d(to)i(assist)g(in)g(making)d(the)1011 2244 y(garbage)i(collector)g(e\016cien)o(t.)18 b(F)m(or)9 b(example,)h(an)g(optimizing)10112294 y(compiler)16 b(ma)o(y)g(b)q(e)j(able)e(to)h(optimize)e(a)o(w)o(a)o(y)h(unnecessary)1011 2343 y(or)i(redundan)o(t)g(read-or)h(write-barrier)f(op)q(erations,)h(or)f(to)1011 2393 y(detect)13 b(that)e(a)g(heap)g(ob)r(ject)h(can)f(b)q(e)h(safely)f(stac)o(k-allo)q(cated)1011 2443 y(instead.)10522494 y(In)20 b(most)f(generational)g(and)h(incremen)o(tal)f(algorithms,)10112544 y(the)e(write)g(barrier)g(is)f(only)g(necessary)j(when)e(a)f(p)q(oin)o(ter)h(is)1011 2594 y(b)q(eing)h(stored,)j(but)e(it)f(ma)o(y)e(not)j(b)q(e)g(ob)o(vious)f(at)h(compile)969 2718 y(54)p eop%%Page: 55 55bop 0 55 a Fn(time)19 b(whether)j(a)f(v)n(alue)f(will)f(b)q(e)j(a)e(p)q(oin)o(ter)h(or)g(not.)38 b(In)0 105 y(dynamically)15 b(t)o(yp)q(ed)k(languages,)f(v)n(ariables)f(ma)o(y)g(b)q(e)h(able)0 155 y(to)h(tak)o(e)h(on)g(either)g(p)q(oin)o(ter)g(or)f(nonp)q(oin)o(ter)h(v)n(alues,)g(and)0 205y(ev)o(en)f(in)f(statically)g(t)o(yp)q(ed)h(languages,)f(p)q(oin)o(ter)h(v)n(ariables)0 255 y(ma)o(y)10 b(b)q(e)k(assigned)e(a)g(n)o(ull)g(v)n(alue.)17b(Compilers)11 b(ma)o(y)f(p)q(erform)0 304 y(data\015o)o(w)16b(analysis)g(whic)o(h)g(ma)o(y)f(allo)o(w)g(the)i(omission)e(of)g(a)0354 y(write)g(barrier)h(for)f(more)f(non-p)q(oin)o(ter)h(assignmen)o(t)f(op)q(era-)0 404 y(tions.)k(In)13 b(the)h(future,)f(adv)n(anced)h(t)o(yp)q(e-\015o)o(w)f(analysis)f(suc)o(h)0 454 y(as)k(that)h(used)g(in)f(the)h(Self)f(compiler)f([CU89)o(,)h(CU91)o(])g(ma)o(y)0 504 y(pro)o(vide)f(greater)h(opp)q(ortunities)g(for)e(read)i(and)f(write)g(bar-)0 553 y(rier)f(optimizations.)42 636 y(The)d(compiler)f(ma)o(y)f(also)i(b)q(e)g(able)g(to)g(assist)h(b)o(y)f(eliminat-)0 686 y(ing)h(redundan)o(t)h(c)o(hec)o(ks)g(or)f(marking)e(when)j(a)f(write)h(barrier)0 735 y(tests)i(the)f(same)e(p)q(oin)o(ter)i(or)f(marks)g(the)h(same)e(ob)r(ject)i(m)o(ul-)0 785y(tiple)h(times.)23 b(\(T)m(o)15 b(the)h(b)q(est)h(of)e(our)h(kno)o(wledge,)g(no)f(exist-)0 835 y(ing)h(compilers)f(curren)o(tly)j(do)e(this.\))26b(F)m(or)16 b(this)h(to)f(b)q(e)h(p)q(os-)0 885 y(sible,)e(ho)o(w)o(ev)o(er,)g(the)g(optimizer)f(m)o(ust)g(b)q(e)h(able)g(to)g(assume)0935 y(that)d(certain)h(things)e(are)i(not)f(c)o(hanged)g(b)o(y)g(the)g(collector)h(in)0 984 y(w)o(a)o(ys)i(that)g(aren't)g(ob)o(vious)f(at)h(compile)e(time.)20 b(F)m(or)15 b(exam-)0 1034 y(ple,)f(with)h(a)f(gc-an)o(ytime)f(collector)i(and)g(m)o(ultiple)d(threads)0 1084 y(of)h(con)o(trol,)g(a)g(thread)h(could)g(b)q(e)g(pre-empted)g(at)f(an)o(y)g(time,)01134 y(and)e(a)g(garbage)g(collection)g(could)g(o)q(ccur)h(b)q(efore)g(the)g(thread)0 1184 y(is)f(resumed.)17 b(In)11 b(suc)o(h)h(a)e(system,)h(there)h(are)g(few)o(er)f(opp)q(ortu-)0 1234 y(nities)g(for)h(optimization)c(b)q(ecause)13 b(the)f(collector)g(can)g(b)q(e)g(in-)0 1283 y(v)o(ok)o(ed)e(b)q(et)o(w)o(een)h(an)o(y)f(t)o(w)o(o)f(consecutiv)o(e)i(instructions.)18b(With)0 1333 y(a)e(safe-p)q(oin)o(ts)h(system,)f(ho)o(w)o(ev)o(er,)h(the)g(optimizer)e(ma)o(y)g(b)q(e)0 1383 y(able)h(to)g(p)q(erform)f(more)h(optimizations)e(across)j(sequences)0 1433 y(of)11 b(instructions)h(that)f(execute)i(atomically)8 b(with)j(resp)q(ect)i(to)0 1483 y(garbage)h(collection.)42 1565 y(Sev)o(eral)k(researc)o(hers)j(ha)o(v)o(e)d(in)o(v)o(estigated)g(compiler)f(op-)0 1615 y(timizations)12 b(related)i(to)g(heap-allo)q(cated)f(structures,)j(b)q(oth)0 1665 y(to)e(detect)i(p)q(oten)o(tial)d(aliasing)g(and)h(to)g(allo)o(w)f(heap)h(ob)r(jects)01714 y(to)h(b)q(e)g(stac)o(k)g(allo)q(cated)g(when)g(it)f(is)h(p)q(ossible)g(to)f(infer)h(that)0 1764 y(they)j(b)q(ecome)f(garbage)g(at)g(a)g(particular)g(p)q(oin)o(t)g(in)f(a)h(pro-)0 1814 y(gram)g([Sc)o(h75a,)h(Sc)o(h75b,)h(Hud86)o(,)g(JM81,)f(RM88,)g(LH88,)0 1864 y(HPR89)o(,)g(CWZ90)o(,)g(Bak90].)30 b([Cha87)n(])18 b(discusses)i(in)o(terac-)0 1914 y(tions)11b(b)q(et)o(w)o(een)i(con)o(v)o(en)o(tional)d(optimizations)f(and)i(garbage)01963 y(collection,)i(and)g(when)i(garbage)e(collection-orien)o(ted)h(opti-)02013 y(mizations)d(are)i(safe.)18 b(These)c(topics)f(are)g(b)q(ey)o(ond)g(the)g(scop)q(e)0 2063 y(of)18 b(this)g(surv)o(ey)m(,)h(and)f(to)g(the)h(b)q(est)h(of)d(our)h(kno)o(wledge)g(no)0 2113 y(actual)f(systems)h(use)h(these)g(tec)o(hniques)g(for)e(garbage)h(col-)0 2163 y(lection)e(optimizations;)d(still,)i(suc)o(h)i(tec)o(hniques)g(ma)o(y)c(lead)0 2213 y(to)j(imp)q(ortan)o(t)f(impro)o(v)o(emen)o(ts)f(in)i(garbage)g(collector)g(p)q(er-)02262 y(formance)i(b)o(y)g(shifting)g(m)o(uc)o(h)f(of)h(the)i(garbage)e(detection)0 2312 y(w)o(ork)c(to)f(compile)g(time.)42 2395y(Certain)f(restricted)i(forms)c(of)i(lifetime)e(analysis|for)g(lo-)02444 y(cal)16 b(v)n(ariable)g(binding)f(en)o(vironmen)o(ts)h(only|can)g(b)q(e)h(sim-)0 2494 y(ple)c(but)h(e\013ectiv)o(e)g(in)f(a)o(v)o(oiding)e(the)j(need)g(to)g(heap-allo)q(cate)0 2544 y(most)25 b(v)n(ariable)f(bindings)i(in)f(languages)g(with)h(closures)0 2594 y([Kra88)o(].)1011 55y Fi(6.5)55 b(F)-5 b(ree)19 b(Storage)f(Managemen)n(t)1011135 y Fn(Nonmo)o(ving)g(collectors)k(m)o(ust)f(deal)g(with)g(the)h(fact)f(that)1011 185 y(freed)d(space)g(ma)o(y)d(b)q(e)i(distributed)h(through)f(memory)m(,)e(in-)1011 234 y(tersp)q(ersed)j(with)c(the)i(liv)o(e)e(ob)r(jects.)23 b(The)15 b(traditional)f(w)o(a)o(y)1011 284 y(of)j(dealing)g(with)h(this)g(is)g(to)g(use)h(one)f(or)g(more)f(free)i(lists,)1011334 y(but)j(it)f(is)h(p)q(ossible)g(to)g(adapt)f(an)o(y)g(of)h(the)g(free)h(storage)1011 384 y(managemen)o(t)17 b(tec)o(hniques)22 b(whic)o(h)e(ha)o(v)o(e)g(b)q(een)h(dev)o(elop)q(ed)1011 434 y(for)13 b(explicitly-managed)e(heaps)k([Kn)o(u69)o(,)f(Sta80)o(].)1052 485 y(The)e(simplest)e(sc)o(heme,)i(used)g(in)e(man)o(y)g(early)h(Lisp)g(in)o(ter-)1011 535 y(preters,)18b(is)e(to)g(supp)q(ort)g(only)g(one)g(size)h(of)e(heap-allo)q(cated)1011585 y(ob)r(ject,)c(and)e(use)i(a)e(single)g(free)i(list)e(to)h(hold)f(the)h(freed)g(items.)1011 635 y(When)j(garbage)g(is)g(detected)j(\(e.g.,)c(during)h(a)g(sw)o(eep)h(phase)1011 684 y(or)h(when)h(reference)i(coun)o(ts)e(go)f(to)g(zero\),)i(the)f(ob)r(jects)h(are)1011 734 y(simply)g(strung)k(together)f(in)o(to)f(a)h(list,)g(using)f(one)h(of)f(the)1011 784 y(normal)12b(data)h(\014elds)h(to)g(hold)f(a)h(list)f(p)q(oin)o(ter.)1052835 y(When)21 b(generalizing)g(this)f(sc)o(heme)h(to)g(supp)q(ort)g(m)o(ulti-)1011 885 y(ple)g(ob)r(ject)h(sizes,)i(t)o(w)o(o)d(basic)h(c)o(hoices)g(are)g(p)q(ossible:)33 b(to)1011 935 y(main)o(tain)18 b(separate)23b(lists)e(for)g(eac)o(h)h(ob)r(ject)g(size)g(\(or)f(ap-)1011985 y(pro)o(ximate)15 b(ob)r(ject)k(size\),)g(or)e(to)g(k)o(eep)h(a)g(single)f(list)g(hold-)1011 1035 y(ing)k(v)n(arious)h(sizes)h(of)f(freed)h(spaces.)44b(T)m(ec)o(hniques)23 b(with)1011 1085 y(separate)e(lists)f(for)g(di\013eren)o(t-sized)i(ob)r(jects)f(include)f Fk(se)n(g-)1011 1134 y(r)n(e)n(gate)n(d)f(stor)n(age)f Fn(and)g Fk(buddy)j(systems)d Fn([PN77)o(].)32b(Systems)1011 1184 y(with)21 b(a)h(uni\014ed)g(free)h(list)e(include)hFk(se)n(quential)h(\014t)f Fn(meth-)1011 1234 y(o)q(ds)12 b(and)hFk(bitmapp)n(e)n(d)f Fn(tec)o(hniques.)19 b(An)13 b(in)o(termediate)e(strat-)1011 1284 y(egy)18 b(is)f(to)h(use)h(a)e(single)h(data)f(structure,)k(but)d(use)g(a)g(tree)1011 1334 y(or)h(similar)e(structure)k(sorted)f(b)o(y)f(the)h(sizes)g(\(and/or)f(ad-)1011 1383 y(dresses\))k(of)e(the)g(free)h(spaces)h([Ste83])d(to)h(reduce)i(searc)o(h)1011 1433 y(times.)43 b(Most)23b(of)f(these)i(systems)e(and)h(sev)o(eral)g(h)o(ybrids)10111483 y(\(e.g.,)9 b([BBDT84,)g(O)o(A85,)g(WW88)o(,)h(GZ93)o(]\))g(are)g(already)g(de-)1011 1533 y(scrib)q(ed)j(in)e(the)h(literature)g(on)g(memory)d(managemen)o(t,)g(and)1011 1583 y(w)o(e)15 b(will)e(not)i(describ)q(e)i(them)d(here.)22 b(An)15 b(exception)h(to)f(this)1011 1632 y(is)j(bitmapp)q(ed)f(memory)e(managemen)o(t,)i(whic)o(h)h(has)g(b)q(een)1011 1682y(used)f(in)f(sev)o(eral)h(garbage)f(collectors,)h(but)g(is)f(not)h(usually)1011 1732 y(discussed)e(in)f(the)g(literature.)1052 1783 y(Bitmapp)q(ed)f(memory)e(managemen)o(t)h(simply)f(main)o(tains)1011 1833 y(a)h(bitmap)f(corresp)q(onding)i(to)g(units)f(of)g(memory)e(\(t)o(ypically)10111883 y(w)o(ords,)15 b(or)f(pairs)h(of)f(w)o(ords)h(if)f(ob)r(jects)i(are)f(alw)o(a)o(ys)f(aligned)1011 1933 y(on)e(t)o(w)o(o-w)o(ord)f(b)q(oundaries\),)h(with)g(the)h(bit's)e(v)n(alue)h(indicat-)10111983 y(ing)j(whether)i(the)f(unit)f(is)h(in)f(use)h(or)g(not.)23b(The)16 b(bitmap)e(is)1011 2033 y(up)q(dated)e(when)g(ob)r(jects)h(are)f(allo)q(cated)f(or)g(reclaimed.)17 b(The)1011 2082 y(bitmap)d(can)h(b)q(e)i(scanned)g(to)e(construct)i(a)f(free)g(list)g(\(as)f(in)10112132 y([BDS91)o(]\))i(or)g(it)f(can)h(b)q(e)h(searc)o(hed)h(at)d(allo)q(cation)g(time)f(in)1011 2182 y(a)i(manner)g(analogous)g(to)h(the)h(searc)o(h)g(of)e(a)h(free)g(list)g(in)f(a)1011 2232 y(sequen)o(tial)d(\014t)g(algorithm.)1011 2356 y Fi(6.6)55 b(Compact)19 b(Represen)n(tations)e(of)i(Heap)1138 2415 y(Data)1011 2494 y Fn(Represen)o(tations)d(of)f(heap)h(data)f(are)h(often)f(optimized)f(for)1011 2544 y(sp)q(eed,)21 b(rather)e(than)g(for)f(space.)33 b(In)19 b(dynamically)c(t)o(yp)q(ed)1011 2594y(languages,)20 b(for)g(example,)g(most)e(\014elds)j(of)e(most)g(ob)r(jects)969 2718 y(55)p eop%%Page: 56 56bop 0 55 a Fn(are)14 b(t)o(ypically)e(of)g(a)h(uniform)f(size,)h(large)g(enough)h(to)f(hold)f(a)0 105 y(tagged)i(p)q(oin)o(ter.)20b(P)o(oin)o(ters,)15 b(in)f(turn,)g(are)h(t)o(ypically)e(repre-)0155 y(sen)o(ted)k(as)e(full-size)g(virtual)f(addresses)k(in)d(a)g(\015at)g(\(nonseg-)0 205 y(men)o(ted\))10 b(address)h(space.)17 b(Muc)o(h)11b(of)e(this)h(space)g(is)g(\\w)o(asted")0 255 y(in)k(some)f(sense,)i(b)q(ecause)h(man)o(y)c(nonp)q(oin)o(ter)j(v)n(alues)e(could)0304 y(b)q(e)e(represen)o(ted)j(in)c(few)o(er)h(bits,)g(and)g(b)q(ecause)h(p)q(oin)o(ters)f(t)o(yp-)0 354 y(ically)19 b(con)o(tain)g(v)o(ery)h(little)f(information)e(due)k(to)e(limited)0 404 y(heap)14 b(sizes)h(and)f(lo)q(calit)o(y)e(of)i(reference.)42 463 y(A)o(t)c(least)g(t)o(w)o(o)g(mec)o(hanisms)e(ha)o(v)o(e)j(b)q(een)g(dev)o(elop)q(ed)g(to)f(ex-)0 513 y(ploit)f(the)h(regularities)g(in)g(data)f(structures)k(and)d(allo)o(w)e(them)0563 y(to)15 b(b)q(e)g(stored)h(in)e(a)g(somewhat)g(compressed)h(form)e(most)h(of)0 613 y(the)21 b(time,)f(and)g(expanded)i(on)e(demand)f(when)i(they)g(are)0 663 y(op)q(erated)f(on.)33 b(One)20 b(of)f(these)h(is)f(a)g(\014ne-grained)g(mec)o(ha-)0 712 y(nism)e(called)h Fk(c)n(dr)h(c)n(o)n(ding)p Fn(,)h(whic)o(h)e(is)g(sp)q(eci\014c)i(to)f(list)f(cells)0762 y(suc)o(h)j(as)f(Lisp)f(cons)i(cells)f([Han69)o(,)f(BC79,)h(LH86)o(].)36b(The)0 812 y(other)21 b(is)f Fk(c)n(ompr)n(esse)n(d)h(p)n(aging)pFn(,)h(a)f(more)e(general-purp)q(ose)0 862 y(mec)o(hanism)h(that)i(op)q(erates)h(on)e(virtual)g(memory)f(pages)0 912 y([Wil91)n(,)d(Dou93)o(,)g(WB94)o(].)28 b(Both)18 b(mec)o(hanisms)d(are)j(in)o(vis-)0961 y(ible)13 b(at)h(the)h(language)e(lev)o(el.)42 1021 y(Cdr-co)q(ding)18b(w)o(as)g(used)h(in)f(man)o(y)e(early)i(Lisp)g(systems,)01071 y(when)11 b(random-access)g(memory)d(w)o(as)j(v)o(ery)g(exp)q(ensiv)o(e.)18 b(Un-)0 1120 y(fortunately)m(,)d(it)f(tended)j(to)e(b)q(e)h(rather)g(exp)q(ensiv)o(e)h(in)e(CPU)0 1170 y(time,)k(b)q(ecause)j(the)e(c)o(hangeable)g(represen)o(tations)i(of)d(list)0 1220 y(complicate)13b(basic)i(list)f(op)q(erations.)20 b(Commo)o(n)12 b(op)q(erations)01270 y(suc)o(h)20 b(as)g(CDR)f(require)h(extra)g(instructions)g(to)g(c)o(hec)o(k)g(to)0 1320 y(see)e(what)e(kind)g(of)g(list)h(cell)f(they)h(are)g(tra)o(v)o(ersing|is)f(it)g(a)0 1370 y(normal)c(cell,)h(or)h(one)g(that)g(has)g(b)q(een)h(compressed?)42 1429 y(The)20 b(compressed)g(represen)o(tation)h(of)e(a)g(list)g(in)g(a)h(cdr-)0 1479 y(co)q(ded)d(system)g(is)f(really)g(an)g(arra)o(y)g(of)g(items)g(corresp)q(ond-)0 1529 y(ing)h(to)g(the)g(items)g(of)f(the)i(original)e(list.)27 b(The)18 b(cdr-co)q(ding)0 1578y(system)h(w)o(orks)g(in)f(concert)j(with)d(the)i(garbage)e(collector,)01628 y(whic)o(h)12 b(linearizes)h(lists)f(and)h(pac)o(ks)g(consecutiv)o(e)g(items)f(in)o(to)0 1678 y(arra)o(ys)j(holding)f(the)h(CAR)f(v)n(alues)h(\(list)g(items\);)f(the)h(CDR)0 1728 y(v)n(alues|the)g(p)q(oin)o(ters)h(that)g(link)e(the)i(lists|are)f(omitted.)0 1778 y(T)m(o)d(mak)o(e)e(this)j(w)o(ork,)f(it)f(is)i(necessary)h(to)e(store)h(a)f(bit)g(some-)01827 y(where)17 b(\(e.g.,)d(a)h(sp)q(ecial)h(extra)g(bit)f(in)g(the)h(tag)f(of)g(the)h(\014eld)0 1877 y(holding)h(the)h(CAR)g(v)n(alue\))g(sa)o(ying)f(that)h(the)h(CDR)e(v)n(alue)0 1927 y(is)i(implicitly)e(a)i(p)q(oin)o(ter)h(to)f(the)h(next)g(item)f(in)g(memory)m(.)0 1977 y(Destructiv)o(e)g(up)q(dates)f(to)f(CDR)g(v)n(alues)g(require)h(the)g(gen-)0 2027y(eration)f(of)g(actual)g(cons)h(cells)g(on)f(demand,)g(and)g(the)h(for-)02077 y(w)o(arding)12 b(of)g(references)j(from)c(the)i(predecessor)i(part)e(of)f(the)0 2126 y(arra)o(y)m(.)42 2186 y(This)k(sc)o(heme)g(is)g(really)f(only)h(w)o(orth)o(while)f(with)h(sp)q(ecial)0 2236 y(hardw)o(are)22b(and/or)e(micro)q(co)q(ded)h(routines,)i(as)f(found)e(on)02285 y(Lisp)f(Mac)o(hines.)36 b(On)19 b(curren)o(t)i(general-purp)q(ose)g(pro)q(ces-)0 2335 y(sors,)16 b(it)e(is)h(seldom)f(w)o(orth)h(the)h(time)e(for)h(the)g(sa)o(vings)g(that)0 2385 y(can)h(b)q(e)f(gained.)22b(\(Roughly)14 b(half)h(the)h(data)f(in)g(a)g(Lisp)g(sys-)02435 y(tem)g(consists)i(of)e(cons)i(cells,)f(so)g(compressing)g(them)f(from)02485 y(t)o(w)o(o)e(w)o(ords)i(to)e(one)h(can)g(only)g(sa)o(v)o(e)g(ab)q(out)f(25\045)g(at)h(b)q(est.\))42 2544 y(More)c(recen)o(tly)m(,)hFk(c)n(ompr)n(esse)n(d)g(p)n(aging)f Fn(has)g(b)q(een)h(prop)q(osed)02594 y(as)h(a)f(means)g(of)g(reducing)h(memory)d(requiremen)o(ts)j(on)g(sto)q(c)o(k)1011 55 y(hardw)o(are.)17 b(The)12 b(basic)g(idea)f(is)g(to)h(dev)o(ote)g(some)e(fraction)i(of)1011 105 y(main)g(memory)g(to)i(storing)g(pages)h(in)f(a)g(compressed)h(form,)1011 155 y(so)f(that)h(one)g(main)d(memory)g(page)j(can)g(hold)f(the)h(data)f(for)1011 205 y(sev)o(eral)c(virtual)f(memory)e(pages.)17 b(Normal)8 b(virtual)g(memory)1011 255y(access-protection)k(hardw)o(are)f(is)f(used)h(to)f(detect)i(references)1011304 y(to)k(compressed)h(pages,)f(and)g(trap)g(to)g(a)g(routine)g(that)g(will)1011 354 y(uncompress)f(them.)k(Once)d(touc)o(hed,)f(a)f(page)g(is)h(cac)o(hed)g(in)1011 404 y(normal)e(\(uncompressed\))k(form)d(for)i(a)f(while,)h(so)g(that)f(the)1011 454 y(program)c(can)i(op)q(erate)h(on)f(it.)k(After)d(a)e(page)h(has)g(not)g(b)q(een)1011 504 y(touc)o(hed)h(for)g(some)f(time,)f(it)h(is)h(re-compressed)h(and)e(access)1011 553 y(protected.)24b(The)16 b(compression)f(routine)g(is)h(not)f(limited)e(to)1011603 y(compressing)i(CDR)h(\014elds|it)f(can)h(b)q(e)h(designed)g(to)e(com-)1011 653 y(press)21 b(other)e(p)q(oin)o(ters,)i(and)e(non-p)q(oin)o(ter)h(data)f(\(suc)o(h)h(as)1011 703 y(in)o(tegers)14 b(and)g(c)o(haracter)h(strings,)f(or)g(executable)h(co)q(de\).)1052 753 y(In)d(e\013ect,)h(compressed)g(paging)e(adds)h(a)f(new)h(lev)o(el)g(to)f(the)1011803 y(memory)i(hierarc)o(h)o(y)m(,)i(in)o(termediate)g(in)g(cost)h(b)q(et)o(w)o(een)h(nor-)1011 852 y(mal)10 b(RAM)i(and)h(disk.)k(This)c(ma)o(y)d(not)j(only)e(decrease)k(o)o(v)o(er-)1011 902 y(all)20 b(RAM)h(requiremen)o(ts,)i(but)e(actually)g(impro)o(v)o(e)e(sp)q(eed)1011 952 y(b)o(y)e(reducing)g(the)h(n)o(um)o(b)q(er)f(of)f(disk)h(seeks.)29 b(Using)17 b(simple)10111002 y(and)d(fast)h(\(but)f(e\013ectiv)o(e\))j(compression)d(algorithms,)e(heap)1011 1052 y(data)17 b(can)g(t)o(ypically)f(b)q(e)i(compressed)g(b)o(y)f(a)g(factor)g(of)f(t)o(w)o(o)1011 1101 y(to)f(four|in)f(considerably)h(less)h(time)e(than)h(it)g(w)o(ould)f(tak)o(e)1011 1151 y(to)h(do)f(a)h(disk)g(seek,)h(ev)o(en)g(on)f(a)f(relativ)o(ely)h(slo)o(w)f(pro)q(cessor)10111201 y([WB94)o(].)i(As)10 b(pro)q(cessor)h(sp)q(eed)g(impro)o(v)o(emen)o(ts)c(con)o(tin)o(ue)j(to)1011 1251 y(outstrip)j(disk)f(sp)q(eed)i(impro)o(v)o(emen)o(ts,)d(compressed)i(paging)1011 1301 y(b)q(ecomes)h(increasingly)f(attractiv)o(e.)1011 1438 y Fo(7)69 b(GC-related)59 b(Language)j(F)-6b(ea-)1114 1513 y(tures)1011 1604 y Fn(The)16 b(main)e(use)j(of)e(garbage)h(collection)f(is)h(to)g(supp)q(ort)g(the)1011 1654 y(simple)i(abstraction)i(that)g(in\014nite)g(amoun)o(ts)e(of)h(uniform)1011 1703 y(memory)d(are)j(a)o(v)n(ailable)d(for)j(allo)q(cation,)e(so)i(that)g(ob)r(jects)10111753 y(can)h(simply)d(b)q(e)j(created)h(at)f(will)e(and)h(can)h(conceptually)1011 1803 y(\\liv)o(e)14 b(forev)o(er".)23 b(Sometimes,)13b(ho)o(w)o(ev)o(er,)j(it)f(is)g(desirable)h(to)1011 1853 y(alter)11b(this)h(view.)17 b(It)11 b(is)g(sometimes)f(desirable)h(to)g(ha)o(v)o(e)h(p)q(oin-)1011 1903 y(ters)h(whic)o(h)f(do)g(not)g(prev)o(en)o(t)i(the)f(referred-to)g(ob)r(jects)h(from)1011 1952 y(b)q(eing)d(reclaimed,)f(or)g(to)h(trigger)g(sp)q(ecial)g(routines)h(when)f(an)1011 2002 y(ob)r(ject)17b(is)g(reclaimed.)26 b(It)17 b(can)g(also)f(b)q(e)h(desirable)g(to)g(ha)o(v)o(e)1011 2052 y(more)9 b(than)h(one)g(heap,)h(with)f(ob)r(jects)h(allo)q(cated)e(in)h(di\013eren)o(t)1011 2102 y(heaps)k(b)q(eing)g(treated)h(di\013eren)o(tly)m(.)1011 2218 y Fi(7.1)55 b(W)-5 b(eak)19b(P)n(oin)n(ters)1011 2295 y Fn(A)c(simple)e(extension)j(of)e(the)i(garbage)f(collection)f(abstrac-)1011 2345 y(tion)h(is)h(to)g(allo)o(w)f(programs)g(to)h(hold)f(p)q(oin)o(ters)i(to)f(ob)r(jects)1011 2395 y Fk(without)11b Fn(those)h(p)q(oin)o(ters)g(prev)o(en)o(ting)f(the)h(ob)r(jects)h(from)d(b)q(e-)1011 2444 y(ing)k(collected.)21 b(P)o(oin)o(ters)15 b(that)g(do)g(not)f(k)o(eep)i(ob)r(jects)g(from)1011 2494 y(b)q(eing)g(collected)i(are)f(kno)o(wn)f(a)g Fk(we)n(ak)h(p)n(ointers)p Fn(,)g(and)f(they)10112544 y(are)e(useful)f(in)g(a)g(v)n(ariet)o(y)g(of)g(situations.)18b(One)c(common)c(ap-)1011 2594 y(plication)15 b(is)i(the)g(main)o(tenance)f(of)g(tables)h(whic)o(h)f(mak)o(e)f(it)969 2718 y(56)p eop%%Page: 57 57bop 0 55 a Fn(p)q(ossible)10 b(to)g(en)o(umerate)g(all)f(of)g(the)i(ob)r(jects)g(of)e(a)h(giv)o(en)f(kind.)0 105 y(F)m(or)15 b(example,)e(it)i(migh)o(t)e(b)q(e)j(desirable)f(to)g(ha)o(v)o(e)g(a)g(table)g(of)0155 y(all)d(of)g(the)i(\014le)f(ob)r(jects)h(in)e(a)h(system,)f(so)h(that)g(their)h(bu\013ers)0 205 y(could)h(b)q(e)h(\015ushed)g(p)q(erio)q(dically)f(for)g(fault)f(tolerance.)23 b(An-)0 255 y(other)17 b(common)c(application)h(is)i(the)g(main)o(tenance)f(of)h(col-)0 304 y(lections)d(of)g(auxiliary)e(information)f(ab)q(out)j(ob)r(jects,)h(where)0 354 y(the)j(information)d(alone)i(is)g(useless)i(and)f(should)f(not)h(k)o(eep)0 404y(the)f(describ)q(ed)i(ob)r(jects)f(aliv)o(e.)22 b(\(Examples)15b(include)g(prop-)0 454 y(ert)o(y)c(tables)f(and)g(do)q(cumen)o(tation)e(strings)j(ab)q(out)f(ob)r(jects|)0 504 y(the)18 b(usefulness)h(of)e(the)h(description)g(dep)q(ends)h(on)e(the)h(de-)0 553 y(scrib)q(ed)k(ob)r(ject)g(b)q(eing)f(otherwise)h(in)o(teresting,)h(not)e(vice)0 603y(v)o(ersa.\))42 654 y(W)m(eak)10 b(p)q(oin)o(ters)i(are)g(t)o(ypically)e(implemen)o(ted)f(b)o(y)i(the)h(use)0 703 y(of)h(a)g(sp)q(ecial)g(data)g(structure,)j(kno)o(wn)c(to)i(the)g(garbage)f(col-)0 753 y(lector,)k(recording)f(the)h(lo)q(cations)f(of)f(w)o(eak)h(p)q(oin)o(ter)g(\014elds.)0803 y(The)j(garbage)f(collector)g(tra)o(v)o(erses)i(all)d(other)i(p)q(oin)o(ters)g(in)0 853 y(the)12 b(system)f(\014rst,)h(to)f(determine)g(whic)o(h)g(ob)r(jects)h(are)g(reac)o(h-)0 903 y(able)d(via)g(normal)e(paths.)17b(Then)10 b(the)h(w)o(eak)e(p)q(oin)o(ters)h(are)g(tra-)0 952y(v)o(ersed;)k(if)f(their)g(referen)o(ts)i(ha)o(v)o(e)e(b)q(een)i(reac)o(hed)f(b)o(y)f(normal)0 1002 y(paths,)j(the)h(w)o(eak)f(p)q(oin)o(ters)g(are)h(treated)g(normally)m(.)k(\(In)16 b(a)0 1052 y(cop)o(ying)d(collector,)g(they)h(are)g(up)q(dated)g(to)f(re\015ect)i(the)f(new)0 1102y(lo)q(cation)c(of)f(the)i(ob)r(ject.\))18 b(If)10 b(their)h(referen)o(ts)h(ha)o(v)o(e)f(not)f(b)q(een)0 1152 y(reac)o(hed,)17 b(ho)o(w)o(ev)o(er,)g(the)f(w)o(eak)g(p)q(oin)o(ters)h(are)f(treated)h(sp)q(e-)01201 y(cially)m(,)9 b(t)o(ypically)g(replaced)i(with)f(a)g(nonp)q(oin)o(ter)h(v)n(alue)e(\(suc)o(h)0 1251 y(as)14 b(n)o(ull\))f(to)h(signal)f(that)h(their)g(referen)o(ts)i(no)d(longer)h(exist.)0 1370 y Fi(7.2)56b(Finalization)0 1448 y Fn(Closely)16 b(related)h(to)g(the)g(notion)f(of)g(w)o(eak)h(p)q(oin)o(ters)g(is)g(the)0 1497 y(concept)12 b(of)fFk(\014nalization)p Fn(,)g(i.e.,)f(actions)h(that)g(are)h(p)q(erformed)01547 y(automatically)d(when)j(an)g(ob)r(ject)h(is)f(reclaimed.)k(This)c(is)g(es-)0 1597 y(p)q(ecially)i(common)f(when)i(an)g(ob)r(ject)h(manages)d(a)i(resource)0 1647 y(other)i(than)e(heap)i(memory)m(,)12 b(suc)o(h)17b(as)f(a)g(\014le)g(or)f(a)h(net)o(w)o(ork)0 1697 y(connection.)i(F)m(or)10b(example,)f(it)i(ma)o(y)d(b)q(e)j(imp)q(ortan)o(t)e(to)i(close)01746 y(a)g(\014le)h(when)g(the)g(corresp)q(onding)h(heap)e(ob)r(ject)i(is)e(reclaimed)0 1796 y(In)k(the)g(example)f(of)g(annotations)g(and)g(do)q(cumen)o(tation,)g(it)0 1846 y(is)d(often)h(desirable)g(to)f(delete)h(the)g(description)g(of)f(an)g(ob)r(ject)0 1896 y(once)19 b(the)g(ob)r(ject)g(itself)f(is)g(reclaimed.)31 b(Finalization)16 b(can)0 1946y(th)o(us)c(generalize)h(the)f(garbage)g(collector,)g(so)g(that)g(other)h(re-)0 1996 y(sources)18 b(are)g(managed)d(in)h(m)o(uc)o(h)g(the)h(same)f(w)o(a)o(y)g(as)h(heap)0 2045 y(memory)m(,)h(and)h(with)h(similar)d(program)h(structure.)37 b(This)0 2095 y(mak)o(es)15 b(it)g(p)q(ossible)h(to)f(write)h(more)f(general)h(and)f(reusable)0 2145 y(co)q(de,)f(rather)h(than)f(ha)o(ving)f(to)h(treat)h(certain)f(kinds)g(of)g(ob-)0 2195 y(jects)20b(v)o(ery)g(di\013eren)o(tly)g(than)f(\\normal")e(ob)r(jects.)35b(\(Con-)0 2245 y(sider)18 b(a)g(routine)g(that)g(iterates)h(o)o(v)o(er)f(a)f(list,)h(applying)e(an)0 2294 y(arbitrary)g(function)f(to)h(eac)o(h)g(item)e(in)h(the)i(list.)23 b(If)15 b(\014le)h(de-)0 2344 y(scriptors)11b(are)f(garbage)g(collected,)h(the)f(v)o(ery)h(same)e(iteration)02394 y(routine)15 b(can)f(b)q(e)h(used)h(for)e(a)g(list)g(of)g(\014le)g(descriptors)i(as)f(for)0 2444 y(a)d(list)g(of)f(heap)i(ob)r(jects.)18b(If)12 b(the)h(list)f(b)q(ecomes)g(unreac)o(hable,)0 2494y(the)17 b(garbage)f(collector)h(will)e(reclaim)g(the)i(\014le)g(descriptors)0 2543 y(along)c(with)g(the)i(list)e(structure)j(itself.\))422594 y(Finalization)9 b(is)i(t)o(ypically)f(implem)o(en)o(ted)f(b)o(y)i(marking)e(\014-)1011 55 y(nalizable)j(ob)r(jects)i(in)f(some)f(w)o(a)o(y)g(and)h(registering)g(them)f(in)1011 105 y(a)17 b(data)g(structure)i(m)o(uc)o(h)d(lik)o(e)g(that)i(used)g(for)f(w)o(eak)g(p)q(oin-)1011155 y(ters.)i(\(They)14 b(ma)o(y)d(in)i(fact)g(use)h(the)g(same)e(data)h(structure.\))1011 205 y(Rather)h(than)h(simply)d(nilling)h(the)i(p)q(oin)o(ters)g(if)f(the)h(ob)r(jects)1011 255 y(aren't)f(reac)o(hed)h(b)o(y)f(the)h(primary)d(tra)o(v)o(ersal,)h(ho)o(w)o(ev)o(er,)h(the)1011304 y(p)q(oin)o(ters)k(are)g(recorded)h(for)e(sp)q(ecial)g(treatmen)o(t)h(after)f(the)1011 354 y(collection)d(is)g(\014nished.)21 b(After)16b(the)f(collection)f(is)h(complete)1011 404 y(and)f(the)h(heap)g(is)f(once)h(again)e(consisten)o(t,)i(the)g(referred-to)1011 454 y(ob)r(jects)g(ha)o(v)o(e)f(their)g(\014nalization)e(op)q(erations)i(in)o(v)o(ok)o(ed.)1052534 y(Finalization)f(is)i(useful)g(in)f(a)g(v)n(ariet)o(y)g(of)h(circumstances,)1011 584 y(but)10 b(it)h(m)o(ust)e(b)q(e)i(used)g(with)g(care.)17 b(Because)c(\014nalization)c(o)q(c-)1011 634 y(curs)16b(async)o(hronously|i.e.,)e(whenev)o(er)j(the)f(collector)f(no-)1011684 y(tices)g(the)g(ob)r(jects)g(are)g(unreac)o(hable)g(and)f(do)q(es)h(something)1011 734 y(ab)q(out)g(it|it)g(is)h(p)q(ossible)g(to)g(create)h(race)g(conditions)e(and)1011 784 y(other)g(subtle)g(bugs.)20b(F)m(or)14 b(a)h(more)e(thorough)h(discussion)i(of)1011 833y(b)q(oth)e(w)o(eak)g(p)q(oin)o(ters)g(and)g(\014nalization,)e(see)j([Ha)o(y92)o(].)1011 1113 y Fi(7.3)55 b(Multiple)126 b(Differen)n(tly-Managed)11381172 y(Heaps)1011 1306 y Fn(In)12 b(some)g(systems,)h(a)f(garbage)g(collected)i(heap)f(is)f(pro)o(vided)1011 1355 y(for)20 b(con)o(v)o(enience,)i(and)e(a)g(separate,)j(explicitly-manag)o(ed)1011 1405 y(heap)12b(is)h(pro)o(vided)f(to)g(allo)o(w)f(v)o(ery)h(precise)i(con)o(trol)e(o)o(v)o(er)g(the)1011 1455 y(use)i(of)g(memory)m(.)1052 1536 y(In)c(some)f(languages,)h(suc)o(h)g(as)g(Mo)q(dula-3)f([CDG)1824 1521 yFj(+)1850 1536 y Fn(89])g(and)1011 1586 y(an)18 b(extended)h(v)o(ersion)g(of)e(C++)i([ED93)o(],)f(a)g(garbage)f(col-)1011 1635 y(lected)c(heap)g(co)q(exists)g(with)f(an)g(explicitly-managed)e(heap.)1011 1685y(This)15 b(supp)q(orts)h(garbage)f(collection,)g(while)g(allo)o(wing)e(pro-)1011 1735 y(grammers)18 b(to)i(explicitly)f(con)o(trol)h(deallo)q(cation)f(of)h(some)1011 1785 y(ob)r(jects)h(for)f(maxim)n(um)c(p)q(erformance)k(or)g(predictabilit)o(y)m(.)1011 1835 y(Issues)14 b(in)e(the)i(design)f(of)f(suc)o(h)h(m)o(ultiple-heap)e(systems)i(are)1011 1884 y(discussed)i(in)f([Del92)n(])g(and)g([ED93)o(].)1052 1965 y(In)20 b(other)h(systems,)g(suc)o(h)g(as)f(large)f(p)q(ersisten)o(t)j(or)e(dis-)1011 2015 y(tributed)14b(shared)h(memories,)c(it)i(ma)o(y)f(also)h(b)q(e)h(desirable)g(to)10112065 y(ha)o(v)o(e)i(m)o(ultiple)e(heaps)j(with)f(di\013eren)o(t)i(p)q(olicies)e(for)g(distri-)1011 2115 y(bution)g(\(e.g.,)g(shared)i(vs.)27b(unshared\),)18 b(access)h(privileges,)1011 2164 y(and)13b(resource)j(managemen)o(t)c([Mos89)o(,)h(Del92)o(].)1052 2245y(Man)o(y)f(language)f(implemen)o(tations)e(ha)o(v)o(e)j(had)g(suc)o(h)h(fea-)1011 2295 y(tures)h(in)o(ternally)m(,)d(more)g(or)i(less)g(hidden)g(from)e(normal)f(pro-)1011 2345 y(grammers,)20 b(but)h(there)i(is)d(little)h(published)g(information)1011 2395 y(ab)q(out)g(them,)g(and)g(little)f(standardization)g(of)h(program-)1011 2444 y(mer)f(in)o(terfaces.)41b(\(The)22 b(terminology)c(is)j(also)g(not)g(stan-)1011 2494y(dardized,)10 b(and)f(these)i(heaps)f(are)g(v)n(ariously)e(called)h(\\heaps,")1011 2544 y(\\zones,")14 b(\\areas,")g(\\arenas,")g(\\segmen)o(ts,")g(\\p)q(o)q(ols,")f(\\re-)1011 2594 y(gions,")f(and)i(so)g(on.\))9692718 y(57)p eop%%Page: 58 58bop 0 55 a Fo(8)69 b(Ov)n(erall)18 b(Cost)g(of)i(Garbage)g(Col-)103130 y(lection)0 233 y Fn(The)d(costs)h(of)e(garbage)g(collection)g(ha)o(v)o(e)h(b)q(een)g(studied)h(in)0 283 y(sev)o(eral)23 b(systems,)i(esp)q(ecially)d(Lisp)h(and)f(Smalltalk)e(sys-)0 333 y(tems.)k(Most)16 b(of)f(these)i(studies)g(ha)o(v)o(e)f(serious)h(limitatio)o(ns,)0 382 y(ho)o(w)o(ev)o(er.)g(A)10 b(common)d(limitation)g(is)j(the)h(use)f(of)g(a)g(slo)o(w)f(lan-)0432 y(guage)g(implemen)o(tation,)e(e.g.,)i(an)h(in)o(terpreter,)i(or)e(an)f(in)o(ter-)0 482 y(preted)i(virtual)e(mac)o(hine,)f(or)i(a)f(p)q(o)q(or)g(compiler.)16 b(When)9 b(pro-)0 532 y(grams)i(execute)j(unrealistically)d(slo)o(wly)m(,)f(the)j(CPU)g(costs)g(of)0 582 y(garbage)g(collection)f(app)q(ear)i(v)o(ery)f(lo)o(w.)k(Another)d(common)0 632 y(limitation)d(of)j(cost)h(studies)h(is)f(the)g(use)g(of)f(\\to)o(y"programs)0 681 y(or)20b(syn)o(thetic)h(b)q(enc)o(hmarks.)37 b(Suc)o(h)21 b(programs)e(often)h(b)q(e-)0 731 y(ha)o(v)o(e)f(v)o(ery)h(di\013eren)o(tly)g(from)e(large,)i(real-w)o(orld)f(applica-)0 781 y(tions.)h(Often,)15 b(they)g(ha)o(v)o(e)g(little)f(long-liv)o(ed)f(data,)h(making)0 831 y(tracing)d(collection)g(app)q(ear)h(unrealistically)f(e\016cien)o(t.)17 b(This)0 881 y(ma)o(y)11b(also)g(a\013ect)j(measuremen)o(ts)e(of)f(write)i(barrier)g(costs)h(in)0930 y(generational)k(collectors,)i(b)q(ecause)g(programs)d(with)h(little)0980 y(long-liv)o(ed)c(data)i(do)g(not)g(create)h(man)o(y)d(in)o(tergenerational)0 1030 y(p)q(oin)o(ters.)42 1086 y(Y)m(et)h(another)h(di\016cult)o(y)e(is)i(that)f(most)f(studies)j(are)f(no)o(w)01136 y(somewhat)21 b(dated,)j(b)q(ecause)g(of)d(later)h(impro)o(v)o(emen)o(ts)e(in)0 1186 y(garbage)d(collection)g(implemen)o(tations.)26b(The)18 b(most)e(v)n(alu-)0 1236 y(able)10 b(studies)i(are)f(therefore)g(the)h(ones)f(with)f(detailed)g(statis-)0 1286 y(tics)16 b(ab)q(out)f(v)n(arious)g(ev)o(en)o(ts,)i(whic)o(h)e(can)h(b)q(e)g(used)h(to)e(infer)01335 y(ho)o(w)e(di\013eren)o(t)i(strategies)g(w)o(ould)e(fare.)421392 y(P)o(erhaps)21 b(the)g(b)q(est)g(study)g(to)f(date)h(is)f(Zorn's)h(in)o(v)o(esti-)0 1442 y(gation)g(of)h(GC)f(cost)i(in)f(a)f(large)h(commercial)e(Comm)o(on)0 1491 y(Lisp)12 b(system,)g(using)h(eigh)o(t)f(large)g(programs)f([Zor89].)17 b(Zorn)0 1541 y(found)c(the)g(time)f(cost)h(of)g(generational)f(garbage)h(collection)0 1591 y(to)j(b)q(e)h(5\045)f(to)h(20\045.)24b(\(W)m(e)17 b(susp)q(ect)h(those)f(n)o(um)o(b)q(ers)f(could)01641 y(b)q(e)f(impro)o(v)o(ed)f(signi\014can)o(tly)f(with)i(the)h(use)f(of)g(a)f(fast)h(card-)0 1691 y(marking)10 b(write)j(barrier.\))18b(Sha)o(w's)12 b(thesis)h(pro)o(vides)g(similar)0 1740 y(p)q(erformance)h(n)o(um)o(b)q(ers)f([Sha88)o(],)g(and)g(Steenkiste's)i(thesis)01790 y(con)o(tains)f(similar)d(relev)n(an)o(t)j(statistics)h([Ste87].)421847 y(Zorn)h(has)h(also)f(studied)h(simple)e(non-generational)h(col-)01896 y(lector)g(using)g(conserv)n(ativ)o(e)g(p)q(oin)o(ter-\014nding)f([Zor93];)g(this)0 1946 y(allo)o(w)o(ed)d(him)g(to)i(study)g(garbage)g(collection)f(using)h(a)f(high-)0 1996 y(p)q(erformance)k(implemen)o(tation)d(of)j(the)g(C)h(language,)e(and)0 2046 y(compare)j(the)i(costs)h(of)d(garbage)h(collection)g(to)g(those)h(of)0 2096 y(v)n(arious)14b(implemen)o(tatio)o(ns)e(of)i(explicit)g(deallo)q(cation.)19b(Un-)0 2145 y(fortunately)m(,)13 b(the)i(garbage)g(collector)f(used)i(w)o(as)e(not)h(state-)0 2195 y(of-the)e(art,)g(partly)f(due)i(to)f(the)g(lac)o(k)g(of)f(compiler)g(co)q(op)q(era-)0 2245 y(tion.)k(Zorn)c(found)e(that,)h(when)g(compared)f(to)h(using)g(a)f(w)o(ell-)0 2295 y(implemen)o(ted)16b Fd(malloc\(\))g Fn(and)i Fd(free\(\))p Fn(,)f(programs)f(using)02345 y(a)f(simple)f(conserv)n(ativ)o(e)i(GC)f(used)i(b)q(et)o(w)o(een)g(0\045)e(and)g(36\045)0 2395 y(more)j(CPU)i(time,)e(and)h(b)q(et)o(w)o(een)i(40\045)d(and)h(280\045)f(more)0 2444 y(memory)m(.)29 b(Zorn's)19b(test)g(programs)f(w)o(ere)h(un)o(usually)f(heap)0 2494 y(allo)q(cation-in)o(tensiv)o(e,)9 b(ho)o(w)o(ev)o(er,)h(and)g(the)h(costs)g(w)o(ould)e(pre-)02544 y(sumably)f(b)q(e)j(lo)o(w)o(er)e(for)g(a)h(more)f(t)o(ypical)g(w)o(orkload.)15 b(W)m(e)10 b(also)0 2594 y(b)q(eliev)o(e)18 b(these)g(\014gures)h(could)e(b)q(e)h(impro)o(v)o(ed)d(considerably)1011 55 y(with)c(a)g(state-of-the)h(art)g(generational)e(collector)i(and)f(com-)1011105 y(piler)i(co)q(op)q(eration.)1052 157 y(T)m(arditi)k(and)h(Diw)o(an)f([TD93)n(])h(studied)g(garbage)g(collec-)1011 207 y(tion)10b(costs)j(in)d(Standard)i(ML)1480 192 y Fj(51)1526 207 y Fn(of)f(NJ)g(and)g(found)g(the)h(total)1011 256 y(time)e(cost)j(of)e(garbage)h(collection)f(b)q(et)o(w)o(een)j(22\045)d(and)g(40\045.)1011 306 y(While)g(this)h(is)g(a)g(v)o(ery)g(in)o(teresting)h(and)f(informativ)o(e)d(study)m(,)1011356 y(w)o(e)21 b(b)q(eliev)o(e)f(these)i(n)o(um)o(b)q(ers)f(to)f(b)q(e)h(unnecessarily)h(high,)1011 406 y(due)15 b(to)g(extreme)h(load)e(on)h(the)h(garbage)f(collector,)g(caused)1011 456 y(b)o(y)d(allo)q(cating)f(tremendous)i(amoun)o(ts)e(of)h(activ)n(ation)f(infor-)1011 506 y(mation)f(and)j(binding)f(en)o(vironmen)o(ts)g(on)g(the)h(heap,)g(rather)1011 555 y(than)e(on)g(a)f(stac)o(k)i(\(Sect.)g(5.2\).)k(W)m(e)10 b(also)h(b)q(eliev)o(e)g(their)h(write)1011 605 y(barrier)i(could)g(b)q(e)g(impro)o(v)o(ed.)1052657 y(Our)f(o)o(wn)e(estimate)h(of)f(the)i(t)o(ypical)e(cost)h(of)g(garbage)f(col-)1011 707 y(lection)k(in)f(a)h(w)o(ell-implem)o(en)o(ted)e(non-incremen)o(tal)h(gener-)1011 756 y(ational)d(system)h(\(for)h(a)f(high-p)q(erformance)g(language)g(imp-)1011 806 y(lemen)o(tation\))e(is)i(that)f(it)hFk(should)g Fn(cost)h(roughly)e(ten)h(p)q(ercen)o(t)1011 856y(of)17 b(running)g(time)f(o)o(v)o(er)i(the)g(cost)g(of)f(a)g(w)o(ell-implem)o(en)o(ted)1011 906 y(explicit)f(heap)h(managemen)o(t)d(system,)i(with)g(a)h(space)g(cost)1011 956 y(of)c(roughly)f(a)h(factor)h(of)f(t)o(w)o(o)f(in)h(data)g(memory)e(size.)19 b(\(Nat-)1011 1006 y(urally)m(,)g(increased)i(CPU)e(costs)i(could)e(b)q(e)h(traded)g(for)f(re-)1011 1055 y(duced)11b(space)g(costs.\))18 b(This)9 b(m)o(ust)g(b)q(e)i(tak)o(en)f(as)g(an)g(educated)1011 1105 y(guess,)j(ho)o(w)o(ev)o(er,)g(comp)q(ensating)e(for)h(what)g(w)o(e)h(p)q(erceiv)o(e)h(as)1011 1155 y(de\014ciencies)i(in)e(existing)h(systems)f(and)h(limitatio)o(ns)d(of)i(the)10111205 y(studies)h(to)e(date.)1052 1257 y(Clearly)m(,)h(more)f(studies)j(of)e(garbage)g(collection)h(in)f(high-)1011 1306 y(p)q(erformance)c(systems)h(are)g(called)f(for,)g(esp)q(ecially)h(for)f(go)q(o)q(d)10111356 y(implemen)o(tati)o(ons)h(of)j(strongly-t)o(yp)q(ed)g(languages.)10111504 y Fo(9)69 b(Conclusions)47 b(and)i(Areas)f(for)1114 1578y(Researc)n(h)1011 1673 y Fn(W)m(e)17 b(ha)o(v)o(e)h(argued)g(that)g(garbage)f(collection)g(is)h(an)f(essen-)1011 1723 y(tial)d(for)g(fully)g(mo)q(dular)f(programmi)o(ng,)f(to)i(allo)o(w)f(\015exible,)1011 1772 y(reusable)22b(co)q(de)g(and)f(to)g(eliminate)e(a)i(large)g(class)g(of)g(ex-)10111822 y(tremely)13 b(dangerous)h(co)q(ding)g(errors.)1052 1874y(Recen)o(t)22 b(adv)n(ances)f(in)f(garbage)h(collection)f(tec)o(hnology)10111924 y(mak)o(e)9 b(automatic)g(storage)i(reclamation)e(a\013ordable)i(for)f(use)1011 1973 y(in)22 b(high-p)q(erformance)f(systems.)43b(Ev)o(en)23 b(relativ)o(ely)f(sim-)1011 2023 y(ple)17 b(garbage)h(collectors')g(p)q(erformance)f(is)h(often)g(comp)q(et-)10112073 y(itiv)o(e)g(with)g(con)o(v)o(en)o(tional)f(explicit)i(storage)g(managemen)o(t)1011 2123 y([App87)o(,)f(Zor93)o(].)30 b(Generational)17b(tec)o(hniques)j(reduce)f(the)1011 2173 y(basic)12 b(costs)h(and)f(disruptiv)o(eness)i(of)d(collection)h(b)o(y)g(exploit-)10112223 y(ing)d(the)i(empirically-observ)o(ed)e(tendency)j(of)d(ob)r(jects)j(to)e(die)1011 2272 y(y)o(oung.)30 b(Incremen)o(tal)18 b(tec)o(hniques)h(ma)o(y)e(ev)o(en)i(mak)o(e)d(gar-)1011 2322 y(bage)d(collection)g(relativ)o(ely)f(attractiv)o(e)h(for)g(hard)g(real-time)1011 2372 y(systems.)10522424 y(W)m(e)21 b(ha)o(v)o(e)f(discussed)j(the)e(basic)g(op)q(eration)g(of)f(sev)o(eral)1011 2474 y(kinds)f(of)g(garbage)g(collectors,)i(to)e(pro)o(vide)g(a)h(framew)o(ork)p 1011 2516 388 2 v 1042 2543 a Fh(51)10742554 y Fg(ML)11 b(is)f(a)g(statically)d(t)o(yp)q(ed,)i(general-pu)o(rp)q(o)o(se)e(mostly-functi)o(ona)o(l)1011 2594 y(language.)969 2718y Fn(58)p eop%%Page: 59 59bop 0 55 a Fn(for)13 b(understanding)h(curren)o(t)h(researc)o(h)g(in)e(the)h(\014eld.)k(A)13 b(k)o(ey)0 105 y(p)q(oin)o(t)18 b(is)g(that)g(standard)g(textb)q(o)q(ok)h(analyses)f(of)f(garbage)0 155 y(collection)12b(algorithms)d(usually)j(miss)e(the)j(most)e(imp)q(ortan)o(t)0205 y(c)o(haracteristics)h(of)e(collectors|namely)m(,)f(the)i(constan)o(t)g(fac-)0 255 y(tors)18 b(asso)q(ciated)g(with)f(the)h(v)n(arious)f(costs,)i(suc)o(h)f(as)g(write)0 304 y(barrier)d(o)o(v)o(erhead)f(and)h(lo)q(calit)o(y)d(e\013ects.)22 b(Similarl)o(y)m(,)11 b(\\real-)0 354 y(time")f(garbage)i(collection)g(is)g(a)g(more)f(subtle)h(topic)g(than)g(is)0404 y(widely)i(recognized.)21 b(These)16 b(factors)f(require)g(garbage)g(col-)0 454 y(lection)i(designers)i(to)f(tak)o(e)f(detailed)h(implem)o(en)o(tation)d(is-)0 504 y(sues)g(in)o(to)d(accoun)o(t,)i(and)f(b)q(e)h(v)o(ery)f(careful)h(in)f(their)g(c)o(hoices)0 553 y(of)20 b(features.)39b(Pragmatic)19 b(decisions)i(\(suc)o(h)g(as)g(the)g(need)0603 y(to)13 b(in)o(terop)q(erate)h(with)e(existing)h(co)q(de)h(in)e(other)i(languages\))0 653 y(ma)o(y)e(also)h(out)o(w)o(eigh)g(small)f(di\013erences)k(in)e(p)q(erformance.)42 704 y(Despite)k(these)h(complex)d(issues,)j(man)o(y)c(systems)j(actu-)0 753 y(ally)c(ha)o(v)o(e)g(fairly)g(simple)f(requiremen)o(ts)i(of)g(a)f(garbage)h(col-)0 803 y(lector,)i(and)g(can)f(use)i(a)e(collector)h(that)f(consists)i(of)e(a)g(few)0 853 y(h)o(undred)j(lines)e(of)g(co)q(de.)31 b(Systems)17 b(with)h(large,)f(complex)0 903 y(optimizing)10b(compilers)h(should)h(ha)o(v)o(e)g(more)g(atten)o(tion)g(paid)0953 y(to)20 b(garbage)g(collection,)h(and)f(use)h(state-of-the-art)f(tec)o(h-)0 1003 y(niques.)j(\(One)16 b(promising)d(dev)o(elopmen)o(t)h(is)i(the)g(a)o(v)n(ailabil)o(-)0 1052 y(it)o(y)c(of)g(garbage)g(collectors)h(written)g(in)g(p)q(ortable)f(high-lev)o(el)0 1102 y(languages)20 b(\(t)o(ypically)f(C\))i(and)f(adaptable)g(for)g(use)i(with)0 1152 y(v)n(arious)13b(implemen)o(tations)e(of)i(v)n(arious)g(languages.)832 1137y Fj(52)867 1152 y Fn(\))42 1203 y(Garbage)f(collector)i(designers)g(m)o(ust)f(also)f(k)o(eep)i(up)g(with)0 1252 y(adv)n(ances)f(in)f(other)i(asp)q(ects)g(of)e(system)h(design.)k(The)c(tec)o(h-)0 1302 y(niques)22b(describ)q(ed)i(in)e(this)g(surv)o(ey)g(app)q(ear)h(to)f(b)q(e)g(su\016-)01352 y(cien)o(t)16 b(to)g(pro)o(vide)g(go)q(o)q(d)f(p)q(erformance)h(in)f(most)g(relativ)o(ely)0 1402 y(con)o(v)o(en)o(tional)g(unipro)q(cessor)i(systems,)f(but)h(con)o(tin)o(ual)e(ad-)0 1452 y(v)n(ances)f(in)e(other)i(areas)f(in)o(tro)q(duce)h(new)f(problems)f(for)h(gar-)0 1502y(bage)h(collector)g(design.)42 1552 y(P)o(ersisten)o(t)20b(ob)r(ject)g(stores)g([ABC)595 1537 y Fj(+)623 1552 y Fn(83)o(,)f(DSZ90,)f(AM92])0 1602 y(allo)o(w)10 b(large)h(in)o(terrelated)h(data)g(structures)i(to)d(b)q(e)h(sa)o(v)o(ed)g(in-)0 1652 y(de\014nitely)g(without)g(writing)f(them)h(to)f(\014les)i(and)f(re-reading)0 1702 y(them)17 b(when)g(they)h(are)g(needed)h(again;)e(b)o(y)g(automatically)0 1751 y(preserving)d(p)q(oin)o(ter-link)o(ed)e(data)g(structures,)k(they)d(reliev)o(e)0 1801y(the)j(programmer)c(of)j(tedious)g(and)g(error-prone)h(co)q(ding)f(of)01851 y(input/output)f(routines.)21 b(Large)14 b(p)q(ersisten)o(t)j(ob)r(ject)e(stores)0 1901 y(can)10 b(replace)h(\014le)f(systems)g(for)g(man)o(y)e(purp)q(oses,)k(but)e(this)g(in-)0 1951 y(tro)q(duces)j(problems)d(of)h(managing)d(large)j(amoun)o(ts)f(of)g(long-)0 2000 y(liv)o(ed)j(data.)18b(It)c(is)g(v)o(ery)g(desirable)g(for)g(p)q(ersisten)o(t)h(stores)g(to)02050 y(ha)o(v)o(e)h(garbage)g(collection,)g(so)g(that)g(storage)g(leaks)g(do)g(not)0 2100 y(result)h(in)f(a)g(large)g(and)g(p)q(ermanen)o(t)g(accum)o(ulation)e(of)h(un-)0 2150 y(reclaimed)g(storage.)26 b(Garbage)16b(collecting)f(a)h(large)g(p)q(ersis-)0 2200 y(ten)o(t)j(store)h(is)e(a)h(v)o(ery)g(di\013eren)o(t)g(task)g(from)e(garbage)i(col-)0 2250y(lecting)12 b(the)h(memory)d(of)h(a)h(single)g(pro)q(cess)i(of)d(b)q(ounded)i(du-)0 2299 y(ration.)32 b(In)19 b(e\013ect,)i(a)e(collector)g(for)f(a)h(con)o(v)o(en)o(tional)f(sys-)0 2349 y(tem)h(can)h(a)o(v)o(oid)f(the)h(problem)f(of)g(v)o(ery)h(long-liv)o(ed)e(data,)0 2399 y(b)q(ecause)13b(data)e(written)g(to)g(\014les)h(\\disapp)q(ear")f(from)e(the)j(col-)p0 2437 388 2 v 31 2464 a Fh(52)64 2475 y Fg(Examples)j(of)i(this)g(include)e(the)i(UMass)h(Garbage)d(Collection)0 2515 y(T)m(o)q(olkit)c([HMD)o(W91])h(and)f(Wilson)g(and)g(Johnstone's)e(real-time)g(gar-)0 2554y(bage)e(collector,)f(whic)o(h)i(has)f(b)q(een)g(adapted)f(for)h(use)h(with)f(C++,)k(Ei\013el,)0 2594 y(Sc)o(heme,)e(and)i(Dylan)f([WJ93].)101155 y Fn(lector's)16 b(p)q(oin)o(t)f(of)g(view.)22 b(A)16 b(p)q(ersisten)o(t)h(store)g(k)o(eeps)f(those)1011 105 y(data)h(within)g(the)i(scop)q(e)g(of)e(garbage)h(collection,)g(o\013ering)1011 155 y(the)g(attractiv)o(e)f(prosp)q(ect)i(of)e(automatic)f(managemen)o(t)f(of)1011 205 y(long-liv)o(ed)h(data|as)h(w)o(ell)h(as)g(the)h(c)o(hallenge)f(of)f(doing)g(it)1011255 y(e\016cien)o(tly)m(.)1052 314 y(P)o(arallel)12 b(computers)h(raise)h(new)f(issues)h(for)f(garbage)f(col-)1011 364 y(lectors,)18b(as)e(w)o(ell.)26 b(It)17 b(is)f(desirable)i(to)e(mak)o(e)f(the)j(collector)1011 414 y Fk(c)n(oncurr)n(ent)p Fn(,)g(i.e.,)g(able)f(to)h(run)h(on)e(a)h(separate)h(pro)q(cessor)1011 463 y(from)13 b(the)i(application,)e(to)h(tak)o(e)h(adv)n(an)o(tage)f(of)g(pro)q(cessors)1011 513 y(not)j(in)f(use)i(b)o(y)e(the)i(application.)25 b(It)17 b(is)g(also)f(desirable)h(to)1011563 y(mak)o(e)9 b(the)i(collector)f(itself)h(parallel,)e(so)i(that)f(it)g(can)h(b)q(e)g(sp)q(ed)1011 613 y(up)f(to)h(k)o(eep)g(up)g(with)f(the)i(application.)j(Concurren)o(t)d(collec-)1011 663 y(tors)i(raise)g(issues)h(of)f(co)q(ordination)f(b)q(et)o(w)o(een)i(the)g(collector)1011712 y(and)j(the)h(m)o(utator)e(whic)o(h)i(are)g(somewhat)e(more)h(di\016cult)1011 762 y(than)k(those)h(raised)f(b)o(y)g(simple)f(incremen)o(tal)g(collection.)1011 812 y(P)o(arallel)15 b(collectors)i(also)e(raise)i(issues)g(of)f(co)q(ordination)g(of)1011 862 y(di\013eren)o(t)h(parts)g(of)f(the)h(garbage)f(collection)g(pro)q(cess,)i(and)1011 912 y(of)12b(\014nding)h(su\016cien)o(t)h(parallelism,)c(despite)k(p)q(oten)o(tial)f(b)q(ot-)1011 961 y(tlenec)o(ks)18 b(due)f(to)f(the)i(top)q(ologies)e(of)g(the)h(data)f(structures)1011 1011 y(b)q(eing)e(tra)o(v)o(ersed.)10521071 y(Distributed)36 b(systems)g(p)q(ose)h(still)e(more)g(problems)10111120 y([AMR92)o(];)22 b(the)g(limitati)o(ons)c(on)i(parallelism)e(are)j(partic-)1011 1170 y(ularly)e(sev)o(ere)i(when)g(the)f(collection)g(pro)q(cess)h(m)o(ust)e(pro-)1011 1220 y(ceed)e(across)g(m)o(ultiple)c(net)o(w)o(ork)o(ed)k(computers,)f(and)f(com-)1011 1270 y(m)o(unication)21b(costs)j(are)g(high.)46 b(In)24 b(large)f(systems)g(with)10111320 y(long-running)14 b(applications,)h(net)o(w)o(orks)h(are)g(t)o(ypically)e(un-)1011 1370 y(reliable,)h(and)g(distributed)h(garbage)g(collection)f(strategies)1011 1419 y(for)22 b(suc)o(h)i(systems|lik)o(e)d(the)j(applications)e(running)g(on)1011 1469 y(them|m)o(ust)16 b(b)q(e)k(robust)f(enough)g(to)g(tolerate)g(computer)1011 1519 y(and)13 b(net)o(w)o(ork)i(failures.)1052 1578 y(In)h(large)f(p)q(ersisten)o(t)j(or)d(distributed)i(systems,)e(data)h(in-)1011 1628 y(tegrit)o(y)k(is)g(particularly)g(imp)q(ortan)o(t;)h(garbage)f(collection)1011 1678 y(strategies)11b(m)o(ust)d(b)q(e)i(co)q(ordinated)g(with)g(c)o(hec)o(kp)q(oin)o(ting)f(and)1011 1728 y(reco)o(v)o(ery)m(,)i(b)q(oth)g(for)f(e\016ciency)h(and)f(to)h(ensure)h(that)e(the)h(col-)1011 1778 y(lector)j(itself)g(do)q(es)g(not)g(fail)e([Kol90)o(,)h(Det91,)h(ONG93)o(].)1052 1837 y(As)20b(high-p)q(erformance)f(graphics)h(and)f(sound)h(capabil-)10111887 y(ities)g(b)q(ecome)g(more)f(widely)g(a)o(v)n(ailable)f(and)i(economical,)1011 1937 y(computers)12 b(are)h(lik)o(ely)f(to)g(b)q(e)h(used)h(in)e(more)f(graphical)h(and)1011 1986 y(in)o(teractiv)o(e)17b(w)o(a)o(ys.)26 b(Multimedia)15 b(and)h(virtual)g(realit)o(y)g(ap-)10112036 y(plications)k(will)f(require)j(garbage)f(collection)g(tec)o(hniques)1011 2086 y(that)f(do)g(not)g(imp)q(ose)f(large)h(dela)o(ys,)i(making)17b(incremen-)1011 2136 y(tal)h(tec)o(hniques)h(increasingly)f(desirable.)32b(Increasing)19 b(use)1011 2186 y(of)11 b(em)o(b)q(edded)i(micropro)q(cessors)g(mak)o(es)e(it)h(desirable)h(to)f(fa-)1011 2236 y(cilitate)18b(programming)e(of)j(hard)g(real-time)e(applications,)10112285 y(making)10 b(\014ne-grained)j(incremen)o(tal)f(tec)o(hniques)i(esp)q(ecially)1011 2335 y(attractiv)o(e.)1052 2395 y(As)e(computer)g(systems)g(b)q(ecome)g(more)e(ubiquitous,)i(net-)1011 2444 y(w)o(ork)o(ed,)f(and)g(heterogeneous,)j(it)c(is)i(increasingly)f(desirable)1011 2494y(to)16 b(in)o(tegrate)g(mo)q(dules)f(whic)o(h)h(run)g(on)g(di\013eren)o(t)h(comput-)1011 2544 y(ers)e(and)e(ma)o(y)f(ha)o(v)o(e)i(b)q(een)h(dev)o(elop)q(ed)g(in)e(extremely)h(di\013er-)1011 2594 y(en)o(t)h(programmi)o(ng)c(languages;)j(in)o(terop)q(erabilit)o(y)g(b)q(et)o(w)o(een)9692718 y(59)p eop%%Page: 60 60bop 0 55 a Fn(div)o(erse)19 b(systems)g(is)f(an)h(imp)q(ortan)o(t)d(goal)i(for)g(the)h(future,)0 105 y(and)f(garbage)g(collection)g(strategies)h(m)o(ust)f(b)q(e)h(dev)o(elop)q(ed)0 155 y(for)14 b(suc)o(h)g(systems.)42208 y(Garbage)20 b(collection)h(is)h(applicable)e(to)h(man)o(y)f(curren)o(t)0258 y(general-purp)q(ose)30 b(and)e(sp)q(ecialized)h(programming)c(sys-)0307 y(tems,)20 b(but)g(considerable)g(w)o(ork)f(remains)g(in)g(adapting)g(it)0 357 y(to)14 b(new,)g(ev)o(er-more)f(adv)n(anced)h(paradigms.)0511 y Fo(Ac)n(kno)n(wledgme)o(n)n(ts)0 633 y(References)0 721y Fq([ABC)95 705 y Fh(+)120 721 y Fq(83])43 b(M.P)m(.)19 b(A)o(tkinson,)j(P)m(.J.)d(Bailey)m(,)j(K.J.)d(Chisholm,)212 767 y(P)m(.)d(W.)h(Co)q(c)o(kshott,)h(and)f(R.)f(Morrison.)29 b(An)17 b(ap-)212 812 y(proac)o(h)c(to)e(p)q(ersisten)o(t)i(programming.)j Fc(Computer)212 858 y(Journal)pFq(,)11 b(26\(4\):360{365,)j(Decem)o(b)q(er)g(1983.)0 927 y([AEL88])73b(Andrew)20 b(W.)f(App)q(el,)j(John)e(R.)f(Ellis,)k(and)e(Kai)212972 y(Li.)31 b(Real-time)19 b(concurren)o(t)g(garbage)f(collection)2121018 y(on)g(sto)q(c)o(k)h(m)o(ultipro)q(cessors.)34 b(In)18b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)d(of)212 1064 y(the)f(1988)g(SIGPLAN)f(Confer)n(enc)n(e)g(on)h(Pr)n(o)n(gr)n(am-)212 1109 y(ming)20b(L)n(anguage)e(Design)h(and)g(Implementation)212 1155 y Fq([PLD88)q(],)12b(pages)i(11{20.)0 1224 y([AM92])88 b(An)o(tonio)19 b(Albano)f(and)g(Ron)g(Morrison,)h(editors.)212 1269 y Fc(Fifth)h(Internation)o(al)d(Workshop)i(on)h(Persistent)212 1315 y(Obje)n(ct)15 b(Systems)p Fq(,)g(San)i(Miniato,)h(Italy)m(,)f(Septem-)212 1361 y(b)q(er)c(1992.)h(Springer-V)m(erlag.)01429 y([AMR92])60 b(Saleh)21 b(E.)f(Ab)q(dullahi,)k(Eliot)d(E.)f(Miranda,)i(and)212 1475 y(Graem)f(A.)g(Ringw)o(o)q(o)q(d.)42 b(Distributed)24b(garbage)212 1520 y(collection.)45 b(In)22 b(Bekk)o(ers)h(and)f(Cohen)g([BC92],)212 1566 y(pages)14 b(43{81.)0 1635 y([And86])81 b(Da)o(vid)20b(L.)e(Andre.)33 b(P)o(aging)20 b(in)f(Lisp)g(programs.)2121680 y(Master's)13 b(thesis,)h(Univ)o(ersit)o(y)h(of)d(Maryland,)j(Col-)2121726 y(lege)f(P)o(ark,)f(Maryland,)i(1986.)0 1795 y([AP87])97b(S.)26 b(Abraham)h(and)f(J.)f(P)o(atel.)57 b(P)o(arallel)28b(gar-)212 1840 y(bage)e(collection)i(on)e(a)g(virtual)h(memory)f(sys-)2121886 y(tem.)53 b(In)25 b(E.)g(Chiricozzi)i(and)f(A.)e(D'Amato,)2121932 y(editors,)g Fc(Internation)o(al)18 b(Confer)n(enc)n(e)g(on)i(Par)n(al-)212 1977 y(lel)f(Pr)n(o)n(c)n(essing)f(and)g(Applic)n(ations)oFq(,)g(pages)i(243{)212 2023 y(246,)11 b(L'Aquila,)g(Italy)m(,)g(Septem)o(b)q(er)f(1987.)g(Elsevier)212 2068 y(North-Holland.)0 2137 y([App87])81b(Andrew)19 b(W.)g(App)q(el.)35 b(Garbage)19 b(collection)j(can)2122183 y(b)q(e)16 b(faster)g(than)g(stac)o(k)h(allo)q(cation.)28b Fc(Information)212 2228 y(Pr)n(o)n(c)n(essing)10 b(L)n(etters)pFq(,)h(25\(4\):275{279,)i(June)f(1987.)0 2297 y([App89a])62b(Andrew)9 b(W.)g(App)q(el.)i(Run)o(time)f(tags)f(aren't)g(neces-)2122343 y(sary)m(.)16 b Fc(Lisp)d(and)f(Symb)n(olic)f(Computation)pFq(,)f(2:153{)212 2388 y(162,)j(1989.)0 2457 y([App89b])60b(Andrew)15 b(W.)g(App)q(el.)23 b(Simple)17 b(generational)g(gar-)2122502 y(bage)25 b(collection)i(and)e(fast)f(allo)q(cation.)53b Fc(Soft-)212 2548 y(war)n(e)13 b(Pr)n(actic)n(e)e(and)h(Exp)n(erienc)n(e)pFq(,)d(19\(2\):171{183,)212 2594 y(F)m(ebruary)14 b(1989.)101155 y([App91])81 b(Andrew)10 b(W.)g(App)q(el.)k(Garbage)d(collection.)k(In)10b(P)o(e-)1223 101 y(ter)i(Lee,)h(editor,)g Fc(T)m(opics)g(in)f(A)n(dvanc)n(e)n(d)f(L)n(anguage)1223 147 y(Implementation)p Fq(,)21 b(pages)i(89{100.)g(MIT)f(Press,)1223 192 y(Cam)o(bridge,)14 b(Massac)o(h)o(usetts,)g(1991.)1011255 y([Bak78])86 b(Henry)17 b(G.)f(Bak)o(er,)i(Jr.)28 b(List)18b(pro)q(cessing)g(in)g(real)1223 301 y(time)e(on)g(a)f(serial)i(computer.)26b Fc(Communic)n(ations)1223 347 y(of)13 b(the)g(A)o(CM)p Fq(,)g(21\(4\):280{294,)h(April)g(1978.)1011 410 y([Bak90])86 b(Henry)11b(G.)f(Bak)o(er,)i(Jr.)g(Unify)g(and)f(conquer:)17 b(\(gar-)1223456 y(bage,)25 b(up)q(dating,)i(aliasing)f Fb(:)6 b(:)g(:)gFq(\))22 b(in)i(functional)1223 501 y(languages.)e(In)15 bFc(Confer)n(enc)n(e)d(R)n(e)n(c)n(or)n(d)i(of)g(the)g(1990)1223547 y(A)o(CM)23 b(Symp)n(osium)e(on)h(LISP)g(and)g(F)m(unctional)1223593 y(Pr)n(o)n(gr)n(amming)15 b Fq([LFP90],)d(pages)i(218{226.)1011656 y([Bak91a])67 b(Henry)18 b(G.)f(Bak)o(er,)h(Jr.)30 b(Cac)o(he-conscious)19 b(cop)o(y-)1223 701 y(ing)14 b(collection.)20 b(In)13 bFc(OOPSLA)h('91)f(Workshop)f(on)1223 747 y(Garb)n(age)20 b(Col)r(le)n(ction)f(in)i(Obje)n(ct-Oriente)n(d)e(Sys-)1223 793 y(tems)c Fq([OOP91].)h(P)o(osition)f(pap)q(er.)1011 856 y([Bak91b])65 b(Henry)19 b(G.)e(Bak)o(er,)j(Jr.)32 b(The)19 b(T)m(readmill:)29 b(Real-)1223 901 y(time)15b(garbage)h(collection)h(without)e(motion)h(sic)o(k-)1223 947y(ness.)41 b(In)21 b Fc(OOPSLA)g('91)f(Workshop)g(on)g(Gar-)1223993 y(b)n(age)h(Col)r(le)n(ction)f(in)h(Obje)n(ct-Oriente)n(d)f(Systems)12231038 y Fq([OOP91].)39 b(P)o(osition)23 b(pap)q(er.)e(Also)g(app)q(ears)h(as)1223 1084 y Fc(SIGPLAN)12 b(Notic)n(es)f(27)p Fq(\(3\):66{70,)h(Marc)o(h)i(1992.)1011 1147 y([Bak93a])67 b(Henry)11 b(G.)f(Bak)o(er.)j(Infan)o(t)e(mortalit)o(y)h(and)f(genera-)1223 1193 y(tional)k(garbage)f(collection.)20b Fc(SIGPLAN)12 b(Notic)n(es)p Fq(,)1223 1239 y(28\(4\):55{57,)i(April)g(1993.)1011 1302 y([Bak93b])65 b(Henry)25 b(G.)e(Bak)o(er,)28b(Jr.)50 b(Safe)24 b(and)h(leakpro)q(of)1223 1347 y(resource)g(managemen)o(t)g(using)g(Ada83)g(limited)1223 1393 y(t)o(yp)q(es.)17 b(Unpublished)q(,)e(1993.)1011 1456 y([Bar88])91 b(Jo)q(el)14 b(F.)f(Bartlett.)19b(Compacting)c(garbage)f(collec-)1223 1502 y(tion)g(with)f(am)o(biguous)i(ro)q(ots.)i(T)m(ec)o(hnical)e(Rep)q(ort)1223 1547 y(88/2,)k(Digital)h(Equipmen)o(t)f(Corp)q(oration)h(W)m(est-)1223 1593 y(ern)15 b(Researc)o(h)g(Lab)q(oratory)m(,)h(P)o(alo)g(Alto,)f(Califor-)1223 1639 y(nia,)f(F)m(ebruary)g(1988.)1011 1702 y([Bar89])91 b(Jo)q(el)13 b(F.)e(Bartlett.)16b(Mostly-cop)o(ying)f(garbage)e(col-)1223 1748 y(lection)h(pic)o(ks)g(up)f(generations)i(and)e(C++.)i(T)m(ec)o(h-)1223 1793 y(nical)g(Note)e(TN-12,)f(Digital)k(Equipmen)o(t)f(Corp)q(o-)1223 1839 y(ration)c(W)m(estern)f(Researc)o(h)h(Lab)q(oratory)m(,)g(Octob)q(er)1223 1885 y(1989.)10111948 y([BBDT84])41 b(G.)12 b(Bozman,)i(W.)e(Buco,)i(T.)e(P)m(.)g(Daly)m(,)h(and)h(W.)f(H.)1223 1993 y(T)m(etzla\013.)g(Analysis)f(of)e(free)g(storage)g(algorithms|)1223 2039 y(revisited.)17 b Fc(IBM)12 b(Systems)f(Journal)pFq(,)f(23\(1\):44{64,)1223 2085 y(1984.)1011 2148 y([BC79])97b(Daniel)24 b(G.)d(Bobro)o(w)i(and)f(Douglas)i(W.)d(Clark.)12232194 y(Compact)e(enco)q(dings)i(of)d(list)i(structure.)35 bFc(A)o(CM)1223 2239 y(T)m(r)n(ansactions)9 b(on)h(Pr)n(o)n(gr)n(amming)h(L)n(anguages)d(and)1223 2285 y(Systems)p Fq(,)j(1\(2\):266{286,)i(Octob)q(er)h(1979.)1011 2348 y([BC91])97 b(Hans-Juergen)20 b(Bo)q(ehm)f(and)h(Da)o(vid)g(Chase.)35 b(A)1223 2394 y(prop)q(osal)24 b(for)e(garbage-collector-safe)j(compila-)1223 2439 y(tion.)14 b Fc(The)d(Journal)g(of)g(C)h(L)n(anguage)d(T)m(r)n(anslation)p Fq(,)1223 2485 y(4\(2\):126{141,)14 b(Decem)o(b)q(er)g(1991.)1011 2548 y([BC92])97 b(Yv)o(es)10 b(Bekk)o(ers)h(and)g(Jacques)g(Cohen,)g(editors.)i Fc(In-)1223 2594 y(ternational)18 b(Workshop)h(on)i(Memory)g(Manage-)969 2718 y Fn(60)p eop%%Page: 61 61bop 212 55 a Fc(ment)p Fq(,)14 b(n)o(um)o(b)q(er)h(637)g(in)h(Lecture)f(Notes)f(in)i(Com-)212 101 y(puter)j(Science,)h(St.)e(Malo,)j(F)m(rance,)e(Septem)o(b)q(er)212 147 y(1992.)13 b(Springer-V)m(erlag.)0216 y([BDS91])75 b(Hans-J.)17 b(Bo)q(ehm,)i(Alan)f(J.)e(Demers,)j(and)f(Scott)212 261 y(Shenk)o(er.)29 b(Mostly)17 b(parallel)i(garbage)f(collection.)212 307 y(In)11 b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)e(of)i(the)g(1991)f(SIGPLAN)g(Confer-)212 353 y(enc)n(e)17 b(on)g(Pr)n(o)n(gr)n(amming)g(L)n(anguage)e(Design)h(and)212 398 y(Implementation)d Fq([PLD91],)f(pages)i(157{164.)0 467 y([Bla83])96 b(Ric)o(ki)13 b(Blau.)h(P)o(aging)f(on)e(an)g(ob)r(ject-orien)o(ted)i(p)q(er-)212 513 y(sonal)i(computer)f(for)g(Smalltalk.)21 b(In)13 b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)212559 y(of)23 b(the)e(A)o(CM)j(SIGMETRICS)e(Confer)n(enc)n(e)f(on)212604 y(Me)n(asur)n(ement)10 b(and)h(Mo)n(deling)f(of)h(Computer)g(Sys-)212650 y(tems)p Fq(,)k(Minneap)q(oli)q(s,)j(Minnesota,)g(August)e(1983.)212696 y(Also)11 b(a)o(v)n(ailable)h(as)e(T)m(ec)o(hnical)h(Rep)q(ort)g(UCB/CSD)212 741 y(83/125,)17 b(Univ)o(ersit)o(y)h(of)d(California)j(at)d(Berk)o(eley)m(,)212 787 y(Computer)j(Science)g(Division)i(\(EECS\),)d(August)212832 y(1983.)0 901 y([Bob80])85 b(Daniel)13 b(G.)d(Bobro)o(w.)j(Managing)f(reen)o(tran)o(t)f(struc-)212 947 y(tures)21 b(using)h(reference)e(coun)o(ts.)40 b Fc(A)o(CM)21 b(T)m(r)n(ans-)212 993 y(actions)12b(on)i(Pr)n(o)n(gr)n(amming)f(L)n(anguages)f(and)h(Sys-)2121038 y(tems)p Fq(,)f(2\(3\):269{273,)i(July)g(1980.)0 1107y([Bo)q(e91])88 b(Hans-Juergen)20 b(Bo)q(ehm.)34 b(Hardw)o(are)19b(and)h(op)q(er-)212 1153 y(ating)k(system)f(supp)q(ort)g(for)g(conserv)n(ativ)o(e)h(gar-)212 1199 y(bage)c(collection.)37 b(In)19 bFc(Internation)o(al)d(Workshop)212 1244 y(on)g(Memory)g(Management)pFq(,)e(pages)i(61{67,)h(P)o(alo)212 1290 y(Alto,)c(California,)i(Octob)q(er)e(1991.)h(IEEE)f(Press.)0 1359 y([Bo)q(e93])88 b(Hans-Juergen)14b(Bo)q(ehm.)19 b(Space-e\016cien)o(t)d(conser-)212 1405 y(v)n(ativ)o(e)j(garbage)g(collection.)33 b(In)18 b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)d(of)2121450 y(the)f(1993)g(SIGPLAN)f(Confer)n(enc)n(e)g(on)h(Pr)n(o)n(gr)n(am-)2121496 y(ming)20 b(L)n(anguage)e(Design)h(and)g(Implementation)2121542 y Fq([PLD93)q(],)12 b(pages)i(197{206.)0 1611 y([Bro84])91b(Ro)q(dney)12 b(A.)e(Bro)q(oks.)j(T)m(rading)f(data)f(space)g(for)f(re-)2121656 y(duced)h(time)g(and)g(co)q(de)g(space)g(in)g(real-time)h(collec-)2121702 y(tion)g(on)f(sto)q(c)o(k)g(hardw)o(are.)j(In)d Fc(Confer)n(enc)n(e)e(R)n(e)n(c)n(or)n(d)212 1748 y(of)18 b(the)g(1984)f(A)o(CM)i(Symp)n(osium)e(on)h(LISP)g(and)212 1793 y(F)m(unctional)8 b(Pr)n(o)n(gr)n(amming)jFq([LFP84)q(],)e(pages)h(108{)212 1839 y(113.)0 1908 y([BW88])86b(Hans-Juergen)13 b(Bo)q(ehm)f(and)g(Mark)g(W)m(eiser.)k(Gar-)2121954 y(bage)h(collection)h(in)f(an)f(unco)q(op)q(erativ)o(e)j(en)o(viron-)2121999 y(men)o(t.)56 b Fc(Softwar)n(e)25 b(Pr)n(actic)n(e)f(and)g(Exp)n(erienc)n(e)p Fq(,)212 2045 y(18\(9\):807{820,)14 b(Septem)o(b)q(er)g(1988.)02114 y([BZ93])102 b(Da)o(vid)11 b(A.)e(Barrett)h(and)g(Bejamin)h(G.)e(Zorn.)j(Using)212 2160 y(lifetime)h(predictors)f(to)e(impro)o(v)o(e)i(memory)f(allo)q(ca-)212 2205 y(tion)k(p)q(erformance.)k(In)13 b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)e(of)j(the)f(1993)212 2251 y(SIGPLAN)g(Confer)n(enc)n(e)f(on)i(Pr)n(o)n(gr)n(amming)f(L)n(an-)212 2297 y(guage)k(Design)g(and)h(Implementation)gFq([PLD93)q(],)212 2342 y(pages)c(187{196.)0 2411 y([CDG)982395 y Fh(+)123 2411 y Fq(89])40 b(Luca)12 b(Cardelli,)h(James)f(Donah)o(ue,)h(Lucille)g(Glass-)212 2457 y(man,)g(Mic)o(k)h(Jordan,)f(Bill)i(Kalso,)e(and)h(Greg)f(Nel-)212 2502 y(son.)i(Mo)q(dula-3)e(rep)q(ort)f(\(revised\).)k(Researc)o(h)c(Re-)212 2548 y(p)q(ort)i(52,)f(Digital)i(Equipmen)o(t)g(Corp)q(oration)g(Sys-)212 2594 y(tems)e(Researc)o(h)h(Cen)o(ter,)f(No)o(v)o(em)o(b)q(er)g(1989.)1011 55 y([CG77])94 b(Douglas)26 b(W.)f(Clark)g(and)h(C.)e(Cordell)i(Green.)1223 101 y(An)14 b(empirical)j(study)e(of)f(list)h(structure)g(in)g(LISP.)1223 147 y Fc(Communic)n(ations)20b(of)i(the)g(A)o(CM)p Fq(,)g(20\(2\):78{87,)1223 192 y(F)m(ebruary)14b(1977.)1011 248 y([Cha87])84 b(Da)o(vid)17 b(Chase.)24 b Fc(Garb)n(age)13b(Col)r(le)n(ction)h(and)g(Other)1223 293 y(Optimizations)pFq(.)25 b(PhD)17 b(thesis,)i(Rice)f(Univ)o(ersit)o(y)m(,)1223339 y(Houston,)13 b(T)m(exas,)g(August)h(1987.)1011 395 y([Cha92])84b(Craig)24 b(Cham)o(b)q(ers.)48 b Fc(The)23 b(Design)e(and)h(Imple-)1223440 y(mentation)17 b(of)h(the)h(SELF)g(Compiler,)g(an)g(Opti-)1223486 y(mizing)12 b(Compiler)i(for)f(an)g(Obje)n(ct-Oriente)n(d)d(Pr)n(o-)1223532 y(gr)n(amming)19 b(L)n(anguage)p Fq(.)35 b(PhD)20 b(thesis,)j(Stanford)1223 577 y(Univ)o(ersit)o(y)m(,)14 b(Marc)o(h)g(1992.)1011633 y([Che70])86 b(C.)16 b(J.)g(Cheney)m(.)29 b(A)17 b(nonrecursiv)o(e)i(list)f(compact-)1223 678 y(ing)c(algorithm.)19 b Fc(Communic)n(ations)11b(of)i(the)g(A)o(CM)p Fq(,)1223 724 y(13\(11\):677{678,)h(No)o(v)o(em)o(b)q(er)g(1970.)1011 780 y([CHO88])65 b(Will)12 b(Clinger,)f(Anne)f(Hartheimer,)h(and)g(Erik)f(Ost.)1223 825 y(Implemen)o(tation)20 b(strategies)f(for)f(con)o(tin)o(uations.)1223 871 y(In)12 b Fc(Confer)n(enc)n(e)f(R)n(e)n(c)n(or)n(d)i(of)f(the)g(1988)g(A)o(CM)i(Sym-)1223 917 y(p)n(osium)23 b(on)g(LISP)h(and)e(F)m(unctional)g(Pr)n(o)n(gr)n(am-)1223 962 y(ming)p Fq(,)c(pages)g(124{131,)i(Sno)o(wbird,)g(Utah,)f(July)1223 1008 y(1988.)13 b(A)o(CM)g(Press.)10111064 y([Cla79])95 b(Douglas)13 b(W.)e(Clark.)j(Measuremen)o(ts)e(of)f(dynamic)1223 1109 y(list)j(structure)f(use)g(in)g(Lisp.)18b Fc(IEEE)13 b(T)m(r)n(ansactions)1223 1155 y(on)d(Softwar)n(e)g(Engine)n(ering)p Fq(,)d(5\(1\):51{59,)k(Jan)o(uary)1223 1201 y(1979.)10111256 y([CN83])95 b(Jacques)11 b(Cohen)g(and)g(Alexandru)i(Nicolau.)h(Com-)1223 1302 y(parison)g(of)d(compacting)j(algorithms)g(for)e(garbage)12231347 y(collection.)36 b Fc(A)o(CM)19 b(T)m(r)n(ansactions)d(on)i(Pr)n(o)n(gr)n(am-)1223 1393 y(ming)g(L)n(anguages)d(and)i(Systems)p Fq(,)g(5\(4\):532{553,)1223 1439 y(Octob)q(er)c(1983.)1011 1494 y([Coh81])84b(Jacques)34 b(Cohen.)80 b(Garbage)35 b(collection)h(of)12231540 y(link)o(ed)20 b(data)e(structures.)31 b Fc(Computing)16b(Surveys)p Fq(,)1223 1586 y(13\(3\):341{367,)e(Septem)o(b)q(er)g(1981.)10111641 y([Col60])95 b(George)14 b(E.)e(Collins.)20 b(A)12 b(metho)q(d)i(for)f(o)o(v)o(erlapping)1223 1687 y(and)k(erasure)f(of)g(lists.)27b Fc(Communic)n(ations)13 b(of)j(the)1223 1732 y(A)o(CM)p Fq(,)d(2\(12\):655{657,)h(Decem)o(b)q(er)g(1960.)1011 1788 y([Cou88])84b(Rob)q(ert)18 b(Courts.)32 b(Impro)o(ving)19 b(lo)q(calit)o(y)i(of)c(refer-)1223 1834 y(ence)12 b(in)g(a)f(garbage-collecti)q(ng)j(memory)e(manage-)12231879 y(men)o(t)j(system.)24 b Fc(Communic)n(ations)13 b(of)i(the)g(A)o(CM)pFq(,)1223 1925 y(31\(9\):1128{1138,)f(Septem)o(b)q(er)g(1988.)10111980 y([CU89])95 b(Craig)24 b(Cham)o(b)q(ers)h(and)f(Da)o(vid)i(Ungar.)49b(Cus-)1223 2026 y(tomization:)26 b(Optimizing)19 b(compiler)g(tec)o(hnology)1223 2072 y(for)14 b(Self,)i(a)e(dynamicall)q(y-t)o(yp)q(ed)k(ob)r(ject-orien)o(ted)1223 2117 y(language.)35 b(In)18 b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)e(of)i(SIGPLAN)e('89)p Fq(,)1223 2163 y(pages)e(146{160,)g(1989.)10112219 y([CU91])95 b(Craig)17 b(Cham)o(b)q(ers)h(and)f(Da)o(vid)i(Ungar.)28b(Making)1223 2264 y(pure)17 b(ob)r(ject-orien)o(ted)h(languages)h(practical.)30 b(In)1223 2310 y(P)o(aep)q(c)o(k)o(e)14 b([P)o(ae91],)e(pages)i(1{15.)1011 2365 y([CWB86])58 b(P)o(atric)o(k)25 b(J.)e(Caudill)k(and)d(Allen)i(Wirfs-Bro)q(c)o(k.)1223 2411 y(A)13 b(third-generation)j(Smalltalk-80)g(implemen)o(ta-)1223 2457 y(tion.)22 b(In)15b Fc(Confer)n(enc)n(e)e(on)h(Obje)n(ct)g(Oriente)n(d)f(Pr)n(o-)12232502 y(gr)n(amming)18 b(Systems,)g(L)n(anguages)d(and)j(Applic)n(a-)12232548 y(tions)11 b(\(OOPSLA)i('86\))f(Pr)n(o)n(c)n(e)n(e)n(dings)pFq(,)d(pages)k(119{)1223 2594 y(130.)g(A)o(CM)f(Press,)h(Octob)q(er)h(1986.)969 2718 y Fn(61)p eop%%Page: 62 62bop 0 55 a Fq([CWZ90])62 b(Da)o(vid)14 b(R.)d(Chase,)i(Mark)f(W)m(egman,)h(and)g(F.)e(Ken-)212 101 y(neth)k(Zadec)o(k.)21 b(Analysis)16b(of)e(p)q(oin)o(ters)h(and)g(struc-)212 147 y(tures.)61 b(In)28b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)c(of)j(the)f(1990)g(SIG-)212192 y(PLAN)10 b(Confer)n(enc)n(e)f(on)i(Pr)n(o)n(gr)n(amming)f(L)n(anguage)212 238 y(Design)17 b(and)g(Implementation)p Fq(,)e(pages)k(296{310,)212284 y(White)i(Plains,)h(New)d(Y)m(ork,)h(June)g(1990.)g(A)o(CM)212329 y(Press.)0 387 y([Da)o(w82])77 b(Je\013rey)22 b(L.)f(Da)o(wson.)44b(Impro)o(v)o(ed)22 b(e\013ectiv)o(eness)212 432 y(from)16b(a)h(real-time)g(LISP)g(garbage)g(collector.)29 b(In)212 478y Fc(Confer)n(enc)n(e)19 b(R)n(e)n(c)n(or)n(d)h(of)h(the)f(1982)f(A)o(CM)j(Sym-)212 524 y(p)n(osium)h(on)g(LISP)h(and)f(F)m(unctional)e(Pr)n(o)n(gr)n(am-)212 569 y(ming)p Fq(,)13 b(pages)i(159{167,)g(Pittsburgh,)g(P)o(ennsylv)n(a-)212 615 y(nia,)f(August)f(1982.)h(A)o(CM)e(Press.)0 673y([DB76])96 b(L.)24 b(P)o(eter)h(Deutsc)o(h)h(and)g(Daniel)h(G.)d(Bobro)o(w.)212 718 y(An)16 b(e\016cien)o(t,)g(incremen)o(tal,)i(automatic)f(garbage)212764 y(collector.)63 b Fc(Communic)n(ations)25 b(of)i(the)f(A)o(CM)pFq(,)212 810 y(19\(9\):522{526,)14 b(Septem)o(b)q(er)g(1976.)0867 y([Del92])96 b(V.)17 b(Delacour.)33 b(Allo)q(cation)20b(regions)f(and)g(imple-)212 913 y(men)o(tation)f(con)o(tracts.)26b(In)16 b(Bekk)o(ers)h(and)g(Cohen)212 958 y([BC92],)12 b(pages)i(426{439.)01016 y([DeT90])78 b(John)14 b(DeT)m(reville.)19 b(Exp)q(erience)14b(with)g(concurren)o(t)212 1062 y(garbage)22 b(collectors)g(for)e(Mo)q(dula-2+.)42 b(T)m(ec)o(hni-)212 1107 y(cal)20 b(Rep)q(ort)f(64,)i(Digital)g(Equipmen)o(t)g(Corp)q(ora-)212 1153 y(tion)10 b(Systems)g(Researc)o(h)g(Cen)o(ter,)f(P)o(alo)h(Alto,)g(Cal-)212 1199 y(ifornia,)k(August)g(1990.)01256 y([Det91])91 b(Da)o(vid)18 b(L.)e(Detlefs.)29 b Fc(Concurr)n(ent,)15b(A)o(tomic)h(Gar-)212 1302 y(b)n(age)g(Col)r(le)n(ction)pFq(.)24 b(PhD)18 b(thesis,)g(Dept.)e(of)h(Com-)212 1347 y(puter)24b(Science,)j(Carnegie)d(Mellon)h(Univ)o(ersit)o(y)m(,)212 1393y(Pittsburgh,)30 b(P)o(ennsylv)n(ania,)g(No)o(v)o(em)o(b)q(er)c(1991.)2121439 y(T)m(ec)o(hnical)15 b(rep)q(ort)e(CMU-CS-90-177.)0 1496y([Det92])91 b(Da)o(vid)12 b(L.)e(Detlefs.)k(Garbage)d(collection)j(and)d(run-)212 1542 y(time)18 b(t)o(yping)h(as)e(a)g(C++)g(library)m(.)31b(In)17 b Fc(USENIX)212 1588 y(C++)e(Confer)n(enc)n(e)f Fq([USE92].)01645 y([DLM)99 1629 y Fh(+)125 1645 y Fq(78])38 b(Edsger)21b(W.)f(Dijkstra,)j(Leslie)f(Lamp)q(ort,)g(A.)e(J.)212 1691y(Martin,)12 b(C.)f(S.)f(Sc)o(holten,)j(and)f(E.)e(F.)h(M.)f(Ste\013ens.)2121736 y(On-the-\015y)15 b(garbage)g(collection:)22 b(An)14 b(exercise)h(in)2121782 y(co)q(op)q(eration.)35 b Fc(Communic)n(ations)16 b(of)i(the)f(A)o(CM)pFq(,)212 1828 y(21\(11\):966{975,)d(No)o(v)o(em)o(b)q(er)g(1978.)01885 y([DMH92])59 b(Amer)15 b(Diw)o(an,)i(Eliot)f(Moss,)g(and)g(Ric)o(hard)h(Hud-)212 1931 y(son.)j(Compiler)15 b(supp)q(ort)g(for)f(garbage)g(collection)212 1976 y(in)f(a)e(statically-t)o(yp)r(ed)j(language.)j(In)12b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)212 2022 y(of)20 b(the)g(1992)f(SIGPLAN)g(Confer)n(enc)n(e)g(on)h(Pr)n(o-)212 2068 y(gr)n(amming)12b(L)n(anguage)f(Design)g(and)g(Implementa-)212 2113 y(tion)pFq(,)16 b(pages)i(273{282,)h(San)f(F)m(rancisco,)h(Califor-)2122159 y(nia,)14 b(June)f(1992.)g(A)o(CM)g(Press.)0 2217 y([Dou93])83b(F)m(red)14 b(Douglis.)22 b(The)14 b(compression)i(cac)o(he:)j(Using)2122262 y(on-line)c(compression)h(to)d(extend)i(ph)o(ysical)g(mem-)2122308 y(ory)m(.)20 b(In)14 b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)e(of)i(1993)f(Winter)h(USENIX)212 2354 y(Confer)n(enc)n(e)p Fq(,)f(pages)j(519{529,)g(San)g(Diego,)g(Cali-)212 2399 y(fornia,)e(Jan)o(uary)g(1993.)02457 y([DSZ90])79 b(Alan)18 b(Dearle,)g(Gail)g(M.)f(Sha)o(w,)h(and)f(Stanley)h(B.)212 2502 y(Zdonik,)c(editors.)h Fc(Implementing)10 b(Persistent)f(Ob-)212 2548 y(je)n(ct)k(Bases:)k(Principles)11 b(and)i(Pr)n(actic)n(e)f(\(Pr)n(o)n(c)n(e)n(e)n(d-)212 2594 y(ings)f(of)g(the)g(F)m(ourth)g(Internationa)o(l)e(Workshop)h(on)1223 55 y(Persistent)18 b(Obje)n(ct)i(Systems\))pFq(,)f(Martha's)i(Vine-)1223 101 y(y)o(ard,)f(Massac)o(h)o(usetts,)h(Septem)o(b)q(er)e(1990.)g(Mor-)1223 147 y(gan)13 b(Kaufman.)1011 204y([DTM93])60 b(Amer)13 b(Diw)o(an,)i(Da)o(vid)g(T)m(arditi,)f(and)h(Eliot)g(Moss.)1223 250 y(Memory)f(subsystem)g(p)q(erformance)g(of)f(programs)1223295 y(with)f(in)o(tensiv)o(e)i(heap)f(allo)q(cation.)18 b(Submitted)c(for)1223 341 y(publication)q(,)h(August)f(1993.)1011 399 y([D)o(WH)1118383 y Fh(+)1143 399 y Fq(90])31 b(Alan)25 b(Demers,)h(Mark)e(W)m(eiser,)k(Barry)c(Ha)o(y)o(es,)1223 444 y(Daniel)16 b(Bobro)o(w,)e(and)g(Scott)g(Shenk)o(er.)20 b(Com)o(bin-)1223 490 y(ing)10 b(generational)i(and)e(conserv)n(ativ)o(e)h(garbage)f(col-)1223 536 y(lection:)20b(F)m(ramew)o(ork)14 b(and)g(implemen)o(tation)q(s.)22 b(In)1223581 y Fc(Confer)n(enc)n(e)10 b(R)n(e)n(c)n(or)n(d)i(of)g(the)g(Sevente)n(en)o(th)d(A)o(nnual)1223 627 y(A)o(CM)17 b(Symp)n(osium)e(on)i(Principles)d(of)j(Pr)n(o)n(gr)n(am-)1223 673 y(ming)i(L)n(anguages)p Fq(,)g(pages)h(261{269,)j(San)e(F)m(ran-)1223 718 y(cisco,)14 b(California,)g(Jan)o(uary)g(1990.)f(A)o(CM)g(Press.)1011 776 y([ED93])97 b(John)15 b(R.)e(Ellis)k(and)e(Da)o(vid)g(L.)f(Detlefs.)21 b(Safe,)14 b(ef-)1223 821 y(\014cien)o(t)g(garbage)f(collection)i(for)e(C++.)i(T)m(ec)o(hnical)1223 867 y(Rep)q(ort)j(102,)g(Digital)i(Equipmen)o(t)f(Corp)q(oration)1223 913 y(Systems)14b(Researc)o(h)g(Cen)o(ter,)e(1993.)1011 970 y([Ede92])88 b(Daniel)11b(Ross)f(Edelson.)i(Smart)d(p)q(oin)o(ters:)17 b(They're)12231016 y(smart,)d(but)h(they're)g(not)f(p)q(oin)o(ters.)23 b(In)14b Fc(USENIX)1223 1062 y(C++)g(Confer)n(enc)n(e)f Fq([USE92],)f(pages)h(1{19.)j(T)m(ec)o(h-)1223 1107 y(nical)e(Rep)q(ort)e(UCSC-CRL-92-27,)f(Univ)o(ersit)o(y)j(of)1223 1153 y(California)19 b(at)d(San)o(ta)h(Cruz,)g(Baskin)i(Cen)o(ter)d(for)1223 1199 y(Computer)h(Engineering)j(and)e(Information)g(Sci-)12231244 y(ences,)13 b(June)g(1992.)1011 1302 y([EV91])97 b(Stev)o(en)15b(Engelstad)i(and)e(Jim)g(V)m(andendorp.)24 b(Au-)1223 1347y(tomatic)10 b(storage)g(managemen)o(t)h(for)e(systems)h(with)12231393 y(real)30 b(time)g(constrain)o(ts.)67 b(In)29 b Fc(OOPSLA)g('91)12231439 y(Workshop)17 b(on)h(Garb)n(age)f(Col)r(le)n(ction)f(in)i(Obje)n(ct-)1223 1484 y(Oriente)n(d)12 b(Systems)i Fq([OOP91].)j(P)o(osition)e(pap)q(er.)1011 1542 y([FY69])98 b(Rob)q(ert)12 b(R.)f(F)m(enic)o(hel)j(and)e(Jerome)f(C.)g(Y)m(o)q(c)o(helson.)1223 1588 y(A)i(LISP)g(garbage-collector)j(for)e(virtual-memory)1223 1633 y(computer)21 b(systems.)37 b Fc(Communic)n(ations)18 b(of)h(the)1223 1679 y(A)o(CM)p Fq(,)13 b(12\(11\):611{612,)h(No)o(v)o(em)o(b)q(er)f(1969.)1011 1736 y([GC93])94 b(Edw)o(ard)461 b(Gehringer)12231782 y(and)15 b(Ellis)h(Chang.)22 b(Hardw)o(are-assisted)15b(memory)1223 1828 y(managemen)o(t.)23 b(In)14 b Fc(OOPSLA)h('93)f(Workshop)g(on)1223 1873 y(Memory)c(Management)e(and)h(Garb)n(age)f(Col)r(le)n(ction)1223 1919 y Fq([OOP93].)16 b(P)o(osition)f(pap)q(er.)1011 1976y([GG86])92 b(Ralph)18 b(E.)e(Grisw)o(old)j(and)e(Madge)h(T.)e(Grisw)o(old.)1223 2022 y Fc(The)24 b(Implementation)e(of)i(the)f(Ic)n(on)h(Pr)n(o)n(gr)n(am-)1223 2068 y(ming)16 b(L)n(anguage)p Fq(.)23 b(Princeton)17b(Univ)o(ersit)o(y)h(Press,)1223 2113 y(Princeton,)c(New)f(Jersey)m(,)f(1986.)1011 2171 y([Gol91])93 b(Benjamin)22 b(Goldb)q(erg.)43b(T)m(ag-free)21 b(garbage)h(col-)1223 2217 y(lection)d(for)e(strongly-t)o(yp)q(ed)j(programming)f(lan-)1223 2262 y(guages.)d(In)11 bFc(Pr)n(o)n(c)n(e)n(e)n(dings)f(of)i(the)f(1991)g(SIGPLAN)12232308 y(Confer)n(enc)n(e)21 b(on)h(Pr)n(o)n(gr)n(amming)f(L)n(anguage)g(De-)1223 2354 y(sign)8 b(and)h(Implementation)f Fq([PLD91)q(],)h(pages)g(165{)1223 2399 y(176.)1011 2457 y([Gre84])90 b(Ric)o(hard)18 b(Green)o(blatt.)27b(The)16 b(LISP)g(mac)o(hine.)27 b(In)1223 2502 y(D.R.)19 b(Barsto)o(w,)h(H.E.)e(Shrob)q(e,)j(and)e(E.)g(Sande-)1223 2548 y(w)o(all,)e(editors,)fFc(Inter)n(active)d(Pr)n(o)n(gr)n(amming)i(Envi-)1223 2594y(r)n(onments)p Fq(.)c(McGra)o(w)i(Hill,)h(1984.)969 2718 yFn(62)p eop%%Page: 63 63bop 0 55 a Fq([Gud93])80 b(Da)o(vid)14 b(Gudeman.)i(Represen)o(ting)f(t)o(yp)q(e)d(informa-)212 101 y(tion)h(in)g(dynamicall)q(y-t)o(yp)q(ed)j(languages.)i(T)m(ec)o(hni-)212 147 y(cal)h(Rep)q(ort)g(TR93-27,)h(Univ)o(ersit)o(y)g(of)e(Arizona,)212 192 y(Departmen)o(t)24 b(of)f(Computer)h(Science,)j(T)m(ucson,)212 238 y(Arizona,)14 b(1993.)0 300 y([GZ93])99 b(Dirk)212346 y(Grun)o(w)o(ald)15 b(and)f(Benjamin)h(Zorn.)k(CustoMallo)q(c:)212391 y(E\016cien)o(t)11 b(syn)o(thesized)h(memory)f(allo)q(cators.)jFc(Soft-)212 437 y(war)n(e)f(Pr)n(actic)n(e)e(and)h(Exp)n(erienc)n(e)pFq(,)d(23\(8\):851{869,)212 483 y(August)14 b(1993.)0 545 y([H)40537 y(\177)40 545 y(93])123 b(Urs)19 b(H\177)-19 b(olzle.)36b(A)18 b(fast)h(write)g(barrier)h(for)f(gener-)212 590 y(ational)h(garbage)e(collectors.)32 b(In)18 b Fc(OOPSLA)f('93)212 636 y(Workshop)10b(on)h(Memory)g(Management)f(and)g(Gar-)212 682 y(b)n(age)i(Col)r(le)n(ction)i Fq([OOP93].)i(P)o(osition)f(pap)q(er.)0 744 y([Han69])83b(Wilfred)17 b(J.)c(Hansen.)23 b(Compact)14 b(list)i(represen)o(ta-)212789 y(tion:)22 b(De\014nition,)17 b(garbage)f(collection,)h(and)f(sys-)212835 y(tem)d(implemen)o(tation)q(.)20 b Fc(Communic)n(ations)12b(of)h(the)212 881 y(A)o(CM)p Fq(,)g(12\(9\):499{507,)h(Septem)o(b)q(er)g(1969.)0 943 y([Ha)o(y91])85 b(Barry)16 b(Ha)o(y)o(es.)24 b(Using)16b(k)o(ey)f(ob)r(ject)h(opp)q(ortunism)212 988 y(to)k(collect)h(old)f(ob)r(jects.)37 b(In)19 b(P)o(aep)q(c)o(k)o(e)i([P)o(ae91],)2121034 y(pages)14 b(33{46.)0 1096 y([Ha)o(y92])85 b(Barry)23b(Ha)o(y)o(es.)46 b(Finalizati)q(on)26 b(in)d(the)g(garbage)2121142 y(collector)g(in)o(terface.)44 b(In)21 b(Bekk)o(ers)h(and)h(Cohen)2121188 y([BC92],)12 b(pages)i(277{298.)0 1250 y([HH93])94 b(An)o(ton)o(y)20b(Hosking)g(and)f(Ric)o(hard)i(Hudson.)35 b(Re-)212 1295 y(mem)o(b)q(ered)134b(sets)g(can)g(also)212 1341 y(pla)o(y)15 b(cards.)20 b(In)14b(OOPSLA)o(GC)f([OOP93].)19 b(Av)n(ail-)212 1387 y(able)e(for)e(anon)o(ymous)i(FTP)f(from)f(cs.utexas.edu)212 1432 y(in)f(/pub/garbage/GC93.)01494 y([HJ92])103 b(Reed)16 b(Hastings)h(and)g(Bob)f(Jo)o(yce.)25b(Purify:)e(F)m(ast)212 1540 y(detection)16 b(of)e(memory)h(leaks)g(and)g(access)g(errors.)212 1586 y(In)k Fc(USENIX)d(Winter)i(1992)g(T)m(e)n(chnic)n(al)e(Confer-)212 1631 y(enc)n(e)p Fq(,)21 b(pages)h(125{136.)g(USENIX)f(Asso)q(ciation,)212 1677 y(Jan)o(uary)14 b(1992.)0 1739 y([HL93])99b(Lorenz)16 b(Huelsb)q(ergen)h(and)f(James)g(R.)f(Larus.)24b(A)212 1785 y(concurren)o(t)15 b(cop)o(ying)h(garbage)g(collector)f(for)f(lan-)212 1830 y(guages)g(that)e(distingui)q(sh)j(\(im\)m)o(utable)g(data.)h(In)212 1876 y Fc(Pr)n(o)n(c)n(e)n(e)n(dings)k(of)h(the)g(F)m(ourth)h(A)o(CM)g(SIGPLAN)212 1922 y(Symp)n(osium)j(on)h(Principles)e(and)h(Pr)n(actic)n(e)g(of)212 1967 y(Par)n(al)r(lel)19 b(Pr)n(o)n(gr)n(amming)g(\(PPOPP\))pFq(,)h(pages)h(73{)212 2013 y(82,)f(San)f(Diego,)h(California,)h(Ma)o(y)e(1993.)g(A)o(CM)212 2059 y(Press.)d(Published)f(as)d Fc(SIGPLAN)f(Notic)n(es)f(28)p Fq(\(7\),)212 2104 y(July)k(1993.)0 2166 y([HMD)o(W91])21b(Ric)o(hard)36 b(L.)d(Hudson,)40 b(J.)33 b(Eliot)i(B.)f(Moss,)2122212 y(Amer)24 b(Diw)o(an,)j(and)d(Christopher)i(F.)d(W)m(eigh)o(t.)2122258 y(A)31 b(language-indep)r(endent)i(garbage)f(collector)2122303 y(to)q(olkit.)93 b Fa(Coins)39 b Fq(T)m(ec)o(hnical)g(Rep)q(ort)g(91-)212 2349 y(47,)27 b(Univ)o(ersit)o(y)f(of)d(Massac)o(h)o(usetts,)28b(Amherst,)212 2395 y(MA)13 b(01003,)g(Septem)o(b)q(er)h(1991.)02457 y([HMS92])67 b(An)o(ton)o(y)21 b(L.)f(Hosking,)k(J.)c(Eliot)i(B.)e(Moss,)i(and)212 2502 y(Dark)o(o)k(Stefano)o(vi)o(\023)-18b(c.)53 b(A)25 b(comparativ)o(e)h(p)q(erfor-)212 2548 y(mance)16b(ev)n(aluation)h(of)e(write)g(barrier)h(implemen-)212 2594y(tations.)21 b(In)14 b(Andreas)g(P)o(aep)q(c)o(k)o(e,)h(editor,)fFc(Confer-)1223 55 y(enc)n(e)19 b(on)g(Obje)n(ct)g(Oriente)n(d)g(Pr)n(o)n(gr)n(amming)g(Sys-)1223 101 y(tems,)31 b(L)n(anguages)24 b(and)j(Applic)n(ation)o(s)e(\(OOP-)1223 147 y(SLA)16 b('92\))p Fq(,)g(pages)i(92{109,)h(V)m(ancouv)o(er,)f(British)1223 192 y(Colum)o(bia,)g(Octob)q(er)f(1992.)f(A)o(CM)g(Press.)26 b(Pub-)1223 238 y(lished)17 b(as)f Fc(SIGPLAN)e(Notic)n(es)g(27)pFq(\(10\),)g(Octob)q(er)1223 284 y(1992.)1011 347 y([HPR89])69b(Susan)15 b(Horwitz,)e(P)m(.)g(Pfei\013er,)h(and)g(T.)f(Reps.)19b(De-)1223 393 y(p)q(endence)i(analysis)h(for)d(p)q(oin)o(ter)i(v)n(ariables.)38 b(In)1223 439 y Fc(Pr)n(o)n(c)n(e)n(e)n(dings)15b(of)h(the)h(SIGPLAN)e('89)i(SIGPLAN)1223 484 y(Symp)n(osium)e(on)h(Compiler)g(Construction)p Fq(,)e(June)1223 530 y(1989.)j(Published)f(as)dFc(SIGPLAN)f(Notic)n(es)g(24)p Fq(\(7\).)1011 594 y([Hud86])81b(P)o(aul)24 b(Hudak.)49 b(A)22 b(seman)o(tic)j(mo)q(del)f(of)f(refer-)1223640 y(ence)18 b(coun)o(ting)i(and)f(its)g(abstraction.)34 b(In)18b Fc(Con-)1223 685 y(fer)n(enc)n(e)c(R)n(e)n(c)n(or)n(d)g(of)h(the)f(1986)g(A)o(CM)i(Symp)n(osium)1223 731 y(on)d(LISP)f(and)g(F)m(unctional)f(Pr)n(o)n(gr)n(amming)p Fq(,)g(pages)1223 777 y(351{363,)17 b(Cam)o(bridge,)h(Massac)o(h)o(usetts,)f(August)1223 822 y(1986.)c(A)o(CM)g(Press.)1011886 y([JJ92])112 b(Niels)17 b(Christian)i(Juul)e(and)g(Eric)g(Jul.)27b(Compre-)1223 932 y(hensiv)o(e)c(and)f(robust)g(garbage)h(collection)h(in)e(a)1223 978 y(distributed)g(system.)36 b(In)20 b(Bekk)o(ers)g(and)g(Cohen)1223 1023 y([BC92],)12 b(pages)i(103{115.)1011 1087 y([JM81])97b(Neil)14 b(D.)g(Jones)f(and)i(Stev)o(en)f(S.)f(Muc)o(hnic)o(k.)20b(Flo)o(w)1223 1133 y(analysis)c(and)f(optimization)i(of)d(LISP-lik)o(e)i(struc-)1223 1178 y(tures.)42 b(In)22 b(Stev)o(en)g(S.)f(Muc)o(hnik)i(and)g(Neil)f(D.)1223 1224 y(Jones,)13 b(editors,)h Fc(Pr)n(o)n(gr)n(am)f(Flow)h(A)o(nalysis)p Fq(,)c(pages)1223 1270 y(102{131.)k(Pren)o(tice-Hall,)h(1981.)1011 1334 y([Joh91])92 b(Douglas)13 b(Johnson.)i(The)10 b(case)i(for)f(a)g(read)g(barrier.)1223 1379 y(In)h Fc(F)m(ourth)f(Internationa)o(l)f(Confer)n(enc)n(e)g(on)i(A)o(r)n(chi-)1223 1425 y(te)n(ctur)n(al)i(Supp)n(ort)g(for)h(Pr)n(o)n(gr)n(amming)g(L)n(anguages)1223 1471 y(and)e(Op)n(er)n(ating)g(Systems)g(\(ASPLOS)h(IV\))p Fq(,)e(pages)1223 1516 y(96{107,)i(San)o(ta)f(Clara,)h(California,)g(April)h(1991.)1011 1580 y([Joh92])92b(Ralph)25 b(E.)e(Johnson.)49 b(Reducing)26 b(the)d(latency)12231626 y(of)18 b(a)f(real-time)i(garbage)g(collector.)33 b Fc(A)o(CM)19b(L)n(et-)1223 1672 y(ters)10 b(on)g(Pr)n(o)n(gr)n(amming)g(L)n(anguages)e(and)h(Systems)p Fq(,)1223 1717 y(1\(1\):46{58,)k(Marc)o(h)h(1992.)10111781 y([KdRB91])46 b(Gregor)33 b(Kiczales,)39 b(Jim)32 b(des)h(Rivieres,)39b(and)1223 1827 y(Daniel)14 b(G.)d(Bobro)o(w.)k Fc(The)d(A)o(rt)f(of)h(the)g(Metaobje)n(ct)1223 1872 y(Pr)n(oto)n(c)n(ol)p Fq(.)21 b(MIT)14b(Press,)h(Cam)o(bridge,)i(Massac)o(h)o(u-)1223 1918 y(setts,)c(1991.)10111982 y([Kel93])95 b(Ric)o(hard)26 b(Kelsey)m(.)53 b(T)m(ail)25b(recursiv)o(e)h(stac)o(k)f(dis-)1223 2028 y(ciplines)40 b(for)d(an)h(in)o(terpreter.)91 b(Av)n(ailable)1223 2073 y(via)30 b(anon)o(ymous)g(FTP)f(from)f(nexus.y)o(orku.ca)1223 2119 y(in)16 b(/pub/sc)o(heme/txt/stac)o(k-gc.ps.)h(Sligh)o(tly)h(en-)1223 2165 y(hanced)30 b(v)o(ersion)h(of)e(T)m(ec)o(hnical)j(Rep)q(ort)e(NU-)1223 2210 y(CCS93-03,)35 b(College)d(of)f(Computer)g(Science,)1223 2256 y(Northeastern)14 b(Univ)o(ersit)o(y)m(,)g(1992.,)f(1993.)1011 2320 y([KKR)1110 2304 y Fh(+)1135 2320 y Fq(86])39b(Da)o(vid)21 b(A.)d(Kranz,)j(Ric)o(hard)g(Kelsey)m(,)h(Jonathan)12232365 y(Rees,)17 b(P)o(aul)g(Hudak,)g(James)f(Philbin,)j(and)e(Nor-)12232411 y(man)i(Adams.)36 b(ORBIT:)19 b(An)g(optimizing)j(com-)12232457 y(piler)11 b(for)f(Sc)o(heme.)j(In)d Fc(SIGPLAN)f(Symp)n(osium)g(on)12232502 y(Compiler)16 b(Construction)p Fq(,)d(pages)j(219{233,)i(P)o(alo)12232548 y(Alto,)23 b(California,)j(June)21 b(1986.)43 b(Published)24b(as)1223 2594 y Fc(A)o(CM)14 b(SIGPLAN)e(Notic)n(es)f(21)pFq(\(7\),)h(July)i(1986.)969 2718 y Fn(63)p eop%%Page: 64 64bop 0 55 a Fq([KLS92])77 b(Phillip)30 b(J.)25 b(Ko)q(opman,)30b(Jr.,)e(P)o(eter)e(Lee,)j(and)212 101 y(Daniel)21 b(P)m(.)d(Siewiorek.)34b(Cac)o(he)19 b(p)q(erformance)g(of)212 147 y(com)o(binator)k(graph)f(reduction.)43 b Fc(A)o(CM)22 b(T)m(r)n(ans-)212 192 y(actions)12b(on)i(Pr)n(o)n(gr)n(amming)f(L)n(anguages)f(and)h(Sys-)212238 y(tems)p Fq(,)f(14\(2\):265{297,)i(April)g(1992.)0 293y([Kn)o(u69])81 b(Donald)25 b(E.)e(Kn)o(uth.)48 b Fc(The)23b(A)o(rt)g(of)f(Computer)212 339 y(Pr)n(o)n(gr)n(amming)p Fq(,)14b(v)o(olume)i(1:)k(F)m(undamen)o(tal)d(Algo-)212 385 y(rithms.)g(Addison-W)m(esley)m(,)e(Reading,)f(Massac)o(h)o(u-)212 430 y(setts,)f(1969.)0486 y([Kol90])93 b(Elliot)15 b(Kolo)q(dner.)i(A)o(tomic)c(incremen)o(tal)h(garbage)212 532 y(collection)j(and)e(reco)o(v)o(ery)f(for)g(large)h(stable)h(heap.)212 577 y(In)d(Dearle)h(et)f(al.)g([DSZ90)r(],)f(pages)i(185{198.)0633 y([Kra88])88 b(Da)o(vid)24 b(A.)e(Kranz.)45 b Fc(ORBIT:)23b(A)o(n)e(Optimizing)212 678 y(Compiler)13 b(F)m(or)h(Scheme)pFq(.)g(PhD)g(thesis,)f(Y)m(ale)h(Uni-)212 724 y(v)o(ersit)o(y)m(,)23b(New)c(Ha)o(v)o(en,)j(Connecticut,)h(F)m(ebruary)212 770 y(1988.)0825 y([Lar77])94 b(R.)14 b(G.)g(Larson.)21 b(Minimizing)c(garbage)e(collection)212 871 y(as)d(a)f(function)i(of)e(region)h(size.)jFc(SIAM)c(Journal)g(on)212 917 y(Computing)p Fq(,)g(6\(4\):663{667,)j(Decem)o(b)q(er)g(1977.)0 972 y([LD87])99 b(Bernard)11 b(Lang)f(and)g(F)m(rancis)h(Dup)q(on)o(t.)i(Incremen-)212 1018 y(tal)j(incremen)o(tally)i(compacting)f(garbage)f(collec-)212 1064 y(tion.)29 b(In)17 b Fc(SIGPLAN)f(1987)f(Symp)n(osium)h(on)g(In-)212 1109 y(terpr)n(eters)d(and)g(Interpr)n(etive)f(T)m(e)n(chniques)p Fq(,)e(pages)212 1155 y(253{263,)19 b(Sain)o(t)f(P)o(aul,)h(Minnesota,)h(June)d(1987.)212 1201 y(A)o(CM)c(Press.)19 b(Published)e(as)cFc(SIGPLAN)g(Notic)n(es)212 1246 y(22)p Fq(\(7\),)f(July)i(1987.)01302 y([Lee88])94 b(Elgin)18 b(Ho)q(e-Sing)g(Lee.)27 b(Ob)r(ject)16b(storage)h(and)g(in-)212 1347 y(heritance)11 b(for)e(SELF,)g(a)g(protot)o(yp)q(e-based)i(ob)r(ject-)212 1393 y(orien)o(ted)19 b(programming)h(language.)33 b(Engineer's)212 1439 y(thesis,)19 b(Stanford)g(Univ)o(ersit)o(y)m(,)g(P)o(alo)g(Alto,)f(Cali-)212 1484 y(fornia,)c(Decem)o(b)q(er)g(1988.)0 1540 y([LFP84])77 b Fc(Confer)n(enc)n(e)13 b(R)n(e)n(c)n(or)n(d)h(of)g(the)g(1984)f(A)o(CM)j(Symp)n(o-)212 1586 y(sium)f(on)g(LISP)g(and)g(F)m(unctional)e(Pr)n(o)n(gr)n(amming)p Fq(,)212 1631 y(Austin,)h(T)m(exas,)f(August)g(1984.)g(A)o(CM)g(Press.)0 1687 y([LFP90])77 b Fc(Confer)n(enc)n(e)13 b(R)n(e)n(c)n(or)n(d)h(of)g(the)g(1990)f(A)o(CM)j(Symp)n(o-)2121732 y(sium)f(on)g(LISP)g(and)g(F)m(unctional)e(Pr)n(o)n(gr)n(amming)pFq(,)212 1778 y(Nice,)g(F)m(rance,)g(June)h(1990.)f(A)o(CM)f(Press.)01834 y([LH83])99 b(Henry)17 b(Lieb)q(erman)i(and)f(Carl)f(Hewitt.)29b(A)16 b(real-)212 1879 y(time)f(garbage)g(collector)h(based)f(on)f(the)g(lifetimes)212 1925 y(of)22 b(ob)r(jects.)46 b Fc(Communic)n(ations)20b(of)i(the)f(A)o(CM)p Fq(,)212 1971 y(26\(6\):419{429,)14 b(June)f(1983.)02026 y([LH86])99 b(Kai)21 b(Li)f(and)h(P)o(aul)g(Hudak.)38b(A)19 b(new)h(list)h(com-)212 2072 y(paction)e(metho)q(d.)30b Fc(Softwar)n(e)16 b(Pr)n(actic)n(e)g(and)h(Ex-)212 2117 y(p)n(erienc)n(e)pFq(,)10 b(16\(2\),)j(F)m(ebruary)h(1986.)0 2173 y([LH88])99b(James)17 b(R.)g(Larus)g(and)h(P)o(aul)g(N.)e(Hil\014nger.)30b(De-)212 2219 y(tecting)17 b(con\015icts)g(b)q(et)o(w)o(een)f(record)g(accesses.)25 b(In)212 2264 y Fc(Pr)n(o)n(c)n(e)n(e)n(dings)18b(of)j(the)f(1988)f(SIGPLAN)g(Confer-)212 2310 y(enc)n(e)e(on)g(Pr)n(o)n(gr)n(amming)g(L)n(anguage)e(Design)h(and)212 2356 y(Implementation)dFq([PLD88],)f(pages)i(21{34.)0 2411 y([Lla91])99 b(Rene)15b(Llames.)22 b Fc(Performanc)n(e)13 b(A)o(nalysis)g(of)h(Gar-)2122457 y(b)n(age)d(Col)r(le)n(ction)g(and)g(Dynamic)g(R)n(e)n(or)n(dering)g(in)h(a)212 2502 y(Lisp)e(System)p Fq(.)g(PhD)g(thesis,)h(Departmen)o(t)f(of)g(Elec-)212 2548 y(trical)16 b(and)f(Computer)g(Engineering,)i(Univ)o(ersit)o(y)212 2594 y(of)c(Illinois,)j(Champaign-Urbana,)f(Illinois,)g(1991.)101155 y([McB63])73 b(J.)13 b(Harold)j(McBeth.)21 b(On)14 b(the)h(reference)f(coun)o(ter)1223 101 y(metho)q(d.)69 b Fc(Communic)n(ations)27b(of)i(the)g(A)o(CM)p Fq(,)1223 147 y(6\(9\):575,)13 b(Septem)o(b)q(er)h(1963.)1011 209 y([McC60])72 b(John)14 b(McCarth)o(y)m(.)20b(Recursiv)o(e)15 b(functions)g(of)f(sym-)1223 254 y(b)q(olic)21b(expressions)h(and)e(their)h(computation)g(b)o(y)1223 300y(mac)o(hine.)64 b Fc(Communic)n(ations)26 b(of)h(the)g(A)o(CM)pFq(,)1223 346 y(3\(4\):184{195,)14 b(April)g(1960.)1011 408y([Mey88])80 b(Norman)20 b(Meyro)o(witz,)j(editor.)39 b Fc(Confer)n(enc)n(e)18 b(on)1223 453 y(Obje)n(ct)c(Oriente)n(d)g(Pr)n(o)n(gr)n(amming)h(Systems,)f(L)n(an-)1223 499 y(guages)d(and)h(Applic)n(ation)o(s)e(\(OOPSLA)j('88\))f(Pr)n(o-)1223 545 y(c)n(e)n(e)n(dings)p Fq(,)20 b(San)j(Diego,)h(California,)i(Septem)o(b)q(er)1223 590 y(1988.)19 b(A)o(CM)f(Press.)34b(Published)21 b(as)e Fc(SIGPLAN)1223 636 y(Notic)n(es)11 b(23)pFq(\(11\),)h(No)o(v)o(em)o(b)q(er)i(1988.)1011 698 y([Min63])86b(Marvin)14 b(Minsky)m(.)j(A)12 b(LISP)h(garbage)g(collector)h(al-)1223744 y(gorithm)j(using)h(serial)f(secondary)h(storage.)26 b(A.I.)1223789 y(Memo)20 b(58,)h(Massac)o(h)o(usetts)g(Institute)g(of)e(T)m(ec)o(h-)1223835 y(nology)d(Pro)r(ject)e(MA)o(C,)f(Cam)o(bridge,)i(Massac)o(h)o(u-)1223881 y(setts,)e(1963.)1011 943 y([MN88])88 b(P)o(attie)1223988 y(Maes)14 b(and)g(Daniele)h(Nardi,)f(editors.)19 b Fc(Meta-L)n(evel)12231034 y(A)o(r)n(chite)n(ctur)n(es)11 b(and)i(R)n(e\015e)n(ction)pFq(.)k(North-Holland,)1223 1080 y(Amsterdam,)c(1988.)1011 1142y([Mo)q(o84])78 b(Da)o(vid)19 b(Mo)q(on.)32 b(Garbage)19 b(collection)h(in)f(a)f(large)1223 1188 y(Lisp)k(system.)42 b(In)22 b Fc(Confer)n(enc)n(e)d(R)n(e)n(c)n(or)n(d)h(of)h(the)1223 1233 y(1984)d(A)o(CM)i(Symp)n(osium)d(on)i(LISP)g(and)f(F)m(unc-)1223 1279 y(tional)12 b(Pr)n(o)n(gr)n(amming)jFq([LFP84],)d(pages)i(235{246.)1011 1341 y([Mos89])83 b(J.)9b(Eliot)j(B.)e(Moss.)i(Addressing)g(large)f(distributed)12231387 y(collections)16 b(of)e(p)q(ersisten)o(t)h(ob)r(jects:)k(The)13b(Mneme)1223 1432 y(pro)r(ject's)k(approac)o(h.)31 b(In)18b Fc(Se)n(c)n(ond)d(Internationa)o(l)1223 1478 y(Workshop)23b(on)h(Datab)n(ase)f(Pr)n(o)n(gr)n(amming)h(L)n(an-)1223 1524y(guages)p Fq(,)9 b(pages)j(269{285,)g(Glenedon)h(Beac)o(h,)f(Ore-)12231569 y(gon,)23 b(June)d(1989.)40 b(Also)21 b(a)o(v)n(ailable)j(as)c(T)m(ec)o(hni-)1223 1615 y(cal)11 b(Rep)q(ort)g(89-68,)g(Univ)o(ersit)o(y)h(of)e(Massac)o(h)o(usetts)1223 1661 y(Dept.)15 b(of)f(Computer)h(and)g(Information)h(Science,)1223 1706 y(Amherst,)d(Massac)o(h)o(usetts,)h(1989.)1011 1768 y([Nil88])103 b(Kelvin)18 b(Nilsen.)28 b(Garbage)18b(collection)h(of)d(strings)1223 1814 y(and)e(link)o(ed)h(data)e(structures)h(in)g(real)g(time.)k Fc(Soft-)1223 1860 y(war)n(e)13 b(Pr)n(actic)n(e)e(and)h(Exp)n(erienc)n(e)p Fq(,)d(18\(7\):613{640,)1223 1905 y(July)14b(1988.)1011 1967 y([NOPH92])38 b(Scott)16 b(Nettles,)h(James)f(O'T)m(o)q(ole,)h(Da)o(vid)g(Pierce,)1223 2013 y(and)i(Nic)o(holas)i(Haines.)34b(Replicatio)q(n-based)22 b(in-)1223 2059 y(cremen)o(tal)14b(cop)o(ying)h(collection.)20 b(In)13 b(Bekk)o(ers)h(and)12232104 y(Cohen)f([BC92],)g(pages)g(357{364.)1011 2166 y([NR87])95b(S.)10 b(C.)g(North)h(and)g(J.)f(H.)g(Repp)o(y)m(.)j(Concurren)o(t)f(gar-)1223 2212 y(bage)k(collection)i(on)e(sto)q(c)o(k)g(hardw)o(are.)24b(In)16 b(Gilles)1223 2258 y(Kahn,)11 b(editor,)g Fc(A)o(CM)g(Confer)n(enc)n(e)e(on)h(F)m(unctional)1223 2303 y(Pr)n(o)n(gr)n(amming)g(L)n(anguages)e(and)h(Computer)h(A)o(r)n(ch-)1223 2349 y(ite)n(ctur)n(e)pFq(,)26 b(n)o(um)o(b)q(er)g(274)f(in)h(Lecture)g(Notes)f(in)12232395 y(Computer)17 b(Science,)h(pages)f(113{133.)g(Springer-)12232440 y(V)m(erlag,)c(Septem)o(b)q(er)h(1987.)1011 2502 y([NS90])102b(Kelvin)22 b(Nilsen)g(and)f(Willia)q(m)i(J.)d(Sc)o(hmidt.)40b(A)1223 2548 y(high-lev)o(el)16 b(o)o(v)o(erview)d(of)g(hardw)o(are)g(assisted)h(real-)1223 2594 y(time)22 b(garbage)h(collection.)47b(T)m(ec)o(hnical)23 b(Rep)q(ort)969 2718 y Fn(64)p eop%%Page: 65 65bop 212 55 a Fq(TR)13 b(90-18a,)h(Dept.)f(of)g(Computer)h(Science,)g(Io)o(w)o(a)212 101 y(State)f(Univ)o(ersit)o(y)m(,)i(Ames,)d(Io)o(w)o(a,)h(1990.)0157 y([NS92])102 b(Kelvin)36 b(Nilsen)g(and)e(Willi)q(am)j(J.)c(Sc)o(hmidt.)212 203 y(Cost-e\013ectiv)o(e)22 b(ob)r(ject)e(space)h(managemen)o(t)g(for)212 249 y(hardw)o(are-assisted)28 b(real-time)f(garbage)g(collec-)212294 y(tion.)46 b Fc(A)o(CM)23 b(L)n(etters)e(on)h(Pr)n(o)n(gr)n(amming)f(L)n(an-)212 340 y(guages)12 b(and)g(Systems)p Fq(,)f(1\(4\):338{355,)j(Decem)o(b)q(er)212 386 y(1992.)0 442 y([O)o(A85])94 b(R.)18 b(R.)f(Oldeho)q(eft)i(and)g(S.)e(J.)g(Allan.)33 b(Adaptiv)o(e)212 488 y(exact-\014t)18b(storage)g(managemen)o(t.)31 b Fc(Communic)n(a-)212 533 y(tions)12b(of)h(the)g(A)o(CM)p Fq(,)g(28\(5\):506{511,)h(Ma)o(y)f(1985.)0590 y([ONG93])63 b(James)11 b(O'T)m(o)q(ole,)h(Scott)f(Nettles,)h(and)g(Da)o(vid)h(Gif-)212 636 y(ford.)21 b(Concurren)o(t)15 b(compacting)h(garbage)g(collec-)212 681 y(tion)11 b(of)e(a)h(p)q(ersisten)o(t)h(heap.)i(In)cFc(Pr)n(o)n(c)n(e)n(e)n(dings)f(of)i(the)212 727 y(F)m(ourte)n(enth)h(Symp)n(osium)h(on)g(Op)n(er)n(ating)g(Systems)212 773 y(Principles)pFq(,)7 b(Asheville,)12 b(North)e(Carolina,)h(Decem-)212 818y(b)q(er)g(1993.)g(A)o(CM)e(Press.)k(Published)h(as)c Fc(Op)n(er)n(ating)212864 y(Systems)i(R)n(eview)h(27)p Fq(\(5\).)0 920 y([OOP91])66b Fc(OOPSLA)27 b('91)e(Workshop)g(on)h(Garb)n(age)f(Col-)212966 y(le)n(ction)16 b(in)h(Obje)n(ct-Oriente)n(d)e(Systems)pFq(,)i(Octob)q(er)212 1012 y(1991.)41 b(Av)n(ailable)24 b(for)c(anon)o(ymous)j(FTP)d(from)212 1057 y(cs.utexas.edu)14 b(in)g(/pub/garbage/GC91.)01114 y([OOP93])66 b Fc(OOPSLA)23 b('93)e(Workshop)g(on)h(Memory)g(Man-)2121159 y(agement)j(and)f(Garb)n(age)h(Col)r(le)n(ction)p Fq(,)i(Octob)q(er)2121205 y(1993.)41 b(Av)n(ailable)24 b(for)c(anon)o(ymous)j(FTP)d(from)2121251 y(cs.utexas.edu)14 b(in)g(/pub/garbage/GC93.)0 1307 y([P)o(ae91])91b(Andreas)27 b(P)o(aep)q(c)o(k)o(e,)j(editor.)57 b Fc(Confer)n(enc)n(e)24b(on)212 1353 y(Obje)n(ct)15 b(Oriente)n(d)f(Pr)n(o)n(gr)n(amming)g(Systems,)g(L)n(an-)212 1398 y(guages)30 b(and)i(Applic)n(atio)o(ns)d(\(OOPSLA)j('91\))p Fq(,)212 1444 y(Pho)q(enix,)43 b(Arizona,)f(Octob)q(er)37b(1991.)f(A)o(CM)212 1490 y(Press.)72 b(Published)34 b(as)dFc(SIGPLAN)e(Notic)n(es)212 1535 y(26)p Fq(\(11\),)12 b(No)o(v)o(em)o(b)q(er)i(1991.)0 1592 y([PLD88])73 b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)18b(of)j(the)f(1988)f(SIGPLAN)g(Confer-)212 1637 y(enc)n(e)e(on)g(Pr)n(o)n(gr)n(amming)g(L)n(anguage)e(Design)h(and)212 1683 y(Implementation)pFq(,)7 b(A)o(tlan)o(ta,)j(Georgia,)h(June)f(1988.)212 1729y(A)o(CM)j(Press.)0 1785 y([PLD91])73 b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)27b(of)j(the)f(1991)g(SIGPLAN)f(Con-)212 1831 y(fer)n(enc)n(e)d(on)h(Pr)n(o)n(gr)n(amming)g(L)n(anguage)e(Design)212 1877 y(and)15 b(Implementation)oFq(,)d(T)m(oron)o(to,)k(On)o(tario,)g(June)212 1922 y(1991.)j(A)o(CM)f(Press.)34 b(Published)21 b(as)e Fc(SIGPLAN)212 1968 y(Notic)n(es)12b(26)p Fq(\(6\),)f(June)j(1992.)0 2024 y([PLD93])73 b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)18 b(of)j(the)f(1993)f(SIGPLAN)g(Confer-)212 2070 y(enc)n(e)e(on)g(Pr)n(o)n(gr)n(amming)g(L)n(anguage)e(Design)h(and)212 2116 y(Implementation)pFq(,)g(Albuquerque,)21 b(New)c(Mexico,)212 2161 y(June)c(1993.)h(A)o(CM)e(Press.)0 2218 y([PN77])97 b(J.)19 b(L.)f(P)o(eterson)i(and)g(T.)f(A.)f(Norman.)36 b(Buddy)212 2263 y(systems.)68 b Fc(Communic)n(ations)26b(of)j(the)f(A)o(CM)p Fq(,)212 2309 y(20\(6\):421{431,)14 b(June)f(1977.)02365 y([PS89])105 b(C.-J.)22 b(P)o(eng)h(and)h(Gurindar)g(S.)f(Sohi.)48b(Cac)o(he)212 2411 y(memory)11 b(design)h(considerations)i(to)d(supp)q(ort)g(lan-)212 2457 y(guages)17 b(with)e(dynamic)i(heap)g(allo)q(cation.)27b(T)m(ec)o(h-)212 2502 y(nical)21 b(Rep)q(ort)e(860,)h(Computer)g(Sciences)g(Dept.)212 2548 y(Univ)o(ersit)o(y)12 b(of)e(Wisconsin,)j(Madison,)f(Wisconsin,)212 2594 y(July)i(1989.)1011 55 y([RM88])89 b(Christina)17b(Ruggieri)f(and)g(Thomas)f(P)m(.)f(Murtagh.)1223 101 y(Lifetime)d(analysis)i(of)d(dynamically)j(allo)q(cated)g(ob-)1223 147 y(jects.)26b(In)17 b Fc(Confer)n(enc)n(e)d(R)n(e)n(c)n(or)n(d)i(of)g(the)f(Fifte)n(enth)1223 192 y(A)o(nnual)21 b(A)o(CM)j(Symp)n(osium)e(on)h(Principles)f(of)1223238 y(Pr)n(o)n(gr)n(amming)13 b(L)n(anguages)p Fq(,)c(pages)14b(285{293,)g(San)1223 284 y(Diego,)g(California,)g(Jan)o(uary)g(1988.)f(A)o(CM)f(Press.)1011 346 y([Ros88])90 b(John)14 b(R.)g(Rose.)21b(F)m(ast)14 b(dispatc)o(h)h(mec)o(hanisms)h(for)1223 391 y(sto)q(c)o(k)c(hardw)o(are.)i(In)e(Meyro)o(witz)g([Mey88],)f(pages)1223 437y(27{35.)1011 499 y([Ro)o(v85])86 b(P)o(aul)18 b(Ro)o(vner.)31b(On)17 b(adding)i(garbage)f(collection)1223 545 y(and)c(run)o(time)h(t)o(yp)q(es)f(to)f(a)h(strongly-t)o(yp)q(ed,)h(stati-)1223 590 y(cally)e(c)o(hec)o(k)o(ed,)e(concurren)o(t)i(language.)i(T)m(ec)o(hnical)1223636 y(Rep)q(ort)h(CSL-84-7,)g(Xero)o(x)g(P)o(alo)g(Alto)g(Researc)o(h)1223682 y(Cen)o(ter,)d(P)o(alo)g(Alto,)g(California,)i(July)f(1985.)1011744 y([Sc)o(h75a])75 b(Jacob)11 b(T.)e(Sc)o(h)o(w)o(artz.)k(Optimization)g(of)e(v)o(ery)f(high)1223 789 y(lev)o(el)h(languages|I.)h(Value)f(transmission)h(and)e(its)1223 835 y(corollaries.)26 b Fc(Journal)14b(of)h(Computer)g(L)n(anguages)p Fq(,)1223 881 y(1:161{194,)f(1975.)1011943 y([Sc)o(h75b])73 b(Jacob)11 b(T.)e(Sc)o(h)o(w)o(artz.)k(Optimization)g(of)e(v)o(ery)f(high)1223 988 y(lev)o(el)i(languages|I)q(I.)h(Deducing)g(relationships)h(of)1223 1034 y(inclusion)k(and)e(mem)o(b)q(ership.)24b Fc(Journal)14 b(of)h(Com-)1223 1080 y(puter)d(L)n(anguages)pFq(,)e(1:197{218,)k(1975.)1011 1142 y([SCN84])74 b(W.)21 b(R.)f(Sto)o(y)o(e,)j(T.)d(J.)g(W.)g(Clark)o(e,)j(and)f(A.)e(C.)1223 1188 y(Norman.)31b(Some)18 b(practical)i(metho)q(ds)e(for)f(rapid)1223 1233y(com)o(binator)g(reduction.)25 b(In)15 b Fc(Confer)n(enc)n(e)e(R)n(e)n(c)n(or)n(d)1223 1279 y(of)18 b(the)g(1984)f(A)o(CM)i(Symp)n(osium)e(on)h(LISP)g(and)1223 1325 y(F)m(unctional)7 b(Pr)n(o)n(gr)n(amming)12b Fq([LFP84],)e(pages)g(159{)1223 1370 y(166.)1011 1432 y([SH87])102b(P)o(eter)19 b(Steenkiste)i(and)f(John)g(Hennessy)m(.)37 b(T)m(ags)12231478 y(and)22 b(t)o(yp)q(e)f(c)o(hec)o(king)i(in)f(Lisp.)42b(In)21 b Fc(Se)n(c)n(ond)e(In-)1223 1524 y(ternational)12b(Confer)n(enc)n(e)g(on)i(A)o(r)n(chite)n(ctur)n(al)e(Sup-)12231569 y(p)n(ort)g(for)g(Pr)n(o)n(gr)n(amming)f(L)n(anguages)f(and)h(Op)n(er)n(at-)1223 1615 y(ing)h(Systems)g(\(ASPLOS)g(II\))p Fq(,)f(pages)j(50{59,)f(P)o(alo)1223 1661 y(Alto,)g(California,)i(Octob)q(er)e(1987.)10111723 y([Sha88])91 b(Rob)q(ert)11 b(A.)e(Sha)o(w.)k Fc(Empiric)n(al)d(A)o(nalysis)f(of)h(a)h(Lisp)1223 1768 y(System)p Fq(.)e(PhD)h(thesis,)h(Stanford)f(Univ)o(ersit)o(y)m(,)i(P)o(alo)1223 1814 y(Alto,)22b(California,)h(F)m(ebruary)e(1988.)38 b(T)m(ec)o(hnical)12231860 y(Rep)q(ort)17 b(CSL-TR-88-351,)h(Stanford)f(Univ)o(ersit)o(y)12231905 y(Computer)c(Systems)h(Lab)q(oratory)m(.)1011 1967 y([Sob88])91b(P)o(atric)o(k)15 b(G.)g(Sobalv)n(arro.)23 b(A)15 b(lifetime-based)i(gar-)1223 2013 y(bage)h(collector)i(for)d(LISP)h(systems)h(on)f(general-)12232059 y(purp)q(ose)i(computers.)36 b(B.S.)18 b(thesis,)k(Massac)o(h)o(u-)12232104 y(setts)17 b(Institute)h(of)f(T)m(ec)o(hnology)i(EECS)e(Depart-)12232150 y(men)o(t,)c(Cam)o(bridge,)h(Massac)o(h)o(usetts,)g(1988.)10112212 y([Sta80])97 b(Thomas)28 b(Standish.)61 b Fc(Data)26 b(Structur)n(e)f(T)m(e)n(ch-)1223 2258 y(niques)p Fq(.)16 b(Addison-W)m(esley)m(,)g(Reading,)f(Massac)o(h)o(u-)1223 2303 y(setts,)e(1980.)1011 2365 y([Sta82])97b(James)26 b(Willia)q(m)j(Stamos.)57 b(A)26 b(large)i(ob)r(ject-)12232411 y(orien)o(ted)22 b(virtual)h(memory:)34 b(Grouping)23b(strate-)1223 2457 y(gies,)16 b(measuremen)o(ts,)f(and)h(p)q(erformance.)22b(T)m(ec)o(h-)1223 2502 y(nical)16 b(Rep)q(ort)e(SCG-82-2,)g(Xero)o(x)h(P)o(alo)f(Alto)h(Re-)1223 2548 y(searc)o(h)24 b(Cen)o(ter,)h(P)o(alo)f(Alto,)i(California,)h(Ma)o(y)1223 2594 y(1982.)969 2718 y Fn(65)peop%%Page: 66 66bop 0 55 a Fq([Sta84])97 b(James)28 b(William)i(Stamos.)61b(Static)29 b(grouping)212 101 y(of)19 b(small)i(ob)r(jects)e(to)g(enhance)h(p)q(erformance)g(of)212 147 y(a)25 b(paged)g(virtual)i(memory)m(.)51b Fc(A)o(CM)25 b(T)m(r)n(ansac-)212 192 y(tions)20 b(on)h(Pr)n(o)n(gr)n(amming)g(L)n(anguages)e(and)i(Sys-)212 238 y(tems)p Fq(,)12b(2\(2\):155{180,)i(Ma)o(y)f(1984.)0 307 y([Ste75])99 b(Guy)15b(L.)f(Steele)h(Jr.)21 b(Multipro)q(cessin)q(g)c(compacti-)212352 y(fying)e(garbage)h(collection.)23 b Fc(Communic)n(ations)12b(of)212 398 y(the)h(A)o(CM)p Fq(,)g(18\(9\):495{508,)h(Septem)o(b)q(er)g(1975.)0 467 y([Ste83])99 b(C.)12 b(J.)f(Stephenson.)18 b(F)m(ast)12b(\014ts:)17 b(New)11 b(metho)q(ds)i(for)212 513 y(dynamic)h(storage)f(allo)q(cation.)18 b(In)12 b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)e(of)212558 y(the)17 b(Ninth)f(Symp)n(osium)f(on)i(Op)n(er)n(ating)f(Systems)212604 y(Principles)p Fq(,)8 b(pages)k(30{32,)f(Bretton)g(W)m(o)q(o)q(ds,)h(New)212 650 y(Hampshire,)j(Octob)q(er)f(1983.)f(A)o(CM)g(Press.)19b(Pub-)212 695 y(lished)11 b(as)e Fc(Op)n(er)n(ating)f(Systems)g(R)n(eview)h(17)p Fq(\(5\),)g(Oc-)212 741 y(tob)q(er)14 b(1983.)0 810 y([Ste87])99b(P)o(eter)34 b(Steenkiste.)79 b Fc(Lisp)32 b(on)g(a)g(R)n(e)n(duc)n(e)n(d-)212 856 y(Instruction-S)o(et)20 b(Pr)n(o)n(c)n(essor:)34 b(Char)n(acterization)212 901 y(and)13 b(Optimization)p Fq(.)h(PhD)f(thesis,)h(Stanford)g(Uni-)212 947 y(v)o(ersit)o(y)m(,)24 b(P)o(alo)e(Alto,)g(California,)j(Marc)o(h)d(1987.)212 993 y(T)m(ec)o(hnical)h(Rep)q(ort)e(CSL-TR-87-324,)i(Stanford)212 1038 y(Univ)o(ersit)o(y)15 b(Computer)e(System)h(Lab)q(oratory)m(.)0 1107 y([Str87])101 b(Bjarne)19b(Stroustrup.)35 b(The)18 b(ev)o(olution)j(of)d(C++,)212 1153y(1985)g(to)e(1987.)29 b(In)17 b Fc(USENIX)e(C++)j(Workshop)pFq(,)212 1198 y(pages)c(1{22.)f(USENIX)g(Asso)q(ciation,)i(1987.)01267 y([Sub91])89 b(Indira)20 b(Subramanian.)36 b(Managing)20b(discardable)212 1313 y(pages)g(with)f(an)h(external)g(pager.)35b(In)19 b Fc(USENIX)212 1359 y(Mach)k(Symp)n(osium)p Fq(,)i(pages)g(77{85,)j(Mon)o(terey)m(,)212 1404 y(California,)15 b(No)o(v)o(em)o(b)q(er)e(1991.)01473 y([TD93])95 b(Da)o(vid)23 b(T)m(arditi)g(and)f(Amer)f(Diw)o(an.)43b(The)21 b(full)212 1519 y(cost)13 b(of)f(a)g(generational)j(cop)o(ying)f(garbage)g(collec-)212 1564 y(tion)k(implemen)o(tation.)30b(Unpublished)q(,)20 b(Septem-)212 1610 y(b)q(er)13 b(1993.)01679 y([UJ88])103 b(Da)o(vid)20 b(Ungar)e(and)h(F)m(rank)f(Jac)o(kson.)33b(T)m(en)o(uring)212 1725 y(p)q(olicies)14 b(for)d(generation-based)j(storage)d(reclama-)212 1770 y(tion.)18 b(In)13 b(Meyro)o(witz)h([Mey88],)f(pages)g(1{17.)0 1839 y([Ung84])83 b(Da)o(vid)34 b(M.)e(Ungar.)75b(Generation)34 b(sca)o(v)o(eng-)212 1885 y(ing:)18 b(A)13b(non-disruptiv)o(e)j(high-p)q(erformance)f(stor-)212 1931y(age)22 b(reclamation)i(algorithm.)44 b(In)22 b Fc(A)o(CM)g(SIG-)2121976 y(SOFT/SIGPLAN)10 b(Softwar)n(e)g(Engine)n(ering)e(Sym-)2122022 y(p)n(osium)23 b(on)g(Pr)n(actic)n(al)f(Softwar)n(e)g(Development)2122068 y(Envir)n(onments)p Fq(,)f(pages)h(157{167.)h(A)o(CM)e(Press,)2122113 y(April)11 b(1984.)g(Published)i(as)c Fc(A)o(CM)i(SIGPLAN)d(No-)2122159 y(tic)n(es)k(19)p Fq(\(5\),)g(Ma)o(y)m(,)h(1987.)0 2228y([USE92])76 b(USENIX)10 b(Asso)q(ciation.)k Fc(USENIX)9 b(C++)j(Confer-)2122273 y(enc)n(e)p Fq(,)f(P)o(ortland,)j(Oregon,)g(August)f(1992.)02342 y([W)m(an89])76 b(Thomas)22 b(W)m(ang.)44 b(MM)21 b(garbage)i(collector)g(for)212 2388 y(C++.)15 b(Master's)e(thesis,)g(California)i(P)o(olytec)o(hnic)212 2434 y(State)c(Univ)o(ersit)o(y)m(,)h(San)f(Luis)g(Obisp)q(o,)h(California,)212 2479 y(Octob)q(er)i(1989.)0 2548 y([WB94])86b(P)o(aul)14 b(R.)e(Wilson)i(and)f(V.)f(B.)g(Bala)o(y)o(oghan.)19b(Com-)212 2594 y(pressed)14 b(paging.)19 b(In)13 b(preparation,)i(1994.)101155 y([WDH89])55 b(Mark)12 b(W)m(eiser,)g(Alan)g(Demers,)g(and)g(Carl)g(Hauser.)1223 101 y(The)19 b(p)q(ortable)h(common)f(run)o(time)h(approac)o(h)g(to)1223 147 y(in)o(terop)q(erabili)q(t)o(y)m(.)c(In)11 bFc(Pr)n(o)n(c)n(e)n(e)n(dings)e(of)i(the)g(Twelfth)1223 192y(Symp)n(osium)h(on)g(Op)n(er)n(ating)g(Systems)g(Principles)pFq(,)1223 238 y(Decem)o(b)q(er)i(1989.)1011 302 y([WF77])88b(Da)o(vid)16 b(S.)e(Wise)h(and)g(Daniel)h(P)m(.)d(F)m(riedman.)22b(The)1223 347 y(one-bit)16 b(reference)e(coun)o(t.)23 b Fc(BIT)pFq(,)14 b(17\(3\):351{359,)1223 393 y(Septem)o(b)q(er)g(1977.)1011457 y([WH91])84 b(P)o(aul)16 b(R.)f(Wilson)j(and)e(Barry)g(Ha)o(y)o(es.)24b(The)15 b(1991)1223 503 y(OOPSLA)9 b(Workshop)h(on)g(Garbage)g(Collection)h(in)1223 548 y(Ob)r(ject)e(Orien)o(ted)i(Systems)f(\(organizers')h(rep)q(ort\).)1223 594 y(In)17 b(Jerry)h(L.)f(Arc)o(hibald,)j(editor,)fFc(OOPSLA)f('91)1223 640 y(A)n(ddendum)f(to)i(the)f(Pr)n(o)n(c)n(e)n(e)n(dings)p Fq(,)f(pages)j(63{71,)1223 685 y(Pho)q(enix,)13 b(Arizona,)f(Octob)q(er)f(1991.)g(A)o(CM)g(Press.)1223 731 y(Published)k(as)d Fc(OOPS)i(Messenger)d(3)p Fq(\(4\),)g(Octob)q(er)1223 777 y(1992.)1011841 y([Whi80])82 b(Jon)11 b(L.)g(White.)k(Address/memory)e(managemen)o(t)1223886 y(for)h(a)g(gigan)o(tic)i(Lisp)f(en)o(vironmen)o(t,)h(or,)e(GC)g(con-)1223 932 y(sidered)j(harmful.)26 b(In)16 b Fc(LISP)f(Confer)n(enc)n(e)pFq(,)f(pages)1223 978 y(119{127,)23 b(Redw)o(o)q(o)q(d)e(Estates,)g(California,)j(Au-)1223 1023 y(gust)13 b(1980.)1011 1087 y([Wil90])93b(P)o(aul)18 b(R.)e(Wilson.)30 b(Some)17 b(issues)h(and)g(strategies)12231133 y(in)10 b(heap)h(managemen)o(t)f(and)h(memory)f(hierarc)o(hies.)12231178 y(In)j Fc(OOPSLA/ECOOP)h('90)f(Workshop)f(on)h(Gar-)12231224 y(b)n(age)18 b(Col)r(le)n(ction)f(in)i(Obje)n(ct-Oriente)n(d)e(Systems)pFq(,)1223 1270 y(Octob)q(er)11 b(1990.)i(Also)d(app)q(ears)i(in)fFc(SIGPLAN)e(No-)1223 1315 y(tic)n(es)j(23)p Fq(\(1\):45{52,)h(Jan)o(uary)g(1991.)1011 1379 y([Wil91])93 b(P)o(aul)19 b(R.)e(Wilson.)33b(Op)q(erating)20 b(system)e(supp)q(ort)1223 1425 y(for)13b(small)i(ob)r(jects.)20 b(In)13 b Fc(International)e(Workshop)12231471 y(on)k(Obje)n(ct)f(Orientation)f(in)h(Op)n(er)n(ating)g(Systems)pFq(,)1223 1516 y(pages)k(80{86,)h(P)o(alo)f(Alto,)g(California,)i(Octob)q(er)1223 1562 y(1991.)13 b(IEEE)h(Press.)j(Revised)e(v)o(ersion)g(to)e(app)q(ear)1223 1608 y(in)h Fc(Computing)e(Systems)p Fq(.)1011 1672 y([Wis85])88b(Da)o(vid)29 b(S.)e(Wise.)62 b(Design)29 b(for)f(a)f(m)o(ultipro-)12231717 y(cessing)18 b(heap)g(with)f(on-b)q(oard)h(reference)f(coun)o(t-)12231763 y(ing.)34 b(In)18 b Fc(F)m(unctional)d(Pr)n(o)n(gr)n(amming)j(L)n(anguages)1223 1808 y(and)h(Computer)g(A)o(r)n(chite)n(ctur)n(e)pFq(,)f(pages)j(289{304.)1223 1854 y(Springer-V)m(erlag,)27b(Septem)o(b)q(er)d(1985.)47 b(Lecture)1223 1900 y(Notes)13b(in)h(Computer)f(Science)i(series,)e(no.)g(201.)1011 1964y([Wit91])88 b(P)m(.)9 b(T.)g(Withington.)14 b(Ho)o(w)9 b(real)i(is)f(\\real)g(time")h(gar-)1223 2009 y(bage)16 b(collection?)34 b(In)16b Fc(OOPSLA)f('91)g(Workshop)1223 2055 y(on)28 b(Garb)n(age)f(Col)r(le)n(ction)g(in)h(Obje)n(ct-Oriente)n(d)1223 2101 y(Systems)14b Fq([OOP91].)i(P)o(osition)f(pap)q(er.)1011 2165 y([WJ93])93b(P)o(aul)11 b(R.)f(Wilson)i(and)e(Mark)h(S.)e(Johnstone.)k(T)m(ruly)12232210 y(real-time)k(non-cop)o(ying)h(garbage)e(collection.)28b(In)1223 2256 y Fc(OOPSLA)11 b('93)g(Workshop)f(on)g(Memory)i(Manage-)12232302 y(ment)k(and)f(Garb)n(age)f(Col)r(le)n(ction)j Fq([OOP93].)25b(Ex-)1223 2347 y(panded)d(v)o(ersion)f(of)f(w)o(orkshop)h(p)q(osition)i(pap)q(er)1223 2393 y(submitted)14 b(for)f(publicatio)q(n.)10112457 y([WLM91])54 b(P)o(aul)34 b(R.)e(Wilson,)40 b(Mic)o(hael)34b(S.)f(Lam,)k(and)1223 2502 y(Thomas)14 b(G.)f(Moher.)20 b(E\013ectiv)o(e)15b(static-graph)g(re-)1223 2548 y(organization)20 b(to)d(impro)o(v)o(e)h(lo)q(calit)o(y)i(in)e(garbage-)1223 2594 y(collected)d(systems.)j(In)13b Fc(Pr)n(o)n(c)n(e)n(e)n(dings)e(of)j(the)f(1991)969 2718y Fn(66)p eop%%Page: 67 67bop 212 55 a Fc(SIGPLAN)13 b(Confer)n(enc)n(e)f(on)i(Pr)n(o)n(gr)n(amming)f(L)n(an-)212 101 y(guage)k(Design)g(and)h(Implementation)gFq([PLD91)q(],)212 147 y(pages)e(177{191.)26 b(Published)18b(as)d Fc(SIGPLAN)f(No-)212 192 y(tic)n(es)e(26)p Fq(\(6\),)g(June)h(1992.)0256 y([WLM92])54 b(P)o(aul)34 b(R.)e(Wilson,)40 b(Mic)o(hael)35b(S.)d(Lam,)37 b(and)212 302 y(Thomas)19 b(G.)g(Moher.)35 b(Cac)o(hing)20b(considerations)212 347 y(for)c(generational)j(garbage)e(collection.)29b(In)16 b Fc(Con-)212 393 y(fer)n(enc)n(e)e(R)n(e)n(c)n(or)n(d)g(of)h(the)f(1992)g(A)o(CM)i(Symp)n(osium)212 439 y(on)d(LISP)g(and)f(F)m(unctional)e(Pr)n(o)n(gr)n(amming)p Fq(,)h(pages)212 484 y(32{42,)17 b(San)f(F)m(rancisco,)h(California,)h(June)e(1992.)212 530 y(A)o(CM)d(Press.)0 594y([WM89])78 b(P)o(aul)16 b(R.)f(Wilson)i(and)e(Thomas)h(G.)e(Moher.)23b(De-)212 640 y(sign)i(of)e(the)h(Opp)q(ortunistic)i(Garbage)e(Collec-)212685 y(tor.)k(In)17 b Fc(Confer)n(enc)n(e)e(on)h(Obje)n(ct)g(Oriente)n(d)g(Pr)n(o-)212 731 y(gr)n(amming)i(Systems,)g(L)n(anguages)e(and)h(Applic)n(a-)212777 y(tions)e(\(OOPSLA)i('89\))e(Pr)n(o)n(c)n(e)n(e)n(dings)pFq(,)f(pages)j(23{)212 822 y(35,)31 b(New)c(Orleans,)k(Louisiana,)i(1989.)28b(A)o(CM)212 868 y(Press.)0 932 y([WW88])74 b(Charles)17 b(B.)f(W)m(einsto)q(c)o(k)i(and)f(William)i(A.)d(W)m(ulf.)212 978 y(Quic)o(k\014t:)i(an)13b(e\016cien)o(t)g(algorithm)i(for)d(heap)h(stor-)212 1023 y(age)26b(allo)q(cation)q(.)58 b Fc(A)o(CM)26 b(SIGPLAN)e(Notic)n(es)pFq(,)212 1069 y(23\(10\):141{144,)14 b(Octob)q(er)g(1988.)01133 y([WWH87])45 b(Ifor)25 b(W.)f(Williams)q(,)30 b(Mario)c(I.)e(W)m(olczk)o(o,)k(and)212 1178 y(T)m(rev)o(or)15 b(P)m(.)f(Hopkins.)24b(Dynamic)17 b(grouping)g(in)f(an)212 1224 y(ob)r(ject-orien)o(ted)g(virtual)f(memory)f(hierarc)o(h)o(y)m(.)21 b(In)212 1270 y Fc(Eur)n(op)n(e)n(an)9b(Confer)n(enc)n(e)f(on)i(Obje)n(ct)f(Oriente)n(d)h(Pr)n(o-)2121315 y(gr)n(amming)p Fq(,)16 b(pages)i(87{96,)f(P)o(aris,)h(F)m(rance,)g(June)212 1361 y(1987.)13 b(Springer-V)m(erlag.)0 1425 y([YS92])102b(Akinori)20 b(Y)m(oneza)o(w)o(a)f(and)g(Brian)h(C.)d(Smith,)k(ed-)2121471 y(itors.)46 b Fc(R)n(e\015e)n(ction)19 b(and)i(Meta-L)n(evel)g(A)o(r)n(chite)n(c-)212 1516 y(tur)n(e:)f(Pr)n(o)n(c)n(e)n(e)n(dings)13b(of)i(the)f(International)e(Work-)212 1562 y(shop)d(on)h(New)g(Mo)n(dels)f(for)h(Softwar)n(e)f(A)o(r)n(chite)n(ctur)n(e)212 1608 y('92)pFq(,)j(T)m(oky)o(o,)h(Japan,)h(No)o(v)o(em)o(b)q(er)g(1992.)f(Researc)o(h)2121653 y(Institute)g(of)e(Soft)o(w)o(are)h(Engineering)i(\(RISE\))e(and)2121699 y(Information-T)m(ec)o(hnology)27 b(Promotion)f(Agency)m(,)2121745 y(Japan)14 b(\(IP)m(A\),)e(in)i(co)q(op)q(eration)i(with)d(A)o(CM)g(SIG-)212 1790 y(PLAN,)f(JSSST,)h(IPSJ.)0 1854 y([Y)m(ua90a])67b(T)m(aic)o(hi)11 b(Y)m(uasa.)h(The)d(design)j(and)e(implemen)o(tation)2121900 y(of)j(Ky)o(oto)g(Common)g(Lisp.)18 b Fc(Journal)13 b(of)g(Informa-)2121945 y(tion)g(Pr)n(o)n(c)n(essing)p Fq(,)d(13\(3\),)i(1990.)02009 y([Y)m(ua90b])65 b(T)m(aic)o(hi)21 b(Y)m(uasa.)35 b(Real-time)21b(garbage)f(collection)212 2055 y(on)12 b(general-purp)q(ose)i(mac)o(hines.)hFc(Journal)c(of)h(Sys-)212 2101 y(tems)h(and)g(Softwar)n(e)pFq(,)e(11:181{198,)j(1990.)0 2165 y([Zor89])95 b(Benjamin)23b(Zorn.)42 b Fc(Comp)n(ar)n(ative)20 b(Performanc)n(e)212 2210y(Evaluation)10 b(of)i(Garb)n(age)e(Col)r(le)n(ction)h(A)o(lgorithms)pFq(.)212 2256 y(PhD)h(thesis,)g(Univ)o(ersit)o(y)g(of)f(California)i(at)e(Berk)o(e-)212 2302 y(ley)m(,)37 b(EECS)31 b(Departmen)o(t,)37b(Decem)o(b)q(er)c(1989.)212 2347 y(T)m(ec)o(hnical)15 b(Rep)q(ort)f(UCB/CSD)f(89/544.)0 2411 y([Zor90])95 b(Benjamin)16 b(Zorn.)22 b(Comparing)16b(mark-and-sw)o(eep)212 2457 y(and)26 b(stop-and-cop)o(y)g(garbage)g(collection.)55 b(In)212 2502 y Fc(Confer)n(enc)n(e)13 b(R)n(e)n(c)n(or)n(d)h(of)g(the)g(1990)f(A)o(CM)j(Symp)n(o-)212 2548 y(sium)h(on)g(LISP)h(and)e(F)m(unctional)f(Pr)n(o)n(gr)n(amming)212 2594 y Fq([LFP90],)e(pages)g(87{98.)1011 55 y([Zor93])95 b(Benjamin)12 b(Zorn.)j(The)c(measured)h(cost)f(of)f(conser-)1223 101 y(v)n(ativ)o(e)k(garbage)g(collection.)19b Fc(Softwar)n(e|Pr)n(actic)n(e)1223 147 y(and)12 b(Exp)n(erienc)n(e)pFq(,)e(23\(7\):733{756,)k(1993.)969 2718 y Fn(67)p eop%%Trailerenduserdict /end-hook known{end-hook}if%%EOF