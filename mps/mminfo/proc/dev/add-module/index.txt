                PROCEDURE FOR ADDING A MODULE TO THE MPS
                          proc.dev.add-module
                            incomplete proc
                           gavinm 1997-04-07


INTRODUCTION

History

.hist.0: Copied from mail.drj.1997-03-11.12-23 ; probably not complete -- 
GavinM 1997-04-07

.hist.1: Updated for current makefile orgnization.  pekka 1999-07-12


PROCEDURE

.assume.name: Assume the module to be added is called new.c

.assume.core-mpm: Assume the module to be added is part of the core mpm (and 
therefore probably not a pool).

.determine.parts: Determine which parts of the MPS need to incorporate new.c.
  .determine.parts.probably:  Probably this will be the MPMCOMMON and possibly 
SWCOMMON, or the platform-specific parts MPMPF and SWPF.

.determine.makefiles: The makefiles to change are: for Unix, impl.gmk.comm and 
perhaps the platform makefiles (impl.gmk.??????); for PC, the platform 
makefiles w3*.nmk; and for Mac, s7ppac:Makefile and s760ac:Makefile.

.makefile.part.change: The makefiles contain macros that define for each part 
which modules comprise it.  Add the module to the right macros.
  .makefile.part.change.long: Remember that long macros can be split across 
more than one line, on PC and Unix using '\' (reverse solidus) at the end of a 
line, on a Mac using '¶'.

.make.ready: You will now be able to build the MM using the new module.  No 
doubt you will find this useful if you want to compile or test the new module.

