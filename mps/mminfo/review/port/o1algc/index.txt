                 REVIEW OF DAVID MOORE'S DEC ALPHA PORT
                           review.port.o1algc
                           incomplete review
                           richard 1995-08-10


ISSUES:

#  Loc         T Rule    Who      Notes
1  arch.h      m         dsm      "8" should be CHAR_BIT
2  archal.h    m         richard  Choice of ARCH_ALIGNMOD should be documented.
3  c.guide.pp  m         dsm      #endifs should be commented with condition
4  ?           m         drj      Contents of std.h not explained.
5  std.h       m         richard  Headers beginning "std" are reserved by ANSI?
6  pervasive   m         dsm      Short names for platforms should be used 
consistently
7  {arch,os}.h m         dsm      Build system should document short and long 
names
8  {osmac,oslinux,sunos,arch386,arch68k,archspar}.h
               m         richard  Names inconsistent with short platform codes
9  pervasive   m         dsm      Copyright message policy not documented
10 pervasive   M         richard  Convert NOTE comments to recorded issues
11 pervasive   m         dsm      Zero should be cast to appropriate type
12 pervasive   s         dsm      Suggest no implicit conversions anywhere
13 arenast.h   m         dsm      Selection of OS by define (against convention)
14 pervasive   s         drj      Can't tell width of enum (define rules)
15 regsig.h    M         dsm      Need RegSigIsValid for consistency
16 pervasive   m         richard  Addr->Word, Addr->Size, etc.
17 build       m         dsm      Overnight doesn't try all platforms
18 resource    m         dsm      schiele/bessie are resource dependencies
19 resource    m         dsm      gnumake/gcc are resource dependencies
20 build       m         dsm      products/prod inconsistently named
21 ?           m         richard  Check-in procedure undefined.



REQUEST

From: David Moore <dsm>
Date: Wed, 2 Aug 95 13:51:36 BST
To: mm
Subject: request for review (o1algc port)

I have been working on the alpha port.  I would like the following
material to be reviewed:
[ This is quoted from my port notes.  The actual material is in my
filespace.]

Changes

created  tools/o1algc/product.mak
  based on tools/gc/product.mak
  added LIBS parameter to allow linking of maths library required for
  some tests

created  products/std/tools/o1algc/makefile
created  products/std/include/archal.h
created  products/std/include/oso1.h
modified products/std/include/arch.h
modified products/std/include/os.h
  as appropriate

created  products/std/include/archtm.h
created  products/std/include/ostm.h
  I thought these template files might be useful.
  Should they go in etc/templates?

modified products/std/include/misc.h
  PARAWIDTH:  1 changed to 1L etc.


modified products/mpm/src/arenan.c
  PARAWIDTH:  0 to (Addr)0

modified products/mpm/include/arenast.h
  as appropriate (OS dependency) -- using ansi arena

modified products/mpm/include/root.h
  WCONVERSION:  changed RootMode to be unsigned int instead of 
  unsigned char.
modified tools/o1algc/product.mak
  WCONVERSION: removed -Wconversion flag.
modified products/mpm/include/root.h
  WCONVERSION:  changed RootMode back


modified products/poolamc/src/poolamc.c
  UNINIT:  initialised refsig in AMC init() method

modified products/poola/src/poola.c
  REDUNDANT: deleted unused print code

modified tests/amcstres/src/main.c
modified tests/dwstress/src/main.c
modified tests/dwcover/src/main.c
  THIRTYTWO: removed some of these dependencies

created  products/mpm/tools/o1algc/makefile
created  products/dw/tools/o1algc/makefile
created  products/poolamc/tools/o1algc/makefile
created  products/poola/tools/o1algc/makefile
created  tests/stress/tools/o1algc/makefile
created  tests/stdcover/tools/o1algc/makefile
created  tests/dwcover/tools/o1algc/makefile
created  tests/dwstress/tools/o1algc/makefile
created  tests/amcstres/tools/o1algc/makefile
created  tests/mpmcover/tools/o1algc/makefile
created  tests/testlib/tools/o1algc/makefile
created  tests/amccover/tools/o1algc/makefile
  as appropriate
  had to add LIBS = -lm to for some tests which used fmod


