                      REVIEW OF IMPL.H.MPMTYPES.4
                        review.impl.h.mpmtypes.4
                              draft review
                           gavinm 1996-07-23

Rules: rule.universal, rule.impl.c.*
Candidate status: accepted

Author: richard
Leader: gavinm
Editor: richard
Scribe: gavinm
Approved: 1996-11-01

Loggingrate: 3.1

Number of major issues: 5
Number of issues: 59
Major defects remaining: 1

Exit: exit.universal


Exit notes:

exit.universal.record skipped for legacy reasons -- gavinm



Candidate: impl.h.mpmtypes(4)
Rules: rule.universal, rule.impl.c.*
Checklists:
Author:
Leader: GavinM
Editor:
Scribe:
Status: [???]
Entry:
Exit:
Checkers: GavinM
Rate:
Kickoff: 1996-07-24 14:00 BST, 

LOGGING

Start: 16:11

richard
1. 11 m no design
2. 22 m misplaced doc design?
3. 24 M untagged documentation (8 occurrences)
4. 34 m grammatical error "it can".
5. 39 m missing tag reference
6. 41 m incomplete documentation, relationship to size_t
7. 62 m unclear
8. 53 m incomplete doc: what does "intended" mean?
9. 56 m unclear where MPS_T_WORD comes from or what it is
10. 56-63 m no tags referring to the untagged documentation above
11. 65-89 m unclear purpose of tag references
12. 70,73 m no documentation
13. 74-89 M no design
14. 94 m no tag on this documentation
15. 98 I design.mps.class-interface is incomplete (BufferFill/Trip/Cover/Expose)
16. 113-122 m ugly layout
17. 127 m untagged documentation
18. 131 I design.mps.format-interface is empty
19. 131 m missing reference to mps.h
20. 144 m untagged docuemntation
21. 147 I design.mps.root-interface is empty
22. 156-158 m no documentation of access stuff exists
23. 160 m gratuituous 2's complement dependency (as spotted by drj)
24. 162-173 m misplaced design documentation / missing design doc
25. 162-173 m where are these things used?
26. 175 m no reference to anywhere, what is it?
27. 175-181,183-188 m misplaced design

drj
28. 62 m what if sizeof(long) * CHAR_BITS > UINT_MAX ?
29. 66 c I prefer unsigned int
30. 66 M mps_rank_t is _int_ not unsigned
31. 1 m tag and title is inconsistent with mps.h
32. 9 m breaks rule.universal.tag
33. 17 m unnecessary
34. lib.h I this file serves two purposes when it shouldn't?
35. 29 m Byte is never used
36. 39 m need to add the use of <,>,<= etc. to the documentation
37. 116 m should be using US spelling for "grey"
38. 119 c IO parameters should come after return parameters and before input 
parameters
39. 144 m &scan should go after locate
40. 162 m inconsistent with the shift convention in 157 and 158
41. 164 m pm is inconsistent with AccessSet

nickb
42. 49,50 m this is not true: think 32 not 5!
43. rule.universal I need rule.universal.true: statements must be true
44. 65-89 m need some additional comment telling me what these things are
45. 101 m where is type Res defined?  } expected line 64
46. 118 m where is type Bool defined? }  ditto
47. 139 M this has to be a size_t, I think
48. 160,161 m need to be tagged with a document
49. 175 m refer to type Rank
50. 176-180 M link to impl.h.mps.ranks
51. 183 m refer to type rootvar

gavinm
52. 58,74-89 m document whether these types are complete
53. 65-67 m inconsistent documentation
54. 113 q why don't we have a pointer type for this?
55. 118 m return parameter not at start
56. 137 m "is" function doesn't return bool
57. 162 m fmt is poor abbreviation
58. 164-165 q what does pm stand for?
59. 101-139 q is whether a function returns Res well defined and stable?

Logging end: 16:30
Logging rate: 19 seconds/issue, 3.1 issues/minutes

5 major.

Brainstorm: 16:46

Process
What happened to ".class.comment"?
Gilb omits this.  Should we include it?  What is its benefit?  It starts 
discussion.

Classify while you check: Richard found himself logging rules and potential 
rules.  Both a generic ans specific part to each issue.  It would slow you down 
to look up every rule.

Log phrasing: Not "do this", but "this isn't clear".  Related to rule checking.

Scribes and editors: The editor needs to be able to understand what the scribe 
writes.  For them to be the same is a good solution, but isn't essential.

Paper: Wasted lots.  Source sets were incomplete and unuseful.  Need checker's 
handbook?


30. This is another missing backwards link.  Why wasn't this checked?  Need 
stronger checking.

47. Needs to be documented why these are as they are.  cf line 150.

End: 16:56


EDIT

Editor: richard
Date: 1996-10-23

1. Created design document: design.mps.types.
2. Moved to design document.
3. Tagged up the design document.
4. Corrected in design document.
5. Ditto.
6. Ditto.
7. Ditto.
8. Noted in design document.
9. Corrected in design document.
10. Tags now refer to design.
11. Ditto.
12. Corrected in design document.
13. Some design documents created and referenced.
14. Documentation moved to design.mps.class-interface.
15. Noted.
16. The alternatives are uglier.
17. Documentation moved to design.mps.format-interface.
18. It now contains a little documentation, and a reference to meetings with 
rit.
19. Added reference to impl.h.mps.fmt-methods.
20. Documentation moved to design.mps.root-interface.
21. design.mps.root-interface now contains a little documentation.
22. Now partially documented in design.mps.type, and referenced.
23. Bogus issue.  It's a TraceId not a TraceSet.
24. Moved to design doc.
25. Documented in design doc.
26. Now references design.mps.type.rank.
27. Ditto.
28. Statically impossible, by the ANSI standard.
29. Noted.
30. Changed mps_rank_t to unsigned in impl.h.mps.
31. Changed banner comment in impl.h.mps.
32. Not important enough.
33. False.  mps_lib_FILE is required by prototypes later.
34. Documented in design.mps.lib.
35. Might be useful in future.  Left in.
36. Documented in design.mps.type.addr.ops.
37. Ignored.  This is going to go away soon anyway.
38. This is a pain to change.  Noted.
39. Added to design document.
40. Switched to shift convention.
41. Noted.  This will change anyway with tracer changes.
42. Corrected in design document.
43. Out of scope of edit.
44. Now references design document.
45. Res is defined in misc.h.  Perhaps it should be moved.
46. Bool is defined in misc.h.  Perhaps it should also be moved.
47. No it doesn't, but we have to write about our assumption.  See 
design.mps.interface.c.pun.size.
48. These now refer to design.mps.tracer.
49. Now refers to design.
50. Now links to impl.h.mps.ranks.
51. Now refers to design.
52. See design.mps.type.addr.def.
53. Fixed.
54. Answered in mail.
55. Noted for when I change the tracer.
56. It's like that for optimisation reasons.
57. Your opinion has been noted.
58. Answered in mail.
59. Answered in mail.

Exited 1996-11-01


