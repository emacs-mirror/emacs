             REVIEW OF IMPL.H.MPM(10), LINES 86-138 (RINGS)
                          review.impl.h.mpm.10
                              draft review
                           gavinm 1996-09-24

Rules: rule.impl, rule.universal
Checklists: check.impl.*, check.universal.cons
Source: impl.h.mpmst, impl.c.ring
Candidate status: accepted

Author: drj
Leader: gavinm
Editor: drj
Scribe: gavinm
Approved: 1997-03-18

Entry: entry.impl, entry.universal
Entry manpower: 0.1


Entry notes:

entry.universal.rules-approved: Both rulesets are draft
entry.universal.source-available: No design doc
entry.universal.training: Failed as usual


Loggingstart: 15:53
Loggingend: 16:03
Logginglength: 10
Loggingrate: 1.8

Checkers: DRJ;Richard;NickB;PTW;GavinM
Rate: 5 lines/minute
Length: 53
Actual checking time: 55

Kickoff start: 1996-09-24 14:00 BST Byre, Longstanton (see review.impl.c.protan.2)


ISSUES:

DRJ: 1m 1q 2I
Richard:
NickB: 1m 1C
PTW: 2M 1m
GavinM: 8m 1q

PTW: 
1. 132-133 M Could there be some sort of AVER that this has worked for 
debugging purposes; e.g. Signature
2. 137 M Multiple evaluation of ring
3. 133 m Why not offsetof (Q?)

DRJ: 
4. 120 q Can void expressions be used anywhere that a statement could not?
5. 135 m var never gets set to ring; missing design
6. 70 I except 0
7. 83 I No section comment

Richard:
8. 93,102,110,121 CN Could avoid multiple evaluation

NickB: 
9. 88,etc m Named parameters in prototype in header file
10. - C Should we write a RingJoin?

GavinM:
11. 88,89,&c m prototype should reference impl
12. 92,101,&c m macros should reference function impl
13. 92,101,&c m macros should be taggedd
14. 92,100,&c m macro parameters should be better named to avoid clash
15. 123-124 m should be reference to singleton behavious doc (design)
16. 132,135 m these macro definitions should be tagged
17. 132,135 m should refer to their doc

NickB:
18. 92,101,109,etc mN These macros are not really function-like; would have to 
have expression assertion mechanism


Brainstorm start: 16:46
Brainstorm end: 16:52
Brainstorm length: 6


BRAINSTORM:

[ What happened? -- GavinM 1997-03-18 ]


Number of major issues: 2
Number of minor issues: 11
Number of issues: 18
Major defects remaining: 2

Edit manpower: 6


Edit notes:

1. Issue: mailed round.  mail.drj.1997-03-05.12-45
2. Reject: It is okay for a non-function-like macro to do multiple evaluation.  
mail.richard.1996-03-21.16-25
3. Reject: We don't use offsetof here as the offset may not be constant (if the 
ring is in an array for example).
4. Answer: Yes, on the left hand of a comma operator.  mail.drj.1997-03-05.13-13
5. fix: design.mps.ring.for
6. edit: impl.h.mpm, added comment.
7. edit: impl.h.mpm, added comment, ref to design.
8. fix: applied some of diff mpm.h -version MMdevel_trace2.1 -to-version 
MMdevel_trace2.0
9. reject: this is a policy issue to be decided.
10. added note to design.mps.ring.improve.join
11. reject: it already says see impl.c.ring, I think that is enough.
12. reject: no, because the function implementations are trivial.
13. fixed: they are now tagged.
14. reject: actually this is not a problem, because macro expansion "Does The 
Right Thing", er.
15. fixed: Now references design, which now has a note.
16. fixed: now tagged
17. fixed: whole section references the design.
18. issue: mail.drj.1997-03-05.13-13


Exit: exit.universal
Exit manpower: 0.2

Manpowerused: 8.6
Manpowersaved: 20
