                REVIEW OF IMPL.H.MPM(28), LINES 194-223
                          review.impl.h.mpm.28
                           incomplete review
                           gavinm 1997-05-12

Rules: rule.universal(4), rule.impl(3)
Source: design.mps.bt(1)
Candidate status: draft

Author: drj
Leader: gavinm
Editor: drj
Scribe: gavinm

Entry: entry.universal(0), entry.impl(0)
Entry manpower: .1


Entry notes:

Failed entry.universal.source-approved, and entry.universal.training


Loggingstart: 15:32 BST
Loggingend: 15:47
Logginglength: 15
Loggingrate: 1.5

Rate: 5 lines
Length: 30 lines

Kickoff start: 1997-05-14 BST (see review.design.mps.bt.1(0))


ISSUES:

Richard: 1M 2m  ? minutes
DRJ: 3M (1N) 1m  6 minutes
NickB: 1M 1m  5 minutes
PTW: 3M 1q  10 minutes
Sheep: 3q 4M  10 minutes
GavinM: 4m 1I 1q  8 minutes

1. Sheep - I Includes misc.h, but we don't know this
2. Richard - m No spaces in expressions makes thwm less clear
3. " - M Lift comment sub-expressions
4. DRJ 3 I "$" is not portable in source character set; this assumption is not 
documented
5. " 1-5 I No readership or purpose
6. DRJ 201 M Unclear, partly because of precendence
7. NickB 201 NM Computes soemthing of type Word, not int
8. PTW " M "i" is multiply evaluated
9. Sheep " I General assumption that MPS_WORD_WIDTH is a power of 2, same as 
MPS_WORD_SHIFT; could change one and not the other
10. GavinM 202,209,217 I How about MPS_WORD_MASK?
11. Sheep 202 mN Shoudl we be consistent about when we use BEGIN/END?
12. Richard 209,216,217 M macro parameter used several times unnecessarily
13. Richard " I Thios conventiopn should be documented (statemenyt blocks)
14. PTW 216 I C shoudl have ~= op
15. GavinM 214 m a,i might be better as table,index
16. " m " What about _'s?
17. NickB 223,197 Nm What's this "unsigned long" then?
18. GavinM 220-222 m No design referenced
19. DRJ 223 m unsigned long should be counts
20. PTW ? M size is not stored in table
21. NickB 222-223 q Do we have a convention about mutiple line argumenbt in 
prototypes
22. GavinM - m Why don't we have parameter names, even in comments?
23. Richard - I Spending all time not logging issues


Brainstorm start: 16:24
Brainstorm end: 17:00


BRAINSTORM:

8,12: mutiple evaluation of macro arguments
DRJ: Easy to forget thgat it's a bad thing when writing macros
PTW: Sometimes impossible to wrok around; need to tell client
GavinM: We have a convention for that.
DRJ: Easy to say checklist, but we hace cecklists for everything and they 
aren't used
Richard: Does it happen elsewhere?  Decision and justification in mail; need to 
be in implementation guide.
C guidelines need an overhaul.
GavinM: I tend just to add; need to be more riuthless
Richard: Guidelines should be smaller and better; important things to check.
GavinM: LCLint can help

design: 28,29: storage: 
DRJ: Design incomplete.  I though it was obvious.  Wrote both ends of the code.
PTW: ... and extracted code into separate module, but didn't do the whole 
procedure as for writing from scratch.
DRJ: A more traditional interface would magically solve the problem.
Sheep: You could still make assumtpions
GavinM: But would be the same as elsewhere
PTW: Do we have a p[olicy for ADTs to have signatiures
Richard: Halfwaybetween an ADT and bit-twidling.
PTW: needs to be ADT for separate module.
Richard: guidelines say ADTs must have these
DRJ: Design would be much improved if it had conformed.
Richard: Need good reason not to conform, and it must be documented.
David performed the smallest correctness-preserving transformation.  Sound evo.
PTW: Two principles to follow.
DRJ: Shoudl first do minimum change, then change interface to use ADT.  This 
should be documented, and have two requests in Darwin.

4,3,5: $ 
NickB: $ is not defined to be in either source or execution character sets.
GavinM: Hope attribute for escape character.
DRJ: Not worth it.
GavinM: document as assumption

DRJ: 3 Lifting our common sub-expressons
Richard: Could write this so it looks really nice.
PTW: Take away the paste key
DRJ: I guess I wasn't too worried because it was abstracted enough.
Richard: Be paid by the abstraction.

Richard: Loggin order
It does help us to focus, and find more new issues.  We need to invent a better 
protocol.
GavinM: Has small sections to minise number of people
DRJ: How about have large sections (e.g. page) and go round people.
Richard: 40-50 lines
PTW: IRC chat.  
GavinM: [ASSIST ...]
Richard: Can use IRC safely now.  Could keep IRC session open in general.
GAvinM: useful for general discussion; and logged

NickB: Design process is coming along nicely.
Richard: This document demonstrates how the whole concept of a design document 
is coming along nicely.  Simple module.
NickB: findResRange is among the more complex pieces of code in the MPM
GavinM: Remmeber our proposal to "design" hello world.

Sheep: My ear hurts.
[ VR speculation. ]
IP phones

Richard: Pekka



Number of issues: 23

Exit: exit.universal(0) 
