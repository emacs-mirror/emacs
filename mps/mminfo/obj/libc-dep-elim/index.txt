                ELIMINATE DIRECT C LIBRARY DEPENDENCIES
                           obj.libc-dep-elim
                         obsolete complete obj
                           richard 1995-08-24

Responsible: drj
Due: 25/08/95
Products: impl.*
Sources: impl.*
Procedures: guide.impl.c;proc.universal


Resolve issue.clib-dep.

Go through the sources and locate all C library dependencies.  These are uses 
of the C library which wouldn't be available in the "Freestanding environment" 
defined in the ANSI C standard (standard.ansic) (approximately anything not in 
limits.h, stdarg.h, or stddef.h).  Where we use ANSI C functions, change these 
to call functions via lib.h, and implement these functions to call the actual 
ANSI functions in liban.c.

At the end, we should have no dependency on the ANSI library except from 
liban.c.


REPORT:

Thought about problem a bit.  Poorly specified, since (for example) arenan.c 
will still depend on the ANSI library.

ANSI library functions that we use (off the top of my head):
abort: 
MMprod_dw_src!dwformat.c:295
MMprod_dw_src!dw.c:91
MMprod_std_src!asrtosan.c:34
already have LibAbort()

fprintf
vfprintf
putc
fopen
memset
memcpy

I will add:
LibFormat (fprintf), LibPutChar (putc), LibFileOpen (fopen), LibMemSet 
(memset), and LibMemCopy (memcpy)

How do I cheek we have no dependencies on the ANSI library in the core system?

