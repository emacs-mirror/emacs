  THE LIMIT ON THE NUMBER OF RECURSIVE CLAIMS OF A LOCK IS UNSPECIFIED
                         issue.lock-claim-limit
                        obsolete unknown defect 
                             dsm 1995-10-18

Urgency: 3 - useful
Importance: 4 - relevant
Discoverer: drj
Discovery date: 18/10/95 12:58:02
Discovery process: review.impl.h.lock.0
Locaction: impl.h.lock, impl.c.lockan, impl.c.locknt


DESCRIPTION:

There is a limit to the number of recursive calls of a lock.
The number required to be supported is not known, and can change as we add new 
pools.

impl.c.locknt uses windows CRITICAL_SECTIONS which are believed to have a small 
limit (about UCHAR_MAX).

impl.c.lockan has a limit of ULONG_MAX.

ROOT CAUSE:



SUGGESTIONS:

Document the limitations in the short term.  My guess is that we recursively 
claim locks well under ten times, and this is just not likely to cause any 
problems.

In the long term we could either:
1. Work out what limits are needed and how to provide them
2. Move over to using binary locks.


PROCESS SUGGESTIONS:





