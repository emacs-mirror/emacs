         THE INTERIM DYLAN INTERFACE NEEDS WORK IN THE INTERIM
                            issue.dw-interim
                     obsolete unknown requirement 
                             dsm 1995-09-08

Urgency: 5 - necessary
Importance: 5 - valuable
Discoverer: dsm
Discovery date: 08/09/95 10:35:44
Discovery process: realisation during thread-safe work
Locaction: dw


DESCRIPTION:

We have an interim interface (see issue.dw-status), but this needs some work 
doing on it before it may disappear, or become the real interface.
I think we need to resolve:
.error: What happens when errors arise.  Particularly, on reserve.
.weak: .final: Weak/Final interface -- or whether this needs to be decided 
immediately
.threads: Support for threads
.buffers: Support for more than one buffer (this relates to .threads)
.expose: Whether the interface becomes more like our underlying interface.
.fault: The interface needs to allow us to install fault handlers around Dylan 
programs


ROOT CAUSE:



SUGGESTIONS:

1. Ask tony about what they want to happen on errors (.error)
2a. Start discussion about .weak and .final
2b. Design mps interface to weakness and finalisation first
3. Let dsm continue sorting out .threads with tony
4. and .buffers (buffer objects to be exposed to Dylan and not kept in global 
data).
5. and .fault
6. (.expose) Maintain a complete but thin layer between Dylan and the mps.  But 
at the same time make it more like our mps interface.  This allows us to be 
flexible, because of the level of indirection (late binding), and makes it 
easier to remove (some of) the layer if speed becomes the overriding 
requirement.

PROCESS SUGGESTIONS:





