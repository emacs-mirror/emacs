                       SOME OLD CODE USES SIZE_T
                              issue.size_t
                        obsolete unknown defect 
                           richard 1995-08-03

Urgency: 3 - useful
Importance: 4 - relevant
Discoverer: dsm
Discovery date: 24/07/95
Discovery process: Reading through code as part of learning
Locaction: Older code, particularly MV pool and MPM


DESCRIPTION:

richard: Earlier in the project the pool interface was intended for direct use 
by clients, and therefore used standard C types.  This lead to the propagation 
of size_t into the code, when the Addr type (or maybe some other Size type) 
should be used to ensure we get the right word size.

ROOT CAUSE:



SUGGESTIONS:

richard: We need to decide whether we want to define our own Size type, as an 
alias of Addr.  In any case, we should replace occurrences of size_t by 
something which we are sure about.  On the Sun, size_t is int!
dsm: This is not good enough, we have calls to things like memset() which rely 
on sizeof(Addr)<=sizeof(size_t).  We could do with lifting such dependencies 
into std/include/lib.h.  See also issue.clib-dep.

PROCESS SUGGESTIONS:





