              NOT ENOUGH CONTROL OF TARGET IN BUILD SYSTEM
                          issue.target-control
                           obsolete unknown  
                           richard 1995-08-17

Urgency: 5 - necessary
Importance: 5 - valuable
Discoverer: dsm
Discovery date: 16/08/95 16:27:06
Discovery process: Trying to profile release code
Locaction: build system


DESCRIPTION:

At present we build "debug" and "release" versions of our programs, as 
suggested by book.maguire93.  The control over annotation is exercised in 
target.h, but it's pretty much either all on, or all off.  Also, we don't 
generate varieties of library with different compier flags: optimised, 
unoptimised, map files, etc.

We need a better idea about "target varieties".  Maybe the build system should 
support a different number of these for each platform, since each platform has 
a different idea about libraries, object files, and compiler flags.

Sympoms (noted by dsm) are:
  - We cannot turn compiler debugging on in release version.
  - Cannot profile release version on NT.

ROOT CAUSE:



SUGGESTIONS:

Redesign the way we parameterize the build so that we have more control over 
the different kinds of annotation, etc.  (Signature checking, assertions, 
logging, etc.)  We also need control over compiler switches.  The build system 
should make it easy to deal with these target varieties.

PROCESS SUGGESTIONS:





