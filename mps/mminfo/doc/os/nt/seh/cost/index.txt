               THE COST OF STRUCTURED EXCEPTION HANDLING
                             os.nt.seh.cost
                               draft doc
                             drj 1994-11-02

The aim was to determine how costly taking an exception (such as a
page access fault) using Microsoft's Structured Exception Handling (SEH)
mechanism.  The usual caveats about it being an unrealistic test case
apply

The test

A cycle of allocate, write, deallocate was iterated 1000 times.  The
allocation unit was a page.  There were two programs.  In the first,
the memory was not committed on allocation, but merely reserved - a
fault handler committed the memory and resumed the faulting code.  In
the second program, the memory was committed on allocation and there
were no faults.

The first program took 1257ms, the second 926ms.
Which suggests that taking an exception near the top of the stack costs
about 300 microseconds.

