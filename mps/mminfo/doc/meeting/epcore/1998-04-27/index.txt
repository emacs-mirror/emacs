                          MEETING ON TRAPPING
                       meeting.epcore.1998-04-27
                               draft doc
                            pekka 1998-04-27

.intro: Pekka P. Pirinen met with Dave T. Berry to discover trapping 
requirements.

.when: Trapping happens after the display list has been built but before it's 
rendered.

.phase: There are two phases.  .phase.transfer: In the trapping transfer phase, 
display list objects are passed to the trapper (one by one) and the trapper 
builds its data structures.  .phase.generation: In the generation phase, the 
RIP maps over the display list and asks the trapper whether each object needs a 
"trap".  If so, an object is added to the display list (rarely deleted).

.alloc: All trapping allocation happens during the transfer phase.  As trapping 
progresses, it allocates and frees larger and larger amounts of memory.  No 
other allocation happens during trapping.

.sizes: At all times, there are objects of small (10-30B) and large (30-300kB) 
sizes.

.realloc: Reallocations are probably rare and might be smaller as well as 
larger.

.dealloc: All trapping memory is deallocated at the end of the generation phase 
(by destroying the pool, if there is a separate pool).

