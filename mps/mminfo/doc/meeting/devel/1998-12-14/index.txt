              NOTES FROM MM DEVELOPMENT & PRODUCT MEETING
                        meeting.devel.1998-12-14
                             incomplete doc
                            tony 1998-12-15

MM development/product meeting, 1998-12-14, 11:30 GMT

Telecon: Dave Berry <daveb>, Tony Mann <tony>, Pekka
Pirinen <pekka>, Richard Tucker <rit>.

Absent: David Jones <drj> (holiday).



NEWS

tony: release.epcore.brisling.pre.1 was released to QA last week.

dave: Spoke to DTB. DTB is keen to see an MM technical
presentation. Suggests it should be held at the weekly EPcore meeting
on 11th Jan. Time slot will be about 1 hour.

dave: DTB also fed back info on SW release plans. SW5.0r1 will be
released min-Jan. This does not depend on MM release plans. SW5.1 has
some more significant changes & will be released to QA at end of
Jan. EPCore expectation is to receive an MM release
(release.epcore.brisling) in mid Jan.



PLAN

tony: A significant revamp of the plan was produced last
week. Significant changes included removing the first-fit pool
improvements from Brisling, and adding a Brisling release task. This
schedules release.epcore.brisling for 18th Jan, which is later than EP
want it, and assumes no slippage. There's high-risk work involved (the
locus mgr) - so there's clearly a risk that brisling as planned might
hold up EP.  
rit: What do EP want a new release for?  
pekka: They haven't said.  
tony: But they do need a fix for the MVFF alignment restrictions.  
pekka: Only because they wanted to use it for something it is not
suited for: display lists.  
tony: Suggestion for reducing this risk: don't include locus mgr in
Brisling - but work on performance improvments elsewhere (e.g. the
VMNZ arena). If DRJ (on holiday today) is in a position to do the
latter, then we could continue the work on the locus mgr anyway
because we think it's important.  
dave: pekka could ask EPCore what they want at the meeting tomorrow.

tony: The current plan includes some tracking info. It has also been
released as .gif files, rather than .ps. Assuming nobody objects I'll
continue to release it in this way. Richard previously asked if it
might be possible to access it from a URL. You can see this now from
http://webhost.cam.harlequin.co.uk/~tony/mmplan.html which may end up
being a permanent location. More about this later.



OTHER DEVELOPMENT ISSUES

tony: Who's going to be at the EPCore meeting tomorrow?
dave: Eric, DTB & Andy from EPCore
pekka: Would prefer it if only I attend from MM.

daveb: ML have raised the issue of adding finalization to their
collector. Could DRJ look at what options are possible?

QA

rit: received release.epcore.brisling.pre.1 last Wed afternoon. It
passed the basic functional tests. I accepted the MVFF alignment
change. Performance results are as follows:-

Using SW, can't show a significant difference from anchovy.3. This is
disappointing as MVFF was expected to be faster. A small test suite
last week showed a very small time difference (around 1s). A big test
over the weekend showed small variations but nothing significant. If
anything it showed a slowdown of 1%. BUT Brisling was compiled with
VC++ version 5, whereas anchovy compiled with 4.2. 

  - This might be significant. Try to verify this. 
  - Take profiles for the ausenpln test.

The weekend test (involving the full QA test suite) also looked at
other things:

 - Using MVFF for the display list.  No significant difference in
   performance.

 - Adding further changes to splay code - inlining rotate & link;
   keeping track of neighbours on splay. Again, no significant
   difference in performance.

Total time for the weekend test was around 6000s, with a variation in
speed between runs of approx 50s to 100s. (I.e. variation between 1% &
2%). Testing is not yet complete, & haven't yet tested the new colour
management features.

tony: what about performance differences between client & virtual
arenas? 
rit: The brisling tests didn't look at that. But on previous tests,
looked at variation between client & virtual arenas. This showed
several percent difference with SW performance (VM arena slower). Saw
no benefit with use of VM arena even when memory is tight - i.e it
doesn't seem to avoid fragmentation. This difference is much more than
the difference between anchovy & brisling. Note that the results may
be platform specific. Tests have only been performed on Windows.
tony: Any chance of looking at other platforms?
rit: Suggest Irix in particular, because that platform has had
performance problems before. But I have nothing set up to do
this. I'll need to look at what preparations are necessary. It might
be possible.


WORK PRACTICES

pekka: Still outstanding approvals for old EP releases.


AOB

none


ACTION ITEMS


pekka: to discuss brisling options & timescales at EPcore meeting
tomorrow 

tony: to update plan with brisling options

rit: Determine whether version of compiler is affecting
anchovy/brisling performance tests.

rit: take profiles for the ausenpln test.

rit: look into performance diffs between client & VM arenas on Windows
& Irix platforms.

drj: look at finalization possibilities for ML & attempt to quantify
the amount of work to provide either an MPS or ML soltion.


