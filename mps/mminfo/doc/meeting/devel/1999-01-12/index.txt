             NOTES FROM MM DEVELOPMENT AND PRODUCT MEETING
                        meeting.devel.1999-01-12
                             incomplete doc
                            tony 1999-01-13

Start 1999-01-12, 12:10 GMT

Telecon: Dave Berry <daveb>, David Jones <drj>, Tony Mann <tony>, Pekka
Pirinen <pekka> (delayed by meeting with epcore), Richard Tucker <rit>.


NEWS

tony: Not much news. Final rush for getting brisling out.

tony: Presentation to EPcore is now scheduled for the 18th. Reason for
postponement was the brisling release.

tony: Have had some more discussion with Martin Simmons about MPS and LISP
migration/conversion. Nothing resourced yet but clearly the LISP group is
still thinking about it. He seems quite keen on the idea -- I think he sees
it as probably the most viable solution for getting LW running on a 64-bit
platform. But there are still issues to be addressed.

tony: We now have zaphod here at the hall for our use, and trillian has
gone. zaphod is a dual-processor sparc, running a slightly older version of
solaris.

daveb: Anything happened with giving Gavin's machine to Pekka?
tony: Not yet.

tony: Andy Sizer and I talked about LISP and about Dylan doing accurate
stack scanning. What's his position in all this?

daveb: He's moving back to the languages group, but we don't know exactly
where he's going to be yet.


+ Office moves

tony: Likelihood of a location move, or just an office move?

daveb: When I spoke to Miranda, she seemed to be suggesting moving all the
languages people over to the hall. Which means basically Jason and Keith.
There may be other moves e.g. Luke's EP group is getting a bit large.

tony: The most obvious question to ask is: should we try to get rit in the
same room as us?

rit: I'd certainly like that -- I thought it worked well when we were in
the same room before. Whereas me being here and the others at house would
be very bad.

tony: Yes.

daveb: Any preference for room?

tony: No, except for general apathy.

drj: I'm pretty neutral.

[Pekka arrives]

daveb: How about sharing with Keith and Jason?

tony: Don't mind.

pekka: Don't mind unless it's too cold!

drj: Don't mind as long as not too many people in room.

davebb: Would clashing conversations be a problem?

tony: It's a possible drawback, but then again sometimes it could be a benefit.

daveb: So I'll tell Miranda: we'd like rit with the developers and
certainly not on different sites. Other than that, fairly flexible.
Preference not to move if we don't have to.


+ EP news

pekka: There's no change in the EP timetable. Presentation next Monday.
They were asking if we could send them something on Friday, particularly so
that off-site people could look at it in advance. They're not too happy
that our work for the colour pool hasn't provided them with any
improvement. But we don't have time in  the schedule to do any more for
brisling.

pekka: The crab release of the web pages has now been installed on the
external web site. I'll announce it in a day or two.


PLAN

tony: I haven't done a revision this week, I'm afraid. So the "current"
version shows that brisling will be released to QA on Jan 8th. We've
delayed that because development work has taken longer than expected. In
particular, my bit table work and drj's VM arena work. There's a
possibility of having a release to QA without all the approvals being done
by tomorrow.

rit: Do we have any expectation of whether approvals may turn up problems?

tony: I would say it's fairly likely they will.

tony: We don't have much slack. Priority is to finish the development work
and then approvals and bug fixes.

rit: Given that there may be patches, what kind of testing should QA do
first -- functional or performance?

tony: It would be good to have a rough idea where we stand with
performance, especially the VM arena performance, quite soon. How long
would that take?

rit: For a limited test with a couple of jobs, around 2 hours.

pekka: Functional testing important because Eric wants something this week,
and we'd rather we didn't have to patch it.

daveb: What's the status of brisling? Pretty disappointing performance
results in general?

pekka: Well, yes. Colour pool investigations didn't turn up anything that
was a big help, and bit tables turned out to be less significant than we
expected. We have higer hopes for the VM arena work, though.

pekka: The quality side is not so good either-- we still have approvals to
do, and also some outstanding approvals from pilchard, sardine and minnow.
But we should have time to do most of that by the release date of the 25th.
I hope by then to be much more confident both about having got some
performance improvement, and having done the approvals.

daveb: Why didn't we get the performance we were hoping for?

pekka: With hindsight, it seems the problem is I/we didn't do enough
analysis before we tried various solutions. Now that I've talked to epcore
and they've reiterated that they really expected something for the colour
pool, there is one thing that occurs to me that we should have tried and
should perhaps still try, and that is manual allocation points. The colour
pool allocates and frees a lot, but the number of objects at one time and
the length of the free list are small. So we can attack the overhead of
calls to alloc and free. Manual allocation points have been discussed
before, but we've never implemented anything. We should perhaps try it.

tony: What's the difference from ordinary allocation points?

pekka: Similar idea, but instead of a contiguous buffer to allocate from,
you have some kind of free-list structure. (A contiguous area would be hard
to find in a manual pool.) Most allocations would then be open-coded, and
you'd only call the MPS when you run out of space in the free-list.

tony: Is it also worth considering fixed-size pool and some segregated fit
code in the glue?

pekka: I understand that's more-or-less what Andy did, tho' I haven't seen
the code. I think he was using MV beneath it. But also, according to what I
learnt today, what he also did was to preallocate stuff onto these
segregated free lists, which explains why he got such a large win. The core
group is not keen to write and maintain stuff like this -- they'd rather we
did it.


DEVELOPMENT ISSUES & RELEASE ISSUES

tony: we tend to have covered many of these things in going over the plan
anyway. Perhaps the agenda should be different?

daveb: Could perhaps put "development issues" first?

daveb: Or distinguish between "current release" and "future plans"?

daveb: Tony, you were going to look at ways of bringing the Java work
forward. (Just a reminder.)

tony: Yes. I haven't done that yet.


QA ISSUES

rit: I'm trying to get hold of a stable SW. Have encountered some problems with
colour management - but have a workaround so I can use yesterday's trunk.

rit: Issue: In an earlier meeting with Gavin, there was an decision made that
QA reports should be sent to mm-quartet mail list. This could be inappropriate
now, given the new nature of that list.
daveb: Suggest you mail them to mm-qa, and we'll ensure that appropriate people
(e.g. me) are on that list.

rit: The replay tool is no longer usable. I would like to see this fixed. It's
not important for the Brisling QA period. The main use is for short-term
performance comparisons on the same allocation streams with several variations
of MM settings. If the plan to provide a fancy tool is a long way off, then
would like a short-term fix (e.g. Mending "dumper" or possibly using lumberjack 
instead.).
tony: Will look into scheduling this work.

daveb: I've just asked to be added to mm-people. If that turns out to be
too much I'll retreat to mm-qa or mm-discussion.


WORK PRACTICES

drj: I haven't yet had time to finish my review of work practices.

daveb: I'd like to see some code reviews happening at some point.
drj, pekka, tony: Yes.

daveb: Darwin rating system. I've got some feedback on the Dylan
questionnaire, which I will pass on.

pekka: Send it to the mm-evolution list.



ANY OTHER BUSINESS


daveb: I've written up the appraisals.



Finish 12:48

