               REVIEW RECORD FOR MPMST.H(MMDEVEL_RESTR.6)
                      review.impl.h.mpmst.restr.6
                             incomplete doc
                           richard 1996-03-27

 dsm
    5193F5B1 inconsistent with 519E3FEE
    Observe that #ifdefs are used.  (Documented as banned.)
    Tabs in source.
    In ThreadStruct ref to .thread.handle (should be ...thnti3.thread.handle)
    Spello "sheild".
  drj
    Rationale should mention that sigs are defined.
    ArenaStruct is misdocumented as that used by VM.
    ArenaStruct comments should document their purpose ("VM Arena Structure").
    Comment on ArenaStruct.pageSize is wrong.
    RootStruct.marked should be grey.
    RootStruct.the.fun.p is "for scan" not "for f".
    It's better to say "iff" when you mean it.
  richard
    It's a shame about windows.h.
      Can we define win.h with pragmas?
      Can also define WINDOWS_LEAN_AND_MEAN or something.
    There could be a Sig (or Size) at the end of the PoolClassStruct.
    PoolStruct.segRing is bogus (and very old!)
    PoolStruct: "modulus" is out of favour.
    MFSStruct and MVStruct have sigs at the end.  Document.
    Win32 VMStruct.align could be called the page size.
    SunOS VMStruct.none_fd documentation should point to explanation.
    In general, structures should be tagged with the impl.
    SegStruct.p comment should say "owning" pool.
    TARGET_ARENA_ANSI should be explained.
    PageStruct really belongs to the VM Arena.
    BT could be placed in mpmtypes.h and and methods made available.
    APStruct.init etc. can be checked as co-assignable mps_ap_s.init etc.
    BufferStruct doc implies all buffers are exported to client.
    FormatStruct doc should explain the relationship with variant A etc. in
      the MPS interface.
    Correspondence between root union members and the enum should be tagged.
    ScanStateStruct.fix parameters have external naming convention.
    Why is the sig on the ScanState in the middle?
    SpaceStruct.poolReady "has pool been init" what pool?
    SpaceStruct.zoneShift "don't see ref.h".

Edit (richard)

1. Corrected ref to impl.c.thnti3.thread.handle.
2. Corrected spelling of shield.
3. Added impl.h.mpmst.rationale.sig to explain sig definition policy.
4. Corrected documentation of various ArenaStructs.
5. Changed "arena structure" to "ANSI arena structure" etc.
6. Corrected comment on ArenaStruct.pageSize.
7. Changed RootStruct.marked to RootStruct.grey.
8. Corrected comments on RootStruct.the.fun.p and RootStruct.the.fun.i.
9. Changed "if" to "iff" on space shield fields.
10. Removed Pool.segRing.  That's been there for ages!
11. Removed "modulus" where it was used incorrectly.
12. Documented position of Sigs in MFSStruct and MVStruct.
13. Added reference from SunOS VMStruct.*_fd to implementation.
14. Added references from structures to implementations.
15. Corrected comment on SegStruct.p to say "owning pool".
16. Changed impl.c.mpsi.check.ap to do a stronger check on APStruct fields.
17. Changed BufferStruct doc to say "may be exported" rather than "is exported".
18. Added comment on FormatStruct about format variants.
19. Changed naming of ScanStateStruct.fix parameters.
20. Explained placement of ScanStqteStruct.sig in comment.
21. Changed comment on SpaceStruct.poolReady to mention "control" pool.
22. Changed comment on SpaceStruct.zoneShift to refer to impl.c.ref.

