                     GENERIC TRACE STATE STRUCTURE
                             impl.h.tracest
                               draft impl
                             drj 1995-10-26

     1 /*  impl.h.tracest
     2  *
     3  *        GENERIC TRACE STATE STRUCTURE
     4  *
     5  *  $HopeName$
     6  *
     7  *  Copyright (C) 1995 Harlequin Group, all rights reserved
     8  */
     9 
    10 #ifndef tracest_h
    11 #define tracest_h
    12 
    13 #include "std.h"
    14 #include "deque.h"
    15 #include "pool.h"
    16 #include "ref.h"
    17 #include "refsig.h"
    18 
    19 
    20 typedef struct TraceSetStruct
    21 {
    22 #ifdef DEBUG_SIGN
    23   Sig sig;
    24 #endif
    25   Addr bits;  /* see TraceSetIsValid() */
    26 } TraceSetStruct;
    27 
    28 
    29 typedef struct TraceStruct
    30 {
    31 #ifdef DEBUG_SIGN
    32   Sig sig;
    33 #endif
    34   DequeNodeStruct spaceDeque;
    35   TraceId id;  /* id within that table */
    36   Space space;  /* owning space */
    37   RefSig condemned; /* fast approximation of the condemned set */
    38   struct
    39   {
    40     Addr scanned; /* amount of stuff scanned so far */
    41     Addr marked; /* amount of stuff that must be scanned */
    42   } gray[RefRankMAX];
    43 } TraceStruct;
    44 
    45 
    46 #endif /* tracest_h */

