                            SPACE STRUCTURE
                             impl.h.spacest
                               draft impl
                             dsm 1995-10-12

/*  impl.h.spacest
 *                 ==== SPACE STRUCTURE ====
 *
 *  $HopeName: MMsrc/!spacest.h(trunk.1)$
 *
 *  Copyright (C) 1995 Harlequin Group, all rights reserved
 *
 *  This is the definition of the space descriptor structure.
 *
 *  This structure is exposed to clients so that it can be allocated by
 *  them and a pointer passed to SpaceInit.  Client code should not access
 *  the fields in this structure.
 */

#ifndef spacest_h
#define spacest_h

#include "std.h"
#include "arena.h"
#include "pool.h"
#include "poolst.h"
#include "poolsst.h"
#include "poolmvst.h"
#include "lock.h"
#include "lockst.h"

typedef struct SpaceStruct
{
#ifdef DEBUG_SIGN
  Sig sig;
#endif

  LockStruct lockStruct;          /* see (design.mps.thread-safety) */

  ArenaStruct arenaStruct;        /* arena from which segments are allocated */

  DequeStruct poolDeque;          /* all pools created in this space */
  DequeStruct rootDeque;          /* all roots attached to this space */

  PoolSStruct segPoolStruct;   /* pool for segment descriptors */
  PoolMVStruct controlPoolStruct; /* pool for miscellaneous items */
} SpaceStruct;


#endif /* spacest_h */

