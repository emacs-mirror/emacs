<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">

 <html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
   <title>MPS C Interface: function mps_assert_install</title>
  </head>
  <body bgcolor='#FFFFFF' text='#000000' link='#000099' vlink='#660066' alink='#FF0000'>
   <div align='center'>
    <h1>MPS C Interface: function mps_assert_install</h1>
    <p>incomplete</p>
    <address>lmb, 1997-05-09</address>
   </div>
   <h2>
    <a id='section-name' name='section-name'>Name</a>
   </h2>
   <p>mps_assert_install</p>
   <h2>
    <a id='section-summary' name='section-summary'>Summary</a>
   </h2>
   <p>"mps_assert_install" installs the specified assertion handler as the current assertion handler.</p>
   <h2>
    <a id='section-associated-protocols' name='section-associated-protocols'>Associated Protocols</a>
   </h2>
   <p>Assertion.</p>
   <h2>
    <a id='section-syntax' name='section-syntax'>Syntax</a>
   </h2>
   <p>ms_assert_t mps_assert_install(void my_assertion_handler);</p>
   <h2>
    <a id='section-arguments' name='section-arguments'>Arguments</a>
   </h2>
   <p>my_assertion_handler	the handler that you want to install</p>
   <h2>
    <a id='section-returned-values' name='section-returned-values'>Returned Values</a>
   </h2>
   <p>
    A pointer to the previously installed assertion handler.
    <br />
   </p>
   <h2>
    <a id='section-resources' name='section-resources'>Resources</a>
   </h2>
   <p>mps.h</p>
   <h2>
    <a id='section-description' name='section-description'>Description</a>
   </h2>
   <p>
    "mps_assert_install" installs the specified assertion handler as the current assertion handler.  It returns a pointer to the previously installed assertion handler.
      Note that there is one MPS assertion handler for the entire process (in particular it is _not_ per arena).
    <br />
   </p>
   <h2>
    <a id='section-example' name='section-example'>Example</a>
   </h2>
   <p>
    <br />
          mps_assert_t old_handler;
   </p>
   <p>
    	void my_assertion_handler(const char *cond, 
    <br />
    				  const char *id,
    <br />
    				  const char *file,
				  unsigned int line)
    <br />
            {
    <br />
    	  fatal_error_dialog("The Memory Pool System detected an inconsistency"
                             "in file %s at line %u: %s\n", file, line, cond);
    <br />
              old_handler(cond, id, file, line);
          abort();
    <br />
    	  NOTREACHED;
    <br />
    	}
   </p>
   <p>
    	/* install the handler: */
    <br />
    	old_handler = mps_assert_install(my_assertion_handler);
   </p>
   <p>	/* ... use the MPS ... */</p>
   <p>
    	/* restore the old handler */
    <br />
    	(void) mps_assert_install(old_handler);
   </p>
   <h2>
    <a id='section-error-handling' name='section-error-handling'>Error Handling</a>
   </h2>
   <h2>
    <a id='section-see-also' name='section-see-also'>See Also</a>
   </h2>
   <p>mps_assert_default</p>
   <h2>
    <a id='section-notes' name='section-notes'>Notes</a>
   </h2>
   <p>None.</p>
   <h2>
    <a id='section-A' name='section-A'>A. References</a>
   </h2>
   <h2>
    <a id='section-B' name='section-B'>B. Document History</a>
   </h2>
   <table>
    <tr valign='top'>
     <td>1997-05-09 17:45:30 +01</td>
     <td>lmb</td>
     <td>New document saved</td>
    </tr>
    <tr valign='top'>
     <td>1997-05-09 17:46:11 +01</td>
     <td>lmb</td>
     <td></td>
    </tr>
    <tr valign='top'>
     <td>1997-06-10 13:44:08 -04</td>
     <td>lmb</td>
     <td>Fixed it up a bit.</td>
    </tr>
    <tr valign='top'>
     <td>1997-06-21 14:46:49 -04</td>
     <td>lmb</td>
     <td>Filled in Protocols, Example, and See Also sections.</td>
    </tr>
    <tr valign='top'>
     <td>1997-10-24 18:33:25 -04</td>
     <td>lmb</td>
     <td>Fixed formatting; filled in a few more categories</td>
    </tr>
    <tr valign='top'>
     <td>1998-08-18 14:11:46 +00</td>
     <td>drj</td>
     <td>fixed typo and noted global effects</td>
    </tr>
    <tr valign='top'>
     <td>2000-05-22 16:20:38 +01</td>
     <td>pekka</td>
     <td>clean up</td>
    </tr>
    <tr valign='top'>
     <td>2001-09-26</td>
     <td>
      <a href='mailto:ndl@ravenbrook.com'>NDL</a>
     </td>
     <td>Converted from xml to html (second pass).</td>
    </tr>
   </table>
   <hr />
   <p>
    <small>Copyright &copy; 2001 Ravenbrook Limited.  This document is provided "as is", without any express or implied warranty.  In no event will the authors be held liable for any damages arising from the use of this document.  You may not duplicate or reproduce this document in any form without the express permission of the copyright holder.</small>
   </p>
   <div align='center'>
    <p>
     <code>$Id$</code>
    </p>
   </div>
  </body>
 </html>
