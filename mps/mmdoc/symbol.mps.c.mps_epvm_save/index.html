<?xml version="1.0" encoding="UTF-8"?>



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">



 <html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>

  <head>

   <title>Description of the MPS C Interface Symbol "mps_epvm_save"</title>

  </head>

  <body bgcolor='#FFFFFF' text='#000000' link='#000099' vlink='#660066' alink='#FF0000'>

   <div align='center'>

    <h1>Description of the MPS C Interface Symbol "mps_epvm_save"</h1>

    <p>draft</p>

    <address>pekka, 1998-01-22</address>

   </div>

   <h2>

    <a id='section-name' name='section-name'>Name</a>

   </h2>

   <p>mps_epvm_save</p>

   <h2>

    <a id='section-summary' name='section-summary'>Summary</a>

   </h2>

   <p>Increments the current save level of an EPVM pool.</p>

   <h2>

    <a id='section-associated-protocols' name='section-associated-protocols'>Associated Protocols</a>

   </h2>

   <p>

    Allocation point.

    <br />

   </p>

   <h2>

    <a id='section-syntax' name='section-syntax'>Syntax</a>

   </h2>

   <p>void mps_epvm_save(mps_pool_t pool);</p>

   <h2>

    <a id='section-arguments' name='section-arguments'>Arguments</a>

   </h2>

   <p>pool      the pool whose save level will be incremented, must be an EPVM pool</p>

   <h2>

    <a id='section-returned-values' name='section-returned-values'>Returned Values</a>

   </h2>

   <p>None.</p>

   <h2>

    <a id='section-resources' name='section-resources'>Resources</a>

   </h2>

   <p>

    mpscepvm.h

    <br />

   </p>

   <h2>

    <a id='section-description' name='section-description'>Description</a>

   </h2>

   <p>

    mps_epvm_save increments the save level of the pool given.   The current save level before the save must be smaller than the maximum level specified on pool creation.

    <br />

   </p>

   <h2>

    <a id='section-example' name='section-example'>Example</a>

   </h2>

   <p>mps_epvm_save_level_t currentSaveLevel;</p>

   <p>void doTempJob(Result *res)</p>

   <p>

    {

    <br />

      mps_epvm_save(pool); ++

    currentSaveLevel;

   </p>

   <p>

      /* calculate result, allocating stuff */

    <br />

      mps_epvm_restore(pool, 

    --currentSaveLevel

    );

   </p>

   <p>}</p>

   <h2>

    <a id='section-see-also' name='section-see-also'>See Also</a>

   </h2>

   <p>mps_epvm_restore, mps_class_epvm, mps_pool_create, mps_epvm_save_level_t</p>

   <h2>

    <a id='section-notes' name='section-notes'>Notes</a>

   </h2>

   <p>

    mps_epvm_save and 

    mps_epvm_restore form an efficient way of freeing large numbers of objects in a single operation, provided that the objects can be grouped in save levels in a stack-like fashion.

   </p>

   <h2>

    <a id='section-internal-notes' name='section-internal-notes'>Internal Notes</a>

   </h2>

   <p>It's not yet clear how this interacts with finalization.</p>

   <h2>

    <a id='section-A' name='section-A'>A. References</a>

   </h2>

   <h2>

    <a id='section-B' name='section-B'>B. Document History</a>

   </h2>

   <table>

    <tr valign='top'>

     <td>1998-01-22 20:40:23 +00</td>

     <td>pekka</td>

     <td>New document saved</td>

    </tr>

    <tr valign='top'>

     <td>1998-01-23 12:02:53 +00</td>

     <td>pekka</td>

     <td>finished</td>

    </tr>

    <tr valign='top'>

     <td>2001-09-26</td>

     <td>

      <a href='mailto:ndl@ravenbrook.com'>NDL</a>

     </td>

     <td>Converted from xml to html (second pass).</td>

    </tr>

   </table>

   <hr />

   <p>

    <small>Copyright &copy; 2001 Ravenbrook Limited.  This document is provided "as is", without any express or implied warranty.  In no event will the authors be held liable for any damages arising from the use of this document.  You may not duplicate or reproduce this document in any form without the express permission of the copyright holder.</small>

   </p>

   <div align='center'>

    <p>

     <code>$Id$</code>

    </p>

   </div>

  </body>

 </html>

