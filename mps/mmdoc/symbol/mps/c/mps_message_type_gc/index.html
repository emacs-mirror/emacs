<?xml version="1.0" encoding="UTF-8"?>



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">



 <html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>

  <head>

   <title>MPS C Interface: function mps_message_type_gc</title>

  </head>

  <body bgcolor='#FFFFFF' text='#000000' link='#000099' vlink='#660066' alink='#FF0000'>

   <div align='center'>

    <h1>MPS C Interface: function mps_message_type_gc</h1>

    <p>incomplete</p>

    <address> <a href='mailto:grm@ravenbrook.com'>GRM</a>

, 1998-10-20</address>

   </div>

   <h2><a id='section-name' name='section-name'>Name</a></h2>

   <p><code class="source">mps_message_type_gc</code></p>

   <h2><a id='section-summary' name='section-summary'>Summary</a></h2>

   <p><code class="source">mps_message_type_gc</code> returns the type of garbage collection statistic messages.</p>

   <h2><a id='section-associated-protocols' name='section-associated-protocols'>Associated Protocols</a></h2>

   <p>Message.</p>

   <h2><a id='section-syntax' name='section-syntax'>Syntax</a></h2>

   <p><code class="source">mps_message_type_t mps_message_type_gc(void)</code></p>

   <h2><a id='section-arguments' name='section-arguments'>Arguments</a></h2>

   <p>None.</p>

   <h2><a id='section-returned-values' name='section-returned-values'>Returned Values</a></h2>

   <p>The type of garbage collection statistic messages.</p>

   <h2><a id='section-resources' name='section-resources'>Resources</a></h2>

   <p><code class="filename">mps.h</code></p>

   <h2><a id='section-description' name='section-description'>Description</a></h2>

   <p><code class="source">mps_message_type_gc</code> returns the type of garbage collection statistic messages.  Garbage collection statistic messages are used by the MPS to give the client information about garbage collections that have occurred.  Such information may be useful in analysing the client's memory usage over time.</p>

   <p>The access methods specific to a message of this type are:</p>

   <p><code class="source">mps_message_gc_live_size</code> -- gives the total size of the condemned objects that survived the collection that generated the message</p>

   <p><code class="source">mps_message_gc_condemned_size</code> -- gives an approximate size for the set of objects condemned in the collection that generated the message.</p>

   <p><code class="source">mps_message_gc_not_condemned_size</code> -- gives an approximate size for the set of objects that were in collected pools, but were not condemned in the collection that generated the message.</p>

   <h2><a id='section-example' name='section-example'>Example</a></h2>

<blockquote><code class="source">
{<br />
&nbsp;&nbsp;mps_message_t message;<br />
&nbsp;&nbsp;if(mps_message_get(&amp;message, arena, mps_message_type_gc())) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;size_t live, condemned, not_condemned;<br />
&nbsp;&nbsp;&nbsp;&nbsp;live = mps_message_gc_live_size(arena, message);<br />
&nbsp;&nbsp;&nbsp;&nbsp;condemned = mps_message_gc_condemned_size(arena, message);<br />
&nbsp;&nbsp;&nbsp;&nbsp;not_condemned = mps_message_gc_not_condemned_size(arena, message);<br />
&nbsp;&nbsp;&nbsp;&nbsp;mps_message_discard(arena, message);<br />
&nbsp;&nbsp;&nbsp;&nbsp;process_collection_stats(live, condemned, not_condemned);<br />
&nbsp;&nbsp;}<br />
}<br />
</code></blockquote>

   <h2><a id='section-error-handling' name='section-error-handling'>Error Handling</a></h2>

   <p>Cannot fail.</p>

   <h2><a id='section-see-also' name='section-see-also'>See Also</a></h2>

   <p>mps_message_*, </p>

   <h2><a id='section-A' name='section-A'>A. References</a></h2>

   <h2><a id='section-B' name='section-B'>B. Document History</a></h2>

   <table>

    <tr valign='top'>

     <td>1998-10-20 16:09:03 +01</td>

     <td>

      <a href='mailto:grm@ravenbrook.com'>GRM</a>

     </td>

     <td>New document saved</td>

    </tr>

    <tr valign='top'>

     <td>1998-10-20 16:09:21 +01</td>

     <td>

      <a href='mailto:grm@ravenbrook.com'>GRM</a>

     </td>

     <td>Fix tag</td>

    </tr>

    <tr valign='top'>

     <td>1998-10-23 16:52:53 +01</td>

     <td>

      <a href='mailto:grm@ravenbrook.com'>GRM</a>

     </td>

     <td>Add descriptions for accessors</td>

    </tr>

    <tr valign='top'>

     <td>2000-05-22 17:10:48 +01</td>

     <td>pekka</td>

     <td>clean up</td>

    </tr>

    <tr valign='top'>

     <td>2001-09-26</td>

     <td>

      <a href='mailto:ndl@ravenbrook.com'>NDL</a>

     </td>

     <td>Converted from xml to html (second pass).</td>

    </tr>

    <tr valign='top'>

     <td>2001-11-07</td>

     <td><a href='mailto:nb@ravenbrook.com'>NB</a></td>

     <td>Added arena argument.</td>

    </tr>

   </table>

   <hr />

   <p>

    <small>Copyright &copy; 2001 Ravenbrook Limited.  This document is provided "as is", without any express or implied warranty.  In no event will the authors be held liable for any damages arising from the use of this document.  You may not duplicate or reproduce this document in any form without the express permission of the copyright holder.</small>

   </p>

   <div align='center'>

    <p>

     <code>$Id$</code>

    </p>

   </div>

  </body>

 </html>

