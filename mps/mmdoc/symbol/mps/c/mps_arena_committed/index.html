<?xml version="1.0" encoding="UTF-8"?>



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">



 <html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>

  <head>

   <title>MPS C Interface: Function "mps_arena_committed"</title>

  </head>

  <body bgcolor='#FFFFFF' text='#000000' link='#000099' vlink='#660066' alink='#FF0000'>

   <div align='center'>

    <h1>MPS C Interface: Function "mps_arena_committed"</h1>

    <p>incomplete</p>

    <address>lmb, 1997-10-13</address>

   </div>

   <h2>

    <a id='section-name' name='section-name'>Name</a>

   </h2>

   <p>mps_arena_committed</p>

   <h2>

    <a id='section-summary' name='section-summary'>Summary</a>

   </h2>

   <p>"mps_arena_committed" returns the amount of memory (backing store) in use by the arena, both for storing client objects and for its own data structures.</p>

   <h2>

    <a id='section-associated-protocols' name='section-associated-protocols'>Associated Protocols</a>

   </h2>

   <p>Arena.</p>

   <h2>

    <a id='section-syntax' name='section-syntax'>Syntax</a>

   </h2>

   <p>extern size_t mps_arena_committed(mps_arena_t arena)</p>

   <h2>

    <a id='section-arguments' name='section-arguments'>Arguments</a>

   </h2>

   <p>arena -- the arena</p>

   <h2>

    <a id='section-returned-values' name='section-returned-values'>Returned Values</a>

   </h2>

   <p>Returns a number of bytes (the amount of committed memory) as a size_t.</p>

   <h2>

    <a id='section-resources' name='section-resources'>Resources</a>

   </h2>

   <p>mps.h</p>

   <h2>

    <a id='section-description' name='section-description'>Description</a>

   </h2>

   <p>

    "mps_arena_committed" returns the amount of memory (backing store) in use by the arena (also known as "committed memory").

      The value returned is a number of bytes.

   </p>

   <p>

    Committed memory may be used both for storing client objects and for storing MPS data structures.  In addition the MPS maintains committed memory which is not being used (for either of the above purposes).  This memory is known as "spare committed" memory (see 

    symbol.mps.c.mps_arena_spare_committed

    (0)

    ).  The amount of "spare committed" memory can change at any time, in particular in will be reduced as appropriate in order meet client requests.

   </p>

   <p>The reasons that the committed memory (as return by this function) might be large than the sum of the sizes of client allocated objects are:</p>

   <p>- some memory is used internally by the MPS to manage its own data structures and to record information about client objects (such as free lists, page tables, colour tables, statistics, etc).</p>

   <p>- operating systems (and hardware) typically restrict programs to requesting and releasing memory with a certain granularity (for example, pages), so extra memory is committed when this rounding is necessary.</p>

   <p>- there might be "spare committed" memory.</p>

   <p>The amount of committed memory is a good measure of how much virtual memory resource ("swap space") the MPS is using from the OS.</p>

   <p>This function may be called whether the arena is unclamped, clamped or parked, if called when the arena in unclamped then the value may change after this function returns.  A possible use might be to call it just after "mps_arena_collect" to (over-)estimate the size of the heap.</p>

   <p>If you want to know how much memory the MPS is using then you're probably interested in the value mps_arena_committed() - mps_arena_spare_committed().</p>

   <p>

    The amount of committed memory can be limited with the function 

    mps_arena_commit_limit

    symbol.mps.c.mps_arena_commit_limit

    (0)

   </p>

   <h2>

    <a id='section-example' name='section-example'>Example</a>

   </h2>

   <h2>

    <a id='section-error-handling' name='section-error-handling'>Error Handling</a>

   </h2>

   <h2>

    <a id='section-see-also' name='section-see-also'>See Also</a>

   </h2>

   <p>mps_arena_collect, mps_arena_clamp, mps_arena_park, mps_arena_release</p>

   <h2>

    <a id='section-notes' name='section-notes'>Notes</a>

   </h2>

   <p>-</p>

   <h2>

    <a id='section-A' name='section-A'>A. References</a>

   </h2>

   <h2>

    <a id='section-B' name='section-B'>B. Document History</a>

   </h2>

   <table>

    <tr valign='top'>

     <td>1997-10-13 14:51:23 -04</td>

     <td>lmb</td>

     <td>New document saved</td>

    </tr>

    <tr valign='top'>

     <td>1997-10-24 16:28:33 -04</td>

     <td>lmb</td>

     <td>Fixed formatting; added more See Also references</td>

    </tr>

    <tr valign='top'>

     <td>1998-06-09 12:03:01 +00</td>

     <td>drj</td>

     <td>expand description, chiefly to explain why committed would be bigger than heap</td>

    </tr>

    <tr valign='top'>

     <td>1998-09-03 12:25:38 +01</td>

     <td>

      <a href='mailto:grm@ravenbrook.com'>GRM</a>

     </td>

     <td>add internal note</td>

    </tr>

    <tr valign='top'>

     <td>1998-11-06 16:39:12 +00</td>

     <td>pekka</td>

     <td>fixed formatting</td>

    </tr>

    <tr valign='top'>

     <td>1999-01-22 16:11:12 +00</td>

     <td>drj</td>

     <td>added link relationship with spare committed memory.</td>

    </tr>

    <tr valign='top'>

     <td>2001-09-26</td>

     <td>

      <a href='mailto:ndl@ravenbrook.com'>NDL</a>

     </td>

     <td>Converted from xml to html (second pass).</td>

    </tr>

   </table>

   <hr />

   <p>

    <small>Copyright &copy; 2001 Ravenbrook Limited.  This document is provided "as is", without any express or implied warranty.  In no event will the authors be held liable for any damages arising from the use of this document.  You may not duplicate or reproduce this document in any form without the express permission of the copyright holder.</small>

   </p>

   <div align='center'>

    <p>

     <code>$Id$</code>

    </p>

   </div>

  </body>

 </html>

