<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>

<title>Description of MPS Interface Types</title>

</head>

<body bgcolor="#FFFFFF" text="#000000" link="#000099" vlink="#660066" alink="#FF0000">

<div align="center">

<h1>Description of MPS Interface Types</h1>

<p>obsolete</p>

<address>lmb, 1997-05-01</address>

</div>

<p>Types declared in the MPS interface are of three sorts:</p>

<p>

- Transparent types

<br />

- Opaque types

<br />

- Derived types

</p>

<p>

The transparent types, such as mps_res_t, are types whose implementation

<br />

is deliberately exposed to MPS clients. Clients may use properties of

the underlying types to manipulate values of these types. For

<br />

instance:

</p>

<p>

- mps_shift_t is unsigned int, and a client may use an mps_shift_t

<br />

value in, say, a shift expression.

- mps_addr_t is void*, and a client may, say, cast an mps_addr_t to a

<br />

structure pointer.

- mps_bool_t is int, and a client may combine mps_bool_t values with

<br />

Boolean operators, use them as conditions, &amp;c.

</p>

<p>

Clients should still use the type name declared in mps.h when using

<br />

the MPS interface (so, for instance, clients should not use "int"

where they mean "mps_res_t").

</p>

<p>

The opaque types, such as mps_class_t, are declared as pointers to

<br />

incomplete structure types (such as struct mps_class_s). This means

that the implementation of these types is invisible to the client.

<br />

Nothing about the implementation of an opaque type is exposed to the

client or should be used by the client.  A value of an opaque type

<br />

might be NULL, or an invalid pointer (for instance, it might point to

unmapped memory).  Values of opaque type cannot be generated by the

<br />

client; they are generated by the MPS.  A value of an opaque type

can only be used in a call to the MPS or a test for equality with

<br />

another value of the same type.

</p>

<p>

The derived types, such as mps_ap_s, mps_assert_t, and

<br />

mps_root_scan_t, are structure and function types based on transparent

and opaque types and on builtin C types. The degree to which the

<br />

client may or must depend upon the implementation of a derived type

depends upon the type, and is covered by the documentation for the

<br />

type.

</p>

<p>Pool Class Types</p>

<p>

mps_class_t is the abstract type of pool classes. A pool class may be

<br />

obtained by calling the class function for the appropriate class, such

as mps_class_mv for the MV class. A pool class is used when creating a

<br />

pool with mps_pool_create or mps_pool_create_v. [See the chapter?? on

pool classes and the documentation for mps_pool_create*].

</p>

<p>

mps_class_s is the incomplete structure type used only to define

<br />

mps_class_t.

</p>

<h2>

<a id="section-A" name="section-A">A. References</a>

</h2>

<h2>

<a id="section-B" name="section-B">B. Document History</a>

</h2>

<table>

<tr valign="top">

<td>1997-05-01 19:33:40 +01</td>

<td>lmb</td>

<td>New document saved</td>

</tr>

<tr valign="top">

<td>1997-05-09 17:49:59 +01</td>

<td>lmb</td>

<td></td>

</tr>

<tr valign="top">

<td>1998-10-29 19:21:44 +00</td>

<td>pekka</td>

<td>superseded by doc.mps.if-conv</td>

</tr>

<tr valign="top">

<td>2001-09-26</td>

<td>

<a href="mailto:ndl@ravenbrook.com">NDL</a>

</td>

<td>Converted from xml to html (second pass).</td>

</tr>

</table>

<hr />

<p>

<small>Copyright &copy; 2001 Ravenbrook Limited.  This document is provided "as is", without any express or implied warranty.  In no event will the authors be held liable for any damages arising from the use of this document.  You may not duplicate or reproduce this document in any form without the express permission of the copyright holder.</small>

</p>

<div align="center">

<p>

<code>$Id$</code>

</p>

</div>

</body>

</html>

