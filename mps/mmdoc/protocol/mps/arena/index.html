<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>

<title>MPS Arena Protocol</title>

</head>

<body bgcolor="#FFFFFF" text="#000000" link="#000099" vlink="#660066" alink="#FF0000">

<div align="center">

<h1>MPS Arena Protocol</h1>

<p>incomplete</p>

<address>
<a href="mailto:nb@ravenbrook.com">Nick Barnes</a>,
<a href="http://www.ravenbrook.com/">Ravenbrook Limited</a>,
2001-11-14
</address>

</div>


<h2><a id="section-Contents" name="section-Contents">Contents</a></h2>

<ul>

<li><a href="#section-1">1. Introduction</a></li>

<li><a href="#section-2">2. Overview</a></li>

<li><a href="#section-3">3. Arena Classes</a></li>

<li><a href="#section-A">A. References</a></li>

<li><a href="#section-B">B. Document history</a></li>

</ul>


<h2><a id="section-1" name="section-1">1. Introduction</a></h2>

<p><a id="intro" name="intro"><strong>.intro:</strong></a>

This document describes the arena protocol in MPS.</p>

<h2><a id="section-2" name="section-2">2. Overview</a></h2>

<p><a id="over.arena" name="over.arena"><strong>.over.arena:</strong></a>

The arena is an object that represents the state of the MPS, and tells
it where to get the memory it manages.</p>

<p><a id="over.session" name="over.session"><strong>.over.session:</strong></a>

You typically start a session with the MPS by making an arena and end
the session by destroying it.  The only function you might need to
call before making an arena is <code
class="source">mps_telemetry_control</code>.  Indeed, there are very
few functions that you even <em>could</em> call without creating an
arena.</p>

<p><a id="over.destroy" name="over.destroy"><strong>.over.destroy:</strong></a>

If you do not destroy an arena before terminating your program, the
operating system will probably still reclaim the memory and other
resources the arena was managing; but it is better to destroy it, to
finish off properly.</p>

<p>Before destroying an arena, you must first destroy all objects and
data in it, as usual for abstract data types in the MPS.  If you can't
destroy the arena properly, you might want to call <code
class="source">mps_telemetry_flush</code> explicitly.</p>

<p><a id="over.other" name="over.other"><strong>.over.other:</strong></a>

Other types of objects are created "in the arena".  They are part of
the world within the arena, and may interact and affect each other.</p>

<p><a id="over.multiple" name="over.multiple"><strong>.over.multiple:</strong></a>

The MPS allows creation of multiple arenas.  It can be useful to have
two active arenas and to try different things out in them.</p>

<p>Arenas do not interact.  However, they compete with each other for
resources.</p>

<p>It is not efficient to have multiple arenas containing
garbage-collected objects.  Using multiple arenas is an advanced
technique.  For more information, see [something in the User
Guide].</p>

<h2><a id="section-3" name="section-3">Arena Classes</a></h2>

<p><a id="class" name="class"><strong>.class:</strong></a>

There are several classes of arena.  These differ mainly in the way
that they acquire the memory to be managed.</p>

<p>See the documentation of each arena class in
symbol.mps.c.mps_arena_class_*.</p>

<p>The class is chosen when the arena is created (see
symbol.mps.c.mps_arena_create), in a way identical to pool
classes.</p>

<h2><a id="section-A" name="section-A">A. References</a></h2>

<h2><a id="section-B" name="section-B">B. Document History</a></h2>

<table>

<tr valign="top">

  <td>1997-09-29</td>

  <td>pekka</td>

  <td>Created.</td>

</tr>

<tr valign="top">

  <td>1997-09-29 to 2000-05-22</td>

  <td />

  <td>Developed at Harlequin</td>

</tr>

<tr valign="top">

  <td>2001-09-26</td>

  <td><a href="mailto:ndl@ravenbrook.com">NDL</a></td>

  <td>Converted from xml to html (second pass).</td>

</tr>

<tr valign="top">

  <td>2001-11-14</td>

  <td><a href="mailto:nb@ravenbrook.com">NB</a></td>

  <td>Reformatted and adopted.</td>

</tr>

</table>

<hr />

<p><small>Copyright &copy; 2001 Ravenbrook Limited.  This document is
provided "as is", without any express or implied warranty.  In no
event will the authors be held liable for any damages arising from the
use of this document.  You may not duplicate or reproduce this
document in any form without the express permission of the copyright
holder.</small></p>

<div align="center">

<p><code>$Id$</code></p>

</div>

</body>

</html>

