<?xml version="1.0" encoding="UTF-8"?>



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">



 <html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>

  <head>

   <title>MPS C Interface: function mps_arena_commit_limit_set</title>

  </head>

  <body bgcolor='#FFFFFF' text='#000000' link='#000099' vlink='#660066' alink='#FF0000'>

   <div align='center'>

    <h1>MPS C Interface: function mps_arena_commit_limit_set</h1>

    <p>draft</p>

    <address>drj, 1998-06-09</address>

   </div>

   <h2>

    <a id='section-name' name='section-name'>Name</a>

   </h2>

   <p>

    mps_arena_commit_limit_set

    <br />

   </p>

   <h2>

    <a id='section-summary' name='section-summary'>Summary</a>

   </h2>

   <p>

    Changes the current commit limit associated with the arena.

    <br />

   </p>

   <h2>

    <a id='section-associated-protocols' name='section-associated-protocols'>Associated Protocols</a>

   </h2>

   <p>

    Arena

    <br />

   </p>

   <h2>

    <a id='section-type' name='section-type'>Type</a>

   </h2>

   <p>

    <pre>mps_res_t mps_arena_commit_limit_set(mps_arena_t arena, size_t limit)</pre>

    <br />

   </p>

   <h2>

    <a id='section-arguments' name='section-arguments'>Arguments</a>

   </h2>

   <p>arena -- the arena</p>

   <p>limit -- the new commit limit in bytes</p>

   <h2>

    <a id='section-returned-values' name='section-returned-values'>Returned Values</a>

   </h2>

   <p>

    Returns a result code.

    <br />

   </p>

   <h2>

    <a id='section-resources' name='section-resources'>Resources</a>

   </h2>

   <p>

    mps.h

    <br />

   </p>

   <h2>

    <a id='section-description' name='section-description'>Description</a>

   </h2>

   <p>

    The commit limit of the arena is set to the limit given.  The commit limit controls how much memory the MPS will obtain from the OS.  See Arena Protocol for details.  The commit limit cannot be set to a value that is lower than the number of bytes that the MPS is using.  If an attempt is made to set the commit limit to a value greater than or equal to that returned by 

    <code>mps_arena_committed</code>

     then it will succeed.  If an attempt is made to set the commit limit to a value less than that returned by 

    <code>mps_arena_committed</code>

     then it will succeed only if the amount committed by the MPS can be reduced by reducing the amount of spare committed memory; in such a case the spare committed memory will be reduced appropriately and the attempt will succeed.

   </p>

   <h2>

    <a id='section-example' name='section-example'>Example</a>

   </h2>

   <p>

    <pre>do {

res = mps_arena_commit_limit_set(arena, limit - 100 * 1024);

  if (res != MPS_RES_OK) flush_caches();

} while (res != MPS_RES_OK);

</pre>

   </p>

   <h2>

    <a id='section-error-handling' name='section-error-handling'>Error Handling</a>

   </h2>

   <p>

    Returns MPS_RES_OK when successful, and some other result code when not.

    <br />

   </p>

   <h2>

    <a id='section-see-also' name='section-see-also'>See Also</a>

   </h2>

   <p>

    mps_arena_committed

    ,

    mps_arena_commit_limit

    , 

    mps_arena_spare_commit_limit_set

   </p>

   <h2>

    <a id='section-notes' name='section-notes'>Notes</a>

   </h2>

   <p>

    <code>mps_arena_commit_limit_set</code>

     puts a limit on all memory committed by the MPS.  The "spare committed" memory can be limited separately with 

    <code>mps_arena_spare_commit_limit_set</code>

    .  Note that "spare committed" memory is subject to both limits; there cannot be more spare committed memory than the spare commit limit, and there can't be so much spare committed memory that there is more committed memory than the commit limit.

   </p>

   <h2>

    <a id='section-A' name='section-A'>A. References</a>

   </h2>

   <h2>

    <a id='section-B' name='section-B'>B. Document History</a>

   </h2>

   <table>

    <tr valign='top'>

     <td>1998-06-09 15:45:34 +00</td>

     <td />

     <td>New document saved</td>

    </tr>

    <tr valign='top'>

     <td>1998-06-09 15:45:37 +00</td>

     <td>drj</td>

     <td>New document saved</td>

    </tr>

    <tr valign='top'>

     <td>1998-11-06 17:09:54 +00</td>

     <td>pekka</td>

     <td>Fixed formatting; added mps.h and example</td>

    </tr>

    <tr valign='top'>

     <td>1999-01-22 16:51:27 +00</td>

     <td>drj</td>

     <td>more doc' including spare commit limit</td>

    </tr>

    <tr valign='top'>

     <td>2000-05-22 16:14:29 +01</td>

     <td>pekka</td>

     <td>fix title</td>

    </tr>

    <tr valign='top'>

     <td>2000-08-11 14:02:03 +01</td>

     <td>pekka</td>

     <td>fix old-style links</td>

    </tr>

    <tr valign='top'>

     <td>2001-09-26</td>

     <td>

      <a href='mailto:ndl@ravenbrook.com'>NDL</a>

     </td>

     <td>Converted from xml to html (second pass).</td>

    </tr>

   </table>

   <hr />

   <p>

    <small>Copyright &copy; 2001 Ravenbrook Limited.  This document is provided "as is", without any express or implied warranty.  In no event will the authors be held liable for any damages arising from the use of this document.  You may not duplicate or reproduce this document in any form without the express permission of the copyright holder.</small>

   </p>

   <div align='center'>

    <p>

     <code>$Id$</code>

    </p>

   </div>

  </body>

 </html>

