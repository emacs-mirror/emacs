<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">

 <html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
   <title>MPS C Interface: function mps_ap_frame_pop</title>
  </head>
  <body bgcolor='#FFFFFF' text='#000000' link='#000099' vlink='#660066' alink='#FF0000'>
   <div align='center'>
    <h1>MPS C Interface: function mps_ap_frame_pop</h1>
    <p>incomplete</p>
    <address>drj, 1998-10-19</address>
   </div>
   <h2>
    <a id='section-name' name='section-name'>Name</a>
   </h2>
   <p>mps_ap_frame_pop</p>
   <h2>
    <a id='section-summary' name='section-summary'>Summary</a>
   </h2>
   <p>
    Declares that a set of objects in a particular frame are dead or likely to be dead.
    <br />
   </p>
   <h2>
    <a id='section-associated-protocols' name='section-associated-protocols'>Associated Protocols</a>
   </h2>
   <p>AP Stack Protocol</p>
   <h2>
    <a id='section-type' name='section-type'>Type</a>
   </h2>
   <p>mps_res_t (mps_ap_frame_pop)(mps_ap_t /* ap */, mps_frame_t /* frame */)</p>
   <h2>
    <a id='section-arguments' name='section-arguments'>Arguments</a>
   </h2>
   <p>mps_ap_t ap</p>
   <p>  The allocation point in which the frame was pushed.</p>
   <p>frame</p>
   <p>  The frame.</p>
   <h2>
    <a id='section-returned-values' name='section-returned-values'>Returned Values</a>
   </h2>
   <p>A result code in the usual way.</p>
   <h2>
    <a id='section-description' name='section-description'>Description</a>
   </h2>
   <p>
    This function pops the specified frame making its parent the current frame (frames are implicitly created using the push operation, see symbol.mps.c.mps_ap_frame_push).  Popping invalidates the specified frame and all frames pushed since the specified frame.  Popping the frame makes a declaration about the set of objects which were allocated in the specified frame and also all frames which were pushed since the specified frame.  It can be used to declare a set of objects dead or likely to be mostly dead; the exact interpretation of the declaration depends on pool class that the allocation point is in (the same pool class that that objects are in).  Typically pool classes which are mostly manually managed will use this declaration to mean that the objects are dead and their space can be reclaimed immediately, whereas pool classes which are mostly automatically managed will use this declaration to mean that the objects are likely to be mostly dead (the pool class may use this declaration to 
    alter its collection decisions).  Consult the pool class documentation for details.
   </p>
   <p>In general a frame other than the current frame can be popped (all frames pushed more recently will be invalidated as well, as described above), but a particular pool class may impose the restriction that only the current frame may be popped.  This restriction means that every push must have a corresponding pop.  Consult the pool class documentation for details.</p>
   <p>It is illegal to pass invalid frames to any MPS function.  In particular it is not possible to pop frames out of order (so the sequence "A = push, B = push, pop A, pop B" is illegal) or to pop to the same frame twice (so the sequence "A = push, pop A, pop A" is illegal).</p>
   <p>More comprehensive documentation is available in the protocol document (AP Stack Protocol).</p>
   <h2>
    <a id='section-example' name='section-example'>Example</a>
   </h2>
   <p>
    &lt;example of how to use the symbol&gt;
    <br />
    <br />
   </p>
   <h2>
    <a id='section-error-handling' name='section-error-handling'>Error Handling</a>
   </h2>
   <p>
    &lt;how the client program should handle errors that the symbol returns, if applicable&gt;
    <br />
    <br />
   </p>
   <h2>
    <a id='section-see-also' name='section-see-also'>See Also</a>
   </h2>
   <p>
    mps.protocol.alloc-point.stack, symbol.mps.c.mps_ap_frame_push
    <br />
    <br />
   </p>
   <h2>
    <a id='section-notes' name='section-notes'>Notes</a>
   </h2>
   <p>None.</p>
   <h2>
    <a id='section-A' name='section-A'>A. References</a>
   </h2>
   <h2>
    <a id='section-B' name='section-B'>B. Document History</a>
   </h2>
   <table>
    <tr valign='top'>
     <td>1998-10-19 14:01:01 +00</td>
     <td>drj</td>
     <td>New document saved</td>
    </tr>
    <tr valign='top'>
     <td>1998-10-19 15:19:55 +00</td>
     <td>drj</td>
     <td>adding stuff about opping non-current frames</td>
    </tr>
    <tr valign='top'>
     <td>1999-03-24 12:56:34 +00</td>
     <td>pekka</td>
     <td>fix title</td>
    </tr>
    <tr valign='top'>
     <td>2001-09-26</td>
     <td>
      <a href='mailto:ndl@ravenbrook.com'>NDL</a>
     </td>
     <td>Converted from xml to html (second pass).</td>
    </tr>
   </table>
   <hr />
   <p>
    <small>Copyright &copy; 2001 Ravenbrook Limited.  This document is provided "as is", without any express or implied warranty.  In no event will the authors be held liable for any damages arising from the use of this document.  You may not duplicate or reproduce this document in any form without the express permission of the copyright holder.</small>
   </p>
   <div align='center'>
    <p>
     <code>$Id$</code>
    </p>
   </div>
  </body>
 </html>
