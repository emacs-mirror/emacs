<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">

 <html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
   <title>MPS C Interface: type mps_fmt_B_s</title>
  </head>
  <body bgcolor='#FFFFFF' text='#000000' link='#000099' vlink='#660066' alink='#FF0000'>
   <div align='center'>
    <h1>MPS C Interface: type mps_fmt_B_s</h1>
    <p>draft</p>
    <address> <a href='mailto:grm@ravenbrook.com'>GRM</a>
, 1998-01-27</address>
   </div>
   <h2>
    <a id='section-name' name='section-name'>Name</a>
   </h2>
   <p>mps_fmt_B_s</p>
   <h2>
    <a id='section-summary' name='section-summary'>Summary</a>
   </h2>
   <p>
    <code>mps_fmt_B_s</code>
     is a transparent structure used to create object formats of variant B.
    <br />
   </p>
   <h2>
    <a id='section-associated-protocols' name='section-associated-protocols'>Associated Protocols</a>
   </h2>
   <p>Format.</p>
   <h2>
    <a id='section-type' name='section-type'>Type</a>
   </h2>
   <p>
    <pre>typedef struct mps_fmt_B_s {
  mps_align_t     align;
  mps_fmt_scan_t  scan;
  mps_fmt_skip_t  skip;
  mps_fmt_copy_t  copy;
  mps_fmt_fwd_t   fwd;
  mps_fmt_isfwd_t isfwd;
  mps_fmt_pad_t   pad;
  mps_fmt_class_t mps_class;
} mps_fmt_B_s;</pre>
   </p>
   <h2>
    <a id='section-resources' name='section-resources'>Resources</a>
   </h2>
   <p>mps.h</p>
   <h2>
    <a id='section-description' name='section-description'>Description</a>
   </h2>
   <p>
    Objects of this type are intended to be used in the creation of object formats.  Object formats describe the layout of client objects.  
    <code>mps_fmt_B_s</code>
     is a structure that represents the particular collection of methods and values that describes an object format of variant B.
   </p>
   <p>
    <code>mps_fmt_B_s</code>
     is the same as 
    <code>mps_fmt_A_s</code>
     except for the addition of the mps_class method.  Broadly speaking, the object formats of variety B are suitable for use in copying or moving memory managers (just like variety A); the addition of the class method allows more information to be passed to various support tools (such as graphical browsers).
    <br />
   </p>
   <p>
    <code>mps_fmt_B_s</code>
     has the following methods: scan, skip, copy, fwd, isfwd, pad, mps_class,
   </p>
   <p>and the following value: align.</p>
   <p>align is an integer value defines the alignment of objects allocated with this format.  It should be large enough to satisfy the alignment requirements of any field in the objects, and it cannot be larger than the arena alignment.  For details of the methods, consult the reference pages for the type of each method.</p>
   <h2>
    <a id='section-example' name='section-example'>Example</a>
   </h2>
   <p>
    <pre>mps_fmt_t create_format(mps_arena_t arena)
{
  mps_fmt_B_s my_format_B = { my_alignment, &amp;my_scan, &amp;my_skip, &amp;my_copy,
                              &amp;my_fwd, &amp;my_isfwd, &amp;my_pad, &amp;my_class };
  mps_fmt my_format;
  mps_res_t res;
  res = mps_fmt_create_B(&amp;my_format, arena, &amp;my_format_B);
  assert(res != MPS_RES_OK);
  return my_format;
}  </pre>
   </p>
   <h2>
    <a id='section-see-also' name='section-see-also'>See Also</a>
   </h2>
   <p>
    mps_fmt_create_B, mps_fmt_scan_t, 
    mps_fmt_skip_t
    , 
    mps_fmt_copy_t, mps_fmt_fwd_t, mps_isfwd_t, mps_pad_t, mps_align_t, mps_class_t, mps_fmt_A_s
   </p>
   <h2>
    <a id='section-notes' name='section-notes'>Notes</a>
   </h2>
   <p>
    The 
    <code>mps_class</code>
     field used to be called "class", but that was problematic for C++, so we changed it.
   </p>
   <h2>
    <a id='section-A' name='section-A'>A. References</a>
   </h2>
   <h2>
    <a id='section-B' name='section-B'>B. Document History</a>
   </h2>
   <table>
    <tr valign='top'>
     <td>1998-01-27 12:45:54 +00</td>
     <td>
      <a href='mailto:grm@ravenbrook.com'>GRM</a>
     </td>
     <td>New document saved</td>
    </tr>
    <tr valign='top'>
     <td>1998-01-27 13:17:52 +00</td>
     <td>
      <a href='mailto:grm@ravenbrook.com'>GRM</a>
     </td>
     <td>Now draft</td>
    </tr>
    <tr valign='top'>
     <td>1998-01-27 14:42:28 +00</td>
     <td>drj</td>
     <td>couldn't resist fixing typo then editing it slightly</td>
    </tr>
    <tr valign='top'>
     <td>2000-05-22 16:51:17 +01</td>
     <td>pekka</td>
     <td>clean up</td>
    </tr>
    <tr valign='top'>
     <td>2000-05-23 16:48:32 +01</td>
     <td>pekka</td>
     <td>remove lame descriptions of methods; clarify</td>
    </tr>
    <tr valign='top'>
     <td>2000-07-06 17:12:13 +01</td>
     <td>pekka</td>
     <td>mps_class; add example</td>
    </tr>
    <tr valign='top'>
     <td>2001-06-13 16:06:17 +01</td>
     <td>Entry</td>
     <td>Corrected slight error in example</td>
    </tr>
    <tr valign='top'>
     <td>2001-09-26</td>
     <td>
      <a href='mailto:ndl@ravenbrook.com'>NDL</a>
     </td>
     <td>Converted from xml to html (second pass).</td>
    </tr>
   </table>
   <hr />
   <p>
    <small>Copyright &copy; 2001 Ravenbrook Limited.  This document is provided "as is", without any express or implied warranty.  In no event will the authors be held liable for any damages arising from the use of this document.  You may not duplicate or reproduce this document in any form without the express permission of the copyright holder.</small>
   </p>
   <div align='center'>
    <p>
     <code>$Id$</code>
    </p>
   </div>
  </body>
 </html>
