<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">

 <html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
   <title>MPS C Interface: mps_ap_alloc_pattern_begin</title>
  </head>
  <body bgcolor='#FFFFFF' text='#000000' link='#000099' vlink='#660066' alink='#FF0000'>
   <div align='center'>
    <h1>MPS C Interface: mps_ap_alloc_pattern_begin</h1>
    <p>incomplete</p>
    <address> <a href='mailto:grm@ravenbrook.com'>GRM</a>
, 1998-10-21</address>
   </div>
   <h2>
    <a id='section-name' name='section-name'>Name</a>
   </h2>
   <p>mps_ap_alloc_pattern_end</p>
   <h2>
    <a id='section-summary' name='section-summary'>Summary</a>
   </h2>
   <p>Indicates the end of allocation following a particular pattern.</p>
   <h2>
    <a id='section-associated-protocols' name='section-associated-protocols'>Associated Protocols</a>
   </h2>
   <p>AP, Allocation, Alloc-pattern-ramp.</p>
   <h2>
    <a id='section-syntax' name='section-syntax'>Syntax</a>
   </h2>
   <p>
    <pre>mps_res_t mps_ap_alloc_pattern_end(mps_ap_t ap, mps_alloc_pattern_t alloc_pattern)</pre>
    <br />
   </p>
   <h2>
    <a id='section-arguments' name='section-arguments'>Arguments</a>
   </h2>
   <p>ap                     The allocation point in which the patterned allocation occurred</p>
   <p>alloc_pattern          The pattern of the allocation</p>
   <h2>
    <a id='section-returned-values' name='section-returned-values'>Returned Values</a>
   </h2>
   <p>
    Result code indicating whether end of the allocation pattern was successfully registered.
    <br />
   </p>
   <h2>
    <a id='section-description' name='section-description'>Description</a>
   </h2>
   <p>This function is used, together with mps_ap_alloc_pattern_begin, to indicate periods of allocation in an allocation point that follow some pattern of lifetime.  </p>
   <h2>
    <a id='section-example' name='section-example'>Example</a>
   </h2>
   <p>{</p>
   <p>  res = mps_ap_alloc_pattern_begin(ap, mps_alloc_pattern_ramp());</p>
   <p>  assert(res == mps_res_ok);</p>
   <p>  do_some_work(); /* Leaves stuff lying around */</p>
   <p>  res = mps_ap_alloc_pattern_begin(ap, mps_alloc_pattern_ramp());</p>
   <p>  assert(res == mps_res_ok);</p>
   <p>  do_some_more_work(); /* Tidies up after itself */</p>
   <p>  res = mps_ap_alloc_pattern_end(ap, mps_alloc_pattern_ramp());</p>
   <p>  assert(res == mps_res_ok);</p>
   <p>  tidy_up_first_work();</p>
   <p>
    <br />
      res = mps_ap_alloc_pattern_end(ap, mps_alloc_pattern_ramp());
   </p>
   <p>  assert(res == mps_res_ok);</p>
   <p>}</p>
   <h2>
    <a id='section-error-handling' name='section-error-handling'>Error Handling</a>
   </h2>
   <p>
    Will fail if there is no extant allocation pattern of that type.  May fail in future if certain allocation patterns are inappropriate for that allocation point at that point in time.
    <br />
   </p>
   <h2>
    <a id='section-see-also' name='section-see-also'>See Also</a>
   </h2>
   <p>
    mps_alloc_pattern_ramp, mps_alloc_pattern_ramp_collect_all
    ,
   </p>
   <p>
    mps_ap_alloc_pattern_begin
    , mps_ap_alloc_pattern_reset
   </p>
   <h2>
    <a id='section-A' name='section-A'>A. References</a>
   </h2>
   <h2>
    <a id='section-B' name='section-B'>B. Document History</a>
   </h2>
   <table>
    <tr valign='top'>
     <td>1998-10-21 13:06:21 +01</td>
     <td>
      <a href='mailto:grm@ravenbrook.com'>GRM</a>
     </td>
     <td>New document saved</td>
    </tr>
    <tr valign='top'>
     <td>1998-10-21 13:08:35 +01</td>
     <td>
      <a href='mailto:grm@ravenbrook.com'>GRM</a>
     </td>
     <td>Correct</td>
    </tr>
    <tr valign='top'>
     <td>2000-05-22 17:51:15 +01</td>
     <td>pekka</td>
     <td>clean up</td>
    </tr>
    <tr valign='top'>
     <td>2001-09-26</td>
     <td>
      <a href='mailto:ndl@ravenbrook.com'>NDL</a>
     </td>
     <td>Converted from xml to html (second pass).</td>
    </tr>
   </table>
   <hr />
   <p>
    <small>Copyright &copy; 2001 Ravenbrook Limited.  This document is provided "as is", without any express or implied warranty.  In no event will the authors be held liable for any damages arising from the use of this document.  You may not duplicate or reproduce this document in any form without the express permission of the copyright holder.</small>
   </p>
   <div align='center'>
    <p>
     <code>$Id$</code>
    </p>
   </div>
  </body>
 </html>
