<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">

 <html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
   <title>Description of the MPS C Interface Symbol "mps_amc_apply"</title>
  </head>
  <body bgcolor='#FFFFFF' text='#000000' link='#000099' vlink='#660066' alink='#FF0000'>
   <div align='center'>
    <h1>Description of the MPS C Interface Symbol "mps_amc_apply"</h1>
    <p>obsolete</p>
    <address>lmb, 1997-10-13</address>
   </div>
   <h2>
    <a id='section-name' name='section-name'>Name</a>
   </h2>
   <p>mps_amc_apply</p>
   <h2>
    <a id='section-summary' name='section-summary'>Summary</a>
   </h2>
   <p>"mps_amc_apply" is used to inspect objects in an AMC pool. You may only call it when the arena is parked (for example, after "mps_arena_collect"). </p>
   <h2>
    <a id='section-associated-protocols' name='section-associated-protocols'>Associated Protocols</a>
   </h2>
   <p>Arena.</p>
   <h2>
    <a id='section-syntax' name='section-syntax'>Syntax</a>
   </h2>
   <p>
    extern void mps_amc_apply(mps_pool_t, void(*f)(mps_addr_t, void *, size_t), void *, size_t)
    <br />
   </p>
   <h2>
    <a id='section-arguments' name='section-arguments'>Arguments</a>
   </h2>
   <p>mps_pool_t	the pool whose objects you want to inpect</p>
   <p>f		a supplied function</p>
   <p>mps_addr_t	the address of the object you want to inspect</p>
   <p>*</p>
   <p>size_t		</p>
   <p>
    <br />
    INITIAL/DEFAULT VALUES
    <br />
    <br />
    Not applicable.
   </p>
   <h2>
    <a id='section-returned-values' name='section-returned-values'>Returned Values</a>
   </h2>
   <p>Not applicable.</p>
   <h2>
    <a id='section-resources' name='section-resources'>Resources</a>
   </h2>
   <p>Not applicable.</p>
   <h2>
    <a id='section-description' name='section-description'>Description</a>
   </h2>
   <p>"mps_amc_apply" is used to inspect objects in an AMC pool. You may only call it when the arena is parked (for example, after "mps_arena_collect"). When called, "mps_amc_apply" calls the supplied function "f" once for each object in the pool, with the address of the object as its first argument. "f" is given as its second and third arguments whatever values were given as the third and fourth arguments to "mps_amc_apply". (This is intended to make it easy to pass, for example, an array and its size as parameters.)</p>
   <p>"f" will be called on both data and pad objects, and it is "f"'s job to distinguish, if required, between the two. Note (c.f. "mps_arena_collect", above) that it may be called on unreachable objects that the collector has not recycled or has not been able to recycle.</p>
   <p>The function "f" may not allocate memory or access any automatically-managed memory except the object at which it is pointed and, in the case of objects in Dylan Container Format, that object's wrapper.</p>
   <h2>
    <a id='section-example' name='section-example'>Example</a>
   </h2>
   <h2>
    <a id='section-error-handling' name='section-error-handling'>Error Handling</a>
   </h2>
   <h2>
    <a id='section-see-also' name='section-see-also'>See Also</a>
   </h2>
   <p>Functions that park the arena: mps_arena_park, mps_arena_collect.</p>
   <p>
    A more general heap walker which inspects all formatted objects in the arena: 
    <code>mps_arena_formatted_objects_walk</code>
    <br />
   </p>
   <h2>
    <a id='section-notes' name='section-notes'>Notes</a>
   </h2>
   <p>There is no equivalent function for other pool classes, but there is a more general heap walker: mps_arena_formatted_objects_walk.</p>
   <h2>
    <a id='section-internal-notes' name='section-internal-notes'>Internal Notes</a>
   </h2>
   <p>Does "You must call it when the arena is parked" mean that (a) parking an arena requires that you call this function, or (b) you can only call this function when the arena is in the parked state?  LMB</p>
   <p>(b).  Changed "must call" to "may only call"  drj 1998-08-25</p>
   <h2>
    <a id='section-A' name='section-A'>A. References</a>
   </h2>
   <h2>
    <a id='section-B' name='section-B'>B. Document History</a>
   </h2>
   <table>
    <tr valign='top'>
     <td>1997-10-13 15:04:00 -04</td>
     <td>lmb</td>
     <td>New document saved</td>
    </tr>
    <tr valign='top'>
     <td>1997-10-24 15:14:03 -04</td>
     <td>lmb</td>
     <td>Fixed formatting; added arguments; made some small edits</td>
    </tr>
    <tr valign='top'>
     <td>1998-08-25 10:13:15 +00</td>
     <td>drj</td>
     <td>fixed ambig' wording and added ref to mps_arena_formatted_objects_walk</td>
    </tr>
    <tr valign='top'>
     <td>1998-10-16 14:44:52 +00</td>
     <td>drj</td>
     <td>same change to disambiguate in summary this time</td>
    </tr>
    <tr valign='top'>
     <td>1998-11-06 16:47:31 +00</td>
     <td>pekka</td>
     <td>no new uses: obsolete</td>
    </tr>
    <tr valign='top'>
     <td>2001-09-26</td>
     <td>
      <a href='mailto:ndl@ravenbrook.com'>NDL</a>
     </td>
     <td>Converted from xml to html (second pass).</td>
    </tr>
   </table>
   <hr />
   <p>
    <small>Copyright &copy; 2001 Ravenbrook Limited.  This document is provided "as is", without any express or implied warranty.  In no event will the authors be held liable for any damages arising from the use of this document.  You may not duplicate or reproduce this document in any form without the express permission of the copyright holder.</small>
   </p>
   <div align='center'>
    <p>
     <code>$Id$</code>
    </p>
   </div>
  </body>
 </html>
