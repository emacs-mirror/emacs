#!/usr/local/bin/bash
# impl.sh.checkout: ROBOT CHECKOUT SCRIPT
#
# $HopeName: HOMEmm!bin:checkout(trunk.9) $
#
# This script is run in the MM Project Robot's home directory (~mm) as
# the user `mm'.  It checks out the HOMEmm compound and updates the
# crontab, in order be sure that the robot's files are up to date
# before the other overnight scripts run.

hostname=`hostname`; hostname=${hostname%%.*}

cd $HOME &&
hope checkout -compound HOMEmm -recursive -writable-files skip \
  -extra-files delete -missing-dir create &&
crontab $HOME/etc/$hostname.cron
